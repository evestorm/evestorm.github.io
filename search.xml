<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[uniappå¸é¡¶æ•ˆæœ]]></title>
    <url>%2Fposts%2F7733%2F</url>
    <content type="text"><![CDATA[åœºæ™¯ æ¡ˆä¾‹ See the Pen åˆ—è¡¨æ ‡é¢˜å¸é¡¶æ•ˆæœ by JingW (@JingW) on CodePen. uni-app å†™æ³• template ç»“æ„ 1234567891011121314151617181920212223242526&lt;!-- è¿è¥æ¦‚å†µ --&gt;&lt;view class="main"&gt; &lt;view class="main-title" ref="operationRef" data-id="operationRef"&gt; &lt;text class="left"&gt;è¿è¥æ¦‚å†µ&lt;/text&gt; &lt;view class="right"&gt; &lt;view&gt;æˆ‘çš„&lt;/view&gt;&lt;view&gt;å…¨åº—&lt;/view&gt; &lt;/view&gt; &lt;/view&gt; &lt;!-- ================== ä¸»ä½“å†…å®¹ =================== --&gt; &lt;view class="overview-com"&gt; ... &lt;/view&gt;&lt;/view&gt;&lt;!-- è¿è¥æ¦‚å†µ --&gt;&lt;view class="main"&gt; &lt;view class="main-title" ref="operationRef" data-id="operationRef"&gt; &lt;text class="left"&gt;å®´ä¼šæ¦‚å†µ&lt;/text&gt; &lt;view class="right"&gt; &lt;view&gt;æˆ‘çš„&lt;/view&gt;&lt;view&gt;å…¨åº—&lt;/view&gt; &lt;/view&gt; &lt;/view&gt; &lt;!-- ================== ä¸»ä½“å†…å®¹ =================== --&gt; &lt;view class="overview-com"&gt; ... &lt;/view&gt;&lt;/view&gt; js 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960export default &#123; data() &#123; return &#123; ..., mainTitleEles: [], // æ‰€æœ‰mainTitleæ ‡é¢˜å¯¹è±¡é›†åˆ mainEles: [], // æ‰€æœ‰æ¿å—å¯¹è±¡é›†åˆ ot: [], //å­˜å‚¨æ¯ä¸ªæ ‡é¢˜çš„offsetTop len: 0, // æ ‡é¢˜çš„ä¸ªæ•° searchBottomY: 0, // æœç´¢viewåº•éƒ¨è·ç¦»é¡µé¢é¡¶éƒ¨çš„è·ç¦» selectorQuery: &#123;&#125;, // Uniapp SelectorQuery å¯¹è±¡å®ä¾‹ &#125; &#125;, mounted() &#123; // è·å– SelectorQuery å¯¹è±¡å®ä¾‹ã€‚å¯ä»¥åœ¨è¿™ä¸ªå®ä¾‹ä¸Šä½¿ç”¨ select ç­‰æ–¹æ³•é€‰æ‹©èŠ‚ç‚¹ this.selectorQuery = uni.createSelectorQuery().in(this); this.initFixedTop(); &#125;, methods: &#123; // --------------- ç›‘å¬ mescroll é¡µé¢æ»šåŠ¨ ------------------------ // åˆå§‹åŒ–å¸é¡¶æ ‡é¢˜çš„å·¥ä½œ initFixedTop() &#123; // è·å–æ‰€æœ‰éœ€è¦å¸é¡¶æ•ˆæœçš„æ ‡é¢˜ this.mainTitle = this.selectorQuery.selectAll('.main-title'); uni.createSelectorQuery().selectAll('.main-title').fields(&#123; rect: true, dataset: true &#125;, res =&gt; &#123; this.mainTitleEles = res; // æ ‡é¢˜çš„ä¸ªæ•° this.len = this.mainTitleEles.length; for (let i = 0; i &lt; this.len; i++) &#123; this.ot.push(this.mainTitleEles[i].top); //è·å–æ¯ä¸ªæ ‡é¢˜çš„offsetTop &#125; // è·å–æ‰€æœ‰éœ€è¦å¸é¡¶çš„æ¿å— uni.createSelectorQuery().selectAll('.main').fields(&#123; rect: true, dataset: true, size: true &#125;, res =&gt; &#123; this.mainEles = res; // å­˜å‚¨æ¯ä¸ªæ ‡é¢˜çš„offsetTopï¼ˆåªè¯»å±æ€§ï¼Œè¿”å›å½“å‰å…ƒç´ ç›¸å¯¹äºå…¶ offsetParent å…ƒç´ çš„é¡¶éƒ¨å†…è¾¹è·çš„è·ç¦»ï¼‰ // åŠ ä¸Š æœ€åä¸€ä¸ªå¸é¡¶æ¿å—çš„é«˜åº¦. è§£å†³æ»šåŠ¨åˆ°æœ€åä¸€ä¸ªæ ‡é¢˜ï¼ˆiï¼‰æ—¶ï¼Œæ— æ³•è·å–ï¼ˆi+1ï¼‰çš„offsetTop this.ot.push(this.mainEles[this.len - 1].top + this.mainEles[this.len - 1].height); &#125;).exec(); &#125;).exec(); &#125;, onScroll(mescroll) &#123; // è·å–æ»šåŠ¨çš„é«˜åº¦ const st = mescroll.scrollTop; for (let i = 0; i &lt; this.len; i++) &#123; // æ»šåŠ¨æ—¶ç›‘å¬ä½ç½®ï¼Œä¸ºæ ‡é¢˜çš„å¸é¡¶è®¾ç½®ä¸€ä¸ªæ˜¾ç¤ºèŒƒå›´ if (st &gt; this.ot[i] &amp;&amp; st &lt; this.ot[i + 1]) &#123; this.$refs[this.mainTitleEles[i].dataset.id].$el.className = 'main-title fixed'; &#125; else &#123; this.$refs[this.mainTitleEles[i].dataset.id].$el.className = 'main-title'; &#125; &#125; &#125;, &#125;&#125;; uni-app æ€è·¯å’Œæ¡ˆä¾‹demoä¸€æ ·ï¼Œæ‰€ä»¥å°±ä¸è´´ä»£ç çš„æ ·å¼äº†ï¼Œå”¯ä¸€è¦æ³¨æ„çš„ä¸€ç‚¹å°±æ˜¯domå±æ€§çš„è·å–æ˜¯é€šè¿‡ uni-app ç›¸å…³ API å®ç°çš„ï¼š å‚è€ƒ uni-appè·å–domå…ƒç´ åˆ°é¡¶éƒ¨çš„è·ç¦»ä»¥åŠæ“ä½œdomå…ƒç´ çš„ä¸€äº›æ ·å¼ uni.createSelectorQuery() å®ç°å¤šä¸ªæ ‡é¢˜çš„å¸é¡¶æ•ˆæœ]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>JS</category>
      </categories>
      <tags>
        <tag>å¸ƒå±€</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[è½¬è½½]å¸¸è§æ­£åˆ™è¡¨è¾¾å¼åˆé›†]]></title>
    <url>%2Fposts%2F53612%2F</url>
    <content type="text"><![CDATA[è½¬è½½æ¥æºï¼šå¸¸è§æ­£åˆ™è¡¨è¾¾å¼åˆé›† ä¸ºäº†é¿å…ç”¨æˆ·èƒ¡ä¹±è¾“å…¥å°±é€šè¿‡éªŒè¯ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬éƒ½ä¼šé‡‡ç”¨æ­£åˆ™è¡¨è¾¾å¼æ¥éªŒè¯ä¸€ä¸‹ç”¨æˆ·è¾“å…¥çš„ä¿¡æ¯æ˜¯å¦ç¬¦åˆè§„èŒƒã€‚è¿™éƒ¨åˆ†çš„å†…å®¹åŸºæœ¬ä¸Šæ˜¯åœ¨ç½‘ä¸Šæ”¶é›†æ¥çš„ï¼Œè¿™é‡Œè·Ÿå¤§å®¶ä¸€èµ·åˆ†äº«ä¸€ä¸‹ï¼Œæœ‰éœ€è¦çš„å¯ä»¥è®°åœ¨è‡ªå·±çš„æœ‰é“äº‘ç¬”è®°é‡Œé¢ã€‚ å¦‚ä½•éªŒè¯ï¼ŸéªŒè¯çš„æ–¹å¼å½“ç„¶æ˜¯å¾ˆå¤šäº†ï¼Œè¿™é‡Œæ¨èé‡‡ç”¨test()æ–¹æ³•æ¥éªŒè¯ã€‚ 1234567let isTrue = RegExpObject.test(string);// RegExpObjectä¸ºæ­£åˆ™ stringæ˜¯è¦æ£€æµ‹çš„å­—ç¬¦ä¸²// å¦‚æœå­—ç¬¦ä¸² string ä¸­å«æœ‰ä¸ RegExpObject åŒ¹é…çš„æ–‡æœ¬ï¼Œåˆ™è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚if (isTrue)&#123; //éªŒè¯æˆåŠŸ do something&#125;elseP&#123; //éªŒè¯å¤±è´¥&#125; èº«ä»½è¯å·ç æ­£åˆ™è¡¨è¾¾å¼ï¼šç¬¬ä¸€ä»£èº«ä»½è¯åªæœ‰ 15 ä½æ•°ï¼Œç¬¬äºŒä»£èº«ä»½è¯æœ‰ 18 ä½æ•°ï¼Œå„ä½æŒ‰ç…§éœ€æ±‚æ¥é€‰æ‹©è¡¨è¾¾å¼ã€‚ 1234//ç¬¬äºŒä»£èº«ä»½è¯å·ç æ­£åˆ™let isTrue = /^[1-9]\d&#123;5&#125;(18|19|20)\d&#123;2&#125;((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d&#123;3&#125;[0-9Xx]$/;//ç¬¬ä¸€ä»£èº«ä»½è¯æ­£åˆ™è¡¨è¾¾å¼(15ä½)let isTrue = /^[1-9]\d&#123;7&#125;((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d&#123;3&#125;$/; æ‰‹æœºå·ç æ­£åˆ™è¡¨è¾¾å¼ï¼šæ—¶é—´æˆªæ­¢ä¸ºï¼š2018 å¹´ 1 æœˆ 11 æ—¥ ç§»åŠ¨å·æ®µï¼š134 135 136 137 138 139 147 148 150 151 152 157 158 159 172 178 182 183 184 187 188 198 è”é€šå·æ®µï¼š130 131 132 145 146 155 156 166 171 175 176 185 186 ç”µä¿¡å·æ®µï¼š133 149 153 173 174 177 180 181 189 199 è™šæ‹Ÿè¿è¥å•†ï¼š170 1let isTrue = /^(13[0-9]|14[5-9]|15[012356789]|166|17[0-8]|18[0-9]|19[8-9])[0-9]&#123;8&#125;$/; é‚®ç®±æ­£åˆ™è¡¨è¾¾å¼ï¼š1let isTrue = /^([A-Za-z0-9_\-\.\u4e00-\u9fa5])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]&#123;2,8&#125;)$/; ç”¨æˆ·åæ­£åˆ™:12////ç”¨æˆ·åæ­£åˆ™ï¼Œ4åˆ°16ä½ï¼ˆå­—æ¯ï¼Œæ•°å­—ï¼Œä¸‹åˆ’çº¿ï¼Œå‡å·ï¼‰let isTrue = /^[a-zA-Z0-9_-]&#123;4,16&#125;$/; å¯†ç æ­£åˆ™:å¯†ç æ­£åˆ™ï¼Œä»¥å­—æ¯å¼€å¤´ï¼Œé•¿åº¦åœ¨ 6~18 ä¹‹é—´ï¼Œåªèƒ½åŒ…å«å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿ 1let isTrue =^[a-zA-Z]\w&#123;5,17&#125;$; å¼ºå¯†ç æ­£åˆ™ï¼Œæœ€å°‘ 6 ä½ï¼ŒåŒ…æ‹¬è‡³å°‘ 1 ä¸ªå¤§å†™å­—æ¯ï¼Œ1 ä¸ªå°å†™å­—æ¯ï¼Œ1 ä¸ªæ•°å­—ï¼Œ1 ä¸ªç‰¹æ®Šå­—ç¬¦ 1let isTrue = /^.*(?=.&#123;6,&#125;)(?=.*\d)(?=.*[A-Z])(?=.*[a-z])(?=.*[!@#$%^&amp;*? ]).*$/; QQ å·ç æ­£åˆ™:1let isTrue = /^[1-9][0-9]&#123;4,10&#125;$/; å¾®ä¿¡å·ç æ­£åˆ™:12//å¾®ä¿¡å·æ­£åˆ™ï¼Œ6è‡³20ä½ï¼Œä»¥å­—æ¯å¼€å¤´ï¼Œå­—æ¯ï¼Œæ•°å­—ï¼Œå‡å·ï¼Œä¸‹åˆ’çº¿let isTrue = /^[a-zA-Z]([-_a-zA-Z0-9]&#123;5,19&#125;)+$/; ç‰¹æ®Šå­—ç¬¦æ£€æµ‹æ­£åˆ™:1let isTrue = /["'&lt;&gt;%;)(&amp;+]+-!ï¼@#$~/; åŸŸåæ­£åˆ™:1let isTrue=[a-zA-Z0-9][-a-zA-Z0-9]&#123;0,62&#125;(/.[a-zA-Z0-9][-a-zA-Z0-9]&#123;0,62&#125;)+/.?; è½¦ç‰Œå·ç æ­£åˆ™:1let isTrue = /^[äº¬æ´¥æ²ªæ¸å†€è±«äº‘è¾½é»‘æ¹˜çš–é²æ–°è‹æµ™èµ£é„‚æ¡‚ç”˜æ™‹è’™é™•å‰é—½è´µç²¤é’è—å·å®ç¼ä½¿é¢†A-Z]&#123;1&#125;[A-Z]&#123;1&#125;[A-Z0-9]&#123;4&#125;[A-Z0-9æŒ‚å­¦è­¦æ¸¯æ¾³]&#123;1&#125;$/; åŒ…å«ä¸­æ–‡æ­£åˆ™:12let isTrue = /[\u4E00-\u9FA5]/;//è¿™ä¸ªå¯ä»¥ç”¨äºéªŒè¯ç”¨æˆ·çš„çœŸå®å§“åã€‚ æŠ¤ç…§æ­£åˆ™:1let isTrue = /^(P\d&#123;7&#125;|G\d&#123;7,8&#125;|TH\d&#123;7,8&#125;|S\d&#123;7,8&#125;|A\d&#123;7,8&#125;|L\d&#123;7,8&#125;|\d&#123;9&#125;|D\d+|1[4,5]\d&#123;7&#125;)$/; å›ºå®šç”µè¯æ­£åˆ™ï¼š1let isTrue=(\(\d&#123;3,4&#125;\)|\d&#123;3,4&#125;-|\s)?\d&#123;8&#125;; IP åœ°å€æ­£åˆ™:1let isTrue=\d+\.\d+\.\d+\.\d+; é‚®æ”¿ç¼–ç æ­£åˆ™:1let isTrue=[1-9]&#123;1&#125;(\d+)&#123;5&#125;; ç»çº¬åº¦æ­£åˆ™:1234//ç»åº¦æ­£åˆ™let isTrue = /^(\-|\+)?(((\d|[1-9]\d|1[0-7]\d|0&#123;1,3&#125;)\.\d&#123;0,6&#125;)|(\d|[1-9]\d|1[0-7]\d|0&#123;1,3&#125;)|180\.0&#123;0,6&#125;|180)$/;//çº¬åº¦æ­£åˆ™let isTrue = /^(\-|\+)?([0-8]?\d&#123;1&#125;\.\d&#123;0,6&#125;|90\.0&#123;0,6&#125;|[0-8]?\d&#123;1&#125;|90)$/;]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>ä»£ç ç‰‡æ®µ</category>
      </categories>
      <tags>
        <tag>æŠ€å·§</tag>
        <tag>è½¬è½½</tag>
        <tag>ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å‡½æ•°é˜²æŠ–&å‡½æ•°èŠ‚æµ]]></title>
    <url>%2Fposts%2F40572%2F</url>
    <content type="text"><![CDATA[ä»€ä¹ˆæ˜¯èŠ‚æµå’Œé˜²æŠ– debounceï¼ˆé˜²æŠ–ï¼‰çš„ä½œç”¨æ˜¯åœ¨è®©åœ¨ç”¨æˆ·åŠ¨ä½œåœæ­¢åå»¶è¿Ÿx mså†æ‰§è¡Œå›è°ƒã€‚ throttleï¼ˆèŠ‚æµï¼‰çš„ä½œç”¨æ˜¯åœ¨ç”¨æˆ·åŠ¨ä½œæœŸé—´æ¯éš”ä¸€å®šæ—¶é—´ï¼ˆå¦‚200msï¼‰æ‰§è¡Œä¸€æ¬¡å›è°ƒã€‚ å¦‚ä½•ç†è§£é˜²æŠ–å¦‚æœæœ‰äººè¿›ç”µæ¢¯ï¼ˆè§¦å‘äº‹ä»¶ï¼‰ï¼Œé‚£ç”µæ¢¯å°†åœ¨ 10 ç§’é’Ÿåå‡ºå‘ï¼ˆæ‰§è¡Œäº‹ä»¶ï¼‰ï¼Œè¿™æ—¶å¦‚æœåˆæœ‰äººè¿›ç”µæ¢¯äº†ï¼ˆåœ¨ 10 ç§’å†…å†æ¬¡è§¦å‘è¯¥äº‹ä»¶ï¼‰ï¼Œæˆ‘ä»¬åˆå¾—ç­‰ 10 ç§’å†å‡ºå‘ï¼ˆé‡æ–°è®¡æ—¶ï¼‰ã€‚ èŠ‚æµæ¸¸æˆä¸­äººç‰©çš„æŠ€èƒ½CDï¼Œå½“æŠ€èƒ½å¤„äºé—²ç½®çŠ¶æ€æ—¶ï¼ŒæŒ‰ä¸‹æŠ€èƒ½é”®ï¼ˆè§¦å‘äº‹ä»¶ï¼‰èƒ½ç«‹é©¬ç”Ÿæ•ˆï¼ˆæ‰§è¡Œäº‹ä»¶ï¼‰ã€‚ç”Ÿæ•ˆåæœ‰æŠ€èƒ½å†·å´æ—¶é—´ï¼ŒæœŸé—´ä¸ç®¡ä½ æŒ‰å¤šå°‘ä¸‹æŠ€èƒ½é”®ï¼ˆè§¦å‘äº‹ä»¶ï¼‰ï¼Œå°±ç®—æŠŠé”®ç›˜æŒ‰çˆ†ï¼Œéƒ½æ— æ³•å†æ¬¡è§¦å‘æŠ€èƒ½ï¼Œç›´åˆ°å†·å´å®Œæ¯•ã€‚ P.S. CDæ—¶é—´ï¼šCool Down Time åº”ç”¨åœºæ™¯é˜²æŠ– è¡¨å•æäº¤æŒ‰é’®çš„è¿ç»­ç‚¹å‡»ï¼Œé˜²æ­¢é‡å¤æäº¤ã€‚æ¯”å¦‚é‡å¤å‘é€ä¸€ç¯‡æ–‡ç« ã€‚ æœç´¢æŸ¥è¯¢ï¼ˆè¿ç»­è¾“å…¥æ–‡å­—åå‘é€ AJAX è¯·æ±‚è¿›è¡ŒéªŒè¯ï¼Œï¼ˆåœæ­¢è¾“å…¥åï¼‰éªŒè¯ä¸€æ¬¡å°±å¥½ï¼‰ æ»šåŠ¨äº‹ä»¶scrollï¼ˆåªéœ€æ‰§è¡Œè§¦å‘çš„æœ€åä¸€æ¬¡æ»šåŠ¨äº‹ä»¶çš„å¤„ç†ç¨‹åºï¼‰ èŠ‚æµ è‡ªåŠ¨ä¿å­˜è‰ç¨¿åŠŸèƒ½ï¼Œå½“ç”¨æˆ·åœ¨è¾“å…¥çš„æ—¶å€™(ä¸€ç›´è§¦å‘äº‹ä»¶),å•ä½æ—¶é—´å†…åªä¿å­˜ä¸€æ¬¡è‰ç¨¿ã€‚ ä¸Šæ‹‰åŠ è½½æ›´å¤šï¼Œé˜²æ­¢ç”¨æˆ·æš´åŠ›å¿«é€Ÿä¸Šæ»‘ã€‚éš”ä¸€æ®µæ—¶é—´æ‰èƒ½è§¦å‘ä¸€æ¬¡ æ»šåŠ¨äº‹ä»¶scrollï¼Œï¼ˆåªè¦é¡µé¢æ»šåŠ¨å°±ä¼šé—´éš”ä¸€æ®µæ—¶é—´åˆ¤æ–­ä¸€æ¬¡ï¼‰ ä»£ç å®ç°é˜²æŠ–1234567891011121314151617/** * @description: é˜²æŠ–å‡½æ•°ï¼šå‡½æ•°è¢«è§¦å‘ n ç§’åå†æ‰§è¡Œå›è°ƒï¼Œå¦‚æœåœ¨è¿™ n ç§’å†…åˆè¢«è§¦å‘ï¼Œåˆ™é‡æ–°è®¡æ—¶ * @param &#123;Function&#125; fn è¦æ‰§è¡Œçš„å‡½æ•° * @param &#123;Number&#125; delay delayæ¯«ç§’åæ‰§è¡Œå›è°ƒ */function debounce(fn, delay = 500) &#123; let timer = null; // ä¸ºäº†å°è£…ï¼Œè¿™é‡Œä½¿ç”¨äº†é—­åŒ…æ¥ä¿å­˜å±€éƒ¨å˜é‡=&gt;tip: é—­åŒ…ä¿æŠ¤çš„å˜é‡ä¼šä¸€ç›´ä¿å­˜åœ¨å†…å­˜ä¸­ä½†åˆä¸ä¼š â€œæ±¡æŸ“â€ å…¨å±€çš„å˜é‡ return function() &#123; const context = this; if (timer) clearTimeout(timer); timer = setTimeout(() =&gt; &#123; fn.apply(context, arguments); timer = null; &#125;, delay); &#125;;&#125; èŠ‚æµ123456789101112131415/** * @description: èŠ‚æµå‡½æ•°ï¼šè§„å®šä¸€ä¸ªå•ä½æ—¶é—´ï¼Œåœ¨è¿™ä¸ªå•ä½æ—¶é—´å†…ï¼Œåªèƒ½æœ‰ä¸€æ¬¡è§¦å‘äº‹ä»¶çš„å›è°ƒå‡½æ•°æ‰§è¡Œ * @param &#123;Function&#125; fn è¦æ‰§è¡Œçš„å‡½æ•° * @param &#123;Number&#125; gapTime å•ä½æ—¶é—´ */function throttle(fn, gapTime = 500) &#123; let canUse = true; return function() &#123; if (canUse) &#123; fn.apply(this, arguments); canUse = false; setTimeout(() =&gt; (canUse = true), gapTime); &#125; &#125;;&#125; ç¤ºä¾‹ See the Pen å‡½æ•°é˜²æŠ–&amp;å‡½æ•°èŠ‚æµ by JingW (@JingW) on CodePen. å‚è€ƒæ¥æº é˜²æŠ–å‡½æ•°&amp;èŠ‚æµå‡½æ•° JSå‡½æ•°èŠ‚æµå’Œå‡½æ•°é˜²æŠ–]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>JS</category>
      </categories>
      <tags>
        <tag>æŠ€å·§</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åˆ©ç”¨padding-bottomç‰¹æ€§å®ç°heightéšwidthå˜åŒ–ä¿æŒæ¯”ä¾‹ä¸å˜]]></title>
    <url>%2Fposts%2F2610%2F</url>
    <content type="text"><![CDATA[èµ·å› å¸Œæœ›æ¯ä¸ªç½‘æ ¼é«˜åº¦ç­‰äºå®½åº¦ï¼Œè€Œå®½åº¦å·²è¢«è®¾ä¸º33.333%ï¼š è§£å†³æ–¹æ¡ˆç¤ºä¾‹ See the Pen padding-bottom é«˜åº¦è‡ªé€‚åº” by JingW (@JingW) on CodePen. è¯´æ˜ ä¸€ä¸ªå…ƒç´ çš„ paddingï¼Œå¦‚æœå€¼æ˜¯ä¸€ä¸ªç™¾åˆ†æ¯”ï¼Œé‚£è¿™ä¸ªç™¾åˆ†æ¯”æ˜¯ç›¸å¯¹äºå…¶çˆ¶å…ƒç´ çš„å®½åº¦è€Œè¨€çš„ï¼Œpadding-bottom ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ ä½¿ç”¨ padding-bottom ä»£æ›¿ height æ¥å®ç°é«˜åº¦ä¸å®½åº¦æˆæ¯”ä¾‹çš„æ•ˆæœï¼Œå°† padding-bottom è®¾ç½®ä¸ºæƒ³è¦å®ç°çš„ height çš„å€¼ã€‚åŒæ—¶å°†å…¶ height è®¾ç½®ä¸º 0 ä»¥ä½¿å…ƒç´ çš„ã€Œé«˜åº¦ã€ç­‰äº padding-bottom çš„å€¼ï¼Œä»è€Œå®ç°éœ€è¦çš„æ•ˆæœã€‚ å‚è€ƒæ¥æº cssä¿æŒdivç­‰é«˜å®½æ¯”]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>æŠ€å·§</tag>
        <tag>CSS3</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¾®ä¿¡å°ç¨‹åºImageå›¾ç‰‡å®ç°å®½åº¦100%ï¼Œé«˜åº¦è‡ªé€‚åº”]]></title>
    <url>%2Fposts%2F1126%2F</url>
    <content type="text"><![CDATA[åšæ³•å¦‚ä¸‹ï¼š æ ·å¼è®¾ç½®å®½åº¦100%ï¼š 123.img &#123; width: 100%;&#125; æ·»åŠ å±æ€§ mode=â€widthFixâ€ï¼š 1&lt;image class="img" src="/static/images/hello.png" mode="widthFix"&gt;&lt;/image&gt;]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>æ¡†æ¶</category>
      </categories>
      <tags>
        <tag>uni-app</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¾®ä¿¡webå¼€å‘è€…å·¥å…·inputï¼ŒbuttonæŒ‰é’®åç§»]]></title>
    <url>%2Fposts%2F40884%2F</url>
    <content type="text"><![CDATA[ä½¿ç”¨å¾®ä¿¡webå¼€å‘è€…å·¥å…·å¼€å‘æ—¶æœ‰æ—¶ä¼šå‘ç°å¦‚å›¾ï¼Œæ˜æ˜inputæ¡†å’Œbuttonæ¡†åœ¨ä¸‹é¢ï¼Œä½†åªæœ‰ç‚¹å‡»ç®­å¤´ä½ç½®æ—¶æ‰èƒ½æœ‰æ•ˆæœ è§£å†³æ–¹æ³•ï¼š åœ¨æ’é™¤æ ·å¼ä¸Šçš„é”™è¯¯çš„æƒ…å†µä¸‹ï¼šè¿™æ˜¯å› ä¸ºé«˜åˆ†å±win10çš„æ˜¾ç¤ºè®¾ç½®é»˜è®¤æ˜¯125%ï¼Œåªéœ€è°ƒæ•´ä¸º100%å³å¯ï¼š]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>IDE</category>
      </categories>
      <tags>
        <tag>å¾®ä¿¡å¼€å‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[chromeè°ƒè¯•æŠ€å·§-æ±‡æ€»]]></title>
    <url>%2Fposts%2F63676%2F</url>
    <content type="text"><![CDATA[æ¸©é¦¨æé†’ï¼šé‡åˆ°æ–‡ç« ä¸­æ‰“ä¸å¼€çš„å›¾ç‰‡ï¼Œå³é”®æ–°æ ‡ç­¾æ‰“å¼€é“¾æ¥å°±èƒ½æ­£å¸¸çœ‹åˆ°äº†~ æ‰“å°console.tableä½¿ç”¨ console.table() å¯ä»¥å°†ä¼ å…¥çš„å¯¹è±¡ï¼Œæˆ–æ•°ç»„ä»¥è¡¨æ ¼å½¢å¼è¾“å‡ºã€‚é€‚åˆæ’åˆ—æ•´é½çš„å…ƒç´ ï¼š è®©æ—¥å¿—æ›´æ˜“è¯»å³ä½¿ console.log ä¸€ä¸ªç®€å•å˜é‡ï¼Œä½ éƒ½å¯èƒ½ä¼šå¿˜è®°ï¼ˆæˆ–æ··æ·†ï¼‰å“ªä¸€ä¸ªæ˜¯é‚£ä¸ªã€‚å½“ä½ æœ‰ä¸åŒçš„å˜é‡éœ€è¦æ‰“å°çš„æ—¶å€™ï¼Œé˜…è¯»èµ·æ¥ä¼šæ›´è´¹åŠ²ã€‚ â€œå—¯ï¼Ÿå“ªä¸€ä¸ªå€¼å¯¹åº”å“ªä¸€ä¸ªå˜é‡æ¥ç€ï¼Ÿâ€ ä¸ºäº†è®©å®ƒå˜å¾—æ›´åŠ æ˜“è¯»ï¼Œä½ å¯ä»¥æ‰“å°ä¸€ä¸ªå¯¹è±¡ - åªéœ€å°†æ‰€æœ‰console.log çš„å‚æ•°åŒ…è£…åœ¨å¤§æ‹¬å·ä¸­ã€‚æ„Ÿè°¢ ECMAScript 2015 ä¸­å¼•å…¥äº† enhanced object literal(å¢å¼ºå¯¹è±¡æ–‡å­—é¢é‡) ï¼Œæ‰€ä»¥è¿™ï¼ˆåŠ äº†ä¸ªæ‹¬å·ï¼‰å°±æ˜¯ä½ éœ€è¦åšçš„å…¨éƒ¨äº†ï¼š è§¦å‘ä¼ªç±»å³é”®å•å‡» Elements é¢æ¿ä¸­çš„ç›®æ ‡å…ƒç´ èŠ‚ç‚¹å¹¶é€‰æ‹©ã€Œforce stateã€ã€‚æˆ–è€…åœ¨ Styles å­çª—æ ¼ä¸­å•å‡»ã€Œ:hovã€å›¾æ ‡ã€‚å¯ä»¥è§¦å‘å…ƒç´ ä¸Šçš„ä¼ªç±»æ¥ç ”ç©¶å…ƒç´ åœ¨æ‚¬åœæ—¶çš„æ•ˆæœå’Œæ ·å¼ï¼š ALT+å•å‡»å¯ä»¥å±•å¼€æ‰€æœ‰å­èŠ‚ç‚¹åœ¨Elementsé¢æ¿ä¸­,ä½¿ç”¨Alt+å•å‡»å¯ä»¥å±•å¼€è¯¥DomèŠ‚ç‚¹ä¸‹çš„æ‰€æœ‰Domå­èŠ‚ç‚¹ï¼š copyæ‹·è´èµ„æºä½ å¯ä»¥é€šè¿‡å…¨å±€çš„æ–¹æ³• copy() åœ¨ console é‡Œ copy ä»»ä½•ä½ èƒ½æ‹¿åˆ°çš„èµ„æºï¼Œä¾‹å¦‚ï¼š æ‹·è´ HTML (æœ€å¿«çš„æ–¹å¼)å¯èƒ½ä½ çŸ¥é“å³å‡»æˆ–è€…ç‚¹å‡»åœ¨ html å…ƒç´ è¾¹ä¸Šçš„çœç•¥å·(â€¦)å°±èƒ½å°†å®ƒ copy åˆ°æ“ä½œç³»ç»Ÿå‰ªè´´æ¿ä¸­ ä½†ä½ åŒæ ·å¯ä»¥ç”¨éå¸¸å¤è€çš„ [ctrl] + [c] + [ctrl] + [v] å¤§æ³•æ¥å®ç°åŒæ ·çš„æ•ˆæœï¼ snippetä»£ç å—ä½œç”¨ï¼šChromeå¼€å‘è€…å·¥å…·çš„Snippetsæä¾›äº†åœ¨Chromeé‡Œä¿å­˜åŠè¿è¡Œæˆ–è€…è°ƒè¯•ä¸€æ®µjsä»£ç çš„åŠŸèƒ½å…¥å£ï¼šChromeå¼€å‘è€…å·¥å…·-Sourcesé¢æ¿-Snippetsé¢æ¿ ç›´è¾¾ï¼šä½ ä¸çŸ¥é“çš„ Chrome è°ƒè¯•å·¥å…·æŠ€å·§ ç¬¬äºŒåä¸€å¤©ï¼šSnippets(ä»£ç å—) å‚è€ƒæ¥æº Javascriptè°ƒè¯•å‘½ä»¤â€”â€”ä½ åªä¼šConsole.log() ? ã€è¯‘ã€‘ä½ ä¸çŸ¥é“çš„ Chrome è°ƒè¯•å·¥å…·æŠ€å·§ ç¬¬äºŒåä¸€å¤©ï¼šSnippets(ä»£ç å—) 20ä¸ªChrome DevToolsè°ƒè¯•æŠ€å·§ï¼ˆè¯‘ï¼‰]]></content>
      <categories>
        <category>æ•ˆç‡</category>
        <category>å·¥å…·</category>
      </categories>
      <tags>
        <tag>è½¬è½½</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€è½¬è½½ã€‘20ä¸ªChromeDevToolsè°ƒè¯•æŠ€å·§]]></title>
    <url>%2Fposts%2F709%2F</url>
    <content type="text"><![CDATA[è¯‘è€…æŒ‰ï¼š Chrome DevToolså¾ˆå¼ºå¤§ï¼Œç”šè‡³å¯ä»¥æ›¿ä»£IDEäº†ï¼ åŸæ–‡: Art of debugging with Chrome DevTools è¯‘è€…: Fundebug ä¸ºäº†ä¿è¯å¯è¯»æ€§ï¼Œæœ¬æ–‡é‡‡ç”¨æ„è¯‘è€Œéç›´è¯‘ã€‚å¦å¤–ï¼Œæœ¬æ–‡ç‰ˆæƒå½’åŸä½œè€…æ‰€æœ‰ï¼Œç¿»è¯‘ä»…ç”¨äºå­¦ä¹ ã€‚ å°ç¼–æ¨èï¼šFundebugä¸“æ³¨äºJavaScriptã€å¾®ä¿¡å°ç¨‹åºã€å¾®ä¿¡å°æ¸¸æˆï¼ŒNode.jså’ŒJavaçº¿ä¸Šbugå®æ—¶ç›‘æ§ã€‚çœŸçš„æ˜¯ä¸€ä¸ªå¾ˆå¥½ç”¨çš„bugç›‘æ§æœåŠ¡ï¼Œä¼—å¤šå¤§ä½¬å…¬å¸éƒ½åœ¨ä½¿ç”¨ã€‚ è°·æ­Œå¼€å‘è€…å·¥å…·æä¾›äº†ä¸€ç³»åˆ—çš„åŠŸèƒ½æ¥å¸®åŠ©å¼€å‘è€…é«˜æ•ˆDebugç½‘é¡µåº”ç”¨ï¼Œè®©ä»–ä»¬å¯ä»¥æ›´å¿«åœ°æŸ¥æ‰¾å’Œä¿®å¤bugã€‚åœ¨è°·æ­Œçš„å¼€å‘è€…å·¥å…·ä¸­ï¼Œæœ‰éå¸¸å¤šæœ‰ç”¨çš„å°å·¥å…·ï¼Œä½†æ˜¯å¾ˆå¤šå¼€å‘è€…å¹¶ä¸çŸ¥é“ã€‚é€šè¿‡è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘æŠŠæˆ‘å¸¸ç”¨çš„é‚£äº›é«˜æ•ˆDebugçš„Chromeå¼€å‘è€…å·¥å…·çš„åŠŸèƒ½åˆ†äº«ç»™å¤§å®¶ã€‚ ç®€æ´èµ·è§ï¼Œæ¥ä¸‹æ¥æˆ‘ä¼šä½¿ç”¨å¼€å‘è€…å·¥å…·æ¥æŒ‡ä»£è°·æ­Œå¼€å‘è€…å·¥å…·ã€‚ åœ¨æˆ‘ä»¬å¼€å§‹ä¹‹å‰ï¼Œä½ éœ€è¦åšä¸€äº›å‡†å¤‡å·¥ä½œã€‚ ä½¿ç”¨é‡‘ä¸é›€ç‰ˆå¦‚æœä½ æƒ³ä½¿ç”¨è°·æ­Œæœ€æ–°çš„ç‰ˆæœ¬å’Œå¼€å‘è€…å·¥å…·ï¼Œä½ å¯ä»¥ä¸‹è½½é‡‘ä¸é›€ç‰ˆæœ¬ï¼Œç”šè‡³æŠŠå®ƒè®¾ç½®ä¸ºå¼€å‘é»˜è®¤æ‰“å¼€çš„æµè§ˆå™¨ã€‚é‡‘ä¸é›€ç‰ˆæœ¬æ—¨åœ¨ä¸ºæ—©æœŸæ¥å—è€…æä¾›æœ€æ–°çš„æ›´æ–°ã€‚å®ƒå¯èƒ½ä¸ç¨³å®šï¼Œä½†æ˜¯å¤§å¤šæ•°æ—¶å€™æ˜¯æ²¡é—®é¢˜çš„ã€‚ä½ è¦ä¹ æƒ¯å»ä½¿ç”¨æœ€æ–°æœ€å¼ºçš„è°·æ­Œæµè§ˆå™¨ã€‚ 1. å¼€å¯å¼€å‘è€…å·¥å…·çš„å®éªŒæ€§åŠŸèƒ½ ä½ å¯ä»¥åˆ°chrome://flagsé¡µé¢ï¼Œç„¶åå¼€å¯Developer Tools experimentsé€‰é¡¹ã€‚ å½“å¼€å¯åï¼Œåœ¨å¼€å‘è€…å·¥å…·çš„è®¾ç½®é¡µé¢ï¼Œå¯ä»¥å‘ç°å¤šäº†ä¸€ä¸ªExperimentsé€‰é¡¹ã€‚å¦‚æœæˆ‘ä½¿ç”¨çš„ä¸€äº›åŠŸèƒ½ä½ æ²¡æœ‰çœ‹åˆ°ï¼Œé‚£ä¹ˆè¯·åˆ°Experimentsçª—å£æ‰“å¼€ã€‚ 2.è¶…çº§å®éªŒæ€§åŠŸèƒ½ å¦‚æœæˆ‘ä½¿ç”¨åˆ°çš„åŠŸèƒ½åœ¨Experimentsåˆ—è¡¨æ²¡æœ‰ï¼Œé‚£ä¹ˆå®ƒå¯èƒ½æ˜¯ä¸€ä¸ªWIPåŠŸèƒ½(WIPæŒ‡working in progress)ã€‚ä½ å¯ä»¥è¿™æ ·å¼€å¯ï¼šé¡µé¢å¤„åœ¨Experimentsç•Œé¢ï¼Œè¿ç»­æ•²å‡»shifté”®6æ¬¡æ¥å¼€å¯WIPåŠŸèƒ½ã€‚ Consoleå½“Debugçš„æ—¶å€™ï¼Œæˆ‘ä»¬ç»å¤§éƒ¨åˆ†æ—¶é—´æ˜¯åœ¨å’ŒConsoleæ‰“äº¤é“ã€‚æˆ‘ä»¬å¾€å¾€åœ¨ä»£ç ä¸­æ’å…¥å¾ˆå¤šConsole logsï¼Œé€šè¿‡æ‰“å°å˜é‡å€¼æ¥debugã€‚é‰´äºConsoleå¯¹äºæˆ‘ä»¬è¿™ä¹ˆé‡è¦ï¼Œå¾ˆæœ‰å¿…è¦äº†è§£æ‰€æœ‰å¼€å‘è€…å·¥å…·æä¾›çš„ç›¸å…³çš„APIså’Œå¿«æ·é”®ã€‚ 3. æ€»æ˜¯æ‰“å°å¯¹è±¡ æˆ‘çš„ç¬¬ä¸€ä¸ªå»ºè®®å…¶å®å’Œå¼€å‘è€…å·¥å…·æ²¡æœ‰å…³ç³»ï¼Œè€Œæ˜¯æˆ‘ä¸€ç›´ä½¿ç”¨çš„ä¸€ä¸ªæŠ€å·§ã€‚åœ¨ä½¿ç”¨console.log();çš„æ—¶å€™ï¼Œä¸ä»…ä»…æ‰“å°å˜é‡ï¼Œè€Œæ˜¯è¦æ‰“å°å¯¹è±¡ï¼Œç”¨å¤§æ‹¬å·({})å°†å˜é‡åŒ…å›´èµ·æ¥ã€‚è¿™æ ·çš„ä¼˜ç‚¹æ˜¯ä¸ä»…ä¼šæŠŠå˜é‡çš„å€¼æ‰“å°ï¼ŒåŒæ—¶è¿˜ä¼šå°†å˜é‡åæ‰“å°å‡ºæ¥ã€‚ 4. ä½¿ç”¨console.tableæ¥æ‰“å°å¤šæ¡ç›®æ•°æ® å¦‚æœä½ è¦æ‰“å°çš„å˜é‡æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ¯ä¸€ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚æˆ‘å»ºè®®ä½ ä½¿ç”¨console.tableæ¥æ‰“å°ï¼Œå…¶è¡¨æ ¼åŒ–çš„å‘ˆç°æ›´åŠ ç¾è§‚æ˜“è¯»ã€‚ 5. ç»™logåŠ ç‚¹é¢œè‰² logæœ‰æ—¶å€™å˜å¾—éå¸¸å¤šï¼ŒåŒ…å«ä½ è‡ªå·±çš„ã€ä¸€äº›ç¬¬ä¸‰æ–¹æ‰©å±•æˆ–è€…æµè§ˆå™¨çš„logsã€‚é™¤äº†ä½¿ç”¨è¿‡æ»¤å™¨(filter)ä»¥å¤–ï¼Œä½ è¿˜å¯ä»¥ä½¿ç”¨é¢œè‰²æ¥æ›´å¥½åœ°åŒºåˆ†ã€‚ 6. $ å’Œ $$ å¦‚æœä½ åœ¨consoleä¸‹æ²¡æœ‰ä»»ä½•åº“ä½¿ç”¨$å’Œ$$ï¼Œé‚£ä¹ˆä½ å¯ä»¥ä½¿ç”¨å®ƒä»¬åˆ†åˆ«ä½œä¸ºdocument.querySelector() å’Œ document.querySelectorAll()çš„å¿«æ·é”®ã€‚ é™¤äº†æä¾›äº†ä¸€ä¸ªæ›´åŠ å¿«æ·çš„æ–¹å¼å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªå¥½å¤„ï¼Œ$$è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œè€Œä¸æ˜¯array-likeçš„NodeList. æ‰€ä»¥ä½ å¯ä»¥ç›´æ¥ä½¿ç”¨map, reduceå’Œfilter å‡½æ•°ã€‚ ä½ å¯ä»¥ä½¿ç”¨$$æ£€æŸ¥é¡µé¢ä¸­çš„æ— æ•ˆé“¾æ¥ï¼š 12345678Promise .all( $$('a') .map(link =&gt; link.href) .map(href =&gt; fetch(href)) ) .then(() =&gt; console.log('All links working')) .catch(() =&gt; console.error('Some links are broken')); 7. $0 å¦‚æœä½ æƒ³å¼•ç”¨æŸä¸ªDOMå…ƒç´ ï¼Œä½¿ç”¨$0ã€‚$0æŒ‡å‘ä½ å½“å‰åœ¨Elementä¸­é€‰ä¸­çš„å…ƒç´ ã€‚å¦‚æœæŒ‡å®šäº†$0ï¼Œ$1æŒ‡å‘ä¹‹å‰é€‰ä¸­çš„å…ƒç´ ã€‚ä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°$4éƒ½å¯ä»¥ä½¿ç”¨ã€‚ 8. $_ $_è®°å½•äº†æœ€åä¸€æ¬¡åœ¨Consoleè®¡ç®—çš„è¡¨è¾¾å¼ã€‚ 9. getEventListeners() getEventListeners(domElement) è¿”å›åœ¨DOMå…ƒç´ ä¸Šæ³¨å†Œçš„æ‰€æœ‰çš„äº‹ä»¶ã€‚è¯·çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š ä½ ä¹Ÿè®¸æ³¨æ„åˆ°äº†ï¼Œå½“æˆ‘åœ¨consoleé‡Œè¾“å…¥è¡¨è¾¾å¼çš„æ—¶å€™ï¼Œå…¶ç»“æœç«‹å³è¢«è®¡ç®—å‡ºæ¥äº†ã€‚ä½ å¯ä»¥çœ‹åˆ°æˆ‘å¹¶æ²¡æœ‰æ•²å‡»Enteré”®ï¼Œè€Œç»“æœå·²ç»æ˜¾ç¤ºå‡ºæ¥ã€‚è¿™ä¸ªæ˜¯é‡‘ä¸é›€ç‰ˆæœ¬çš„ä¸€ä¸ªæ–°åŠŸèƒ½ï¼Œå«åšâ€Eager Evaluationâ€ã€‚ 10. debug(fn) åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå¦‚æœä½ æƒ³åœ¨ç‚¹å‡»æŒ‰é’®åçš„æ‰§è¡Œè¿‡ç¨‹ä¸­æš‚åœï¼Œä½ å¯ä»¥ä½¿ç”¨debugå‡½æ•°ã€‚debug(fn)æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œå½“æ¯æ¬¡è¯¥å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼ŒDebuggerå°±ä¼šåœ¨è¯¥å‡½æ•°çš„ç¬¬ä¸€è¡Œä¸­æ–­æ‰§è¡Œã€‚ æƒ³è±¡ä¸€ä¸‹ä½ è¦debugä¸€ä¸ªæŒ‰é’®çš„é—®é¢˜ï¼Œä½†æ˜¯ä½ ä¸çŸ¥é“è¿™ä¸ªæŒ‰é’®å¯¹åº”çš„äº‹ä»¶å‡½æ•°åœ¨ä»£ç ä¸­ä»€ä¹ˆä½ç½®ã€‚é™¤äº†å»å¤§é‡çš„æºä»£ç ä¸­æ…¢æ…¢å¯»æ‰¾ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªå·§å¦™çš„æ–¹æ³•ã€‚ä½¿ç”¨getEventListenerså‡½æ•°ï¼Œç„¶åå°†debugæ–¹æ³•æ³¨å…¥è¿›å»ã€‚è¿™æ ·ï¼Œå½“ä½ ç‚¹å‡»æŒ‰é’®çš„æ—¶å€™ï¼Œå°±ä¼šåœ¨è¯¥å‡½æ•°çš„ç¬¬ä¸€è¡Œåœä¸‹æ¥ã€‚ 11. copy(obj) copy(anything) æ˜¯ä¸€ä¸ªå¾ˆæœ‰ç”¨çš„å·¥å…·å‡½æ•°æ–¹ä¾¿ä½ å°†ä»»ä½•ä¸œè¥¿æ‹·è´åˆ°ç³»ç»Ÿçš„ç²˜è´´æ¿æš‚å­˜ã€‚ ç»™copyå‡½æ•°ä¼ å…¥ä¸€ä¸ªæ²¡æœ‰æ ¼å¼çš„JSONï¼Œä¼šè¿”å›æ ¼å¼åŒ–çš„ç»“æœï¼š 12. Top-level await async/await ä½¿å¾—å¼‚æ­¥æ“ä½œå˜å¾—æ›´åŠ å®¹æ˜“å’Œå¯è¯»ã€‚å”¯ä¸€çš„é—®é¢˜åœ¨äºawaitéœ€è¦åœ¨asyncå‡½æ•°ä¸­ä½¿ç”¨ã€‚å¦‚æœæˆ‘ä»¬è¦åœ¨DevToolsçš„æ§åˆ¶å°ä½¿ç”¨ï¼Œéœ€è¦ä¸€äº›ç‰¹æ®Šçš„å¤„ç†ï¼Œä½¿ç”¨Immediately Invoked Async Function Expression (IIAFE). ä¸€ç‚¹éƒ½ä¸æ–¹ä¾¿ã€‚å¥½åœ¨DevToolså·²ç»æ”¯æŒç›´æ¥ä½¿ç”¨awaitäº†ã€‚ Debugging in the Sources panelåœ¨sourceé¢æ¿ï¼Œä½¿ç”¨breakpointsï¼Œstepping-into, stepping-overç­‰æ–¹å¼ï¼Œä½ å¯ä»¥å¾ˆå¥½åœ°æŒæ§ç¨‹åºçš„æ‰§è¡ŒçŠ¶æ€ï¼Œæ¥å‘ç°ä»£ç é—®é¢˜ã€‚æ¥ä¸‹é‡Œæˆ‘ä¸ä¼šä»‹ç»å¤§å®¶éƒ½çŸ¥é“çš„åŸºç¡€å†…å®¹ï¼Œè€Œæ˜¯ä¸€äº›æˆ‘ç»å¸¸ä½¿ç”¨çš„å»ºè®®å’ŒæŠ€å·§ã€‚ 13. å¼€å¯ auto-pretty print åœ¨é‡‘ä¸é›€ç‰ˆæœ¬çš„å®éªŒæ¨¡å¼ä¸‹ï¼Œä½ å¯ä»¥å¼€å¯è‡ªåŠ¨ç¾åŒ–ä»£ç æ¨¡å¼ã€‚ 14. ä½¿ç”¨æ¡ä»¶æ–­ç‚¹åœ¨ç”Ÿäº§ç¯å¢ƒä¸­æ³¨å…¥console logs æ–­ç‚¹æ˜¯ä¸€ä¸ªå¾ˆæ£’çš„åŠŸèƒ½ã€‚ä½†è¿˜æœ‰ä¸€ä¸ªæ›´æ£’çš„ï¼šæ¡ä»¶æ–­ç‚¹ã€‚åªæœ‰å½“è®¾å®šçš„æ¡ä»¶æ»¡è¶³çš„æ—¶å€™ï¼Œä¸­æ–­æ‰ä¼šæ‰§è¡Œã€‚ä¹Ÿå°±æ˜¯è¯´DevToolså¹¶ä¸ä¼šæ¯æ¬¡éƒ½ä¸­æ–­ç¨‹åºçš„æ‰§è¡Œï¼Œè€Œåªæ˜¯åœ¨ä½ æƒ³è¦å®ƒä¸­æ–­çš„æ—¶å€™æ‰ä¸­æ–­ã€‚æƒ³äº†è§£æ›´å¤šï¼šæŸ¥çœ‹è¿™é‡Œ. åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹ï¼Œå› ä¸ºä¸èƒ½ä¿®æ”¹æºä»£ç ï¼Œæˆ‘å–œæ¬¢ä½¿ç”¨æ¡ä»¶æ–­ç‚¹æ¥æ³¨å…¥console.logã€‚å¦‚æœæˆ‘çš„æ–­ç‚¹ä»…ä»…æ˜¯ä¸€ä¸ªconsole.logï¼ŒDevToolsä¸ä¼šä¸­æ–­ï¼Œå› ä¸ºconsole.logè¿”å›undefined,ï¼Œæ˜¯ä¸€ä¸ªfalseçš„å€¼ã€‚ä½†æ˜¯å®ƒä¼šæ‰§è¡Œæˆ‘æ³¨å…¥çš„è¡¨è¾¾å¼ï¼Œå¯ä»¥çœ‹åˆ°è¾“å‡ºç»“æœã€‚ ä¸ºä»€ä¹ˆä¸ç›´æ¥ä½¿ç”¨æ™®é€šçš„æ–­ç‚¹ï¼Œå¹¶ä¸”æŸ¥çœ‹å˜é‡å‘¢ï¼Ÿæœ‰æ—¶å€™æˆ‘å¹¶ä¸æƒ³è¿™æ ·åšã€‚æ¯”å¦‚ï¼Œå½“æˆ‘åœ¨åˆ†æé‚£äº›é¢‘ç¹æ‰§è¡Œçš„æ“ä½œï¼Œä¾‹å¦‚è§¦æ‘¸æˆ–åˆ™æ»‘åŠ¨ã€‚æˆ‘å¹¶ä¸æƒ³æ¯ä¸€æ¬¡éƒ½å¯¼è‡´Debuggerè§¦å‘ç¨‹åºä¸­æ–­ï¼Œä½†æ˜¯æˆ‘æƒ³çœ‹åˆ°ç¨‹åºè¾“å‡ºçš„ç»“æœã€‚ 15. æš‚åœUIåœ¨HoverçŠ¶æ€ä¸‹çš„å±•ç¤ºç»“æœ æˆ‘ä»¬å¾ˆéš¾å»æ£€æŸ¥ä¸€ä¸ªåªæœ‰åœ¨HoverçŠ¶æ€ä¸‹å±•ç¤ºçš„å…ƒç´ ã€‚æ¯”å¦‚ï¼Œå¦‚ä½•å»æ£€æŸ¥ä¸€ä¸ªtooltipï¼Ÿå¦‚æœä½ å³é”®å¹¶é€‰æ‹©æ£€æŸ¥ï¼Œå…ƒç´ å·²ç»æ¶ˆå¤±äº†ã€‚é‚£ä¹ˆæœ‰åŠæ³•å—ï¼Ÿ æˆ‘æ˜¯è¿™ä¹ˆæ“ä½œçš„ï¼š æ‰“å¼€sourcesé¢æ¿ æ˜¾ç¤ºtooltip ä½¿ç”¨å¿«æ·é”®æ¥æš‚åœè„šæœ¬æ‰§è¡Œ(å°†é¼ æ ‡åœç•™åœ¨æš‚åœçš„å›¾æ ‡ä¸ŠæŸ¥çœ‹å¿«æ·é”®) å›åˆ°Elementsé¢æ¿ï¼Œç„¶ååƒé€šå¸¸ä¸€æ ·å»æ£€æŸ¥å…ƒç´  16. XHR breakpoints å¦‚æœæƒ³è¦ç†è§£ä¸€ä¸ªè¯·æ±‚æ˜¯å¦‚ä½•æ‰§è¡Œçš„ï¼Œå¯ä»¥ä½¿ç”¨sourcesé¢æ¿çš„XHR breakpointsã€‚ 17. ä½¿ç”¨DevToolsä½œä¸ºIDE DevToolsçš„sourceé¢æ¿å¯ä»¥è¯´ç›¸å½“å¼ºå¤§ã€‚ä½ å¯ä»¥å¿«é€ŸæŸ¥æ‰¾ï¼Œè·³è½¬åˆ°æŸä¸€è¡Œï¼ŒæŸä¸ªå‡½æ•°ï¼Œæ‰§è¡Œä¸€æ®µä»£ç ï¼Œä½¿ç”¨å¤šè¡Œå…‰æ ‡ç­‰ç­‰ã€‚è¿™äº›åŠŸèƒ½åœ¨è¿™ç¯‡mediumæ–‡ç« ä¸­æœ‰è¯¦ç»†æè¿°ã€‚ æ—¢ç„¶å¦‚æ­¤ï¼Œä¸ºå•¥ä¸æŠŠæ•´ä¸ªå¼€å‘éƒ½æ¬åˆ°è¿™é‡Œå‘¢ã€‚è¿™æ ·å°±ä¸éœ€è¦æµªè´¹æ—¶é—´åˆ‡æ¢IDEå’Œæµè§ˆå™¨äº†ã€‚ å¦‚æœä½ æœ‰ä¸€ä¸ªä½¿ç”¨create-react-appæˆ–åˆ™vue-cliæ„å»ºçš„é¡¹ç›®ï¼Œä½ å¯ä»¥ç›´æ¥æŠŠæ•´ä¸ªæ–‡ä»¶å¤¹æ‹–åˆ°Sourcesé¢æ¿ä¸‹ã€‚DevToolsä¼šè‡ªåŠ¨å¯¹æ‰€æœ‰æ–‡ä»¶åšæ˜ å°„ã€‚æ‰€ä»¥ï¼Œä½ å¯ä»¥åœ¨DevToolsä¸‹ä¿®æ”¹æ–‡ä»¶å¹¶ç«‹å³æŸ¥çœ‹ã€‚è¿™æ ·ï¼Œæ•´ä¸ªå¼€å‘æ•ˆç‡ï¼Œç‰¹åˆ«æ˜¯Debuggingæ•ˆç‡ç»å¯¹æé«˜äº†ã€‚ 18. ä½¿ç”¨network overridesæ¥ç®€å•è°ƒè¯•ç”Ÿäº§ä»£ç  å¦‚æœä½ æ­£åœ¨Debuggingä¸€ä¸ªç”Ÿäº§ç¯å¢ƒä¸‹é¢çš„bugï¼Œä½ å¯ä»¥ä½¿ç”¨network overridesæ¥è°ƒè¯•ï¼Œè€Œä¸ç”¨åœ¨æœ¬åœ°æ­å»ºæ•´ä¸ªé…ç½®ã€‚ ä½ å¯ä»¥å¾ˆå®¹æ˜“å°†ä»»ä½•è¿œç¨‹çš„èµ„æºä¸‹è½½ä¸€ä»½æœ¬åœ°çš„ç‰ˆæœ¬ï¼Œç„¶åå¯ä»¥åœ¨DevToolsä¸‹ç¼–è¾‘ï¼Œå¹¶ä¸”DevToolsä¼šæ›´æ–°å±•ç¤ºä½ ç¼–è¾‘åçš„æ–‡ä»¶ã€‚ åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹ï¼Œä¹Ÿå¯ä»¥å¾ˆå®¹æ˜“Debuggingï¼Œå¹¶ä¸”åšä¸€äº›æ€§èƒ½ä¸Šçš„æµ‹è¯•ä¹Ÿå˜å¾—å®¹æ˜“ã€‚ 19. Nodejs debuggingå¦‚æœä½ æƒ³ä½¿ç”¨DevToolsçš„Debuggeræ¥debug Node.jsåº”ç”¨ï¼Œä½ å¯ä»¥ä½¿ç”¨--inspect-brk flagæ¥å¼€å¯ï¼š 1node --inspect-brk script.js è·³è½¬åˆ°chrome://inspecté¡µé¢ï¼Œåœ¨Remote Targeté€‰é¡¹ï¼Œå¯ä»¥çœ‹åˆ°Nodeç¨‹åºã€‚ å¹¶ä¸”ï¼Œåœ¨DevToolsä¸­ä½ ä¼šçœ‹åˆ°ä¸€ä¸ªç»¿è‰²çš„Nodeå›¾æ ‡ï¼Œç‚¹å‡»å›¾æ ‡ä¼šæ‰“å¼€é’ˆå¯¹Nodeçš„Chrome Debuggerã€‚ å¦‚æœä½ æƒ³è¦ç”¨DevTools Debuggeræ¥debugä½ çš„å•å…ƒæµ‹è¯•ï¼Œä½ éœ€è¦è¿™æ ·è°ƒç”¨ï¼š 1node --inspect-brk ./node_modules/.bin/jest ä¸è¿‡è¿™æ ·åšå…¶å®å¾ˆéº»çƒ¦ï¼Œæˆ‘ä»¬éœ€è¦è‡ªå·±æ‰¾åˆ°ç›¸åº”çš„è·¯å¾„ã€‚ GoogleChromeLabs æœ€è¿‘å‘å¸ƒäº†ä¸€ä¸ªæ–°çš„å·¥å…·éå¸¸å¥½ç”¨ï¼Œå«åšï¼šndbã€‚ä½¿ç”¨ndbï¼Œä½ åªéœ€è¦ï¼š 1ndb npx jest å¦‚æœä½ æœ‰ä¸€ä¸ªè‡ªå®šä¹‰çš„è„šæœ¬ï¼Œä½ å¯ä»¥è¿™æ ·è°ƒç”¨ï¼š 1ndb npm run unit æ›´å¦™çš„æ˜¯ï¼Œå¦‚æœä½ åœ¨ä¸€ä¸ªæœ‰é…ç½®package.jsonçš„é¡¹ç›®ä¸‹è°ƒç”¨ndbï¼Œä»–ç”šè‡³ä¼šè‡ªåŠ¨åˆ†æpackage.jsonä¸­çš„è„šæœ¬ï¼Œæ–¹ä¾¿ä½ ç›´æ¥ä½¿ç”¨DevToolsã€‚ 20. ä½¿ç”¨Snippetsæ¥è¾…åŠ©Debugging DevToolsæä¾›äº†ä¸€ä¸ªå¯ä»¥åˆ›å»ºå’Œä¿å­˜å°æ®µä»£ç çš„å·¥å…·ï¼Œæˆ‘å¾ˆå–œæ¬¢ç”¨å®ƒä»¬æ¥åŠ é€Ÿæˆ‘çš„å·¥ä½œã€‚æ¯”å¦‚lodashify â€” å¯ä»¥å¿«é€Ÿç»™ä»»ä½•åº”ç”¨æ·»åŠ lodashã€‚ 12345678(function () &#123; 'use strict'; var element = document.createElement('script'); element.src = "https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.15.0/lodash.min.js"; element.type = "text/javascript"; document.head.appendChild(element);&#125;)(); å¦ä¸€ä¸ªå°çš„å·¥å…·å‡½æ•°å¼ç”¨æ¥å¢å¼ºå¯¹è±¡çš„å±æ€§ï¼Œæ¯æ¬¡è¢«è®¿é—®æˆ–åˆ™ä¿®æ”¹ï¼Œå®ƒéƒ½ä¼šæä¾›ç»™æˆ‘å……åˆ†çš„ä¿¡æ¯ï¼Œæ¯”å¦‚è°è®¿é—®äº†ï¼Œè°æ›´æ”¹äº†å®ƒã€‚åœ¨Debuggingçš„æ—¶å€™ï¼Œéå¸¸æœ‰ç”¨ã€‚ 12345678910111213const traceProperty = (object, property) =&gt; &#123; let value = object[property]; Object.defineProperty(object, property, &#123; get () &#123; console.trace(`$&#123;property&#125; requested`); return value; &#125;, set (newValue) &#123; console.trace(`setting $&#123;property&#125; to `, newValue); value = newValue; &#125;, &#125;)&#125;; è¿˜æœ‰å¾ˆå¤šéå¸¸æœ‰ç”¨çš„devtoolsä»£ç ç‰‡æ®µï¼Œä½ å¯ä»¥ç›´æ¥æ‹¿å»ä½¿ç”¨ã€‚ å…³äºFundebugFundebugä¸“æ³¨äºJavaScriptã€å¾®ä¿¡å°ç¨‹åºã€å¾®ä¿¡å°æ¸¸æˆã€æ”¯ä»˜å®å°ç¨‹åºã€React Nativeã€Node.jså’ŒJavaå®æ—¶BUGç›‘æ§ã€‚ è‡ªä»2016å¹´åŒåä¸€æ­£å¼ä¸Šçº¿ï¼ŒFundebugç´¯è®¡å¤„ç†äº†6äº¿+é”™è¯¯äº‹ä»¶ï¼Œå¾—åˆ°äº†Googleã€360ã€é‡‘å±±è½¯ä»¶ç­‰ä¼—å¤šçŸ¥åç”¨æˆ·çš„è®¤å¯ã€‚æ¬¢è¿å…è´¹è¯•ç”¨ï¼ ç‰ˆæƒå£°æ˜:è½¬è½½æ—¶è¯·æ³¨æ˜ä½œè€…Fundebugä»¥åŠæœ¬æ–‡åœ°å€ï¼šhttps://blog.fundebug.com/2018/08/22/art-of-debugging-with-chrome-devtools/]]></content>
      <categories>
        <category>æ•ˆç‡</category>
        <category>å·¥å…·</category>
      </categories>
      <tags>
        <tag>è½¬è½½</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[inputæ•ˆæœæ±‡æ€»]]></title>
    <url>%2Fposts%2F33862%2F</url>
    <content type="text"><![CDATA[text æ–‡æœ¬æ¡†focus æ—¶åº•éƒ¨ä¸‹åˆ’çº¿å±•å¼€åŠ¨ç”» See the Pen Input Boxes by JingW (@JingW) on CodePen. search æœç´¢æ¡†èšç„¦æ—¶æœç´¢æ¡†å˜å®½åŠ¨ç”» See the Pen Search Form with CSS3 by JingW (@JingW) on CodePen. radio å•é€‰æŒ‰é’®è‡ªå®šä¹‰å°åœ†ç‚¹ï¼ˆå¸¦åŠ¨ç”»ï¼‰ See the Pen CSS radio buttons by JingW (@JingW) on CodePen. checkbox å¤šé€‰æŒ‰é’®è‡ªå®šä¹‰å°æ–¹æ¡†1 See the Pen Simple CSS Checkboxes with Font Awesome by JingW (@JingW) on CodePen. è‡ªå®šä¹‰å°æ–¹æ¡†2 See the Pen Pure CSS custom checkboxes by JingW (@JingW) on CodePen. select ä¸‹æ‹‰é€‰é¡¹çº¯CSSçš„ä¸‹æ‹‰åˆ—è¡¨ See the Pen Pure CSS Select by JingW (@JingW) on CodePen.]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>demo</category>
      </categories>
      <tags>
        <tag>input</tag>
        <tag>è¡¨å•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å°ç¨‹åºformIdè·å–]]></title>
    <url>%2Fposts%2F35316%2F</url>
    <content type="text"><![CDATA[1. ä»€ä¹ˆæ˜¯ formIdformId æ˜¯å°ç¨‹åºå¯ä»¥å‘ç”¨æˆ·å‘é€æ¨¡æ¿æ¶ˆæ¯çš„é€šè¡Œè¯ï¼Œç®€å•è€Œè¨€ï¼Œä½ åªæœ‰è·å–åˆ° formIdï¼ŒæŠŠå®ƒäº¤ç»™åå°ï¼Œåå°åŒå­¦æ‰èƒ½å‘ç”¨æˆ·å‘é€é€šçŸ¥æ¶ˆæ¯ï¼Œè€Œè¿™ä¸ªé€šè¡Œè¯çš„æœ‰æ•ˆæœŸåªæœ‰ä¸ƒå¤©ã€‚è¿™æ˜¯å¾®ä¿¡ä¸ºäº†é˜²æ­¢å°ç¨‹åºæ»¥ç”¨é€šçŸ¥æ¶ˆæ¯éªšæ‰°ç”¨æˆ·è€Œæå‡ºçš„ä¸€ç§ç­–ç•¥ã€‚ 2. formId çš„è·å–å°ç¨‹åºçš„ æ¨¡æ¿æ¶ˆæ¯æ–‡æ¡£ ä¸­è¯´ï¼Œè·å– formId æœ‰ä»¥ä¸‹ä¸¤ç§é€”å¾„ï¼š æ”¯ä»˜ æäº¤è¡¨å• ç”¨æˆ·æ”¯ä»˜ä¸€æ¬¡ï¼Œèƒ½è·å–3ä¸ª formIdï¼Œç”¨æˆ·æäº¤è¡¨å•ä¸€æ¬¡å¯å¾—åˆ°ä¸€ä¸ª formId ã€‚å¦‚æœå°ç¨‹åºä¸­æ²¡æœ‰æ”¯ä»˜è¡Œä¸ºï¼Œä½†åˆæœ‰éœ€è¦å‘ç”¨æˆ·å‘é€æ¶ˆæ¯çš„éœ€æ±‚ï¼Œè¿™ä¸ªæ—¶å€™å°±åªèƒ½ä¾é æäº¤è¡¨å•äº†ã€‚ 2. 1 ä¸‹å‘æ¡ä»¶è¯´æ˜ä»¥ä¸‹æ‘˜è‡ª æ¨¡æ¿æ¶ˆæ¯æ–‡æ¡£ - ä¸‹å‘æ¡ä»¶è¯´æ˜ 2.1.1 æ”¯ä»˜å½“ç”¨æˆ·åœ¨å°ç¨‹åºå†…å®Œæˆè¿‡æ”¯ä»˜è¡Œä¸ºï¼Œå¯å…è®¸å¼€å‘è€…å‘ç”¨æˆ·åœ¨7å¤©å†…æ¨é€æœ‰é™æ¡æ•°çš„æ¨¡æ¿æ¶ˆæ¯ï¼ˆ1æ¬¡æ”¯ä»˜å¯ä¸‹å‘3æ¡ï¼Œå¤šæ¬¡æ”¯ä»˜ä¸‹å‘æ¡æ•°ç‹¬ç«‹ï¼Œäº’ç›¸ä¸å½±å“ï¼‰ 2.1.2 æäº¤è¡¨å•å½“ç”¨æˆ·åœ¨å°ç¨‹åºå†…å‘ç”Ÿè¿‡æäº¤è¡¨å•è¡Œä¸ºä¸”è¯¥è¡¨å•å£°æ˜ä¸ºè¦å‘æ¨¡æ¿æ¶ˆæ¯çš„ï¼Œå¼€å‘è€…éœ€è¦å‘ç”¨æˆ·æä¾›æœåŠ¡æ—¶ï¼Œå¯å…è®¸å¼€å‘è€…å‘ç”¨æˆ·åœ¨7å¤©å†…æ¨é€æœ‰é™æ¡æ•°çš„æ¨¡æ¿æ¶ˆæ¯ï¼ˆ1æ¬¡æäº¤è¡¨å•å¯ä¸‹å‘1æ¡ï¼Œå¤šæ¬¡æäº¤ä¸‹å‘æ¡æ•°ç‹¬ç«‹ï¼Œç›¸äº’ä¸å½±å“ï¼‰ 2.2 ä»£ç ç¤ºä¾‹è·å– formId å¿…é¡»ä½¿ç”¨å°ç¨‹åº/uni-app çš„ form ç»„ä»¶ï¼Œå®ƒæœ¬èº«æœ‰ä¸ªå±æ€§å« report-submit ï¼Œå½“åœ¨æ ‡ç­¾ä¸­åŠ å…¥è¿™ä¸ªå±æ€§æ—¶ï¼Œä¸€æ—¦è¡¨å•æäº¤ï¼Œsubmit å›è°ƒä¸­å°±å¯ä»¥æ‹¿åˆ° formId äº†ã€‚ html 12345678910&lt;!-- å¾®ä¿¡å°ç¨‹åºä»£ç  --&gt;&lt;form bindsubmit="formSubmit" report-submit="true"&gt; ... &lt;button formType="submit"&gt;Submit&lt;/button&gt;&lt;/form&gt;&lt;!-- uni-app ä»£ç  --&gt;&lt;form @submit='formSubmit' :report-submit='true'&gt; &lt;button form-type="submit"&gt;æäº¤è¡¨å•&lt;/button&gt; // formSubmit ä¸ºæäº¤äº‹ä»¶è§¦å‘çš„è‡ªå®šä¹‰æ–¹æ³•&lt;/form&gt; js 1234567formSubmit: function (e) &#123; // è·å–è¡¨å•id const formId = e.detail.formId; // éçœŸæœºè¿è¡Œæ—¶ formId åº”è¯¥ä¸º 'the formId is a mock one' console.log('è¡¨å•id:', formId); // è·å–åå¯é€šè¿‡å¼‚æ­¥è¯·æ±‚å°† formId ä¼ é€’ç»™åç«¯&#125; é‡è¦ï¼š åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­è¿è¡Œè·å–çš„ formId ä¸º the formId is a mock one ï¼Œè¦è·å¾—çœŸå®æœ‰æ•ˆçš„ formId éœ€è¦åœ¨çœŸæœºä¸Šè¿è¡Œã€‚ 2.3 è·å–å°½å¯èƒ½å¤šçš„ formIdä»è¿è¥çš„è§’åº¦è€Œè¨€ï¼ŒformId è‚¯å®šæ˜¯è¶Šå¤šè¶Šå¥½ã€‚æ‰€ä»¥æ¯ä¸€ä¸ªé¡µé¢ä¸Šç”¨æˆ·çš„æ¯ä¸€æ¬¡ç‚¹å‡»æˆ‘ä»¬éƒ½å·´ä¸å¾—è§¦å‘ä¸€æ¬¡è¡¨å•æäº¤ã€‚å“ªæ€•ä»ç•Œé¢ä¸Šè®²ï¼Œè¿™æ¬¡ç‚¹å‡»å¯èƒ½æ˜¯è·³è½¬ï¼Œå¼¹çª—çš„åŠŸèƒ½ï¼Œè·Ÿè¡¨å•å®Œå…¨æ— å…³ï¼Œéƒ½è¦æŠŠ button æ”¾åœ¨ä¸€ä¸ª form ä¸­ã€‚ä½†æ˜¯è¿™æ ·æ— ç–‘å¢åŠ äº†å‰ç«¯çš„å·¥ä½œé‡ï¼Œå› ä¸ºéœ€è¦ä¸ºæ¯ä¸ªé¡µé¢çš„ submit äº‹ä»¶ç»‘å®šä¸€ä¸ªä¸Šä¼  formId çš„æ–¹æ³•ã€‚ä¸€ä¸ªå¯è¡Œçš„æ–¹æ³•æ˜¯å€ŸåŠ© vue çš„ mixinï¼Œä¸ºæ¯ä¸€ä¸ªé¡µé¢å®ä¾‹æ··å…¥ä¸€ä¸ªä¸Šä¼  formId çš„æ–¹æ³•ï¼š 12345678910// app.jsVue.mixin(&#123; methods: &#123; uploadFormId (e) &#123; this.req(&#123; url: '/api/v1/formid?formId=' + e.target.formId &#125;) &#125; &#125;&#125;) å¦å¤–ä¸€ä¸ªæ–¹æ³•ï¼š 1234567891011121314151617181920212223function _collectWeChatFormId(formId) &#123; let token = wx.getStorageSync("token_/cookies"), openId = wx.getStorageSync("openid_cookies"), orign = 1; console.log('formId',formId) if (formId == 'the formId is a mock one') &#123; console.log(`æ¨¡æ‹Ÿå™¨ä¸­è¿è¡Œï¼`) return false; &#125; if (formId.length == 0) &#123; console.log(`formIdä¸èƒ½ä¸ºç©º`) return false; &#125; let site = 'ä½ çš„æ”¶é›†æ¥å£', dates = &#123; token: token, openId: openId, formId: formId, orign: orign &#125;, md = 'token=' + token + '&amp;openId=' + openId + '&amp;formId=' + formId + '&amp;orign=' + orign; requestHttp(site, dates, md, function (res) &#123; console.log(res) console.log(res.data) &#125;)&#125; 3. å°ç¨‹åºæ¨¡æ¿æ¶ˆæ¯æ¥å£æ›´æ–°è¯·æ³¨æ„ï¼Œå°ç¨‹åºæ¨¡æ¿æ¶ˆæ¯æ¥å£å°†äº2020å¹´1æœˆ10æ—¥ä¸‹çº¿ï¼Œå¼€å‘è€…å¯ä½¿ç”¨è®¢é˜…æ¶ˆæ¯åŠŸèƒ½]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>å°ç¨‹åº</category>
      </categories>
      <tags>
        <tag>uni-app</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[cssæ‰©å¤§å…ƒç´ ç‚¹å‡»åŒºåŸŸ]]></title>
    <url>%2Fposts%2F1303%2F</url>
    <content type="text"><![CDATA[é—®é¢˜æè¿°é¡¹ç›®ä¸­é‡åˆ°ä½¿ç”¨æ»‘åŠ¨æ¡çš„åœ°æ–¹ï¼Œä½†è®¾è®¡ç¨¿ä¸Šçš„æŒ‰é’®é¢ç§¯éå¸¸å°ï¼Œç”¨æˆ·åœ¨æ‰‹æœºä¸Šç”±äºä¸å®¹æ˜“ç²¾ç¡®è§¦æ‘¸åˆ°æŒ‰é’®å¯¼è‡´æ‹–åŠ¨æ»šåŠ¨æ¡å›°éš¾ï¼š æ‰€ä»¥å°±æƒ³ç€æ‰©å¤§æŒ‰é’®çš„ç‚¹å‡»åŒºåŸŸã€‚é€šå¸¸æƒ…å†µä¸‹æƒ³è¦æ‰©å¤§ç‚¹å‡»åŒºåŸŸæœ‰ä¸¤ç§æ–¹æ¡ˆï¼š å¢åŠ border æ·»åŠ padding ç„¶è€Œç”±äºæ­¤æ»‘åŠ¨æ¡ä½¿ç”¨çš„æ˜¯ä¸‰æ–¹åº“ï¼Œåœ†å½¢æŒ‰é’®çš„ä½ç½®ä½¿ç”¨çš„æ˜¯ç»å¯¹å®šä½ï¼Œä¸å¤ªå¥½æ”¹å®ƒæœ¬èº«çš„å¤§å°ï¼Œå› ä¸ºè¿™æ ·è¦è°ƒæ•´çš„cssæ ·å¼å¤ªå¤šã€‚æ‰€ä»¥ä¸Šé¢ä¸¤ç§æ–¹æ¡ˆéƒ½è¢«æ¯™æ‰äº†ï¼Œæœ€å Google åˆ°ä¸‹é¢æ–¹æ¡ˆã€‚ è§£å†³æ–¹æ¡ˆä½¿ç”¨ä¼ªå…ƒç´ æ‰©å¤§å¯ç‚¹å‡»åŒºåŸŸ ä¼ªå…ƒç´ èƒ½ä¸ºå…¶çˆ¶å…ƒç´ æ•è·é¼ æ ‡äº¤äº’åŠ¨ä½œï¼Œå› æ­¤ï¼Œåªéœ€é€šè¿‡ä¼ªå…ƒç´ æ‰©å¤§çˆ¶å…ƒç´ çš„ç©ºé—´å¤§å°ï¼Œå°±èƒ½æ‰©å¤§å¯ç‚¹å‡»åŒºåŸŸã€‚ ä»£ç å¦‚ä¸‹ï¼š 1&lt;button class="extend-via-pseudo-elem"&gt;ç‚¹å‡»&lt;/button&gt; 123456789101112.extend-via-pseudo-elem &#123; position: relative;&#125;.extend-via-pseudo-elem::before &#123; content: ''; position: absolute; top: -20px; right: -20px; bottom: -20px; left: -20px;&#125;]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>æŠ€å·§</tag>
        <tag>ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[selectæ ‡ç­¾æ ·å¼è°ƒæ•´æŠ€å·§]]></title>
    <url>%2Fposts%2F46310%2F</url>
    <content type="text"><![CDATA[é‡ç½®ä¸‘é™‹æ ·å¼é¡¹ç›®ä¸­ä½¿ç”¨åˆ°äº† select æ ‡ç­¾ï¼Œä½†åœ¨ Android å’Œ iOS ä¸Šé»˜è®¤å±•ç¤ºçš„æ•ˆæœéƒ½å¾ˆä¸‘è€Œä¸”ä¸ä¸€è‡´ï¼Œç½‘ä¸Šæœåˆ°ä¸€ä¸ª css æ ·å¼å¯ä»¥é‡ç½®æ•ˆæœï¼Œè¿™é‡Œè®°ä¸‹ç¬”è®°ï¼š 12345678910111213141516171819select &#123; /*ç§»é™¤æµè§ˆå™¨é»˜è®¤ç‰¹æ®Šæ ·å¼*/ appearance: none; -moz-appearance: none; -webkit-appearance: none; -ms-appearance: none; /*ç§»é™¤è½®å»“æ ·å¼*/ outline: none; /*ç§»é™¤ç‚¹å‡»å…ƒç´ æ—¶å‡ºç°çš„é«˜äº®é¢œè‰²*/ -webkit-tap-highlight-color: #fff; border: rem(1) solid #EBEBEB; border: none; width: rem(100); height: rem(50); line-height: rem(50); /*è®¾ç½®ä¸€ä¸ªå—å…ƒç´ é¦–è¡Œæ–‡æœ¬å†…å®¹ä¹‹å‰çš„ç¼©è¿›é‡ï¼Œé˜²æ­¢ç´§ç´§é åœ¨è¾¹ä¸Š*/ text-indent: rem(4); background-color: transparent;&#125; é€‰ä¸­é¡¹å³å¯¹é½1234select &#123; direction: rtl;&#125;/* é»˜è®¤å·¦å¯¹é½å±æ€§å€¼ä¸º ltr */ selecté»˜è®¤é€‰ä¸­é¡¹åŸç”Ÿ123456789101112131415161718&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;body&gt; &lt;select name="framework" id="framework"&gt; &lt;option value="vue"&gt;VueJS&lt;/option&gt; &lt;option value="react" selected&gt;ReactJS&lt;/option&gt; &lt;option value="angular"&gt;AngularJS&lt;/option&gt; &lt;option value="jquery"&gt;jQuery&lt;/option&gt; &lt;/select&gt; &lt;script&gt; document.querySelector('#framework').addEventListener('change', function (e) &#123; console.log(e.target.value); &#125;); &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; vue template 1234567&lt;template&gt; &lt;div&gt; &lt;select v-model="selected" @change="selectChange" class="select"&gt; &lt;option v-for="(search, key) in searchList" :key="key" :value="search.id"&gt;&#123;&#123;search.name&#125;&#125;&lt;/option&gt; &lt;/select&gt; &lt;/div&gt;&lt;/template&gt; js 12345678910111213141516data()&#123; return&#123; searchList:[ &#123; id:'1',name:'ä¸­å›½' &#125;, &#123; id:'2',name:'ç¾å›½' &#125;, &#123; id:'3',name:'æ—¥æœ¬' &#125;, ], selected:'2' &#125;&#125; åœ¨å†™ vue select çš„æ—¶å€™åº”æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š v-model æ˜¯select çš„æŒ‡å®šæ˜¾ç¤ºæ–‡æœ¬ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå½“é€‰ä¸­ option ä¸­çš„å†…å®¹æ—¶ select æ ‡ç­¾å°†ä¸ä¼šæ˜¾ç¤ºå‡ºæ–‡æœ¬ã€‚ @change åº”å°½é‡å†™åœ¨ select æ ‡ç­¾ä¸Šã€‚ onchange äº‹ä»¶è·å–é€‰ä¸­é¡¹çš„ value å’Œ text123456789101112131415161718192021222324252627282930313233&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt; &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt; &lt;title&gt;Document&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;div class="num"&gt; &lt;select id="xuanze"&gt; &lt;option value="10"&gt;10&lt;/option&gt; &lt;option value="15"&gt;15&lt;/option&gt; &lt;option value="20"&gt;20&lt;/option&gt; &lt;option value="25"&gt;25&lt;/option&gt; &lt;option value="30"&gt;30&lt;/option&gt; &lt;option value="35"&gt;35&lt;/option&gt; &lt;option value="40"&gt;40&lt;/option&gt; &lt;/select&gt; &lt;/div&gt; &lt;script type="text/javascript"&gt; window.onload = function() &#123; var obj = document.getElementById('xuanze'); //å®šä½id obj.addEventListener('change', () =&gt; &#123; var index = obj.selectedIndex; // é€‰ä¸­ç´¢å¼• var value = obj.options[index].value; // é€‰ä¸­å€¼ var text = obj.options[index].text; // é€‰ä¸­å±•ç¤ºçš„æ–‡å­— console.log(index, value); &#125;) &#125; &lt;/script&gt;&lt;/body&gt;&lt;/html&gt;]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>æŠ€å·§</tag>
        <tag>ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç§»åŠ¨ç«¯inputç±»å‹ä¸ºdateçš„placeholderä¸æ˜¾ç¤º]]></title>
    <url>%2Fposts%2F23431%2F</url>
    <content type="text"><![CDATA[èµ·å› åœ¨ç§»åŠ¨ç«¯é¡¹ç›®å¼€å‘ä¸­ï¼ŒDatetimePickerï¼ˆæ—¶é—´é€‰æ‹©å™¨ï¼‰ ç»„ä»¶æ˜¯éå¸¸å¸¸ç”¨çš„ï¼Œå¹¶ä¸”å¸‚é¢ä¸Šå„å¤§ç§»åŠ¨ç«¯UIæ¡†æ¶ä¹Ÿéƒ½å¸®æˆ‘ä»¬å°è£…äº†ï¼Œç„¶è€Œç»å¤§éƒ¨åˆ†æ¡†æ¶å°è£…çš„è¯¥ç»„ä»¶éƒ½æ˜¯ä»åº•éƒ¨å¼¹å‡ºå¼æ»šåŠ¨é€‰æ‹©çš„ï¼ˆAndroid å’Œ iOS çœŸæœºä¸Šéƒ½å¦‚æ­¤ï¼‰ï¼Œä¾‹å¦‚ä¸‹é¢å½¢å¼ï¼š ç„¶è€Œè¿™ä»…é’ˆå¯¹ iOS ç”¨æˆ·å‹å¥½ï¼Œä½†å¯¹äºç”¨æƒ¯äº† Android æ‰‹æœºçš„ç”¨æˆ·æ¥è¯´ï¼Œä¸‹é¢å½¢å¼çš„æ—¶é—´é€‰æ‹©æ‰æ˜¯ä»–ä»¬ç†Ÿæ‚‰çš„å½¢å¼ï¼š æ‰€ä»¥å¾€å¾€æˆ‘ä»¬ä¼šæ”¾å¼ƒæ‰æ¡†æ¶å¸®æˆ‘ä»¬å°è£…å¥½çš„ç»„ä»¶ï¼Œè‡ªå·±ç”¨åŸå§‹ input[type=date] å®ç°ä¸€ä¸ªæˆ–è€…å€ŸåŠ©å…¶ä»–åŸºäºåŸå§‹ input æ ‡ç­¾å°è£…çš„æ—¶é—´é€‰æ‹©å™¨ã€‚è¿™é‡Œé¡ºå¸¦æä¸€ä¸ªæˆ‘æ„Ÿè§‰ç”¨èµ·æ¥è¿˜ä¸é”™çš„åº“ï¼šflatpickrï¼Œgithubåœ°å€ä¸ºï¼šflatpickr/flatpickr ã€‚ æˆ‘åœ¨é¡¹ç›®ä¸­å°±ä½¿ç”¨åˆ°äº†è¿™ä¸ªåº“ï¼Œç„¶è€Œåœ¨å¼€å‘ä¸­é‡åˆ°äº†ä¸€ä¸ªå°é—®é¢˜ï¼Œè®¾è®¡ç¨¿ä¸Šè¦æ±‚ï¼Œæˆ‘ä»¬çš„æ—¶é—´é€‰æ‹©å™¨ç»„ä»¶é»˜è®¤æƒ…å†µä¸‹æ˜¾ç¤ºä¸€æ®µ placeholder ï¼Œç„¶è€Œåœ¨çœŸæœºä¸Šæˆ‘å‘ç°ï¼Œæ— è®º iOS è¿˜æ˜¯ Android ä¸‹ï¼Œinput å§‹ç»ˆä¸ºç©ºï¼Œè®¾ç½®çš„ placeholder æ— æ•ˆã€‚åŸæœ¬æˆ‘ä»¥ä¸ºè¿™æ˜¯ flatpickr åšäº†æ‰‹è„šï¼Œç®€å•æŸ¥çœ‹äº†æºç åå‘ç°å¹¶ä¸æ˜¯å®ƒçš„é”…ã€‚æœ€å Google åæ‰çŸ¥é“ï¼Œè¿™å°±æ˜¯ input[type=date] å…ƒç´ åœ¨æ‰‹æœºç«¯ä¸Šçš„ä¸€ä¸ª feature ï¼Œä¸è¿‡æˆ‘æ„Ÿè§‰å°±æ˜¯ä¸ª bug ï¼Œæˆ‘è®¾ç½®äº†ä½ å‡­ä»€ä¹ˆä¸ç»™æˆ‘æ˜¾ç¤ºï¼Ÿã€‚ è§£å†³æ–¹æ¡ˆå‰é¢é“ºå«äº†è¿™ä¹ˆå¤šï¼Œå…¶å®è§£å†³æ–¹æ¡ˆæ¶‰åŠåˆ°çš„ä»£ç é‡å¹¶ä¸å¤šï¼ŒåŸç†å°±æ˜¯ä½¿ç”¨ css ä¼ªç±»ç»™ input[type=date] è®¾ç½®é»˜è®¤ content ä¸º placeholder ï¼Œå†è®¾ç½® input çŠ¶æ€ä¸º focus æ—¶ç§»é™¤è¿™ä¸ª placeholder å±æ€§ï¼Œæœ€ååœ¨è§¦å‘ blur æ—¶æŠŠ placeholder æ·»åŠ å›æ¥ã€‚å…·ä½“ä»£ç å¦‚ä¸‹ï¼š html 1&lt;input class="text-date" type="date" placeholder="è¯·é€‰æ‹©æ—¥æœŸ"&gt; css 1234input[type="date"]:before &#123; content: attr(placeholder); color: #ccc;&#125; js 12345678$('text-date').focus(function() &#123; $(this).removeAttr('placeholder');&#125;);$('text-date').blur(function() &#123; if (this.value === '') &#123; $(this).attr('placeholder', 'è¯·é€‰æ‹©æ—¥æœŸ'); &#125;&#125;)]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>å…¼å®¹æ€§</tag>
        <tag>ç§»åŠ¨ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨you-getä¸‹è½½ç½‘ç«™è§†é¢‘]]></title>
    <url>%2Fposts%2F21487%2F</url>
    <content type="text"><![CDATA[ä»‹ç»you-get æ˜¯ GitHub ä¸Šçš„ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬ä¸‹è½½å¤§å¤šä¸»æµç½‘ç«™ä¸Šçš„è§†é¢‘ã€å›¾ç‰‡åŠéŸ³é¢‘ã€‚ GitHub Repo åœ°å€ï¼š soimort/you-get èµ·å› æœ‰æ—¶å€™å¸Œæœ›èƒ½åœ¨ B ç«™ä¸‹è½½åœ¨çº¿è§†é¢‘åˆ°æœ¬åœ°ï¼Œç„¶è€Œ B ç«™åªæ”¯æŒåœ¨æ‰‹æœºç«¯ç¼“å­˜ã€‚æ‰€ä»¥ Google äº†ä¸‹å‘ç°äº†ä¸€ä¸ªæ’ä»¶ï¼šã€Œbilibiliå“”å“©å“”å“©ä¸‹è½½åŠ©æ‰‹ã€ï¼ˆç‚¹å‡»å·¦ä¾§é“¾æ¥åœ¨googleåº”ç”¨å•†åº—ç›´æ¥ä¸‹è½½ï¼‰ï¼Œä¸‹è½½å®Œæˆåæ‰“å¼€ä½ è¦ä¸‹è½½çš„ Bç«™ è§†é¢‘é“¾æ¥ï¼Œå³ä¸‹è§’å°±ä¼šå‡ºç°ä¸€ä¸ªæŒ‰é’®ï¼š ç‚¹å‡»åå°±å¼¹å‡ºä¸‹è½½è¯¦æƒ…ï¼Œç›´æ¥æŒ‰ä¸‹å›¾é…ç½®ç‚¹å‡»åˆå¹¶ä¸‹è½½å³å¯ï¼š æ‰¯è¿œäº†ï¼Œå…¶å®åˆ°ç›®å‰ä¸ºæ­¢ä¸€åˆ‡éƒ½éå¸¸é¡ºåˆ©ï¼Œä½†è¿™ä¸ªåŠ©æ‰‹æ’ä»¶æœ‰ä¸ªé—®é¢˜å°±æ˜¯æœ‰æ—¶å€™ä¸‹è½½ç‰¹åˆ«å¿«æœ‰æ—¶å€™åˆç‰¹åˆ«æ…¢ï¼Œæ…¢èµ·æ¥ä¸€ä¸ª200Mè§†é¢‘è¦ä¸‹è½½1ä¸¤ä¸ªå°æ—¶ã€‚æ‰€ä»¥æˆ‘åˆå¼€å§‹äº†æ‰¾å·¥å…·å¾ç¨‹ã€‚æœ€åå°±å‘ç°äº†ä»Šå¤©çš„ä¸»è§’â€”â€”â€”â€”ã€Œyou-getã€ã€‚ å®‰è£…é¦–å…ˆä½ éœ€è¦å®‰è£… python3 æœ€æ–°ç‰ˆã€‚ï¼ˆæ²¡æœ‰ python çš„éœ€è¦å‰å¾€ python å®˜æ–¹æŒ‰ç…§æ•™ç¨‹ä¸‹è½½ï¼‰ã€‚ ç„¶ååœ¨æœ¬åœ°å®‰è£… you-getï¼š Windows ç”¨æˆ·æŒ‰ä½é”®ç›˜ã€Œwin+Rã€æ‰“å¼€è¿è¡Œçª—å£ï¼Œè¾“å…¥ cmd ç‚¹ç¡®å®šï¼Œç„¶åé”®å…¥å¦‚ä¸‹å‘½åï¼š 123pip3 install you-getpip3 install --upgrade you-getpython -m pip install --upgrade pip æ‰§è¡Œå®Œä¸Šé¢ä¸‰æ­¥å¹¶æ²¡æœ‰æŠ¥é”™å°±ä»£è¡¨å®‰è£…æˆåŠŸäº†ã€‚ Mac ç”¨æˆ·macè¿™è¾¹æ›´ç®€å•ï¼Œå¿«æ·é”®ã€ŒCtrl+ç©ºæ ¼ã€è¾“å…¥ Terminal å›è½¦å¯åŠ¨ï¼Œé”®å…¥ä¸‹æ–¹å‘½åï¼ˆå’Œ Windows ä¸€æ ·ï¼Œå‰ææ˜¯å®‰è£…æœ€æ–°ç‰ˆ python3.7+ ï¼‰ï¼š 1pip3 install you-get ä½¿ç”¨å®‰è£…å®Œæˆåå’±ä»¬å°±èƒ½æ„‰å¿«çš„ä¸‹è½½è§†é¢‘äº†ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š 1you-get https://www.bilibili.com/video/av8106130?p=2 ä¸‹è½½ç›®å½•è§†é¢‘ä¸‹è½½åå­˜å‚¨åœ¨æœ¬åœ°çš„åœ°å€å°±æ˜¯ä½ æ‰§è¡Œä¸‹è½½å‘½åæ—¶æ‰€åœ¨çš„ç›®å½•ã€‚]]></content>
      <categories>
        <category>æ•ˆç‡</category>
        <category>å·¥å…·</category>
      </categories>
      <tags>
        <tag>you-get</tag>
        <tag>ä¸‹è½½</tag>
        <tag>å·¥å…·</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¾®ä¿¡å°ç¨‹åºcanvasç»˜åˆ¶çš„å›¾ç‰‡çœŸæœºä¸æ˜¾ç¤º]]></title>
    <url>%2Fposts%2F13054%2F</url>
    <content type="text"><![CDATA[é—®é¢˜æè¿°å…¬å¸å°ç¨‹åºé¡¹ç›®æœ‰ä¸ªé¡µé¢éœ€è¦ç”¨ canvas ç»˜åˆ¶å›¾ç‰‡ä¿å­˜ï¼Œå…¶ä¸­å›¾ç‰‡èµ„æºæ˜¯ä»åç«¯è·å–çš„ç½‘ç»œå›¾ç‰‡ã€‚ç„¶è€Œåœ¨æµ‹è¯•ä¸­å‘ç°ï¼Œæ¨¡æ‹Ÿå™¨ä¸Šå›¾ç‰‡èƒ½æ­£å¸¸ç»˜åˆ¶ï¼Œä½†çœŸæœºåªæœ‰å¼€äº†è°ƒè¯•æ¨¡å¼æ‰èƒ½æ˜¾ç¤ºå›¾ç‰‡ï¼Œä¸€æ—¦å…³é—­è°ƒè¯•æ¨¡å¼åï¼Œcanvaså°±ç©ºç™½ä¸€ç‰‡ï¼Œå•¥éƒ½çœ‹ä¸è§ã€‚ è¸©å‘ä¸€å¼€å§‹ç®€å• google ä¸‹ï¼Œéƒ½è¯´æ˜¯å› ä¸ºå›¾ç‰‡å¾—ä¸‹è½½åˆ°æœ¬åœ°ï¼Œè·å–ä¸´æ—¶è·¯å¾„åæ‰èƒ½ç»˜åˆ¶ã€‚ç„¶è€Œæˆ‘å°±æ˜¯è¿™ä¹ˆåšçš„ï¼Œæ‰€ä»¥æ­¤è·¯ä¸é€šã€‚æœ€åé˜…è¯» è¿™ç¯‡æ–‡ç«  åæ‰æ˜ç™½é—®é¢˜å‡ºåœ¨å“ªå„¿ã€‚ è§£å†³æ–¹æ¡ˆé¦–å…ˆæ£€æŸ¥ä½ çš„ç½‘ç»œå›¾ç‰‡åœ°å€çš„åŸŸååœ¨ä¸åœ¨å¾®ä¿¡ç™½åå•å†…ï¼Œè¿™ä¸ªå¯ä»¥åœ¨ã€Œå¾®ä¿¡å…¬ä¼—å¹³å°-å°ç¨‹åºã€ä¸­é…ç½®ï¼Œæ­¤å¤„ä¸è¡¨ã€‚é‡ç‚¹æ˜¯åœ¨ç»˜åˆ¶ canvas æ—¶ï¼Œå¾—å…ˆä¸‹è½½è¿™å¼ ç½‘ç»œå›¾ç‰‡åˆ°æœ¬åœ°ï¼Œæ‰€ä»¥è¿˜å¾—åœ¨ã€Œå¾®ä¿¡å…¬ä¼—å¹³å°-å°ç¨‹åºã€ä¸­çš„ã€ŒæœåŠ¡å™¨é…ç½®-downloadFileã€åˆæ³•åŸŸåä¸­é…ç½®ä½ ç½‘ç»œå›¾ç‰‡çš„åŸŸåï¼š å®Œâ€¦]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>æ¡†æ¶</category>
      </categories>
      <tags>
        <tag>uni-app</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Webpack4-Shimming(å«ç‰‡)]]></title>
    <url>%2Fposts%2F29270%2F</url>
    <content type="text"><![CDATA[å…ˆä¸¾ä¸ªæ —å­ğŸŒ°å‡è®¾æˆ‘ä»¬ä¸€ä¸ªç”¨ webpack æ‰“åŒ…çš„é¡¹ç›®æœ‰ä»¥ä¸‹åœºæ™¯ index.js 12345678import $ from 'jquery';import &#123; initUI &#125; from 'ui.js';const $div = $('&lt;div&gt;&lt;/div&gt;');$div.html('hello world!');$('body').append($div);initUI(); ui.js 123export function initUI() &#123; $('body').css('background', 'green');&#125; æ­¤æ—¶æˆ‘ä»¬ç›´æ¥æ‰“åŒ…ä»£ç æ˜¯ä¸èƒ½æ‰§è¡Œçš„ï¼Œå› ä¸º ui.js ä¸­æ²¡æœ‰å¼•å…¥ jqueryï¼Œæ‰€ä»¥ä¸èƒ½ä½¿ç”¨ $ ã€‚ æŒ‰ç…§æ­£å¸¸æ€è·¯æˆ‘ä»¬ä¼šæƒ³ï¼Œä¸æ˜¯åœ¨ index.js ä¸­ä¸€å¼€å§‹å°±å¼•å…¥äº† jquery ä¹ˆï¼Ÿä¸ºä»€ä¹ˆè¿˜ä¼šæŠ¥é”™ï¼Ÿè¿™æ˜¯å› ä¸º webpack æ˜¯åŸºäºæ¨¡å—æ‰“åŒ…çš„ï¼Œå½“å‰æ¨¡å—ä¸‹çš„å˜é‡åªèƒ½åœ¨å½“å‰æ–‡ä»¶ä¸­èµ·ä½œç”¨ã€‚æ‰€ä»¥å¼•å…¥çš„å…¶ä»–æ¨¡å—ä¸­å¦‚æœä¹Ÿä½¿ç”¨äº†è¿™ä¸ªå˜é‡å°±å¤±æ•ˆäº†ã€‚ è¿™ç§é—®é¢˜åœºæ™¯å…¶å®è¿˜ä¸æ­¢æ˜¯æœ¬åœ°æ–‡ä»¶ï¼Œæœ‰å¯èƒ½ç¬¬ä¸‰æ–¹åº“ä¸­ä¹Ÿå¼•ç”¨äº†jqueryï¼Œä½†æ˜¯æˆ‘ä»¬ç›´æ¥å»æ”¹åº“çš„ä»£ç æ˜¯ä¸å¤ªç°å®çš„ã€‚æ­¤æ—¶ï¼Œå°±å¯ä»¥ç”¨shimmingï¼ˆå«ç‰‡ï¼‰æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ å¦‚ä½•ä½¿ç”¨å«ç‰‡æ’ä»¶é¦–å…ˆè¦å¼•å…¥webpackæ¨¡å—ï¼Œç„¶åé…ç½®æ’ä»¶ webpack.config.js 123456789const webpack = require('webpack');...plugins: [ new webpack.ProvidePlugin(&#123; $: 'jquery' &#125;)] å½“æˆ‘ä»¬åŠ ä¸Šè¿™æ®µä»£ç åï¼Œæ¨¡å—åœ¨æ‰“åŒ…çš„æ—¶å€™ï¼Œå‘ç°ä½ ä½¿ç”¨äº† $ å°±ä¼šåœ¨ä½ æ¨¡å—é¡¶éƒ¨è‡ªåŠ¨åŠ å…¥ import $ from &#39;jquery&#39; ã€‚ å®˜æ–¹æ–‡æ¡£ ProvidePluginï¼ˆå®˜ç½‘ï¼‰ ProvidePluginï¼ˆä¸­æ–‡ï¼‰]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>æ„å»ºå·¥å…·</category>
      </categories>
      <tags>
        <tag>webpack</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Tree-Shakingæ€§èƒ½ä¼˜åŒ–å®è·µ(ç¬”è®°)]]></title>
    <url>%2Fposts%2F64509%2F</url>
    <content type="text"><![CDATA[ä½•ä¸º Tree-Shaking Tree shaking æ˜¯ä¸€ä¸ªé€šå¸¸ç”¨äºæè¿°ç§»é™¤ JavaScript ä¸Šä¸‹æ–‡ä¸­çš„æœªå¼•ç”¨ä»£ç (dead-code) è¡Œä¸ºçš„æœ¯è¯­ã€‚ å®ƒä¾èµ–äºES2015ä¸­çš„ import å’Œ export è¯­å¥ï¼Œç”¨æ¥æ£€æµ‹ä»£ç æ¨¡å—æ˜¯å¦è¢«å¯¼å‡ºã€å¯¼å…¥ï¼Œä¸”è¢« JavaScript æ–‡ä»¶ä½¿ç”¨ã€‚ åœ¨ç°ä»£ JavaScript åº”ç”¨ç¨‹åºä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨æ¨¡å—æ‰“åŒ…(å¦‚webpackæˆ–Rollup)å°†å¤šä¸ª JavaScript æ–‡ä»¶æ‰“åŒ…ä¸ºå•ä¸ªæ–‡ä»¶æ—¶è‡ªåŠ¨åˆ é™¤æœªå¼•ç”¨çš„ä»£ç ã€‚è¿™å¯¹äºå‡†å¤‡é¢„å¤‡å‘å¸ƒä»£ç çš„å·¥ä½œéå¸¸é‡è¦ï¼Œè¿™æ ·å¯ä»¥ä½¿æœ€ç»ˆæ–‡ä»¶å…·æœ‰ç®€æ´çš„ç»“æ„å’Œæœ€å°åŒ–å¤§å°ã€‚ â€”â€”&gt; æ¥è‡ª MDN Tree-Shakingæ€§èƒ½ä¼˜åŒ–å®è·µ - åŸç†ç¯‡é“¾æ¥ï¼šæ˜é‡‘ - ç™¾åº¦å¤–å–å¤§å‰ç«¯æŠ€æœ¯å›¢é˜Ÿ æ‘‡æ ‘ä¼˜åŒ–å®æˆ˜é“¾æ¥ï¼šwebpack4.29.xæˆç¥ä¹‹è·¯ï¼ˆåä¸‰ï¼‰ æ‘‡æ ‘ä¼˜åŒ–(tree shaking)]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>æ„å»ºå·¥å…·</category>
      </categories>
      <tags>
        <tag>è½¬è½½</tag>
        <tag>webpack</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Uni-appè¸©å‘æ—¥å¸¸]]></title>
    <url>%2Fposts%2F34936%2F</url>
    <content type="text"><![CDATA[å›¾ç‰‡è·¯å¾„é—®é¢˜åœ¨ .vue æ–‡ä»¶ä¸­ä½¿ç”¨æœ¬åœ°å›¾ç‰‡å¯ä»¥ç”¨ç»å¯¹è·¯å¾„æˆ–è€…ç›¸å¯¹è·¯å¾„ï¼š 123&lt;image src="/static/images/logo.png"&gt;&lt;/image&gt;&lt;!-- or --&gt;&lt;image src="../../static/images/logo.png"&gt;&lt;/image&gt; åœ¨ .css æ ·å¼æ–‡ä»¶ä¸­background å±æ€§ä¸­ï¼Œå¾—ä½¿ç”¨ä¸‹é¢å†™æ³•å¼•å…¥æœ¬åœ°å›¾ç‰‡ï¼š 1background: url('~@/static/images.logo.png'); å¦åˆ™å›¾ç‰‡æ— æ³•è¢«æ­£ç¡®åŠ è½½ã€‚ è‡ªå®šä¹‰ç»„ä»¶ image çš„ src è·¯å¾„è‡ªå®šä¹‰ç»„ä»¶é‡Œé¢ä½¿ç”¨ &lt;image&gt;æ—¶ï¼Œè‹¥ src ä½¿ç”¨ç›¸å¯¹è·¯å¾„å¯èƒ½å‡ºç°è·¯å¾„æŸ¥æ‰¾å¤±è´¥çš„æƒ…å†µï¼Œæ•…å»ºè®®ä½¿ç”¨ç»å¯¹è·¯å¾„ã€‚ â€”â€” uni-app æ–‡æ¡£ image ç»„ä»¶ é”™è¯¯ç¤ºèŒƒ âŒ 123&lt;image src="../../static/icos/star-yellow.png"&gt;&lt;/image&gt; æ­£ç¡®ç¤ºèŒƒ âœ… 123&lt;image src="/static/icos/star-yellow.png"&gt;&lt;/image&gt; Vueé—®é¢˜v-show åœ¨å°ç¨‹åºä¸Šä¸èµ·ä½œç”¨åœºæ™¯å†ç° å¸Œæœ›é€šè¿‡ç‚¹å‡»æŒ‰é’®æ¥åˆ‡æ¢ä¸‰è¡Œæ–‡å­—çš„æ˜¾ç¤ºéšè—ï¼š ä»£ç éå¸¸ç®€å•ï¼Œä½†æœ‰ä¸¤ä¸ªæ¡ä»¶ï¼š style æ ‡ç­¾æ·»åŠ ä¸Š scoped è£…å¡«æ–‡å­—çš„å®¹å™¨æœ‰è‡ªå·±çš„ display å±æ€§ åœ¨æ­¤ç§æƒ…å†µä¸‹ï¼ŒH5çš„æ•ˆæœå’Œé¢„æœŸä¸€æ ·ï¼Œç‚¹å‡»åä¸‰è¡Œæ–‡å­—éƒ½æ¶ˆå¤±ï¼Œå†æ¬¡ç‚¹å‡»ä¸‰è¡Œæ–‡å­—éƒ½æ˜¾ç¤ºï¼Œå¦‚æ­¤å¾€å¤ã€‚ ä½†åœ¨å¾®ä¿¡å°ç¨‹åºä¸­ç¬¬ä¸€è¡Œæ–‡å­—å§‹ç»ˆæ— æ³•æ¶ˆå¤±ã€‚ é—®é¢˜æ‰€åœ¨ åœ¨å°ç¨‹åºä¸­ï¼Œ .item.data-v-xxx çš„æ ·å¼è¦†ç›–æ‰äº† view[hidden] çš„æ ·å¼ï¼š æ‰€ä»¥æœ¬åº”è¯¥é»˜è®¤ä¸æ˜¾ç¤ºçš„ç¬¬ä¸€è¡Œæ–‡å­—æ˜¾ç¤ºäº†ã€‚ è€Œåœ¨ H5 ä¸Šï¼Œuni-app çš„åšæ³•æ˜¯ç»™å½“å‰æ ‡ç­¾æ·»åŠ ä¸Šè¡Œå†…æ ·å¼çš„ display: noneï¼Œä¼˜å…ˆçº§æœ€é«˜ï¼š 123&lt;view v-show="show"&gt; &lt;view class="item"&gt;è°ç‰¹ä¹ˆä¹°å°ç±³ï¼Ÿï¼&lt;/view&gt;&lt;/view&gt; è§£å†³åŠæ³• åœ¨å¤–å±‚åŒ…è£¹ä¸€ä¸ªdivï¼Œåœ¨ä¸Šé¢è®¾ç½® v-show æ¥æ§åˆ¶å…ƒç´ çš„éšè—å’Œæ˜¾ç¤ºï¼š ç»„ä»¶ç›¸å…³uni-icon h5ç«¯ä¸æ˜¾ç¤ºåœ¨é¡¹ç›®ä¸­ä½¿ç”¨ uni-app å®˜æ–¹æä¾›çš„ uniIcon ç»„ä»¶æ—¶ï¼Œè¦æ³¨æ„ç°æœ‰é¡¹ç›®ä¸­ä½¿ç”¨çš„æ˜¯ uni-icon.vue è¿˜æ˜¯ uni-icons.vue ï¼Œå‰è€…æ˜¯æ—§ç‰ˆç»„ä»¶ï¼Œåè€…æ˜¯æ–°ç‰ˆï¼Œå¤šäº†ä¸ª s åç¼€ã€‚ å¦‚æœä½¿ç”¨çš„å‰è€…ï¼Œæ³¨æ„åœ¨é¡µé¢ä¸­å¯¼å…¥ uni-icon æ—¶ä¸è¦èµ·åä¸º uniIcon ï¼š 1âŒimport uniIcon from '@/components/uni-icon/uni-icon.vue' è¿™æ ·ä¼šå¯¼è‡´ H5 ç«¯æ— æ³•æ˜¾ç¤ºè¯¥å›¾æ ‡ã€‚è§£å†³åŠæ³•æ˜¯èµ·ä¸ªåˆ«åï¼Œä¾‹å¦‚ï¼š 1âœ…import swIcon from '@/components/uni-icon/uni-icon.vue' å¦‚æœä½¿ç”¨çš„åè€…ï¼Œè¦æ³¨æ„ä½¿ç”¨ snippet æ™ºèƒ½æç¤ºåï¼Œè‡ªåŠ¨ç”Ÿæˆçš„ä»£ç  &lt;uni-icon type=&quot;&quot;&gt;&lt;/uni-icon&gt; æ˜¯æœ‰é”™è¯¯çš„ï¼Œæ ‡ç­¾åæœ€åå°‘äº†ä¸ª s ï¼Œæ­£ç¡®å†™æ³•æ˜¯ï¼š 1âœ…&lt;uni-icons class="apply" type="plusempty" size="20"&gt;&lt;/uni-icons&gt; ä¸‰ç§æƒ…å†µæ¯”è¾ƒï¼š 123&lt;uni-icon type="plusempty" size="20"&gt;&lt;/uni-icon&gt;&lt;sw-icon type="plusempty" size="20"&gt;&lt;/sw-icon&gt;&lt;uni-icons type="plusempty" size="20"&gt;&lt;/uni-icons&gt; 123import uniIcon from '@/components/uni-icon/uni-icon.vue'import swIcon from '@/components/uni-icon/uni-icon.vue'import uniIcons from '@/components/uni-icons/uni-icons.vue' æ’ä»¶åœ°å€ï¼š https://ext.dcloud.net.cn/plugin?id=28 è‡ªå®šä¹‰modalå¼¹çª—uni-app è‡ªå¸¦çš„ uni.showModal APIçš„ä¸»ä½“å†…å®¹ä¸æ”¯æŒæ·»åŠ æ ‡ç­¾ï¼Œåªèƒ½æ·»åŠ æ–‡å­—ï¼š å¦‚æœéœ€è¦åœ¨å¼¹çª—ä¸­æ˜¾ç¤ºä¸€ä¸ª input æ§ä»¶æˆ–å…¶ä»–å…ƒç´ å°±æ— èƒ½ä¸ºåŠ›äº†ã€‚ è§£å†³åŠæ³• åœ¨æ’ä»¶å¸‚åœºæ‰¾åˆ°äº†ä¸€æ¬¾è‡ªå®šä¹‰ modal ç»„ä»¶ï¼š æ–‡æ¡£ï¼šhttps://ext.dcloud.net.cn/plugin?id=134 æ¡†æ¶ç›¸å…³classæ•°ç»„å¯¹è±¡å½¢å¼ç»‘å®šéH5ç«¯ä¸æ”¯æŒVueå®˜æ–¹æ–‡æ¡£ï¼šClass ä¸ Style ç»‘å®šä¸­çš„classObjectå’ŒstyleObjectè¯­æ³•ã€‚ â€”â€” uni-app æ–‡æ¡£ H5 WXå°ç¨‹åº showToast ä¸æ”¯æŒç½‘ç»œå›¾ç‰‡çš„ icon å®˜æ–¹æ–‡æ¡£ä¸­æœ‰è¿™æ ·ä¸€æ®µè¯´æ˜ï¼š ç¤ºä¾‹ 12345uni.showToast(&#123; title: 'æ ‡é¢˜', duration: 2000, image: '/static/images/success.png',&#125;); tabBarç›¸å…³è‡ªå®šä¹‰pickeræ— æ³•é®æŒ¡ tabBartabBar çš„å±‚çº§æ¯”è‡ªå®šä¹‰ç»„ä»¶éƒ½é«˜ï¼Œè¿™å¯¼è‡´ä¸€åˆ‡è‡ªå®šä¹‰ç»„ä»¶éƒ½ä¼šè¢« tabBar é®æŒ¡ï¼š å¦‚æœä¸å¸Œæœ› tabBar é®æŒ¡è‡ªå®šä¹‰ç»„ä»¶ï¼Œå¯ä»¥åœ¨ç°å®è‡ªå®šä¹‰ç»„ä»¶æ—¶ï¼Œæ‰‹åŠ¨è°ƒç”¨ä¸‹é¢æ–¹æ³•éšè— tabBar ï¼Œæœ€ååœ¨ä½¿ç”¨å®Œè‡ªå®šä¹‰ç»„ä»¶åï¼Œå°†å…¶é‡æ–°æ˜¾ç¤ºï¼š 1234// æ‰‹åŠ¨éšè—uni.hideTabBar(OBJECT)// æ‰‹åŠ¨æ˜¾ç¤ºuni.showTabBar(OBJECT) H5åº•éƒ¨å›ºå®šviewè¢« tabBar é®æŒ¡ç”±äºåœ¨H5ç«¯ï¼Œä¸å­˜åœ¨åŸç”Ÿå¯¼èˆªæ å’ŒtabBarï¼Œä¹Ÿæ˜¯å‰ç«¯divæ¨¡æ‹Ÿã€‚å¦‚æœè®¾ç½®äº†ä¸€ä¸ªå›ºå®šä½ç½®çš„å±…åº•viewï¼Œåœ¨å°ç¨‹åºå’ŒAppç«¯æ˜¯åœ¨tabBarä¸Šæ–¹ï¼Œä½†åœ¨H5ç«¯ä¼šä¸tabBaré‡å ã€‚æ­¤æ—¶å¯ä½¿ç”¨--window-bottomï¼Œä¸ç®¡åœ¨å“ªä¸ªç«¯ï¼Œéƒ½æ˜¯å›ºå®šåœ¨tabBarä¸Šæ–¹ã€‚ 1bottom: calc(var(--window-bottom) + 20px);]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>æ¡†æ¶</category>
      </categories>
      <tags>
        <tag>uni-app</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[vueåˆ©ç”¨provide+injectå®ç°é¡µé¢é‡æ–°æ¸²æŸ“]]></title>
    <url>%2Fposts%2F57665%2F</url>
    <content type="text"><![CDATA[åœ¨vueä¸­æœ‰æ—¶vuexæˆ–è€…computedçš„æ•°æ®æ”¹å˜åæ•°æ®å¹¶ä¸ä¼šè¿›è¡Œé‡æ–°æ¸²æŸ“ï¼Œåªæœ‰åˆ·æ–°åæ•°æ®æ‰ä¼šé‡æ–°åŠ è½½ï¼Œ ä½†å¦‚æœä¸ºäº†è®©é¡µé¢é‡æ–°åŠ è½½è€Œé‡‡ç”¨window.reload()æˆ–è€…router.go(0)è¿›è¡Œåˆ·æ–°é‚£åŠ è½½æ…¢é—ªçƒç™½å±ç­‰é—®é¢˜ä¼šè®©å®¢æˆ·ä½“éªŒåŠå…¶ä¸å¥½ è¿™æ—¶å°±å¯ä»¥è¿›è¡Œå±€éƒ¨åˆ·æ–°ï¼ŒåŸç†æ˜¯ä½¿ç”¨provide+injectçš„ç»„åˆæ¥æ§åˆ¶router-viewçš„æ˜¾ç¤ºæ¶ˆå¤±å®Œæˆ provide+injectè¿™å¯¹é€‰é¡¹éœ€è¦ä¸€èµ·ä½¿ç”¨ï¼Œä»¥å…è®¸ä¸€ä¸ªç¥–å…ˆç»„ä»¶å‘å…¶æ‰€æœ‰å­å­™åä»£æ³¨å…¥ä¸€ä¸ªä¾èµ–ï¼Œä¸è®ºç»„ä»¶å±‚æ¬¡æœ‰å¤šæ·±ï¼Œå¹¶åœ¨èµ·ä¸Šä¸‹æ¸¸å…³ç³»æˆç«‹çš„æ—¶é—´é‡Œå§‹ç»ˆç”Ÿæ•ˆ åœ¨app.vueä¸­æ³¨å†Œå‡½æ•°reloadå¯¹å±æ€§isRouterAliveè¿›è¡Œå¼€å…³æ“ä½œ ç„¶ååœ¨éœ€è¦ä½¿ç”¨çš„ç»„ä»¶ä¸­æ³¨å…¥æ–¹æ³•ç›´æ¥ this.reload()ä½¿ç”¨å³å¯ è¡¥å……ï¼šåœ¨reloadä¸­çš„this.$nextTick()æ˜¯å°†å›è°ƒå»¶è¿Ÿåˆ°ä¸‹æ¬¡DOM æ›´æ–°å¾ªç¯ä¹‹åæ‰§è¡Œï¼ŒåŸºæœ¬ç­‰ä»·äºsettimeout(()=&gt;{},0) èƒ½å¤Ÿè®©ä¸€äº›æ•°æ®å®Œæˆæ¥æ”¶æ›¿æ¢åå†è¿›è¡Œè°ƒç”¨ï¼Œä¹Ÿæ˜¯èƒ½è§£å†³åŠ è½½é—®é¢˜çš„æ–¹æ³•ä¹‹ä¸€]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>æ¡†æ¶</category>
      </categories>
      <tags>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[vueéª¨æ¶å±]]></title>
    <url>%2Fposts%2F7260%2F</url>
    <content type="text"><![CDATA[ä»€ä¹ˆæ˜¯éª¨æ¶å±éª¨æ¶å±å°±æ˜¯åœ¨é¡µé¢å°šæœªåŠ è½½ä¹‹å‰å…ˆç»™ç”¨æˆ·å±•ç¤ºå‡ºé¡µé¢çš„å¤§è‡´ç»“æ„ï¼Œç›´åˆ°é¡µé¢è¯·æ±‚æ•°æ®åæ¸²æŸ“é¡µé¢ã€‚éª¨æ¶å±å’Œloadingç›¸æ¯”è¾ƒè¿˜æ˜¯éª¨æ¶å±ç”¨æˆ·ä½“éªŒæ„Ÿæ›´å¥½ã€‚åŸç†å…¶å®éå¸¸ç®€å•ï¼Œå°±æ˜¯åœ¨é¡µé¢è¿˜æ²¡åŠ è½½å®Œæˆæ—¶å±•ç¤ºä¸€å¼ å›¾ç‰‡ï¼ˆä¸€èˆ¬æ˜¯Base64ç¼–ç ï¼‰ï¼Œç±»ä¼¼ä¸‹æ–¹æ•ˆæœï¼š å®‰è£…éª¨æ¶å±æ’ä»¶1npm install vue-skeleton-webpack-plugin Skeleton ç»„ä»¶åœ¨ src/components ä¸‹æ–°å»º Skeleton.vue ç»„ä»¶ï¼š 12345678910111213141516171819&lt;template&gt; &lt;div class="skeleton"&gt; &lt;!-- æˆ‘æ˜¯é¦–é¡µéª¨æ¶å±å›¾ç‰‡ --&gt; &lt;div class="home-skeleton"&gt; &lt;img src="../assets/skeleton.jpg" alt="skeleton"&gt; &lt;/div&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; export default &#123; &#125;&lt;/script&gt;&lt;style lang="css" scoped&gt;.home-skeleton &#123; width: 100%;&#125;&lt;/style&gt; å¯¼å‡º jsæ ¹ç›®å½•ä¸‹æ–°å»º skeleton.js æ–‡ä»¶ç”¨æ¥å¯¼å‡ºéª¨æ¶ç»„ä»¶ 123456789import Vue from 'vue'import Skeleton from './components/Skeleton.vue'export default new Vue(&#123; components: &#123; Skeleton, &#125;, template: `&lt;Skeleton&gt;&lt;/Skeleton&gt;`&#125;) å•é¡µéª¨æ¶å±åœ¨æ ¹ç›®å½•ä¸‹æ–°å»º vue.config.js é…ç½®éª¨æ¶å±æ’ä»¶ï¼š 12345678910111213141516const SkeletonWebpackPlugin = require('vue-skeleton-webpack-plugin')const path = require('path')module.exports = &#123; configureWebpack: &#123; plugins: [ new SkeletonWebpackPlugin(&#123; webpackConfig: &#123; entry: &#123; app: path.resolve(__dirname, 'src/skeleton.js') &#125; &#125; &#125;) ] &#125;&#125; æå®šOK~ å¤šé¡µéª¨æ¶å±å‡å¦‚ç°åœ¨æˆ‘ä»¬å¸Œæœ›é¦–é¡µåŠ è½½æ—¶å‡ºç°éª¨æ¶å±ï¼ˆä¸Šé¢å•é¡µçš„ä¾‹å­ï¼‰ï¼Œè¿˜è¦åœ¨åˆ‡æ¢åˆ° about é¡µé¢åä¹Ÿæœ‰ä¸ªéª¨æ¶å±ã€‚å°±éœ€è¦å†æ–°å»ºä¸€ä¸ª Skeleton ç»„ä»¶äº†ã€‚ åœ¨ src/components/ ä¸‹æ–°å»º SkeletonAbout.vue ç»„ä»¶ï¼š 123456789101112131415161718192021222324252627282930&lt;template&gt; &lt;div class="skeleton-wrapper"&gt; &lt;header class="skeleton-header"&gt;&lt;/header&gt; &lt;section class="skeleton-block"&gt; &lt;img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgMTA4MCAyNjEiPjxkZWZzPjxwYXRoIGlkPSJiIiBkPSJNMCAwaDEwODB2MjYwSDB6Ii8+PGZpbHRlciBpZD0iYSIgd2lkdGg9IjIwMCUiIGhlaWdodD0iMjAwJSIgeD0iLTUwJSIgeT0iLTUwJSIgZmlsdGVyVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94Ij48ZmVPZmZzZXQgZHk9Ii0xIiBpbj0iU291cmNlQWxwaGEiIHJlc3VsdD0ic2hhZG93T2Zmc2V0T3V0ZXIxIi8+PGZlQ29sb3JNYXRyaXggaW49InNoYWRvd09mZnNldE91dGVyMSIgdmFsdWVzPSIwIDAgMCAwIDAuOTMzMzMzMzMzIDAgMCAwIDAgMC45MzMzMzMzMzMgMCAwIDAgMCAwLjkzMzMzMzMzMyAwIDAgMCAxIDAiLz48L2ZpbHRlcj48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDEpIj48dXNlIGZpbGw9IiMwMDAiIGZpbHRlcj0idXJsKCNhKSIgeGxpbms6aHJlZj0iI2IiLz48dXNlIGZpbGw9IiNGRkYiIHhsaW5rOmhyZWY9IiNiIi8+PHBhdGggZmlsbD0iI0Y2RjZGNiIgZD0iTTIzMCA0NGg1MzN2NDZIMjMweiIvPjxyZWN0IHdpZHRoPSIxNzIiIGhlaWdodD0iMTcyIiB4PSIzMCIgeT0iNDQiIGZpbGw9IiNGNkY2RjYiIHJ4PSI0Ii8+PHBhdGggZmlsbD0iI0Y2RjZGNiIgZD0iTTIzMCAxMThoMzY5djMwSDIzMHpNMjMwIDE4MmgzMjN2MzBIMjMwek04MTIgMTE1aDIzOHYzOUg4MTJ6TTgwOCAxODRoMjQydjMwSDgwOHpNOTE3IDQ4aDEzM3YzN0g5MTd6Ii8+PC9nPjwvc3ZnPg=="&gt; &lt;img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgMTA4MCAyNjEiPjxkZWZzPjxwYXRoIGlkPSJiIiBkPSJNMCAwaDEwODB2MjYwSDB6Ii8+PGZpbHRlciBpZD0iYSIgd2lkdGg9IjIwMCUiIGhlaWdodD0iMjAwJSIgeD0iLTUwJSIgeT0iLTUwJSIgZmlsdGVyVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94Ij48ZmVPZmZzZXQgZHk9Ii0xIiBpbj0iU291cmNlQWxwaGEiIHJlc3VsdD0ic2hhZG93T2Zmc2V0T3V0ZXIxIi8+PGZlQ29sb3JNYXRyaXggaW49InNoYWRvd09mZnNldE91dGVyMSIgdmFsdWVzPSIwIDAgMCAwIDAuOTMzMzMzMzMzIDAgMCAwIDAgMC45MzMzMzMzMzMgMCAwIDAgMCAwLjkzMzMzMzMzMyAwIDAgMCAxIDAiLz48L2ZpbHRlcj48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDEpIj48dXNlIGZpbGw9IiMwMDAiIGZpbHRlcj0idXJsKCNhKSIgeGxpbms6aHJlZj0iI2IiLz48dXNlIGZpbGw9IiNGRkYiIHhsaW5rOmhyZWY9IiNiIi8+PHBhdGggZmlsbD0iI0Y2RjZGNiIgZD0iTTIzMCA0NGg1MzN2NDZIMjMweiIvPjxyZWN0IHdpZHRoPSIxNzIiIGhlaWdodD0iMTcyIiB4PSIzMCIgeT0iNDQiIGZpbGw9IiNGNkY2RjYiIHJ4PSI0Ii8+PHBhdGggZmlsbD0iI0Y2RjZGNiIgZD0iTTIzMCAxMThoMzY5djMwSDIzMHpNMjMwIDE4MmgzMjN2MzBIMjMwek04MTIgMTE1aDIzOHYzOUg4MTJ6TTgwOCAxODRoMjQydjMwSDgwOHpNOTE3IDQ4aDEzM3YzN0g5MTd6Ii8+PC9nPjwvc3ZnPg=="&gt; &lt;/section&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; export default &#123; &#125;&lt;/script&gt;&lt;style lang="css" scoped&gt;.skeleton-header &#123; height: 40px; background: #1976d2; padding:0; margin: 0; width: 100%; &#125; .skeleton-block &#123; display: flex; flex-direction: column; padding-top: 8px; &#125;&lt;/style&gt; ç„¶åå›åˆ° src/skeleton.js ä¸­è¿›è¡Œæ”¹é€ ï¼š 12345678910111213141516import Vue from 'vue'import Skeleton from './components/Skeleton.vue'import SkeletonAbout from './components/SkeletonAbout.vue'export default new Vue(&#123; components: &#123; Skeleton, SkeletonAbout &#125;, // é»˜è®¤éƒ½éšè—ï¼Œé€šè¿‡åœ¨ vue.config.js ä¸­çš„æ’ä»¶é…ç½®ä¸­æ ¹æ®idè¿›è¡Œåˆ¤æ–­ template: `&lt;div&gt; &lt;Skeleton style="display: none;" id="skeleton-home"&gt;&lt;/Skeleton&gt; &lt;SkeletonAbout style="display: none;" id = "skeleton-about"&gt;&lt;/SkeletonAbout&gt; &lt;/div&gt; `&#125;) ä¿®æ”¹ vue.config.js ä¸­éª¨æ¶å±é…ç½®ï¼š 12345678910111213141516171819202122232425262728const SkeletonWebpackPlugin = require('vue-skeleton-webpack-plugin')const path = require('path')module.exports = &#123; configureWebpack: &#123; // ç»™webpackæ–°å¢é…ç½® plugins: [ new SkeletonWebpackPlugin(&#123; webpackConfig: &#123; entry: &#123; app: path.resolve(__dirname, 'src/skeleton.js') &#125; &#125;, router: &#123; mode: 'history', routes: [&#123; path: '/', skeletonId: 'skeleton-home' &#125;, &#123; path: '/about', skeletonId: 'skeleton-about' &#125;, ] &#125;, &#125;) ] &#125;&#125; ç°åœ¨åˆ·æ–°é¦–é¡µï¼Œå°±ä¼šå…ˆæ˜¾ç¤ºé¦–é¡µéª¨æ¶å±ï¼Œåˆ‡æ¢åˆ°abouté¡µé¢åˆ·æ–°ï¼Œä¼šé¦–å…ˆæ˜¾ç¤ºabouté¡µé¢çš„éª¨æ¶å±ã€‚ éª¨æ¶å±æ’ä»¶åŸç†éª¨æ¶å±æ’ä»¶çš„åŸç†ä¹Ÿéå¸¸ç®€å•ï¼Œæˆ‘ä»¬åªè¦åœ¨webpackçš„ html-webpack-plugin æ’ä»¶å¤„ç†htmlä¹‹å‰å¯¹appæ ¹èŠ‚ç‚¹ä¸‹çš„å†…å®¹è¿›è¡Œæ›¿æ¢å°±OKäº†ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªç®€åŒ–ç‰ˆæ’ä»¶å†™æ³•ï¼š vue.config.js 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758const SkeletonWebpackPlugin = require('vue-skeleton-webpack-plugin')const path = require('path')// éª¨æ¶å±æ’ä»¶åŸç†class MyPlugin &#123; apply(compiler) &#123; // compiler è¡¨ç¤ºå½“å‰æ•´ä¸ªwebpackå¯¹è±¡ compiler.plugin('compilation', (compilation) =&gt; &#123; // compilation è¡¨ç¤ºå½“å‰è¿™æ¬¡webpackæ‰“åŒ…çš„å¯¹è±¡ï¼ˆä¹Ÿå°±æ˜¯è¯´å¤šæ¬¡æ‰“åŒ…ä¼šäº§ç”Ÿå¤šä¸ªï¼‰ compilation.plugin( // å½“å‰webpackæ’ä»¶åœ¨htmlå¤„ç†ä¹‹å‰ï¼ŒæŠŠhtmlæ›¿æ¢ 'html-webpack-plugin-before-html-processing', (data) =&gt; &#123; data.html = data.html.replace(`&lt;div id="app"&gt;&lt;/div&gt;`, ` &lt;div id="app"&gt; &lt;div id="home" style="display:none"&gt;é¦–é¡µéª¨æ¶å±&lt;/div&gt; &lt;div id="about" style="display:none"&gt;abouté¡µéª¨æ¶å±&lt;/div&gt; &lt;/div&gt; &lt;script&gt; if(window.hash == '#/about' || location.pathname=='/about')&#123; document.getElementById('about').style.display="block" &#125;else&#123; document.getElementById('home').style.display="block" &#125; &lt;/script&gt; `); return data; &#125; ) &#125;); &#125;&#125;module.exports = &#123; configureWebpack: &#123; // ç»™webpackæ–°å¢é…ç½® plugins: [ // ä½¿ç”¨è‡ªå·±çš„æ’ä»¶ new MyPlugin() // new SkeletonWebpackPlugin(&#123; // webpackConfig: &#123; // entry: &#123; // app: path.resolve(__dirname, 'src/skeleton.js') // &#125; // &#125;, // router: &#123; // mode: 'history', // routes: [&#123; // path: '/', // skeletonId: 'skeleton-home' // &#125;, // &#123; // path: '/about', // skeletonId: 'skeleton-about' // &#125;, // ] // &#125;, // &#125;) ] &#125;&#125;]]></content>
  </entry>
  <entry>
    <title><![CDATA[webæ€§èƒ½ä¼˜åŒ–-å®è·µ(è½¬è½½)]]></title>
    <url>%2Fposts%2F47143%2F</url>
    <content type="text"><![CDATA[æ¦‚æ‹¬æ¶‰åŠåˆ°çš„åˆ†ç±» ç½‘ç»œå±‚é¢ æ„å»ºå±‚é¢ æµè§ˆå™¨æ¸²æŸ“å±‚é¢ æœåŠ¡ç«¯å±‚é¢ æ¶‰åŠåˆ°çš„åŠŸèƒ½ç‚¹ èµ„æºçš„åˆå¹¶ä¸å‹ç¼© å›¾ç‰‡ç¼–è§£ç åŸç†å’Œç±»å‹é€‰æ‹© æµè§ˆå™¨æ¸²æŸ“æœºåˆ¶ æ‡’åŠ è½½é¢„åŠ è½½ æµè§ˆå™¨å­˜å‚¨ ç¼“å­˜æœºåˆ¶ PWA Vue-SSR èµ„æºåˆå¹¶ä¸å‹ç¼©httpè¯·æ±‚çš„è¿‡ç¨‹åŠæ½œåœ¨çš„æ€§èƒ½ä¼˜åŒ–ç‚¹ ç†è§£å‡å°‘httpè¯·æ±‚æ•°é‡å’Œå‡å°‘è¯·æ±‚èµ„æºå¤§å°ä¸¤ä¸ªä¼˜åŒ–è¦ç‚¹ æŒæ¡å‹ç¼©ä¸åˆå¹¶çš„åŸç† æŒæ¡é€šè¿‡åœ¨çº¿ç½‘ç«™å’Œfis3ä¸¤ç§å®ç°å‹ç¼©ä¸åˆå¹¶çš„æ–¹æ³• æµè§ˆå™¨çš„ä¸€ä¸ªè¯·æ±‚ä»å‘é€åˆ°è¿”å›éƒ½ç»å†äº†ä»€ä¹ˆåŠ¨æ€çš„åŠ è½½é™æ€çš„èµ„æº dnsæ˜¯å¦å¯ä»¥é€šè¿‡ç¼“å­˜å‡å°‘dnsæŸ¥è¯¢æ—¶é—´ ç½‘ç»œè¯·æ±‚çš„è¿‡ç¨‹èµ°æœ€è¿‘çš„ç½‘ç»œç¯å¢ƒ ç›¸åŒçš„é™æ€èµ„æºæ˜¯å¦å¯ä»¥ç¼“å­˜ èƒ½å¦å‡å°‘httpè¯·æ±‚å¤§å° èƒ½å¦å‡å°‘httpè¯·æ±‚æ•°é‡ æœåŠ¡ç«¯æ¸²æŸ“ èµ„æºçš„åˆå¹¶ä¸å‹ç¼©è®¾è®¡åˆ°çš„æ€§èƒ½ç‚¹ å‡å°‘httpè¯·æ±‚çš„æ•°é‡ å‡å°‘è¯·æ±‚çš„å¤§å° htmlå‹ç¼© HTMLä»£ç å‹ç¼©å°±æ˜¯å‹ç¼©è¿™äº›åœ¨æ–‡æœ¬æ–‡ä»¶ä¸­æœ‰æ„ä¹‰ï¼Œä½†æ˜¯åœ¨HTMLä¸­ä¸æ˜¾ç¤ºçš„å­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼,åˆ¶è¡¨ç¬¦,æ¢è¡Œç¬¦ç­‰ï¼Œè¿˜æœ‰ä¸€äº›å…¶ä»–æ„ä¹‰çš„å­—ç¬¦ï¼Œå¦‚HTMLæ³¨é‡Šä¹Ÿå¯ä»¥è¢«å‹ç¼© æ„ä¹‰ å¤§å‹ç½‘ç«™æ„ä¹‰æ¯”è¾ƒå¤§ å¦‚ä½•è¿›è¡Œhtmlçš„å‹ç¼© ä½¿ç”¨åœ¨çº¿ç½‘ç«™è¿›è¡Œå‹ç¼©(èµ°æ„å»ºå·¥å…·å¤šï¼Œå…¬å¸çº§åœ¨çº¿ç½‘ç«™æ‰‹åŠ¨å‹ç¼©å°) node.jsæä¾›äº†html-minifierå·¥å…· åç«¯æ¨¡æ¿å¼•æ“æ¸²æŸ“å‹ç¼© cssåŠjså‹ç¼©cssçš„å‹ç¼© æ— æ•ˆä»£ç åˆ é™¤ æ³¨é‡Šã€æ— æ•ˆå­—ç¬¦ cssè¯­ä¹‰åˆå¹¶ csså‹ç¼©çš„æ–¹å¼ ä½¿ç”¨åœ¨çº¿ç½‘ç«™è¿›è¡Œå‹ç¼© ä½¿ç”¨html-minifierå¯¹htmlä¸­çš„cssè¿›è¡Œå‹ç¼© ä½¿ç”¨clean-csså¯¹cssè¿›è¡Œå‹ç¼© jsçš„å‹ç¼©ä¸æ··ä¹± æ— æ•ˆå­—ç¬¦çš„åˆ é™¤ ç©ºæ ¼ã€æ³¨é‡Šã€å›è½¦ç­‰ å‰”é™¤æ³¨é‡Š ä»£ç è¯­æ„çš„ç¼©å‡å’Œä¼˜åŒ– å˜é‡åç¼©çŸ­(a,b)ç­‰ ä»£ç ä¿æŠ¤ å‰ç«¯ä»£ç æ˜¯é€æ˜çš„ï¼Œå®¢æˆ·ç«¯ä»£ç ç”¨æˆ·æ˜¯å¯ä»¥ç›´æ¥çœ‹åˆ°çš„ï¼Œå¯ä»¥è½»æ˜“è¢«çª¥æ¢åˆ°é€»è¾‘å’Œæ¼æ´ jså‹ç¼©çš„æ–¹å¼ ä½¿ç”¨åœ¨çº¿ç½‘ç«™è¿›è¡Œå‹ç¼© ä½¿ç”¨html-minifierå¯¹htmlä¸­çš„jsè¿›è¡Œå‹ç¼© ä½¿ç”¨uglifyjs2å¯¹jsè¿›è¡Œå‹ç¼© ä¸åˆå¹¶æ–‡ä»¶å¯èƒ½å­˜åœ¨çš„é—®é¢˜ æ–‡ä»¶ä¸æ–‡ä»¶æœ‰æ’å…¥ä¹‹é—´çš„ä¸Šè¡Œè¯·æ±‚ï¼Œåˆå¢åŠ äº†N-1ä¸ªç½‘ç»œå»¶è¿Ÿ å—ä¸¢åŒ…é—®é¢˜å½±å“æ›´ä¸¥é‡ ç»è¿‡ä»£ç†æœåŠ¡å™¨æ—¶å¯èƒ½ä¼šè¢«æ–­å¼€ æ–‡ä»¶åˆå¹¶ç¼ºç‚¹ é¦–å±æ¸²æŸ“é—®é¢˜ æ–‡ä»¶åˆå¹¶ä¹‹åçš„jså˜å¤§ï¼Œå¦‚æœé¦–é¡µçš„æ¸²æŸ“ä¾èµ–è¿™ä¸ªjsçš„è¯ï¼Œæ•´ä¸ªé¡µé¢çš„æ¸²æŸ“è¦ç­‰jsè¯·æ±‚å®Œæ‰èƒ½æ‰§è¡Œ å¦‚æœé¦–å±åªä¾èµ–a.jsï¼Œåªè¦ç­‰a.jså®Œæˆåå°±å¯æ‰§è¡Œ æ²¡æœ‰é€šè¿‡æœåŠ¡å™¨ç«¯æ¸²æŸ“ï¼Œç°åœ¨æ¡†æ¶éƒ½éœ€è¦ç­‰åˆå¹¶å®Œçš„æ–‡ä»¶è¯·æ±‚å®Œæ‰èƒ½æ‰§è¡Œï¼ŒåŸºæœ¬éƒ½éœ€è¦ç­‰æ–‡ä»¶åˆå¹¶åçš„js ç¼“å­˜å¤±æ•ˆé—®é¢˜ æ ‡è®° js md5æˆ³ åˆå¹¶ä¹‹åçš„js,ä»»ä½•ä¸€ä¸ªæ”¹åŠ¨éƒ½ä¼šå¯¼è‡´å¤§é¢ç§¯çš„ç¼“å­˜å¤±æ•ˆ æ–‡ä»¶åˆå¹¶å¯¹åº”ç¼ºç‚¹çš„å¤„ç† å…¬å…±åº“åˆå¹¶ ä¸åŒé¡µé¢jså•ç‹¬æ‰“åŒ… è§æœºè¡Œäº‹ï¼Œéšæœºåº”å˜ æ–‡ä»¶åˆå¹¶å¯¹åº”æ–¹æ³• ä½¿ç”¨åœ¨çº¿ç½‘ç«™è¿›è¡Œåˆå¹¶ æ„å»ºé˜¶æ®µï¼Œä½¿ç”¨nodejsè¿›è¡Œæ–‡ä»¶åˆå¹¶ å›¾ç‰‡ç›¸å…³ä¼˜åŒ–ä¸€å¼ JPGçš„è§£æè¿‡ç¨‹ jpgæœ‰æŸå‹ç¼©ï¼šè™½ç„¶æŸå¤±ä¸€äº›ä¿¡æ¯ï¼Œä½†æ˜¯è‚‰çœ¼å¯è§å½±å“å¹¶ä¸å¤§ png8/png24/png32ä¹‹é—´çš„åŒºåˆ« png8 â€”-256è‰² + æ”¯æŒé€æ˜ png24 â€”-2^24 + ä¸æ”¯æŒé€æ˜ png32 â€”2^24 +æ”¯æŒé€æ˜ æ–‡ä»¶å¤§å° + è‰²å½©ä¸°å¯Œç¨‹åº¦ png32æ˜¯åœ¨png24ä¸Šæ”¯æŒäº†é€æ˜ï¼Œé’ˆå¯¹ä¸åŒçš„ä¸šåŠ¡åœºæ™¯é€‰æ‹©ä¸åŒçš„å›¾ç‰‡æ ¼å¼å¾ˆé‡è¦ ä¸åŒçš„æ ¼å¼å›¾ç‰‡å¸¸ç”¨çš„ä¸šåŠ¡åœºæ™¯ä¸åŒæ ¼å¼å›¾ç‰‡çš„ç‰¹ç‚¹ jpgæœ‰æŸå‹ç¼©ï¼Œå‹ç¼©ç‡é«˜ï¼Œä¸æ”¯æŒé€æ˜ pngæ”¯æŒé€æ˜ï¼Œæµè§ˆå™¨å…¼å®¹æ€§å¥½ webpå‹ç¼©ç¨‹åº¦æ›´å¥½ï¼Œåœ¨ios webviewä¸­æœ‰å…¼å®¹æ€§é—®é¢˜ svgçŸ¢é‡å›¾ï¼Œä»£ç å†…åµŒï¼Œç›¸å¯¹è¾ƒå°ï¼Œå›¾ç‰‡æ ·å¼ç›¸å¯¹ç®€å•çš„åœºæ™¯(å°½é‡ä½¿ç”¨ï¼Œç»˜åˆ¶èƒ½åŠ›æœ‰é™ï¼Œå›¾ç‰‡ç®€å•ç”¨çš„æ¯”è¾ƒå¤š) ä¸åŒæ ¼å¼å›¾ç‰‡çš„ä½¿ç”¨åœºæ™¯ jpgï¼šå¤§éƒ¨åˆ†ä¸éœ€è¦é€æ˜å›¾ç‰‡çš„ä¸šåŠ¡åœºæ™¯ pngï¼šå¤§éƒ¨åˆ†éœ€è¦é€æ˜å›¾ç‰‡çš„ä¸šåŠ¡åœºæ™¯ webpï¼šandroidå…¨éƒ¨(è§£ç é€Ÿåº¦å’Œå‹ç¼©ç‡é«˜äºjpgå’Œpngï¼Œä½†æ˜¯ios safariè¿˜æ²¡æ”¯æŒ) svgï¼šå›¾ç‰‡æ ·å¼ç›¸å¯¹ç®€å•çš„ä¸šåŠ¡åœºæ™¯ å›¾ç‰‡å‹ç¼©çš„å‡ ç§æƒ…å†µ é’ˆå¯¹çœŸå®å›¾ç‰‡æƒ…å†µï¼Œèˆå¼ƒä¸€äº›ç›¸å¯¹æ— å…³ç´§è¦çš„è‰²å½©ä¿¡æ¯ CSSé›ªç¢§å›¾ï¼šæŠŠä½ çš„ç½‘ç«™ç”¨åˆ°çš„ä¸€äº›å›¾ç‰‡æ•´åˆåˆ°ä¸€å¼ å•ç‹¬çš„å›¾ç‰‡ä¸­ ä¼˜ç‚¹ï¼šå‡å°‘HTTPè¯·æ±‚çš„æ•°é‡(é€šè¿‡backgroundPositionå®šä½æ‰€éœ€å›¾ç‰‡) ç¼ºç‚¹ï¼šæ•´åˆå›¾ç‰‡æ¯”è¾ƒå¤§æ—¶ï¼ŒåŠ è½½æ¯”è¾ƒæ…¢(å¦‚æœè¿™å¼ å›¾ç‰‡æ²¡æœ‰åŠ è½½æˆåŠŸï¼Œæ•´ä¸ªé¡µé¢ä¼šå¤±å»å›¾ç‰‡ä¿¡æ¯)facebookå®˜ç½‘ä»»ç„¶åœ¨ç”¨ï¼Œä¸»è¦pcç”¨çš„æ¯”è¾ƒå¤šï¼Œç›¸å¯¹æ€§èƒ½æ¯”è¾ƒå¼º Image-inlineï¼šå°†å›¾ç‰‡çš„å†…å®¹åµŒåˆ°htmlä¸­(å‡å°‘ç½‘ç«™çš„HTTPè¯·æ±‚) base64ä¿¡æ¯ï¼Œå‡å°‘ç½‘ç«™çš„HTTPè¯·æ±‚,å¦‚æœå›¾ç‰‡æ¯”è¾ƒå°æ¯”è¾ƒå¤šï¼Œæ—¶é—´æŸè€—ä¸»è¦åœ¨è¯·æ±‚çš„éª¨å¹²ç½‘ç»œ ä½¿ç”¨çŸ¢é‡å›¾ ä½¿ç”¨SVGè¿›è¡ŒçŸ¢é‡å›¾çš„ç»˜åˆ¶ ä½¿ç”¨icon-fontè§£å†³iconé—®é¢˜ åœ¨androidä¸‹ä½¿ç”¨webp webpçš„ä¼˜åŠ¿ä¸»è¦ä½“ç°åœ¨å®ƒå…·æœ‰æ›´ä¼˜çš„å›¾åƒæ•°æ®å‹ç¼©ç®—æ³•ï¼Œèƒ½å¸¦æ¥æ›´å°çš„å›¾ç‰‡ä½“ç§¯ï¼Œè€Œä¸”æ‹¥æœ‰è‚‰çœ¼è¯†åˆ«æ— å·®å¼‚çš„å›¾åƒè´¨é‡ï¼› åŒæ—¶å…·å¤‡äº†æ— æŸå’Œæœ‰æŸçš„å‹ç¼©æ¨¡å¼ã€Alphaé€æ˜ä»¥åŠåŠ¨ç”»çš„ç‰¹æ€§ï¼Œåœ¨JPEGå’ŒPNGä¸Šçš„è½¬åŒ–æ•ˆæœéƒ½éå¸¸ä¼˜ç§€ã€ç¨³å®šå’Œç»Ÿä¸€ csså’Œjsçš„è£…è½½ä¸æ‰§è¡ŒHTMLé¡µé¢åŠ è½½æ¸²æŸ“çš„è¿‡ç¨‹ä¸€ä¸ªç½‘ç«™åœ¨æµè§ˆå™¨ç«¯æ˜¯å¦‚ä½•è¿›è¡Œæ¸²æŸ“çš„ HTMLæ¸²æŸ“è¿‡ç¨‹ä¸­çš„ä¸€äº›ç‰¹ç‚¹ é¡ºåºæ‰§è¡Œï¼Œå¹¶å‘åŠ è½½ è¯æ³•åˆ†æï¼šä»ä¸Šåˆ°ä¸‹ä¾æ¬¡è§£æ é€šè¿‡HTMLç”ŸæˆTokenå¯¹è±¡ï¼ˆå½“å‰èŠ‚ç‚¹çš„æ‰€æœ‰å­èŠ‚ç‚¹ç”Ÿæˆåï¼Œæ‰ä¼šé€šè¿‡next tokenè·å–åˆ°å½“å‰èŠ‚ç‚¹çš„å…„å¼ŸèŠ‚ç‚¹ï¼‰ï¼Œæœ€ç»ˆç”ŸæˆDom Tree å¹¶å‘åŠ è½½ï¼šèµ„æºè¯·æ±‚æ˜¯å¹¶å‘è¯·æ±‚çš„ å¹¶å‘ä¸Šé™ æµè§ˆå™¨ä¸­å¯ä»¥æ”¯æŒå¹¶å‘è¯·æ±‚ï¼Œä¸åŒæµè§ˆå™¨æ‰€æ”¯æŒçš„å¹¶å‘æ•°é‡ä¸åŒï¼ˆä»¥åŸŸååˆ’åˆ†ï¼‰ï¼Œä»¥Chromeä¸ºä¾‹ï¼Œå¹¶å‘ä¸Šé™ä¸º6ä¸ª ä¼˜åŒ–ç‚¹ï¼š æŠŠCDNèµ„æºåˆ†å¸ƒåœ¨å¤šä¸ªåŸŸåä¸‹ æ˜¯å¦é˜»å¡ cssé˜»å¡ cssåœ¨headä¸­é€šè¿‡linkå¼•å…¥ä¼šé˜»å¡é¡µé¢çš„æ¸²æŸ“ å¦‚æœæˆ‘ä»¬æŠŠcssä»£ç æ”¾åœ¨headä¸­å»å¼•å…¥çš„è¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ•´ä¸ªé¡µé¢çš„æ¸²æŸ“å®é™…ä¸Šå°±ä¼šç­‰å¾…headä¸­cssåŠ è½½å¹¶ç”Ÿæˆcssæ ‘ï¼Œæœ€ç»ˆå’ŒDOMæ•´åˆç”ŸæˆRanderTreeä¹‹åæ‰ä¼šè¿›è¡Œæ¸²æŸ“ ä¸ºäº†æµè§ˆå™¨çš„æ¸²æŸ“ï¼Œèƒ½è®©é¡µé¢æ˜¾ç¤ºçš„æ—¶å€™è§†è§‰ä¸Šæ›´å¥½ã€‚ é¿å…æŸäº›æƒ…å†µï¼Œå¦‚ï¼šå‡è®¾ä½ æ”¾åœ¨é¡µé¢æœ€åº•éƒ¨ï¼Œç”¨æˆ·æ‰“å¼€é¡µé¢æ—¶ï¼Œæœ‰å¯èƒ½å‡ºç°ï¼Œé¡µé¢å…ˆæ˜¯æ˜¾ç¤ºä¸€å¤§å †æ–‡å­—æˆ–å›¾ç‰‡ï¼Œè‡ªä¸Šè€Œä¸‹ï¼Œä¸æ¯«æ²¡æœ‰æ’ç‰ˆå’Œæ ·å¼å¯è¨€ã€‚æœ€åï¼Œé¡µé¢åˆæ¢å¤æ‰€è¦çš„æ•ˆæœ cssä¸é˜»å¡jsçš„åŠ è½½ï¼Œä½†é˜»å¡jsçš„æ‰§è¡Œ cssä¸é˜»å¡å¤–éƒ¨è„šæ­¥çš„åŠ è½½(webkit preloader é¢„èµ„æºåŠ è½½å™¨) jsé˜»å¡ ç›´æ¥é€šè¿‡&lt;script src&gt;å¼•å…¥ä¼šé˜»å¡åé¢èŠ‚ç‚¹çš„æ¸²æŸ“ html parseè®¤ä¸ºjsä¼šåŠ¨æ€ä¿®æ”¹æ–‡æ¡£ç»“æ„(document.writeç­‰æ–¹å¼)ï¼Œæ²¡æœ‰è¿›è¡Œåé¢æ–‡æ¡£çš„å˜åŒ– asyncã€defer(asyncæ”¾å¼ƒäº†ä¾èµ–å…³ç³») deferå±æ€§ï¼ˆ&lt;script defer&gt;&lt;/script&gt;ï¼‰ (è¿™æ˜¯å»¶è¿Ÿæ‰§è¡Œå¼•å…¥çš„jsè„šæœ¬ï¼ˆå³è„šæœ¬åŠ è½½æ˜¯ä¸ä¼šå¯¼è‡´è§£æåœæ­¢ï¼Œç­‰åˆ°documentå…¨éƒ¨è§£æå®Œæ¯•åï¼Œdefer-scriptä¹ŸåŠ è½½å®Œæ¯•åï¼Œåœ¨æ‰§è¡Œæ‰€æœ‰çš„defer-scriptåŠ è½½çš„jsä»£ç ï¼Œå†è§¦å‘Domcontentloadedï¼‰ asyncå±æ€§ï¼ˆ&lt;script async&gt;&lt;/script&gt;ï¼‰ è¿™æ˜¯å¼‚æ­¥æ‰§è¡Œå¼•å…¥çš„jsè„šæœ¬æ–‡ä»¶ ä¸deferçš„åŒºåˆ«æ˜¯asyncä¼šåœ¨åŠ è½½å®Œæˆåå°±æ‰§è¡Œï¼Œä½†æ˜¯ä¸ä¼šå½±å“é˜»å¡åˆ°è§£æå’Œæ¸²æŸ“ã€‚ä½†æ˜¯è¿˜æ˜¯ä¼šé˜»å¡loadäº‹ä»¶ï¼Œæ‰€ä»¥async-scriptä¼šå¯èƒ½åœ¨DOMcontentloadedè§¦å‘å‰æˆ–åæ‰§è¡Œï¼Œä½†æ˜¯ä¸€å®šä¼šåœ¨loadäº‹ä»¶å‰è§¦å‘ã€‚ æ‡’åŠ è½½ä¸é¢„åŠ è½½æ‡’åŠ è½½ å›¾ç‰‡è¿›å…¥å¯è§†åŒºåŸŸä¹‹åè¯·æ±‚å›¾ç‰‡èµ„æº å¯¹äºç”µå•†ç­‰å›¾ç‰‡å¾ˆå¤šï¼Œé¡µé¢å¾ˆé•¿çš„ä¸šåŠ¡åœºæ™¯é€‚ç”¨ å‡å°‘æ— æ•ˆèµ„æºçš„åŠ è½½ å¹¶å‘åŠ è½½çš„èµ„æºè¿‡å¤šä¼šä¼šé˜»å¡jsçš„åŠ è½½ï¼Œå½±å“ç½‘ç«™çš„æ­£å¸¸ä½¿ç”¨ img srcè¢«è®¾ç½®ä¹‹åï¼Œwebkitè§£æåˆ°ä¹‹åæ‰å»è¯·æ±‚è¿™ä¸ªèµ„æºã€‚æ‰€ä»¥æˆ‘ä»¬å¸Œæœ›å›¾ç‰‡åˆ°è¾¾å¯è§†åŒºåŸŸä¹‹åï¼Œimg srcæ‰ä¼šè¢«è®¾ç½®è¿›æ¥ï¼Œæ²¡æœ‰åˆ°è¾¾å¯è§†åŒºåŸŸå‰å¹¶ä¸ç°å®çœŸæ­£çš„srcï¼Œè€Œæ˜¯ç±»ä¼¼ä¸€ä¸ª1pxçš„å ä½ç¬¦ã€‚ åœºæ™¯ï¼šç”µå•†å›¾ç‰‡ é¢„åŠ è½½ å›¾ç‰‡ç­‰é™æ€èµ„æºåœ¨ä½¿ç”¨ä¹‹å‰çš„æå‰è¯·æ±‚ èµ„æºä½¿ç”¨åˆ°æ—¶èƒ½ä»ç¼“å­˜ä¸­åŠ è½½ï¼Œæå‡ç”¨æˆ·ä½“éªŒ é¡µé¢å±•ç¤ºçš„ä¾èµ–å…³ç³»ç»´æŠ¤ åœºæ™¯ï¼šæŠ½å¥– æ‡’åŠ è½½åŸç”Ÿjså’Œzepto.lazyload åŸç† å…ˆå°†imgæ ‡ç­¾ä¸­çš„srcé“¾æ¥è®¾ä¸ºåŒä¸€å¼ å›¾ç‰‡ï¼ˆç©ºç™½å›¾ç‰‡ï¼‰ï¼Œå°†å…¶çœŸæ­£çš„å›¾ç‰‡åœ°å€å­˜å‚¨å†imgæ ‡ç­¾çš„è‡ªå®šä¹‰å±æ€§ä¸­ï¼ˆæ¯”å¦‚data-srcï¼‰ã€‚å½“jsç›‘å¬åˆ°è¯¥å›¾ç‰‡å…ƒç´ è¿›å…¥å¯è§†çª—å£æ—¶ï¼Œå³å°†è‡ªå®šä¹‰å±æ€§ä¸­çš„åœ°å€å­˜å‚¨åˆ°srcå±æ€§ä¸­ï¼Œè¾¾åˆ°æ‡’åŠ è½½çš„æ•ˆæœã€‚ æ³¨æ„é—®é¢˜ï¼š å…³æ³¨é¦–å±å¤„ç†,å› ä¸ºè¿˜æ²¡æ»‘åŠ¨ï¼Œéœ€è¦æ‰‹åŠ¨è°ƒç”¨ä¸€æ¬¡æ–¹æ³• å ä½ï¼Œå›¾ç‰‡å¤§å°é¦–å…ˆéœ€è¦é¢„è®¾é«˜åº¦ï¼Œå¦‚æœæ²¡æœ‰è®¾ç½®çš„è¯ï¼Œä¼šå…¨éƒ¨æ˜¾ç¤ºå‡ºæ¥ 1234567891011121314151617181920212223242526var viewheight = document.documentElement.clientHeight //å¯è§†åŒºåŸŸé«˜åº¦function lazyload()&#123; var eles = document.querySelectorAll('img[data-original][lazyload]') Array.prototype.forEach.call(eles,function(item,index)&#123; var rect; if(item.dataset.original === '') return; rect = item.getBoundingClientRect(); //è¿”å›å…ƒç´ çš„å¤§å°åŠå…¶ç›¸å¯¹äºè§†å£çš„ if(rect.bottom &gt;= 0 &amp;&amp; rect.top &lt; viewheight)&#123; !function()&#123; var img = new Image(); img.src = item.dataset.url; img.onload = function()&#123; item.src = img.src &#125; item.removeAttribute('data-original'); item.removeAttribute('lazyload'); &#125;() &#125; &#125;)&#125;lazyload()document.addEventListener('scroll',lazyload) é¢„åŠ è½½åŸç”Ÿjså’ŒpreloadJSå®ç°é¢„åŠ è½½å®ç°çš„å‡ ç§æ–¹å¼ ç¬¬ä¸€ç§æ–¹å¼ï¼šç›´æ¥è¯·æ±‚ä¸‹æ¥ 1234&lt;img src="https://user-gold-cdn.xitu.io/2019/2/21/1690d1b216cbfa18" style="display: none"/&gt;&lt;img src="https://user-gold-cdn.xitu.io/2019/2/21/1690d1b21b70c8d2" style="display: none"/&gt;&lt;img src="https://user-gold-cdn.xitu.io/2019/2/21/1690d1b216e17e26" style="display: none"/&gt;&lt;img src="https://user-gold-cdn.xitu.io/2019/2/21/1690d1b217b3ae59" style="display: none"/&gt; ç¬¬äºŒç§æ–¹å¼ï¼šimageå¯¹è±¡ 12var image = new Image();image.src = "www.pic26.com/dafdafd/safdas.jpg"ï¼› ç¬¬ä¸‰ç§æ–¹å¼ï¼šXMLHttpRequest ç¼ºç‚¹ï¼šå­˜åœ¨è·¨åŸŸé—®é¢˜ ä¼˜ç‚¹ï¼šå¥½æ§åˆ¶ 123456789101112131415161718192021222324var xmlhttprequest = new XMLHttpRequest();xmlhttprequest.onreadystatechange = callback;xmlhttprequest.onprogress = progressCallback;xmlhttprequest.open("GET","http:www.xxx.com",true);xmlhttprequest.send();function callback()&#123; if(xmlhttprequest.readyState == 4 &amp;&amp; xmlhttprequest.status == 200)&#123; var responseText = xmlhttprequest.responseText; &#125;else&#123; console.log("Request was unsuccessful:" + xmlhttprequest.status); &#125;&#125;function progressCallback()&#123; e = e || event; if(e.lengthComputable)&#123; console.log("Received"+e.loaded+"of"+e.total+"bytes") &#125;&#125; PreloadJSæ¨¡å— æœ¬è´¨ï¼šæƒè¡¡æµè§ˆå™¨åŠ è½½èƒ½åŠ›ï¼Œè®©å®ƒå°½å¯èƒ½é¥±å’Œåˆ©ç”¨èµ·æ¥ é‡ç»˜ä¸å›æµcssæ€§èƒ½è®©javascriptå˜æ…¢è¦æŠŠcssç›¸å…³çš„å¤–éƒ¨æ–‡ä»¶å¼•å…¥æ”¾è¿›headä¸­ï¼ŒåŠ è½½cssæ—¶ï¼Œæ•´ä¸ªé¡µé¢çš„æ¸²æŸ“æ˜¯é˜»å¡çš„ï¼ŒåŒæ ·çš„æ‰§è¡Œjavascriptä»£ç çš„æ—¶å€™ä¹Ÿæ˜¯é˜»å¡çš„ï¼Œä¾‹å¦‚javascriptæ­»å¾ªç¯ã€‚ 12ä¸€ä¸ªçº¿ç¨‹ =&gt; javascriptè§£æä¸€ä¸ªçº¿ç¨‹ =&gt; UIæ¸²æŸ“ è¿™ä¸¤ä¸ªçº¿ç¨‹æ˜¯äº’æ–¥çš„ï¼Œå½“UIæ¸²æŸ“çš„æ—¶å€™ï¼Œjavascriptçš„ä»£ç è¢«ç»ˆæ­¢ã€‚å½“javascriptä»£ç æ‰§è¡Œï¼ŒUIçº¿ç¨‹è¢«å†»ç»“ã€‚æ‰€ä»¥cssçš„æ€§èƒ½è®©javascriptå˜æ…¢ã€‚ é¢‘ç¹è§¦å‘é‡ç»˜ä¸å›æµï¼Œä¼šå¯¼è‡´UIé¢‘ç¹æ¸²æŸ“ï¼Œæœ€ç»ˆå¯¼è‡´jså˜æ…¢ ä»€ä¹ˆæ˜¯é‡ç»˜å’Œå›æµå›æµ å½“render treeä¸­çš„ä¸€éƒ¨åˆ†(æˆ–å…¨éƒ¨)å› ä¸ºå…ƒç´ çš„è§„æ¨¡å°ºå¯¸ï¼Œå¸ƒå±€ï¼Œéšè—ç­‰æ”¹å˜è€Œéœ€è¦é‡æ–°æ„å»ºã€‚è¿™å°±æˆä¸ºå›æµ(reflow) å½“é¡µé¢å¸ƒå±€å’Œå‡ ä½•å±æ€§æ”¹å˜æ—¶ï¼Œå°±éœ€è¦å›æµ é‡ç»˜ å½“render treeä¸­çš„ä¸€äº›å…ƒç´ éœ€è¦æ›´æ–°å±æ€§ï¼Œè€Œè¿™äº›å±æ€§åªæ˜¯å½±å“å…ƒç´ çš„å¤–è§‚ï¼Œé£æ ¼ï¼Œè€Œä¸å½±å“å¸ƒå±€ï¼Œæ¯”å¦‚background-colorã€‚å°±ç§°é‡ç»˜ å…³ç³»ç”¨åˆ°chrome åˆ†æ performance å›æµå¿…å°†å¼•èµ·é‡ç»˜ï¼Œä½†æ˜¯é‡ç»˜ä¸ä¸€å®šä¼šå¼•èµ·å›æµ é¿å…é‡ç»˜ã€å›æµçš„ä¸¤ç§æ–¹æ³•è§¦å‘é¡µé¢é‡å¸ƒå±€çš„ä¸€äº›csså±æ€§ ç›’å­æ¨¡å‹ç›¸å…³å±æ€§ä¼šè§¦å‘é‡å¸ƒå±€ width / height / min-height padding / margin display border-width / border å®šä½å±æ€§åŠæµ®åŠ¨ä¹Ÿä¼šè§¦å‘é‡å¸ƒå±€ top / bottom / left / right position float clear æ”¹å˜èŠ‚ç‚¹å†…éƒ¨æ–‡å­—ç»“æ„ä¹Ÿä¼šè§¦å‘é‡å¸ƒå±€ text-align / vertical-align overflow / overflow-y font-size / font-family / font-weight line-height white-space ä¼˜åŒ–ç‚¹ï¼šä½¿ç”¨ä¸è§¦å‘å›æµçš„æ–¹æ¡ˆæ›¿ä»£è§¦å‘å›æµçš„æ–¹æ¡ˆ åªè§¦å‘é‡ç»˜ä¸è§¦å‘å›æµ color border-styleã€border-radius visibility text-decoration backgroundã€background-imageã€background-positionã€background-repeatã€background-size outlineã€outline-colorã€outline-styleã€outline-width box-shadow æ–°å»ºDOMçš„è¿‡ç¨‹ è·å–DOMååˆ†å‰²ä¸ºå¤šä¸ªå›¾å±‚ å¯¹æ¯ä¸ªå›¾å±‚çš„èŠ‚ç‚¹è®¡ç®—æ ·å¼ç»“æœ(Recalculate style æ ·å¼é‡è®¡ç®—) ä¸ºæ¯ä¸ªèŠ‚ç‚¹ç”Ÿæˆå›¾å½¢å’Œä½ç½®(Layout å›æµå’Œé‡å¸ƒå±€) å°†æ¯ä¸ªèŠ‚ç‚¹ç»˜åˆ¶å¡«å……åˆ°å›¾å±‚ä½å›¾ä¸­(Paint Setupå’ŒPaint é‡ç»˜) å›¾å±‚ä½œä¸ºçº¹ç†ä¸Šä¼ è‡³gpu ç¬¦åˆå¤šä¸ªå›¾å±‚åˆ°é¡µé¢ä¸Šç”Ÿæˆæœ€ç»ˆå±å¹•å›¾åƒ(Composite Layers å›¾å±‚é‡ç»„) æµè§ˆå™¨ç»˜åˆ¶DOMçš„è¿‡ç¨‹æ˜¯è¿™æ ·å­çš„ï¼š è·å– DOM å¹¶å°†å…¶åˆ†å‰²ä¸ºå¤šä¸ªå±‚ï¼ˆlayerï¼‰ï¼Œå°†æ¯ä¸ªå±‚ç‹¬ç«‹åœ°ç»˜åˆ¶è¿›ä½å›¾ï¼ˆbitmapï¼‰ä¸­ å°†å±‚ä½œä¸ºçº¹ç†ï¼ˆtextureï¼‰ä¸Šä¼ è‡³ GPUï¼Œå¤åˆï¼ˆcompositeï¼‰å¤šä¸ªå±‚æ¥ç”Ÿæˆæœ€ç»ˆçš„å±å¹•å›¾åƒ left/top/marginä¹‹ç±»çš„å±æ€§ä¼šå½±å“åˆ°å…ƒç´ åœ¨æ–‡æ¡£ä¸­çš„å¸ƒå±€ï¼Œå½“å¯¹å¸ƒå±€ï¼ˆlayoutï¼‰è¿›è¡ŒåŠ¨ç”»æ—¶ï¼Œè¯¥å…ƒç´ çš„å¸ƒå±€æ”¹å˜å¯èƒ½ä¼šå½±å“åˆ°å…¶ä»–å…ƒç´ åœ¨æ–‡æ¡£ä¸­çš„ä½ç½®ï¼Œå°±å¯¼è‡´äº†æ‰€æœ‰è¢«å½±å“åˆ°çš„å…ƒç´ éƒ½è¦è¿›è¡Œé‡æ–°å¸ƒå±€ï¼Œæµè§ˆå™¨éœ€è¦ä¸ºæ•´ä¸ªå±‚è¿›è¡Œé‡ç»˜å¹¶é‡æ–°ä¸Šä¼ åˆ° GPUï¼Œé€ æˆäº†æå¤§çš„æ€§èƒ½å¼€é”€ã€‚ transform å±äºåˆæˆå±æ€§ï¼ˆcomposite propertyï¼‰ï¼Œå¯¹åˆæˆå±æ€§è¿›è¡Œ transition/animation åŠ¨ç”»å°†ä¼šåˆ›å»ºä¸€ä¸ªåˆæˆå±‚ï¼ˆcomposite layerï¼‰ï¼Œè¿™ä½¿å¾—è¢«åŠ¨ç”»å…ƒç´ åœ¨ä¸€ä¸ªç‹¬ç«‹çš„å±‚ä¸­è¿›è¡ŒåŠ¨ç”»ã€‚ é€šå¸¸æƒ…å†µä¸‹ï¼Œæµè§ˆå™¨ä¼šå°†ä¸€ä¸ªå±‚çš„å†…å®¹å…ˆç»˜åˆ¶è¿›ä¸€ä¸ªä½å›¾ä¸­ï¼Œç„¶åå†ä½œä¸ºçº¹ç†ï¼ˆtextureï¼‰ä¸Šä¼ åˆ° GPUï¼Œåªè¦è¯¥å±‚çš„å†…å®¹ä¸å‘ç”Ÿæ”¹å˜ï¼Œå°±æ²¡å¿…è¦è¿›è¡Œé‡ç»˜ï¼ˆrepaintï¼‰ï¼Œæµè§ˆå™¨ä¼šé€šè¿‡é‡æ–°å¤åˆï¼ˆrecompositeï¼‰æ¥å½¢æˆä¸€ä¸ªæ–°çš„å¸§ã€‚ chromeåˆ›å»ºå›¾å±‚çš„æ¡ä»¶ å°†é¢‘ç¹é‡ç»˜å›æµçš„DOMå…ƒç´ å•ç‹¬ä½œä¸ºä¸€ä¸ªç‹¬ç«‹å›¾å±‚ï¼Œé‚£ä¹ˆè¿™ä¸ªDOMå…ƒç´ çš„é‡ç»˜å’Œå›æµçš„å½±å“åªä¼šåœ¨è¿™ä¸ªå›¾å±‚ä¸­ 3Dæˆ–é€è§†å˜æ¢ CSSå±æ€§ä½¿ç”¨åŠ é€Ÿè§†é¢‘è§£ç çš„ &lt;video&gt; å…ƒç´  æ‹¥æœ‰ 3D (WebGL) ä¸Šä¸‹æ–‡æˆ–åŠ é€Ÿçš„ 2D ä¸Šä¸‹æ–‡çš„ &lt;canvas&gt; å…ƒç´  å¤åˆæ’ä»¶(å¦‚ Flash) è¿›è¡Œ opacity/transform åŠ¨ç”»çš„å…ƒç´ æ‹¥æœ‰åŠ é€Ÿ CSS filters çš„å…ƒç´ æœ‰ä¸€ä¸ªåŒ…å«å¤åˆå±‚çš„åä»£èŠ‚ç‚¹(æ¢å¥è¯è¯´ï¼Œå°±æ˜¯ä¸€ä¸ªå…ƒç´ æ‹¥æœ‰ä¸€ä¸ªå­å…ƒç´ ï¼Œè¯¥å­å…ƒç´ åœ¨è‡ªå·±çš„å±‚é‡Œ) å…ƒç´ æœ‰ä¸€ä¸ª z-index è¾ƒä½ä¸”åŒ…å«ä¸€ä¸ªå¤åˆå±‚çš„å…„å¼Ÿå…ƒç´ (æ¢å¥è¯è¯´å°±æ˜¯è¯¥å…ƒç´ åœ¨å¤åˆå±‚ä¸Šé¢æ¸²æŸ“) æ€»ç»“ï¼šå¯¹å¸ƒå±€å±æ€§è¿›è¡ŒåŠ¨ç”»ï¼Œæµè§ˆå™¨éœ€è¦ä¸ºæ¯ä¸€å¸§è¿›è¡Œé‡ç»˜å¹¶ä¸Šä¼ åˆ° GPU ä¸­å¯¹åˆæˆå±æ€§è¿›è¡ŒåŠ¨ç”»ï¼Œæµè§ˆå™¨ä¼šä¸ºå…ƒç´ åˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„å¤åˆå±‚ï¼Œå½“å…ƒç´ å†…å®¹æ²¡æœ‰å‘ç”Ÿæ”¹å˜ï¼Œè¯¥å±‚å°±ä¸ä¼šè¢«é‡ç»˜ï¼Œæµè§ˆå™¨ä¼šé€šè¿‡é‡æ–°å¤åˆæ¥åˆ›å»ºåŠ¨ç”»å¸§ gifå›¾ æ€»ç»“ å°½é‡é¿å…ä½¿ç”¨è§¦å‘å›æµã€é‡ç»˜çš„CSSå±æ€§ å°†é‡ç»˜ã€å›æµçš„å½±å“èŒƒå›´é™åˆ¶åœ¨å•ç‹¬çš„å›¾å±‚(layers)ä¹‹å†… å›¾å±‚åˆæˆè¿‡ç¨‹ä¸­æ¶ˆè€—å¾ˆå¤§é¡µé¢æ€§èƒ½ï¼Œè¿™æ—¶å€™éœ€è¦å¹³è¡¡è€ƒè™‘é‡ç»˜å›æµçš„æ€§èƒ½æ¶ˆè€— å®æˆ˜ä¼˜åŒ–ç‚¹æ€»ç»“ ç”¨translateæ›¿ä»£topå±æ€§ topä¼šè§¦å‘layoutï¼Œä½†translateä¸ä¼š ç”¨opacityä»£æ›¿visibility opacityä¸ä¼šè§¦å‘é‡ç»˜ä¹Ÿä¸ä¼šè§¦å‘å›æµï¼Œåªæ˜¯æ”¹å˜å›¾å±‚alphaå€¼ï¼Œä½†æ˜¯å¿…é¡»è¦å°†è¿™ä¸ªå›¾ç‰‡ç‹¬ç«‹å‡ºä¸€ä¸ªå›¾å±‚ visibilityä¼šè§¦å‘é‡ç»˜ ä¸è¦ä¸€æ¡ä¸€æ¡çš„ä¿®æ”¹DOMçš„æ ·å¼ï¼Œé¢„å…ˆå®šä¹‰å¥½classï¼Œç„¶åä¿®æ”¹DOMçš„className æŠŠDOMç¦»çº¿åä¿®æ”¹ï¼Œæ¯”å¦‚ï¼šå…ˆæŠŠDOMç»™display:noneï¼ˆæœ‰ä¸€æ¬¡reflowï¼‰ï¼Œç„¶åä½ ä¿®æ”¹100æ¬¡ï¼Œç„¶åå†æŠŠå®ƒæ˜¾ç¤ºå‡ºæ¥ ä¸è¦æŠŠDOMèŠ‚ç‚¹çš„å±æ€§å€¼æ”¾åœ¨ä¸€ä¸ªå¾ªç¯é‡Œå½“æˆå¾ªç¯çš„å˜é‡ offsetHeightã€offsetWidthæ¯æ¬¡éƒ½è¦åˆ·æ–°ç¼“å†²åŒºï¼Œç¼“å†²æœºåˆ¶è¢«ç ´å å…ˆç”¨å˜é‡å­˜å‚¨ä¸‹æ¥ ä¸è¦ä½¿ç”¨tableå¸ƒå±€ï¼Œå¯èƒ½å¾ˆå°çš„ä¸€ä¸ªå°æ”¹åŠ¨ä¼šé€ æˆæ•´ä¸ªtableçš„é‡æ–°å¸ƒå±€ divåªä¼šå½±å“åç»­æ ·å¼çš„å¸ƒå±€ åŠ¨ç”»å®ç°çš„é€Ÿåº¦çš„é€‰æ‹© é€‰æ‹©åˆé€‚çš„åŠ¨ç”»é€Ÿåº¦ æ ¹æ®performanceé‡åŒ–æ€§èƒ½ä¼˜åŒ– å¯¹äºåŠ¨ç”»æ–°å»ºå›¾å±‚ å¯ç”¨gpuç¡¬ä»¶åŠ é€Ÿ(å¹¶è¡Œè¿ç®—)ï¼ŒgpuåŠ é€Ÿæ„å‘³ç€æ•°æ®éœ€è¦ä»cpuèµ°æ€»çº¿åˆ°gpuä¼ è¾“ï¼Œéœ€è¦è€ƒè™‘ä¼ è¾“æŸè€—. transform:translateZ(0) transform:translate3D(0) æµè§ˆå™¨å­˜å‚¨cookieså¤šç§æµè§ˆå™¨å­˜å‚¨æ–¹å¼å¹¶å­˜ï¼Œå¦‚ä½•é€‰æ‹©ï¼Ÿ å› ä¸ºhttpè¯·æ±‚æ— çŠ¶æ€ï¼Œæ‰€ä»¥éœ€è¦cookieå»ç»´æŒå®¢æˆ·ç«¯çŠ¶æ€ cookieçš„ç”Ÿæˆæ–¹å¼ï¼š httpâ€“&gt;response headerâ€“&gt;set-cookie jsä¸­å¯ä»¥é€šè¿‡document.cookieå¯ä»¥è¯»å†™cookie cookieçš„ä½¿ç”¨ç”¨å¤„ï¼š ç”¨äºæµè§ˆå™¨ç«¯å’ŒæœåŠ¡å™¨ç«¯çš„äº¤äº’(ç”¨æˆ·çŠ¶æ€) å®¢æˆ·ç«¯è‡ªèº«æ•°æ®çš„å­˜å‚¨ expireï¼šè¿‡æœŸæ—¶é—´ cookieçš„é™åˆ¶ï¼š ä½œä¸ºæµè§ˆå™¨å­˜å‚¨ï¼Œå¤§å°4kbå·¦å³ éœ€è¦è®¾ç½®è¿‡æœŸæ—¶é—´ expire é‡è¦å±æ€§ï¼šhttponly ä¸æ”¯æŒjsè¯»å†™(é˜²æ­¢æ”¶åˆ°æ¨¡æ‹Ÿè¯·æ±‚æ”»å‡») ä¸å¤ªä½œä¸ºå­˜å‚¨æ–¹æ¡ˆè€Œæ˜¯ç”¨äºç»´æŠ¤å®¢æˆ·å…³ç³» ä¼˜åŒ–ç‚¹ï¼šcookieä¸­åœ¨ç›¸å…³åŸŸåä¸‹é¢ cdnçš„æµé‡æŸè€— è§£å†³æ–¹æ¡ˆï¼šcdnçš„åŸŸåå’Œä¸»ç«™åŸŸåè¦åˆ†å¼€ WebStoragelocalstorage HTML5è®¾è®¡å‡ºæ¥ä¸“é—¨ç”¨äºæµè§ˆå™¨å­˜å‚¨çš„ å¤§å°ä¸º5Må·¦å³ ä»…åœ¨å®¢æˆ·ç«¯ä½¿ç”¨ï¼Œä¸å’ŒæœåŠ¡ç«¯è¿›è¡Œé€šä¿¡ æ¥å£å°è£…è¾ƒå¥½ æµè§ˆå™¨æœ¬åœ°ç¼“å­˜æ–¹æ¡ˆ sessionstorage ä¼šè¯çº§åˆ«çš„æµè§ˆå™¨å­˜å‚¨ å¤§å°ä¸º5Må·¦å³ ä»…åœ¨å®¢æˆ·ç«¯ä½¿ç”¨ï¼Œä¸å’ŒæœåŠ¡å™¨ç«¯è¿›è¡Œé€šä¿¡ æ¥å£å°è£…è¾ƒå¥½ å¯¹äºè¡¨å•ä¿¡æ¯çš„ç»´æŠ¤ indexedDB IndexedDBæ˜¯ä¸€ç§ä½çº§APIï¼Œç”¨äºå®¢æˆ·ç«¯å­˜å‚¨å¤§é‡ç»“æ„åŒ–æ•°æ®ã€‚è¯¥APIä½¿ç”¨ç´¢å¼•æ¥å®ç°å¯¹è¯¥æ•°æ®çš„é«˜æ€§èƒ½æœç´¢ã€‚è™½ç„¶Web Storageå¯¹äºå­˜å‚¨å«å°‘é‡çš„æ•°æ®å¾ˆç®¡ç”¨ï¼Œä½†å¯¹äºå­˜å‚¨æ›´å¤§é‡çš„ç»“æ„åŒ–æ•°æ®æ¥è¯´ï¼Œè¿™ç§æ–¹æ³•ä¸å¤ªæœ‰ç”¨ã€‚IndexedDBæä¾›äº†ä¸€ä¸ªè§£å†³æ–¹æ¡ˆã€‚ ä¸ºåº”ç”¨åˆ›å»ºç¦»çº¿ç‰ˆæœ¬ cdnåŸŸåä¸è¦å¸¦cookie localstorageå­˜åº“ã€å›¾ç‰‡ cookieç§åœ¨ä¸»ç«™ä¸‹ï¼ŒäºŒçº§åŸŸåä¹Ÿä¼šæºå¸¦è¿™ä¸ªåŸŸåï¼Œé€ æˆæµé‡çš„æµªè´¹ Service Worker äº§ç”Ÿçš„æ„ä¹‰PWA ä¸ Service Worker PWA(Progressive Web Apps)æ˜¯ä¸€ç§Web Appæ–°æ¨¡å‹ï¼Œå¹¶ä¸æ˜¯å…·ä½“æŒ‡æŸä¸€ç§å‰è¨€çš„æŠ€æœ¯æˆ–è€…æŸä¸€ä¸ªå•ä¸€çš„çŸ¥è¯†ç‚¹ï¼Œæˆ‘ä»¬ä»è‹±æ–‡ç¼©å†™æ¥çœ‹å°±èƒ½çœ‹å‡ºæ¥ï¼Œè¿™æ˜¯ä¸€ä¸ªæ¸è¿›å¼çš„Web Appï¼Œæ˜¯é€šè¿‡ä¸€ç³»åˆ—æ–°çš„Webç‰¹æ€§ï¼Œé…åˆä¼˜ç§€çš„UIäº¤äº’è®¾è®¡ï¼Œé€æ­¥å¢å¼ºWeb Appçš„ç”¨æˆ·ä½“éªŒ chrome æ’ä»¶ lighthouse æ£€æµ‹æ˜¯ä¸æ˜¯ä¸€ä¸ªæ¸è¿›å¼web app å½“å‰æ‰‹æœºåœ¨å¼±ç½‘ç¯å¢ƒä¸‹èƒ½ä¸èƒ½åŠ è½½å‡ºæ¥ ç¦»çº¿ç¯å¢ƒä¸‹èƒ½ä¸èƒ½åŠ è½½å‡ºæ¥ ç‰¹ç‚¹ å¯é ï¼šæ²¡æœ‰ç½‘ç»œçš„ç¯å¢ƒä¸­ä¹Ÿèƒ½æä¾›åŸºæœ¬çš„é¡µé¢è®¿é—®ï¼Œè€Œä¸ä¼šå‡ºç°â€œæœªè¿æ¥åˆ°äº’è”ç½‘â€çš„é¡µé¢ å¿«é€Ÿï¼šé’ˆå¯¹ç½‘é¡µæ¸²æŸ“åŠç½‘ç»œæ•°æ®è®¿é—®æœ‰è¾ƒå¥½çš„ä¼˜åŒ– èå…¥(Engaging)ï¼šåº”ç”¨å¯ä»¥è¢«å¢åŠ åˆ°æ‰‹æœºæ¡Œé¢ï¼Œå¹¶ä¸”å’Œæ™®é€šåº”ç”¨ä¸€æ ·æœ‰å…¨å±ã€æ¨é€ç­‰ç‰¹æ€§ service worker service workeræ˜¯ä¸€ä¸ªè„šæœ¬ï¼Œæµè§ˆå™¨ç‹¬ç«‹äºå½“å‰é¡µé¢ï¼Œå°†å…¶åœ¨åå°è¿è¡Œï¼Œä¸ºå®ç°ä¸€äº›ä¸ä¾èµ–é¡µé¢çš„æˆ–è€…ç”¨æˆ·äº¤äº’çš„ç‰¹æ€§æ‰“å¼€äº†ä¸€æ‰‡å¤§é—¨ã€‚åœ¨æœªæ¥è¿™äº›ç‰¹æ€§å°†åŒ…æ‹¬æ¶ˆæ¯æ¨é€ï¼ŒèƒŒæ™¯åå°åŒæ­¥ï¼Œgeofencing(åœ°ç†å›´æ å®šä½)ï¼Œä½†ä»–å°†æ¨å‡ºçš„ç¬¬ä¸€ä¸ªé¦–è¦çš„ç‰¹æ€§ï¼Œå°±æ˜¯æ‹¦æˆªå’Œå¤„ç†ç½‘ç»œè¯·æ±‚çš„èƒ½åŠ›ï¼ŒåŒ…æ‹¬ä»¥ç¼–ç¨‹æ–¹å¼æ¥ç®¡ç†è¢«ç¼“å­˜çš„å“åº”ã€‚ æ¡ˆä¾‹åˆ†æService Workerå­¦ä¹ ä¸å®è·µ äº†è§£servie worker 12chrome://serviceworker-internals/chrome://inspect/#service-worker/ service workerç½‘ç»œæ‹¦æˆªèƒ½åŠ›ï¼Œå­˜å‚¨Cache Storageï¼Œå®ç°ç¦»çº¿åº”ç”¨ indexedDB 12345callback &amp;&amp; callback()å†™æ³•ç›¸å½“äºif(callback)&#123; callback();&#125; cookieã€sessionã€localStorageã€sessionStorageåŸºæœ¬æ“ä½œindexedDBåŸºæœ¬æ“ä½œobject store:å¯¹è±¡å­˜å‚¨æœ¬èº«å°±æ˜¯ç»“æ„åŒ–å­˜å‚¨ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455function openDB(name, callback) &#123; //å»ºç«‹æ‰“å¼€indexdb indexedDB.open var request = window.indexedDB.open(name) request.onerror = function(e) &#123; console.log('on indexedDB error') &#125; request.onsuccess = function(e) &#123; myDB.db = e.target.result callback &amp;&amp; callback() &#125; //from no database to first version,first version to second version... request.onupgradeneeded = function() &#123; console.log('created') var store = request.result.createObjectStore('books', &#123; keyPath: 'isbn' &#125;) console.log(store) var titleIndex = store.createIndex('by_title', 'title', &#123; unique: true &#125;) var authorIndex = store.createIndex('by_author', 'author') store.put(&#123; title: 'quarry memories', author: 'fred', isbn: 123456 &#125;) store.put(&#123; title: 'dafd memories', author: 'frdfaded', isbn: 12345 &#125;) store.put(&#123; title: 'dafd medafdadmories', author: 'frdfdsafdafded', isbn: 12345434 &#125;) &#125; &#125; var myDB = &#123; name: 'tesDB', version: '2.0.1', db: null &#125; function addData(db, storeName) &#123; &#125; openDB(myDB.name, function() &#123; // myDB.db = e.target.result // window.indexedDB.deleteDatabase(myDB.name) &#125;); //åˆ é™¤indexedDB indexDBäº‹åŠ¡transcation ä¸ object storeå»ºç«‹å…³è”å…³ç³»æ¥æ“ä½œobject store å»ºç«‹ä¹‹åˆå¯ä»¥é…ç½® 12345678910var transcation = db.transcation('books', 'readwrite')var store = transcation.objectStore('books')var data =store.get(34314)store.delete(2334)store.add(&#123; title: 'dafd medafdadmories', author: 'frdfdsafdafded', isbn: 12345434&#125;) Service Workerç¦»çº¿åº”ç”¨serviceworkeréœ€è¦httpsåè®® å¦‚ä½•å®ç°ServiceWorkerä¸ä¸»é¡µé¢ä¹‹é—´çš„é€šä¿¡lavas ç¼“å­˜ æœŸæœ›å¤§è§„æ¨¡æ•°æ®èƒ½è‡ªåŠ¨åŒ–ç¼“å­˜ï¼Œè€Œä¸æ˜¯æ‰‹åŠ¨è¿›è¡Œç¼“å­˜ï¼Œéœ€è¦æµè§ˆå™¨ç«¯å’ŒæœåŠ¡å™¨ç«¯åå•†ä¸€ç§ç¼“å­˜æœºåˆ¶ Cache-Controlæ‰€æ§åˆ¶çš„ç¼“å­˜ç­–ç•¥ last-modified å’Œ etag ä»¥åŠæ•´ä¸ªæœåŠ¡ç«¯æµè§ˆå™¨ç«¯çš„ç¼“å­˜æµç¨‹ åŸºäºnodeå®è·µä»¥ä¸Šç¼“å­˜æ–¹å¼ httpheaderå¯ç¼“å­˜æ€§ public:è¡¨æ˜å“åº”å¯ä»¥è¢«ä»»ä½•å¯¹è±¡ï¼ˆåŒ…æ‹¬ï¼šå‘é€è¯·æ±‚çš„å®¢æˆ·ç«¯ï¼Œä»£ç†æœåŠ¡å™¨ï¼Œç­‰ç­‰ï¼‰ç¼“å­˜ã€‚ private:è¡¨æ˜å“åº”åªèƒ½è¢«å•ä¸ªç”¨æˆ·ç¼“å­˜ï¼Œä¸èƒ½ä½œä¸ºå…±äº«ç¼“å­˜ï¼ˆå³ä»£ç†æœåŠ¡å™¨ä¸èƒ½ç¼“å­˜å®ƒï¼‰ã€‚ no-cache:å¼ºåˆ¶æ‰€æœ‰ç¼“å­˜äº†è¯¥å“åº”çš„ç¼“å­˜ç”¨æˆ·ï¼Œåœ¨ä½¿ç”¨å·²å­˜å‚¨çš„ç¼“å­˜æ•°æ®å‰ï¼Œå‘é€å¸¦éªŒè¯å™¨çš„è¯·æ±‚åˆ°åŸå§‹æœåŠ¡å™¨ only-if-cached:è¡¨æ˜å¦‚æœç¼“å­˜å­˜åœ¨ï¼Œåªä½¿ç”¨ç¼“å­˜ï¼Œæ— è®ºåŸå§‹æœåŠ¡å™¨æ•°æ®æ˜¯å¦æœ‰æ›´æ–° åˆ°æœŸ max-age=&lt;seconds&gt;:è®¾ç½®ç¼“å­˜å­˜å‚¨çš„æœ€å¤§å‘¨æœŸï¼Œè¶…è¿‡è¿™ä¸ªæ—¶é—´ç¼“å­˜è¢«è®¤ä¸ºè¿‡æœŸ(å•ä½ç§’)ã€‚ä¸Expiresç›¸åï¼Œæ—¶é—´æ˜¯ç›¸å¯¹äºè¯·æ±‚çš„æ—¶é—´ã€‚ s-maxage=&lt;seconds&gt;:è¦†ç›–max-age æˆ–è€… Expires å¤´ï¼Œä½†æ˜¯ä»…é€‚ç”¨äºå…±äº«ç¼“å­˜(æ¯”å¦‚å„ä¸ªä»£ç†)ï¼Œå¹¶ä¸”ç§æœ‰ç¼“å­˜ä¸­å®ƒè¢«å¿½ç•¥ã€‚cdnç¼“å­˜ max-stale[=&lt;seconds&gt;] è¡¨æ˜å®¢æˆ·ç«¯æ„¿æ„æ¥æ”¶ä¸€ä¸ªå·²ç»è¿‡æœŸçš„èµ„æºã€‚ å¯é€‰çš„è®¾ç½®ä¸€ä¸ªæ—¶é—´(å•ä½ç§’)ï¼Œè¡¨ç¤ºå“åº”ä¸èƒ½è¶…è¿‡çš„è¿‡æ—¶æ—¶é—´ã€‚ min-fresh=&lt;seconds&gt; è¡¨ç¤ºå®¢æˆ·ç«¯å¸Œæœ›åœ¨æŒ‡å®šçš„æ—¶é—´å†…è·å–æœ€æ–°çš„å“åº”ã€‚ é‡æ–°éªŒè¯ å’Œ é‡æ–°åŠ è½½ é‡æ–°éªŒè¯ must-revalidateï¼šç¼“å­˜å¿…é¡»åœ¨ä½¿ç”¨ä¹‹å‰éªŒè¯æ—§èµ„æºçš„çŠ¶æ€ï¼Œå¹¶ä¸”ä¸å¯ä½¿ç”¨è¿‡æœŸèµ„æºã€‚ proxy-revalidateï¼šä¸must-revalidateä½œç”¨ç›¸åŒï¼Œä½†å®ƒä»…é€‚ç”¨äºå…±äº«ç¼“å­˜ï¼ˆä¾‹å¦‚ä»£ç†ï¼‰ï¼Œå¹¶è¢«ç§æœ‰ç¼“å­˜å¿½ç•¥ã€‚ immutable ï¼šè¡¨ç¤ºå“åº”æ­£æ–‡ä¸ä¼šéšæ—¶é—´è€Œæ”¹å˜ã€‚èµ„æºï¼ˆå¦‚æœæœªè¿‡æœŸï¼‰åœ¨æœåŠ¡å™¨ä¸Šä¸å‘ç”Ÿæ”¹å˜ï¼Œå› æ­¤å®¢æˆ·ç«¯ä¸åº”å‘é€é‡æ–°éªŒè¯è¯·æ±‚å¤´ï¼ˆä¾‹å¦‚If-None-Matchæˆ–If-Modified-Sinceï¼‰æ¥æ£€æŸ¥æ›´æ–°ï¼Œå³ä½¿ç”¨æˆ·æ˜¾å¼åœ°åˆ·æ–°é¡µé¢ã€‚åœ¨Firefoxä¸­ï¼Œimmutableåªèƒ½è¢«ç”¨åœ¨ https:// transactions. é‡æ–°åŠ è½½ no-store:ç¼“å­˜ä¸åº”å­˜å‚¨æœ‰å…³å®¢æˆ·ç«¯è¯·æ±‚æˆ–æœåŠ¡å™¨å“åº”çš„ä»»ä½•å†…å®¹ã€‚ no-transform:ä¸å¾—å¯¹èµ„æºè¿›è¡Œè½¬æ¢æˆ–è½¬å˜ã€‚Content-Encoding,Content-Range, Content-Typeç­‰HTTPå¤´ä¸èƒ½ç”±ä»£ç†ä¿®æ”¹ã€‚ä¾‹å¦‚ï¼Œéé€æ˜ä»£ç†å¯ä»¥å¯¹å›¾åƒæ ¼å¼è¿›è¡Œè½¬æ¢ï¼Œä»¥ä¾¿èŠ‚çœç¼“å­˜ç©ºé—´æˆ–è€…å‡å°‘ç¼“æ…¢é“¾è·¯ä¸Šçš„æµé‡ã€‚ no-transformæŒ‡ä»¤ä¸å…è®¸è¿™æ ·åšã€‚ Expires ç¼“å­˜è¿‡æœŸæ—¶é—´ï¼Œç”¨æ¥æŒ‡å®šèµ„æºåˆ°æœŸçš„æ—¶é—´ï¼Œæ˜¯æœåŠ¡å™¨ç«¯çš„æ—¶é—´ç‚¹ å‘Šè¯‰æµè§ˆå™¨åœ¨è¿‡æœŸæ—¶é—´å‰æµè§ˆå™¨å¯ä»¥ç›´æ¥ä»æµè§ˆå™¨ç¼“å­˜ä¸­å­˜å–æ•°æ®ï¼Œè€Œæ— éœ€å†æ¬¡è¯·æ±‚ expiresæ˜¯http1.0çš„æ—¶å€™çš„ http1.1æ—¶å€™ï¼Œæˆ‘ä»¬å¸Œæœ›cacheçš„ç®¡ç†ç»Ÿä¸€è¿›è¡Œï¼Œmax-ageä¼˜å…ˆçº§é«˜äºexpiresï¼Œå½“æœ‰max-ageåœ¨çš„æ—¶å€™expireså¯èƒ½å°±ä¼šè¢«å¿½ç•¥ã€‚ å¦‚æœæ²¡æœ‰è®¾ç½®cache-controlæ—¶å€™ä¼šä½¿ç”¨expires Last-modified å’Œ If-Modified-since åŸºäºå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯åå•†çš„ç¼“å­˜æœºåˆ¶ last-modified â€“&gt; response headerif-modified-since â€“&gt; request header éœ€è¦ä¸cache-controlå…±åŒä½¿ç”¨ last-modifiedæœ‰ä»€ä¹ˆç¼ºç‚¹ï¼Ÿ æŸäº›æœåŠ¡ç«¯ä¸èƒ½è·å–ç²¾ç¡®çš„ä¿®æ”¹æ—¶é—´ æ–‡ä»¶ä¿®æ”¹æ—¶é—´æ”¹äº†ï¼Œä½†æ–‡ä»¶çš„å†…å®¹å´æ²¡æœ‰å˜ Etag å’Œ If-none-match æ–‡ä»¶å†…å®¹çš„hashå€¼ etag â€“&gt;reponse headerif-none-match â€“&gt;request header éœ€è¦ä¸cache-controlå…±åŒä½¿ç”¨ å¥½å¤„ï¼š æ¯”if-modified-sinceæ›´åŠ å‡†ç¡® ä¼˜å…ˆçº§æ¯”etageæ›´é«˜ æµç¨‹å›¾ ) æœåŠ¡ç«¯æ€§èƒ½ä¼˜åŒ–æœåŠ¡ç«¯ç”¨çš„node.jså› ä¸ºå’Œå‰ç«¯ç”¨çš„åŒä¸€ç§è¯­è¨€ï¼Œå¯ä»¥åˆ©ç”¨æœåŠ¡ç«¯è¿ç®—èƒ½åŠ›æ¥è¿›è¡Œç›¸å…³çš„è¿ç®—è€Œå‡å°‘å‰ç«¯çš„è¿ç®— vueæ¸²æŸ“é‡åˆ°çš„é—®é¢˜ vue-ssrå’ŒåŸç†å’Œå¼•ç”¨ vueæ¸²æŸ“é¢ä¸´çš„é—®é¢˜123å…ˆåŠ è½½vue.js=&gt; æ‰§è¡Œvue.jsä»£ç =&gt; ç”Ÿæˆhtml ä»¥å‰æ²¡æœ‰å‰ç«¯æ¡†æ¶æ—¶ï¼Œ ç”¨jsp/phpåœ¨æœåŠ¡ç«¯è¿›è¡Œæ•°æ®çš„å¡«å……ï¼Œå‘é€ç»™å®¢æˆ·ç«¯å°±æ˜¯å·²ç»å¡«å……å¥½æ•°æ®çš„html ä½¿ç”¨jQueryå¼‚æ­¥åŠ è½½æ•°æ® ä½¿ç”¨Reactå’ŒVueå‰ç«¯æ¡†æ¶ ä»£ä»·ï¼šéœ€è¦æ¡†æ¶å…¨éƒ¨åŠ è½½å®Œï¼Œæ‰èƒ½æŠŠé¡µé¢æ¸²æŸ“å‡ºæ¥ï¼Œé¡µé¢çš„é¦–å±æ€§èƒ½ä¸å¥½ å¤šå±‚æ¬¡çš„ä¼˜åŒ–æ–¹æ¡ˆ æ„å»ºå±‚çš„æ¨¡æ¿ç¼–è¯‘ã€‚runtime,compileæ‹†å¼€,æ„å»ºå±‚åšæ¨¡æ¿ç¼–è¯‘å·¥ä½œã€‚webpackæ„å»ºæ—¶å€™ï¼Œç»Ÿä¸€ï¼Œç›´æ¥ç¼–è¯‘æˆruntimeå¯ä»¥æ‰§è¡Œçš„ä»£ç  æ•°æ®æ— å…³çš„prerenderçš„æ–¹å¼ æœåŠ¡ç«¯æ¸²æŸ“ æ–‡ç« æ¥æº å‰ç«¯é¢è¯•ä¹‹è·¯å››(webæ€§èƒ½ä¼˜åŒ–ç¯‡)]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>æ€§èƒ½ä¼˜åŒ–</category>
      </categories>
      <tags>
        <tag>è½¬è½½</tag>
        <tag>æ€§èƒ½ä¼˜åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åŠ¨æ€è·¯ç”±+è·¯ç”±é‰´æƒ]]></title>
    <url>%2Fposts%2F48117%2F</url>
    <content type="text"><![CDATA[åŠ¨æ€è·¯ç”± + è·¯ç”±é‰´æƒè·¯ç”±é‰´æƒä»‹ç»ä¸€èˆ¬Vueçš„æƒé™æ§åˆ¶æœ‰ä¸¤ç§æ–¹æ¡ˆï¼š è·¯ç”±å…ƒä¿¡æ¯(meta) åŠ¨æ€åŠ è½½èœå•å’Œè·¯ç”±(addRoutes) è·¯ç”±å…ƒä¿¡æ¯(meta)å¦‚æœä¸€ä¸ªç½‘ç«™æœ‰ä¸åŒçš„è§’è‰²ï¼Œæ¯”å¦‚ç®¡ç†å‘˜å’Œæ™®é€šç”¨æˆ·ï¼Œè¦æ±‚ä¸åŒçš„è§’è‰²èƒ½è®¿é—®çš„é¡µé¢æ˜¯ä¸ä¸€æ ·çš„ è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥æŠŠæ‰€æœ‰çš„é¡µé¢éƒ½æ”¾åœ¨è·¯ç”±è¡¨é‡Œï¼Œåªè¦åœ¨è®¿é—®çš„æ—¶å€™åˆ¤æ–­ä¸€ä¸‹è§’è‰²æƒé™ã€‚å¦‚æœæœ‰æƒé™å°±è®©è®¿é—®ï¼Œæ²¡æœ‰æƒé™çš„è¯å°±æ‹’ç»è®¿é—®ï¼Œè·³è½¬åˆ°404é¡µé¢ã€‚ vue-router åœ¨æ„å»ºè·¯ç”±æ—¶æä¾›äº†å…ƒä¿¡æ¯ meta é…ç½®æ¥å£ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å…ƒä¿¡æ¯ä¸­æ·»åŠ è·¯ç”±å¯¹åº”çš„æƒé™ï¼Œç„¶ååœ¨è·¯ç”±å®ˆå«ä¸­æ£€æŸ¥ç›¸å…³æƒé™ï¼Œæ§åˆ¶å…¶è·¯ç”±è·³è½¬ã€‚ å¯ä»¥åœ¨æ¯ä¸€ä¸ªè·¯ç”±çš„ meta å±æ€§é‡Œï¼Œå°†èƒ½è®¿é—®è¯¥è·¯ç”±çš„è§’è‰²æ·»åŠ åˆ° roles é‡Œã€‚ç”¨æˆ·æ¯æ¬¡ç™»é™†åï¼Œå°†ç”¨æˆ·çš„è§’è‰²è¿”å›ã€‚ç„¶ååœ¨è®¿é—®é¡µé¢æ—¶ï¼ŒæŠŠè·¯ç”±çš„ meta å±æ€§å’Œç”¨æˆ·çš„è§’è‰²è¿›è¡Œå¯¹æ¯”ï¼Œå¦‚æœç”¨æˆ·çš„è§’è‰²åœ¨è·¯ç”±çš„ roles é‡Œï¼Œé‚£å°±æ˜¯èƒ½è®¿é—®ï¼Œå¦‚æœä¸åœ¨å°±æ‹’ç»è®¿é—®ã€‚ ä»£ç ç¤ºä¾‹1ï¼š è·¯ç”±ä¿¡æ¯ï¼š 123456789101112131415161718routes: [ &#123; path: '/login', name: 'login', meta: &#123; roles: ['admin', 'user'] &#125;, component: () =&gt; import('../components/Login.vue') &#125;, &#123; path: 'home', name: 'home', meta: &#123; roles: ['admin'] &#125;, component: () =&gt; import('../views/Home.vue') &#125;,] é¡µé¢æ§åˆ¶ï¼š 1234567891011//å‡è®¾æœ‰ä¸¤ç§è§’è‰²ï¼šadmin å’Œ user //ä»åå°è·å–çš„ç”¨æˆ·è§’è‰²const role = 'user'//å½“è¿›å…¥ä¸€ä¸ªé¡µé¢æ˜¯ä¼šè§¦å‘å¯¼èˆªå®ˆå« router.beforeEach äº‹ä»¶router.beforeEach((to,from,next)=&gt;&#123; if(to.meta.roles.includes(role))&#123; next() //æ”¾è¡Œ &#125;esle&#123; next(&#123;path:"/404"&#125;) //è·³åˆ°404é¡µé¢ &#125;&#125;) ä»£ç ç¤ºä¾‹2 å½“ç„¶ä¹Ÿå¯ä»¥ç”¨ä¸‹é¢çš„ä¸€ç§æ–¹æ³•ï¼š 12345678910111213141516171819202122232425262728// router.js// è·¯ç”±è¡¨å…ƒä¿¡æ¯[ &#123; path: '', redirect: '/home' &#125;, &#123; path: '/home', meta: &#123; title: 'Home', icon: 'home' &#125; &#125;, &#123; path: '/userCenter', meta: &#123; title: 'ä¸ªäººä¸­å¿ƒ', requireAuth: true // åœ¨éœ€è¦ç™»å½•çš„è·¯ç”±çš„metaä¸­æ·»åŠ å“åº”çš„æƒé™æ ‡è¯† &#125; &#125;]// åœ¨å®ˆå«ä¸­è®¿é—®å…ƒä¿¡æ¯function gaurd (to, from, next) &#123; // to.matched.some(record =&gt; record.meta.requireAuth) // å¯åœ¨æ­¤å¤„&#125; å¯ä»¥åœ¨å¤šä¸ªè·¯ç”±ä¸‹é¢æ·»åŠ è¿™ä¸ªæƒé™æ ‡è¯†ï¼Œè¾¾åˆ°æ§åˆ¶çš„ç›®çš„ åªè¦ä¸€åˆ‡æ¢é¡µé¢ï¼Œå°±éœ€è¦çœ‹æœ‰æ²¡æœ‰è¿™ä¸ªæƒé™ï¼Œæ‰€ä»¥å¯ä»¥åœ¨æœ€å¤§çš„è·¯ç”±ä¸‹ main.js ä¸­é…ç½® å­˜å‚¨ä¿¡æ¯ ä¸€èˆ¬çš„ï¼Œç”¨æˆ·ç™»å½•åä¼šåœ¨æœ¬åœ°å­˜å‚¨ç”¨æˆ·çš„è®¤è¯ä¿¡æ¯ï¼Œå¯ä»¥ç”¨ tokenã€cookie ç­‰,è¿™é‡Œæˆ‘ä»¬ç”¨ tokenã€‚ å°†ç”¨æˆ·çš„tokenä¿å­˜åˆ°localStorageé‡Œï¼Œè€Œç”¨æˆ·ä¿¡æ¯åˆ™å­˜åœ¨å†…å­˜storeä¸­ã€‚è¿™æ ·å¯ä»¥åœ¨vuexä¸­å­˜å‚¨ä¸€ä¸ªæ ‡è®°ç”¨æˆ·ç™»å½•çŠ¶æ€çš„å±æ€§authï¼Œæ–¹ä¾¿æƒé™æ§åˆ¶ã€‚ ä»£ç ç¤ºä¾‹ 12345678910111213141516171819202122232425262728293031323334353637383940// store.js&#123; state: &#123; token: window.localStorage.getItem('token'), auth: false, userInfo: &#123;&#125; &#125;, mutations: &#123; setToken (state, token) &#123; state.token = token window.localStorage.setItem('token', token) &#125;, clearToken (state) &#123; state.token = '' window.localStorage.setItem('token', '') &#125;, setUserInfo (state, userInfo) &#123; state.userInfo = userInfo state.auth = true // è·å–åˆ°ç”¨æˆ·ä¿¡æ¯çš„åŒæ—¶å°†authæ ‡è®°ä¸ºtrueï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥åˆ¤æ–­userInfo &#125; &#125;, actions: &#123; async getUserInfo (ctx, token) &#123; return fetchUserInfo(token).then(response =&gt; &#123; if (response.code === 200) &#123; ctx.commit('setUserInfo', response.data) &#125; return response &#125;) &#125;, async login (ctx, account) &#123; return login(account).then(response =&gt; &#123; if (response.code === 200) &#123; ctx.commit('setUserInfo', response.data.userInfo) ctx.commit('setToken', response.data.token) &#125; &#125;) &#125; &#125;&#125; å†™å¥½è·¯ç”±è¡¨å’Œvuexä¹‹åï¼Œç»™æ‰€æœ‰è·¯ç”±è®¾ç½®ä¸€ä¸ªå…¨å±€å®ˆå«ï¼Œåœ¨è¿›å…¥è·¯ç”±ä¹‹å‰è¿›è¡Œæƒé™æ£€æŸ¥ï¼Œå¹¶å¯¼èˆªåˆ°å¯¹åº”çš„è·¯ç”±ã€‚ 123456789101112131415161718192021222324252627282930// router.jsrouter.beforeEach(async (to, from, next) =&gt; &#123; if (to.matched.some(record =&gt; record.meta.requireAuth)) &#123; // æ£€æŸ¥æ˜¯å¦éœ€è¦ç™»å½•æƒé™ if (!store.state.auth) &#123; // æ£€æŸ¥æ˜¯å¦å·²ç™»å½• if (store.state.token) &#123; // æœªç™»å½•ï¼Œä½†æ˜¯æœ‰tokenï¼Œè·å–ç”¨æˆ·ä¿¡æ¯ try &#123; const data = await store.dispatch('getUserInfo', store.state.token) if (data.code === 200) &#123; next() &#125; else &#123; window.alert('è¯·ç™»å½•') store.commit('clearToken') next(&#123; name: 'Login' &#125;) &#125; &#125; catch (err) &#123; window.alert('è¯·ç™»å½•') store.commit('clearToken') next(&#123; name: 'Login' &#125;) &#125; &#125; else &#123; window.alert('è¯·ç™»å½•') next(&#123; name: 'Login' &#125;) &#125; &#125; else &#123; next() &#125; &#125; else &#123; next() &#125;&#125;) ä¸Šè¿°çš„æ–¹æ³•æ˜¯åŸºäºjwtè®¤è¯æ–¹å¼ï¼Œæœ¬åœ°ä¸æŒä¹…åŒ–ç”¨æˆ·ä¿¡æ¯ï¼Œåªä¿å­˜tokenï¼Œå½“ç”¨æˆ·åˆ·æ–°æˆ–è€…é‡æ–°æ‰“å¼€ç½‘é¡µæ—¶ï¼Œè¿›å…¥éœ€è¦ç™»å½•çš„é¡µé¢éƒ½ä¼šå°è¯•å»è¯·æ±‚ç”¨æˆ·ä¿¡æ¯ï¼Œè¯¥æ“ä½œåœ¨æ•´ä¸ªè®¿é—®è¿‡ç¨‹ä¸­åªè¿›è¡Œä¸€æ¬¡ï¼Œç›´åˆ°åˆ·æ–°æˆ–è€…é‡æ–°æ‰“å¼€ï¼Œå¯¹äºåº”ç”¨åæœŸçš„å¼€å‘ç»´æŠ¤å’Œæ‰©å±•æ”¯æŒéƒ½å¾ˆå¥½ã€‚ åŠ¨æ€åŠ è½½èœå•å’Œè·¯ç”±(addRoutes)æœ‰æ—¶å€™ä¸ºäº†å®‰å…¨ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®ç”¨æˆ·æƒé™æˆ–è€…æ˜¯ç”¨æˆ·å±æ€§å»åŠ¨æ€çš„æ·»åŠ èœå•å’Œè·¯ç”±è¡¨ï¼Œå¯ä»¥å®ç°å¯¹ç”¨æˆ·çš„åŠŸèƒ½è¿›è¡Œå®šåˆ¶ã€‚vue-routeræä¾›äº†addRoutes()æ–¹æ³•ï¼Œå¯ä»¥åŠ¨æ€æ³¨å†Œè·¯ç”±ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒåŠ¨æ€æ·»åŠ è·¯ç”±æ˜¯åœ¨è·¯ç”±è¡¨ä¸­pushè·¯ç”±ï¼Œç”±äºè·¯ç”±æ˜¯æŒ‰é¡ºåºåŒ¹é…çš„ï¼Œå› æ­¤éœ€è¦å°†è¯¸å¦‚404é¡µé¢è¿™æ ·çš„è·¯ç”±æ”¾åœ¨åŠ¨æ€æ·»åŠ çš„æœ€åã€‚ ä»£ç ç¤ºä¾‹ 1234567891011121314151617181920// store.js// å°†éœ€è¦åŠ¨æ€æ³¨å†Œçš„è·¯ç”±æå–åˆ°vuexä¸­const dynamicRoutes = [ &#123; path: '/manage', name: 'Manage', meta: &#123; requireAuth: true &#125;, component: () =&gt; import('./views/Manage') &#125;, &#123; path: '/userCenter', name: 'UserCenter', meta: &#123; requireAuth: true &#125;, component: () =&gt; import('./views/UserCenter') &#125;] åœ¨vuexä¸­æ·»åŠ userRoutesæ•°ç»„ç”¨äºå­˜å‚¨ç”¨æˆ·çš„å®šåˆ¶èœå•ã€‚åœ¨setUserInfoä¸­æ ¹æ®åç«¯è¿”å›çš„èœå•ç”Ÿæˆç”¨æˆ·çš„è·¯ç”±è¡¨ã€‚ 12345678910// store.jssetUserInfo (state, userInfo) &#123; state.userInfo = userInfo state.auth = true // è·å–åˆ°ç”¨æˆ·ä¿¡æ¯çš„åŒæ—¶å°†authæ ‡è®°ä¸ºtrueï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥åˆ¤æ–­userInfo // ç”Ÿæˆç”¨æˆ·è·¯ç”±è¡¨ state.userRoutes = dynamicRoutes.filter(route =&gt; &#123; return userInfo.menus.some(menu =&gt; menu.name === route.name) &#125;) router.addRoutes(state.userRoutes) // æ³¨å†Œè·¯ç”±&#125; ä¿®æ”¹èœå•æ¸²æŸ“ 12345678// App.vue&lt;div id="nav"&gt; &lt;router-link to="/"&gt;ä¸»é¡µ&lt;/router-link&gt;| &lt;router-link to="/login"&gt;ç™»å½•&lt;/router-link&gt; &lt;template v-for="(menu, index) of $store.state.userInfo.menus"&gt; |&lt;router-link :to="&#123; name: menu.name &#125;" :key="index"&gt;&#123;&#123;menu.title&#125;&#125;&lt;/router-link&gt; &lt;/template&gt;&lt;/div&gt; å‰é¢é“ºå«äº†è¿™ä¹ˆå¤šï¼Œç»ˆäºåˆ°æœ¬ç¯‡åšå®¢çš„ä¸»é¢˜äº†ï¼Œä¸‹é¢æˆ‘ä»¬è¦è‡ªå·±å®ç°ä¸€å¥—ã€ŒåŠ¨æ€ç”Ÿæˆæ— é™èœå•+è·¯ç”±ã€çš„æ–¹æ¡ˆï¼Œä¹Ÿå°±æ˜¯ç¬¬äºŒç§è·¯ç”±é‰´æƒã€‚ æœ€ç»ˆå®ç°çš„èœå•åˆ—è¡¨123456ä¸ªäººä¸­å¿ƒ Profile.vueå•†åº— Shop.vueè´­ç‰©è½¦ Cart.vue â””â”€â”€ è´­ç‰©è½¦åˆ—è¡¨ CartList.vue â”œâ”€â”€ å•†å“ Product.vue â””â”€â”€ å½©ç¥¨ Lottery.vue åŸºæœ¬æ€è·¯ åç«¯è¿”å›è·¯ç”±æƒé™åˆ—è¡¨ï¼ˆå¸¦æƒé™æ ‡è¯†ï¼Œå‡å®šä¸ºauthï¼‰ å‰ç«¯è¿›è¡Œå…¨å±€çš„è·¯ç”±æ‹¦æˆªï¼Œåˆ¤æ–­è‡ªèº«æœ‰æ²¡æœ‰è·å–è¿‡åç«¯è¿”å›çš„è·¯ç”±åˆ—è¡¨ å¦‚æœæ²¡æœ‰åˆ™è·å–æ•°æ®å¹¶ä¿å­˜åˆ°vuexä¸­ï¼ŒåŠ¨æ€çš„ç”Ÿæˆèœå•å’Œè·¯ç”±ï¼Œç„¶åè¿›è¡Œnextè·³è½¬ å¦‚æœæœ‰åˆ™ä¸å†è·å–ï¼Œç›´æ¥nextè·³è½¬ å…¶ä¸­ç¬¬ä¸‰æ­¥æ˜¯æ ¸å¿ƒç‚¹ï¼Œå®ƒè¿˜å¯ä»¥ç»†åˆ†ä¸ºä¸‹åˆ—æ­¥éª¤ï¼š èœå•æ å¾€å¾€æœ‰å¤šçº§åµŒå¥—ï¼Œæ‰€ä»¥å¾—æ ¹æ®åç«¯è¿”å›çš„æ•°æ®è¿›è¡Œè½¬æ¢ï¼Œæœ€ç»ˆç”Ÿæˆæ— é™çº§èœå•ï¼›å¹¶åœ¨è½¬æ¢è¿‡ç¨‹ä¸­æ‰¾åˆ°æ‰€æœ‰å¯ä»¥æœ‰æƒè®¿é—®çš„è·¯ç”±åç§°æ¸…å•ï¼ˆæ ¹æ®ä¸Šæ–‡æåˆ°çš„authæ ‡è¯†å¯»æ‰¾ï¼‰ å‰ç«¯åˆ†åˆ«ä¿å­˜ä¸¤ç§è·¯ç”±åˆ—è¡¨ï¼Œç¬¬ä¸€ç§æ˜¯ä¸éœ€è¦æƒé™å°±èƒ½è®¿é—®çš„ï¼Œä¾‹å¦‚é¦–é¡µï¼›ç¬¬äºŒç§æ˜¯éœ€è¦ç­‰çº§æƒé™æ‰èƒ½è®¿é—®çš„è·¯ç”±åˆ—è¡¨ï¼Œä¾‹å¦‚æ–°å¢adminç®¡ç†å‘˜ åŠ¨æ€ç”Ÿæˆè·¯ç”±åˆ—è¡¨ï¼ˆåœ¨ç¬¬äºŒç§è·¯ç”±åˆ—è¡¨ä¸­ï¼Œé€šè¿‡è·¯ç”±åç§°æ¸…å•è¿‡æ»¤ï¼‰ åå°è¿”å›çš„adminè·¯ç”±æƒé™12345678[ &#123;pid:-1,path:'/cart',name:'è´­ç‰©è½¦',id:1,auth:'cart'&#125;, &#123;pid:1,path:'/cart/cart-list',name:'è´­ç‰©è½¦åˆ—è¡¨',id:4,auth:'cart-list'&#125;, &#123;pid:4,path:'/cart/cart-list/lottery',auth:'lottery',id:5,name:'å½©ç¥¨'&#125;, &#123;pid:4,path:'/cart/cart-list/product',auth:'product',id:6,name:'å•†å“'&#125;, &#123;pid:-1,path:'/shop',name:'å•†åº—',id:2,auth:'shop'&#125;, &#123;pid:-1,path:'/profile',name:'ä¸ªäººä¸­å¿ƒ',id:3,auth:'store'&#125;,]; é¡¹ç›®ç”Ÿæˆ12345678vue create menu-auth? Check the features needed for your project: â—‰ Babel â—‰ Router â—‰ Vuex history mode In dedicated config files Save this as a preset for future projects? (y/N) n ç§»é™¤ä¸å¿…è¦çš„æ–‡ä»¶åŠå…¶ä»£ç  components/HelloWorld.vue views/About.vue views/Home.vue ä¸­ .home æ ‡ç­¾ä¸‹æ‰€æœ‰å†…å®¹ï¼Œæœ‰å…³ HelloWorld.vue ç›¸å…³ä»£ç  App.vue ä¸­ #app ä¸‹é™¤ router-view æ‰€æœ‰å†…å®¹ router.js ä¸‹æœ‰å…³ About.vue ç›¸å…³ä»£ç  åç«¯ç”Ÿæˆæ ¹ç›®å½•ä¸‹åˆ›å»º server.js ä½œä¸ºæˆ‘ä»¬çš„æœåŠ¡ç«¯æ–‡ä»¶ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465let express = require('express');let app = express();// åœ¨åç«¯é…ç½®ï¼Œè®©æ‰€æœ‰äººéƒ½å¯ä»¥è®¿é—®apiæ¥å£ è·¨åŸŸé—®é¢˜app.use('*', function (req, res, next) &#123; res.header('Access-Control-Allow-Origin', '*'); // Access-Control-Allow-Headers ,å¯æ ¹æ®æµè§ˆå™¨çš„F12æŸ¥çœ‹,æŠŠå¯¹åº”çš„ç²˜è´´åœ¨è¿™é‡Œå°±è¡Œ res.header('Access-Control-Allow-Headers', 'Content-Type'); res.header('Access-Control-Allow-Methods', '*'); res.header('Content-Type', 'application/json;charset=utf-8'); next();&#125;);// å‰ç«¯è¯·æ±‚çš„è·¯ç”±APIè·¯å¾„app.get('/role', (req, res) =&gt; &#123; res.json(&#123; //å‡å¦‚è¿™æ˜¯åç«¯ç»™æˆ‘ä»¬çš„JSONæ•°æ® menuList: [&#123; pid: -1, path: '/cart', name: 'è´­ç‰©è½¦', id: 1, auth: 'cart' &#125;, &#123; pid: 1, path: '/cart/cart-list', name: 'è´­ç‰©è½¦åˆ—è¡¨', id: 4, auth: 'cart-list' &#125;, &#123; pid: 4, path: '/cart/cart-list/lottery', auth: 'lottery', id: 5, name: 'å½©ç¥¨' &#125;, &#123; pid: 4, path: '/cart/cart-list/product', auth: 'product', id: 6, name: 'å•†å“' &#125;, &#123; pid: -1, path: '/shop', name: 'å•†åº—', id: 2, auth: 'shop' &#125;, &#123; pid: -1, path: '/profile', name: 'ä¸ªäººä¸­å¿ƒ', id: 3, auth: 'profile' &#125;, ], buttonAuth: &#123; edit: true, // å¯ç¼–è¾‘ &#125; &#125;)&#125;)//ç›‘å¬3000ç«¯å£app.listen(3000) ç»ˆç«¯ node server.js å¯åŠ¨ï¼Œæˆ–è€…ä½¿ç”¨ nodemon server.js çƒ­å¯åŠ¨ã€‚ æ–°å»ºè·¯ç”±æ‰€éœ€ç›¸å…³æ–‡ä»¶components/menu/ æ–‡ä»¶ä¸‹æ–°å»ºï¼š cart-list.vue 12345678910111213&lt;template&gt; &lt;div&gt; cart-list &lt;router-view&gt;&lt;/router-view&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; export default &#123;&#125;&lt;/script&gt;&lt;style&gt;&lt;/style&gt; cart.vue 123456789101112131415&lt;template&gt; &lt;div&gt; cart &lt;router-view&gt;&lt;/router-view&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; export default &#123; name: 'cart' &#125;&lt;/script&gt;&lt;style&gt;&lt;/style&gt; lottery.vue 123456789101112&lt;template&gt; &lt;div&gt; lottery &lt;/div&gt;&lt;/template&gt;&lt;script&gt; export default &#123;&#125;&lt;/script&gt;&lt;style&gt;&lt;/style&gt; product.vue 123456789101112&lt;template&gt; &lt;div&gt; product &lt;/div&gt;&lt;/template&gt;&lt;script&gt; export default &#123;&#125;&lt;/script&gt;&lt;style&gt;&lt;/style&gt; profile.vue 123456789101112&lt;template&gt; &lt;div&gt; profile &lt;/div&gt;&lt;/template&gt;&lt;script&gt; export default &#123;&#125;&lt;/script&gt;&lt;style&gt;&lt;/style&gt; shop.vue 123456789101112&lt;template&gt; &lt;div&gt; shop &lt;/div&gt;&lt;/template&gt;&lt;script&gt; export default &#123;&#125;&lt;/script&gt;&lt;style&gt;&lt;/style&gt; æœ€åæ¥ä¸€ä¸ª 404 é¡µé¢ï¼Œæ”¾åœ¨ views/ æ–‡ä»¶å¤¹ä¸‹ï¼š 123456789101112&lt;template&gt; &lt;div&gt; 404 &lt;/div&gt;&lt;/template&gt;&lt;script&gt; export default &#123;&#125;&lt;/script&gt;&lt;style&gt;&lt;/style&gt; é…ç½®è·¯ç”±æ¥åˆ° router.js æ–‡ä»¶é…ç½®è·¯ç”±è¡¨ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859import Vue from 'vue'import Router from 'vue-router'import Home from './views/Home.vue'Vue.use(Router)export default new Router(&#123; mode: 'history', base: process.env.BASE_URL, routes: [ &#123; //è®¿é—®'/'æ—¶ï¼Œé‡å®šå‘åˆ°homeé¡µé¢ path: '/', redirect: '/home' &#125;, &#123; path: '/home', name: 'home', component: Home &#125;, &#123; path: '/cart', name: 'cart', //ä½¿ç”¨æ‡’åŠ è½½ï¼Œå½“ä½¿ç”¨è¿™ä¸ªç»„ä»¶çš„æ—¶å€™å†åŠ è½½èµ„æºï¼Œå½“ç»„ä»¶èµ„æºè¾ƒå¤§æ—¶ï¼Œä¸å»ºè®®ä½¿ç”¨ï¼Œå¯èƒ½ä¼šå‡ºç°ç™½å±ç°è±¡ //è€Œä¸”æœ€å¥½ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼Œ@æ˜¯ç»å¯¹è·¯å¾„çš„æ„æ€,ç›¸å½“äºsrcä¸‹ component: () =&gt; import('@/components/menu/cart.vue'), //é…ç½®å­è·¯ç”± children: [&#123; //å½“é…ç½®å­è·¯ç”±æ—¶ï¼Œæœ€å¥½ä¸è¦åœ¨å‰é¢åŠ '/',æ¯”å¦‚:'/cart-list' path: 'cart-list', name: 'cart-list', component: () =&gt; import('@/components/menu/cart-list.vue'), //é…ç½®å­è·¯ç”± children: [&#123; path: 'lottery', name: 'lottery', component: () =&gt; import('@/components/menu/lottery.vue') &#125;, &#123; path: 'product', name: 'product', component: () =&gt; import('@/components/menu/product.vue') &#125; ] &#125;] &#125;, &#123; path: '/profile', name: 'profile', component: () =&gt; import('@/components/menu/profile.vue') &#125;, &#123; path: '/shop', name: 'shop', component: () =&gt; import('@/components/menu/shop.vue') &#125;, &#123; path: '*', component: () =&gt; import('@/views/404.vue') &#125;, ]&#125;) é…ç½®å®Œæˆå npm run serve è·‘ä¸€ä¸‹é¡¹ç›®ï¼Œåˆ†åˆ«è¿›å…¥å‡ ä¸ªè·¯ç”±è·¯å¾„ï¼Œçœ‹æ˜¯å¦èƒ½æ­£ç¡®æ‰“å¼€ç›¸åº”é¡µé¢ã€‚ è·å–åç«¯adminæƒé™æ•°æ®ä¸ºäº†æ‹¿åˆ°åç«¯è¿”å›çš„æ•°æ®ï¼Œæˆ‘ä»¬éœ€è¦åˆ©ç”¨ axios å‘èµ·å¼‚æ­¥è¯·æ±‚ï¼Œå¹¶æŠŠå“åº”å›æ¥çš„æ•°æ®å­˜æ”¾åˆ° vuex ä¸­å»ï¼Œå¹¶ä¸”è¿˜éœ€è¦å¯¹åç«¯æ•°æ®åšä¸€ä¸ªè½¬æ¢ï¼Œå°†å…¶è½¬æ¢ä¸ºä¸‹é¢æ ¼å¼ï¼š 123456789101112131415// åç«¯æ ¼å¼[ &#123;id: 1, name: 'a', pid: -1&#125;, &#123;id: 2, name: 'b', pid: -1&#125;, &#123;id: 3, name: 'c', pid: 1&#125;, &#123;id: 4, name: 'd', pid: 1&#125;]â†“â†“â†“[ &#123;id: 1, name: 'a', pid: -1, children: [ &#123;id: 3, name: 'c', pid: 1, children: null&#125;, &#123;id: 4, name: 'd', pid: 1, children: null&#125; ]&#125;, &#123;id: 2, name: 'b', pid: -1, children: null&#125;] å®‰è£… axios1npm install axios åœ¨å…¨å±€è·¯ç”±å®ˆå«ä¸­ç›‘å¬æ˜¯å¦å·²è·å–è¿‡è·¯ç”±æƒé™æ•°æ®è·¯ç”±æƒé™çš„æ•°æ®ï¼Œä¸ºäº†å®‰å…¨æˆ‘ä»¬éœ€è¦é¡µé¢åˆ‡æ¢æ—¶å°±å†æ¬¡è·å–ï¼Œæ‰€ä»¥å¯ä»¥ç”¨å…¨å±€è·¯ç”±å®ˆå«å¸®åŠ©æˆ‘ä»¬å®ç°ï¼Œé€»è¾‘å¦‚ä¸‹ï¼š 123456789101112// åªè¦é¡µé¢åˆ‡æ¢å°±æ‰§è¡Œçš„é’©å­router.beforeEach(async (to, from, next) =&gt; &#123; // åˆ¤æ–­å½“å‰æœ‰æ²¡æœ‰è·å–è¿‡æƒé™ï¼Œå¦‚æœè·å–è¿‡äº†ï¼Œå°±ä¸è¦å†è·å–äº† if (!store.state.hasRules) &#123; //è·å–æƒé™ï¼Œè°ƒç”¨è·å–æƒé™çš„æ¥å£ï¼Œå»actionä¸­è·å–æ•°æ® await store.dispatch('getMenuList') next(); &#125; else &#123; //å¦‚æœå·²ç»è·å–äº†æƒé™å°±å¯ä»¥è®¿é—®é¡µé¢äº† next() &#125;&#125;) ç¼–å†™ vuex + æ•°æ®è½¬åŒ–ï¼ˆé€’å½’ï¼‰æ ¹æ®ä¸Šé¢é’©å­å‡½æ•°ä¸­çš„é€»è¾‘ï¼Œåœ¨ vuex ä¸­æ·»åŠ ç›¸åº”å†…å®¹ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243import Vue from 'vue'import Vuex from 'vuex'import axios from 'axios'Vue.use(Vuex)// åç«¯æ•°æ®è½¬åŒ–let formatMenuList = (menuList) =&gt; &#123; function r(pid) &#123; //filterè¿‡æ»¤æ•°ç»„ï¼Œè¿”å›ä¸€ä¸ªæ»¡è¶³è¦æ±‚çš„æ•°ç»„ return menuList.filter(menu =&gt; &#123; //æ ¼å¼åŒ–èœå•å˜æˆæˆ‘ä»¬éœ€è¦çš„ç»“æœ if (menu.pid === pid) &#123; let children = r(menu.id) menu.children = children.length ? children : null return true &#125; &#125;) &#125; return r(-1)&#125;export default new Vuex.Store(&#123; state: &#123; // å­˜æ”¾èœå•æƒé™æ•°æ® menuList: [], // åŸæœ¬åªè¦åˆ¤æ–­menuList.lengthæ˜¯å¦ä¸ä¸ºç©ºå°±èƒ½åˆ¤å®šæ˜¯å¦å·²ç»è·å–è¿‡menuListï¼Œ // ä½†å¦‚æœåå°è¿”å›ç©ºæ•°ç»„å’‹åŠï¼Ÿæ‰€ä»¥æ­¤å¤„è¿˜éœ€è¦ä¸€ä¸ªhasRuleså˜é‡æ¥æ ‡è¯†æ˜¯å¦å·²è·å– // åšæ³•å°±æ˜¯ï¼Œè·å–å®Œæ¯•åï¼ŒæŠŠhasRulesæ”¹ä¸ºtrue hasRules: false, &#125;, mutations: &#123; &#125;, actions: &#123; async getMenuList() &#123; let &#123; data &#125; =await axios.get('http://localhost:3000/role') let menuList = data.menuList menuList = formatMenuList(menuList) console.log(menuList) &#125; &#125;&#125;) ä½†ç›®å‰æœ‰ä¸ªå°é—®é¢˜ï¼Œå³æˆ‘ä»¬åœ¨ router.js ä¸­é…ç½®äº†æ‰€æœ‰è·¯ç”±ï¼Œç„¶åæ ¹æ®åç«¯è¿”å›çš„æƒé™æ¥åŠ¨æ€å±•ç¤ºç›¸åº”èœå•ï¼Œä»è€Œå®ç°è·³è½¬ã€‚ä½†å¦‚æœç”¨æˆ·çŒœå‡ºäº†ä¸å…è®¸ä»–è®¿é—®çš„è·¯ç”±ï¼Œç›´æ¥ä¿®æ”¹urlè·³è½¬æ€ä¹ˆåŠï¼Ÿé‚£ä»–ä¸æ˜¯ä¹Ÿèƒ½è®¿é—®äº†å—ï¼Ÿ æ‰€ä»¥æˆ‘ä»¬éœ€è¦è®©åç«¯åœ¨è¿”å›çš„æ•°æ®ä¸­ï¼Œç»™æ¯ä¸ªè·¯ç”±å¯¹è±¡æ·»åŠ ä¸€ä¸ª æœ€å¼€å§‹æåˆ°çš„ auth æ ‡è¯†ï¼š 1&#123; pid: -1, path: '/cart', name: 'è´­ç‰©è½¦', id: 1, auth: 'cart' &#125; å¦‚æœæœ‰ auth æ ‡è¯†ï¼Œä»£è¡¨å½“å‰ç”¨æˆ·èƒ½å¤Ÿè®¿é—®ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™è¡¨ç¤ºå½“å‰ç”¨æˆ·ä¸èƒ½è®¿é—®ï¼Œè¿™æ ·æˆ‘ä»¬å‰ç«¯å°±èƒ½æ®æ­¤åŠ¨æ€çš„åˆ é™¤æ‰ä¸èƒ½è®¿é—®çš„è·¯ç”±ã€‚ å›åˆ° src/store.js ï¼Œæˆ‘ä»¬éœ€è¦æŠŠåç«¯è¿™ä¸ª auth å±æ€§éƒ½ä¿å­˜èµ·æ¥ã€‚é¦–å…ˆåœ¨ state ä¸­åŠ ä¸Š authList å±æ€§ï¼Œç”¨æ¥å­˜å‚¨å“ªäº›è·¯ç”±èƒ½æœ‰æƒé™è®¿é—®ï¼š 123state: &#123; authList: []&#125; ç„¶ååœ¨ formatMenuList æ–¹æ³•ä¸­ï¼Œæå–æƒé™ï¼š 12345678910111213141516let formatMenuList = (menuList) =&gt; &#123; let arr = [] // [cart, cart-list, profile, ...] function r(pid) &#123; //filterè¿‡æ»¤æ•°ç»„ï¼Œè¿”å›ä¸€ä¸ªæ»¡è¶³è¦æ±‚çš„æ•°ç»„ return menuList.filter(menu =&gt; &#123; //æ ¼å¼åŒ–èœå•å˜æˆæˆ‘ä»¬éœ€è¦çš„ç»“æœ if (menu.pid === pid) &#123; arr.push(menu.auth) // æŠŠåç«¯è¿”å›çš„æ‰€æœ‰è·¯å¾„æƒé™éƒ½æ”¾åˆ°æ•°ç»„ä¸­ let children = r(menu.id) menu.children = children.length ? children : null return true &#125; &#125;) &#125; return &#123; menuL: r(-1), authL: arr &#125;&#125; è¿™æ ·æ”¹é€ åï¼ŒformatMenuList æ–¹æ³•å°±è¿”å›ä¸€ä¸ªå¯¹è±¡äº†ï¼Œè¯¥å¯¹è±¡ä¸­åŒ…å«è·¯ç”±èœå•å’Œè·¯ç”±æƒé™ä¸¤ä¸ªæ•°ç»„ã€‚ ç›¸åº”çš„ï¼Œæˆ‘ä»¬è¿˜å¾—æ”¹é€ ä½¿ç”¨äº† formatMenuList æ–¹æ³•çš„action â€”â€”&gt; getMenuList ï¼š 1234567async getMenuList(&#123; commit &#125;) &#123; let &#123; data &#125; =await axios.get('http://localhost:3000/role') let &#123; menuL, authL &#125; = formatMenuList(data.menuList) console.log(menuL, authL) commit('set_menuList', menuL) commit('set_authList', authL)&#125; å¯¹åº”çš„ï¼Œç¼–å†™ä¸¤ä¸ª mutation ï¼š 1234567set_menuList(state, m) &#123; state.menuList = m&#125;,set_authList(state, a) &#123; state.authList = a state.hasRules = true&#125; ä¿å­˜å console.log ä¸€ä¸‹ï¼ŒmenuList å’Œ authList åˆ†åˆ«å¦‚ä¸‹ï¼š æ¸²æŸ“æ— é™èœå•é…ç½® element-uiå®‰è£…ï¼š 1npm install element-ui main.js ä¸­è¿›è¡Œé…ç½®ï¼š 123import ElementUI from 'element-ui'import 'element-ui/lib/theme-chalk/index.css'Vue.use(ElementUI) åœ¨ Home.vue é¡µé¢ä¸­å¼•å…¥é™æ€èœå•123456789101112131415161718192021222324&lt;template&gt; &lt;div class="home"&gt; &lt;el-menu default-active="2" class="el-menu-vertical-demo"&gt; &lt;el-submenu index="1"&gt; &lt;template slot="title"&gt;å¯¼èˆªä¸€&lt;/template&gt; &lt;el-submenu index="1-1"&gt; &lt;template slot="title"&gt;é€‰é¡¹1-1&lt;/template&gt; &lt;el-menu-item index="1-1-1"&gt;é€‰é¡¹1-1-1&lt;/el-menu-item&gt; &lt;el-menu-item index="1-1-2"&gt;é€‰é¡¹1-1-2&lt;/el-menu-item&gt; &lt;/el-submenu&gt; &lt;el-menu-item index="1-2"&gt;é€‰é¡¹1-2&lt;/el-menu-item&gt; &lt;/el-submenu&gt; &lt;el-menu-item index="2"&gt; å¯¼èˆªäºŒ &lt;/el-menu-item&gt; &lt;el-menu-item index="3"&gt; å¯¼èˆªä¸‰ &lt;/el-menu-item&gt; &lt;el-menu-item index="4"&gt; å¯¼èˆªå›› &lt;/el-menu-item&gt; &lt;/el-menu&gt; &lt;/div&gt;&lt;/template&gt; åˆ·æ–°é¡µé¢åå°±èƒ½æ˜¾ç¤ºé™æ€çš„Elementèœå•äº†ã€‚ä½†ç‚¹å‡»æŸä¸ªèœå•é€‰é¡¹åæµè§ˆå™¨æ— æ³•è·³è½¬ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜å¾—ç»™ &lt;el-menu&gt;&lt;/el-menu&gt; æ ‡ç­¾è®¾ç½®ä¸ª router å±æ€§ä¸º true ï¼Œè¿™æ ·å°±èƒ½æ ¹æ®èœå•çš„ index å±æ€§è¿›è¡Œè·¯ç”±è·³è½¬äº†ï¼š 123456789101112131415161718192021222324&lt;template&gt; &lt;div class="home"&gt; &lt;el-menu default-active="2" class="el-menu-vertical-demo" :router="true"&gt; &lt;el-submenu index="1"&gt; &lt;template slot="title"&gt;å¯¼èˆªä¸€&lt;/template&gt; &lt;el-submenu index="1-1"&gt; &lt;template slot="title"&gt;é€‰é¡¹1-1&lt;/template&gt; &lt;el-menu-item index="1-1-1"&gt;é€‰é¡¹1-1-1&lt;/el-menu-item&gt; &lt;el-menu-item index="1-1-2"&gt;é€‰é¡¹1-1-2&lt;/el-menu-item&gt; &lt;/el-submenu&gt; &lt;el-menu-item index="1-2"&gt;é€‰é¡¹1-2&lt;/el-menu-item&gt; &lt;/el-submenu&gt; &lt;el-menu-item index="2"&gt; å¯¼èˆªäºŒ &lt;/el-menu-item&gt; &lt;el-menu-item index="3"&gt; å¯¼èˆªä¸‰ &lt;/el-menu-item&gt; &lt;el-menu-item index="4"&gt; å¯¼èˆªå›› &lt;/el-menu-item&gt; &lt;/el-menu&gt; &lt;/div&gt;&lt;/template&gt; é™æ€è½¬åŠ¨æ€èœå•æœ€ååˆ©ç”¨åç«¯è·å–çš„adminæƒé™æ•°æ®å°†é™æ€èœå•æ”¹ä¸ºåŠ¨æ€èœå•ï¼š src/views/Home.vue 12345678910111213141516171819202122232425262728293031323334353637383940414243&lt;template&gt; &lt;div class="home"&gt; &lt;el-menu default-active="2" class="el-menu-vertical-demo" :router="true"&gt; &lt;template v-for="m in menuList"&gt; &lt;el-submenu index="1-1" :key="m.auth" v-if="m.children"&gt; &lt;template slot="title"&gt;&#123;&#123;m.name&#125;&#125;&lt;/template&gt; &lt;el-menu-item index="1-1-1"&gt;é€‰é¡¹1-1-1&lt;/el-menu-item&gt; &lt;el-menu-item index="1-1-2"&gt;é€‰é¡¹1-1-2&lt;/el-menu-item&gt; &lt;/el-submenu&gt; &lt;el-menu-item index="1-2" :key="m.auth" v-else&gt;&#123;&#123;m.name&#125;&#125;&lt;/el-menu-item&gt; &lt;/template&gt; &lt;!-- &lt;el-submenu index="1"&gt; &lt;template slot="title"&gt;å¯¼èˆªä¸€&lt;/template&gt; &lt;el-submenu index="1-1"&gt; &lt;template slot="title"&gt;é€‰é¡¹1-1&lt;/template&gt; &lt;el-menu-item index="1-1-1"&gt;é€‰é¡¹1-1-1&lt;/el-menu-item&gt; &lt;el-menu-item index="1-1-2"&gt;é€‰é¡¹1-1-2&lt;/el-menu-item&gt; &lt;/el-submenu&gt; &lt;el-menu-item index="1-2"&gt;é€‰é¡¹1-2&lt;/el-menu-item&gt; &lt;/el-submenu&gt; &lt;el-menu-item index="2"&gt; å¯¼èˆªäºŒ &lt;/el-menu-item&gt; &lt;el-menu-item index="3"&gt; å¯¼èˆªä¸‰ &lt;/el-menu-item&gt; &lt;el-menu-item index="4"&gt; å¯¼èˆªå›› &lt;/el-menu-item&gt; --&gt; &lt;/el-menu&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; import &#123; mapState &#125; from 'vuex' export default &#123; name: 'home', computed: &#123; ...mapState(['menuList']) &#125;, &#125;&lt;/script&gt; æ— é™èœå•ä»”ç»†è§‚å¯Ÿä¸Šæ–¹çš„èœå•æ ¼å¼ï¼Œä¼šå‘ç°ä¸‹é¢è¿™æ®µä»£ç ä¼šé‡å¤å‡ºç°ï¼š 12345678&lt;!-- å¸¦æœ‰å­èœå•çš„ --&gt;&lt;el-submenu index="1-1" :key="m.auth" v-if="m.children"&gt; &lt;template slot="title"&gt;&#123;&#123;m.name&#125;&#125;&lt;/template&gt; &lt;el-menu-item index="1-1-1"&gt;é€‰é¡¹1-1-1&lt;/el-menu-item&gt; &lt;el-menu-item index="1-1-2"&gt;é€‰é¡¹1-1-2&lt;/el-menu-item&gt;&lt;/el-submenu&gt;&lt;!-- ä¸å¸¦æœ‰å­èœå•çš„ --&gt;&lt;el-menu-item index="1-2" :key="m.auth" v-else&gt;&#123;&#123;m.name&#125;&#125;&lt;/el-menu-item&gt; æ‰€ä»¥æˆ‘ä»¬æŠŠå®ƒæå–å‡ºå»å•ç‹¬æ¸²æŸ“ï¼Œè¿™æ ·å°±èƒ½å®ç°æ— é™èœå•äº†ï¼š æ–°å»º src/views/ReSubMenu.vue 123456789101112131415161718192021222324252627282930&lt;template&gt; &lt;!-- å°è£…é€’å½’ç»„ä»¶ --&gt; &lt;el-submenu :index="data.path"&gt; &lt;!-- å­èœå•æ ‡é¢˜ --&gt; &lt;template slot="title"&gt; &lt;router-link :to="data.path"&gt;&#123;&#123;data.name&#125;&#125;&lt;/router-link&gt; &lt;/template&gt; &lt;template v-for="c in data.children"&gt; &lt;!-- è‹¥å­èœå•è¿˜æœ‰childrenï¼Œç»§ç»­é€’å½’è‡ªå·± --&gt; &lt;ReSubMenu :key="c.auth" v-if="data.children" :data="c"&gt; &lt;/ReSubMenu&gt; &lt;!-- æ²¡æœ‰åˆ™ç›´æ¥æ˜¾ç¤º --&gt; &lt;el-menu-item :key="c.auth" v-else :index="c.path"&gt; &#123;&#123;c.name&#125;&#125; &lt;/el-menu-item&gt; &lt;/template&gt; &lt;/el-submenu&gt;&lt;/template&gt;&lt;script&gt; export default &#123; name: "ReSubMenu", props: &#123; data: &#123; type: Object, default: () =&gt; (&#123;&#125;) &#125; &#125; &#125;&lt;/script&gt; ç„¶ååœ¨çˆ¶ç»„ä»¶ Home.vue ä¸­ä½¿ç”¨ï¼š 1234567891011121314151617181920212223242526272829303132&lt;template&gt; &lt;div&gt; &lt;el-menu default-active="2" class="el-menu-vertical-demo" :router="true"&gt; &lt;template v-for="m in menuList"&gt; &lt;!-- é€’å½’ç»„ä»¶ --&gt; &lt;!-- åˆ¤æ–­æ¡ä»¶ï¼šæœ‰childrençš„å°±æ˜¯å¸¦æœ‰å­èœå•çš„ï¼Œä½¿ç”¨é€’å½’ç»„ä»¶ --&gt; &lt;ReSubMenu :data="m" :key="m.auth" v-if="m.children"&gt;&lt;/ReSubMenu&gt; &lt;!-- æ²¡æœ‰childrençš„æƒ…å†µ --&gt; &lt;el-menu-item v-else :key="m.auth" :index="m.path"&gt;&#123;&#123;m.name&#125;&#125;&lt;/el-menu-item&gt; &lt;/template&gt; &lt;/el-menu&gt; &lt;router-view&gt;&lt;/router-view&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; //å¯¼å…¥vuexä¸­çš„æ–¹æ³•ï¼Œå…·ä½“å‚è€ƒæˆ‘çš„æ–‡ç«  import &#123; mapState &#125; from "vuex"; import ReSubMenu from "./ReSubMenu"; export default &#123; name: "home", computed: &#123; //æ ¹æ®åç«¯ä¼ è¿‡æ¥çš„æ•°æ®æ¥æ¸²æŸ“Home ...mapState(["menuList"]) &#125;, components: &#123; ReSubMenu &#125; &#125;;&lt;/script&gt; æ ¹æ®æƒé™åŠ¨æ€æ·»åŠ è·¯ç”±å®ç°äº†æ— é™èœå•åï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥å°±è¦æ ¹æ®ä¹‹å‰ä¿å­˜çš„ authList å®ç°åŠ¨æ€è·¯ç”±äº†ã€‚ ç¬¬ä¸€æ­¥å°±æ˜¯æŠŠ router.js ä¸­çš„è·¯ç”±åˆ—è¡¨åˆ†æˆä¸¤éƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†æ˜¯ä¸éœ€è¦æƒé™å°±èƒ½è®¿é—®çš„ï¼Œå¦ä¸€éƒ¨åˆ†æ˜¯éœ€è¦æ ¹æ®æƒé™åˆ—è¡¨åŠ¨æ€ç”Ÿæˆçš„ï¼Œæˆ‘ä»¬é¦–å…ˆæ¥æŠ½ç¦»ä¹‹å‰åœ¨ routes ä¸­çš„è·¯ç”±åˆ—è¡¨ï¼Œæ‹·è´ä¸€ä»½åå­˜åˆ°ä¸¤ä¸ªå˜é‡ä¸­ï¼Œå…¶ä¸­ authRoutes éœ€è¦ export å¯¼å‡ºï¼Œç­‰ä¼š store.js ä¸­åŒ¹é…ç”¨æˆ·æƒé™æ—¶éœ€è¦ä½¿ç”¨ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354// é»˜è®¤è·¯ç”±åˆ—è¡¨ï¼šä¸éœ€è¦æƒé™å°±èƒ½è®¿é—®çš„let defaultRoutes = [&#123; path: '/', redirect: '/home' &#125;, &#123; path: '/home', name: 'home', component: Home &#125;, &#123; path: '*', component: () =&gt; import('@/views/404.vue') &#125;]// éœ€è¦æƒé™æ‰èƒ½è®¿é—®çš„è·¯ç”±åˆ—è¡¨export let authRoutes = [&#123; path: '/cart', name: 'cart', //ä½¿ç”¨æ‡’åŠ è½½ï¼Œå½“ä½¿ç”¨è¿™ä¸ªç»„ä»¶çš„æ—¶å€™å†åŠ è½½èµ„æºï¼Œå½“ç»„ä»¶èµ„æºè¾ƒå¤§æ—¶ï¼Œä¸å»ºè®®ä½¿ç”¨ï¼Œå¯èƒ½ä¼šå‡ºç°ç™½å±ç°è±¡ //è€Œä¸”æœ€å¥½ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼Œ@æ˜¯ç»å¯¹è·¯å¾„çš„æ„æ€,ç›¸å½“äºsrcä¸‹ component: () =&gt; import('@/components/menu/cart.vue'), //é…ç½®å­è·¯ç”± children: [&#123; //å½“é…ç½®å­è·¯ç”±æ—¶ï¼Œæœ€å¥½ä¸è¦åœ¨å‰é¢åŠ '/',æ¯”å¦‚:'/cart-list' path: 'cart-list', name: 'cart-list', component: () =&gt; import('@/components/menu/cart-list.vue'), //é…ç½®å­è·¯ç”± children: [&#123; path: 'lottery', name: 'lottery', component: () =&gt; import('@/components/menu/lottery.vue') &#125;, &#123; path: 'product', name: 'product', component: () =&gt; import('@/components/menu/product.vue') &#125; ] &#125;] &#125;, &#123; path: '/profile', name: 'profile', component: () =&gt; import('@/components/menu/profile.vue') &#125;, &#123; path: '/shop', name: 'shop', component: () =&gt; import('@/components/menu/shop.vue') &#125;] ç„¶åæŠŠåŸæœ¬ routes åˆ—è¡¨ä¸­çš„æ•°ç»„åˆ é™¤ï¼Œæ”¹ä¸º defaultRoutesï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768import Vue from 'vue'import Router from 'vue-router'import Home from './views/Home.vue'Vue.use(Router)// é»˜è®¤è·¯ç”±åˆ—è¡¨ï¼šä¸éœ€è¦æƒé™å°±èƒ½è®¿é—®çš„let defaultRoutes = [&#123; path: '/', redirect: '/home' &#125;, &#123; path: '/home', name: 'home', component: Home &#125;, &#123; path: '*', component: () =&gt; import('@/views/404.vue') &#125;]// éœ€è¦æƒé™æ‰èƒ½è®¿é—®çš„è·¯ç”±åˆ—è¡¨export let authRoutes = [&#123; path: '/cart', name: 'cart', //ä½¿ç”¨æ‡’åŠ è½½ï¼Œå½“ä½¿ç”¨è¿™ä¸ªç»„ä»¶çš„æ—¶å€™å†åŠ è½½èµ„æºï¼Œå½“ç»„ä»¶èµ„æºè¾ƒå¤§æ—¶ï¼Œä¸å»ºè®®ä½¿ç”¨ï¼Œå¯èƒ½ä¼šå‡ºç°ç™½å±ç°è±¡ //è€Œä¸”æœ€å¥½ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼Œ@æ˜¯ç»å¯¹è·¯å¾„çš„æ„æ€,ç›¸å½“äºsrcä¸‹ component: () =&gt; import('@/components/menu/cart.vue'), //é…ç½®å­è·¯ç”± children: [&#123; //å½“é…ç½®å­è·¯ç”±æ—¶ï¼Œæœ€å¥½ä¸è¦åœ¨å‰é¢åŠ '/',æ¯”å¦‚:'/cart-list' path: 'cart-list', name: 'cart-list', component: () =&gt; import('@/components/menu/cart-list.vue'), //é…ç½®å­è·¯ç”± children: [&#123; path: 'lottery', name: 'lottery', component: () =&gt; import('@/components/menu/lottery.vue') &#125;, &#123; path: 'product', name: 'product', component: () =&gt; import('@/components/menu/product.vue') &#125; ] &#125;] &#125;, &#123; path: '/profile', name: 'profile', component: () =&gt; import('@/components/menu/profile.vue') &#125;, &#123; path: '/shop', name: 'shop', component: () =&gt; import('@/components/menu/shop.vue') &#125;]// éœ€è¦æŸ¥çœ‹å½“å‰ç”¨æˆ·æƒé™æ¥åŠ¨æ€æ·»åŠ è·¯ç”±export default new Router(&#123; mode: 'history', base: process.env.BASE_URL, // é»˜è®¤æ‰€æœ‰ç”¨æˆ·å¯è®¿é—®çš„è·¯ç”±ï¼Œå…¶ä»–éœ€è¦æƒé™çš„åŠ¨æ€åœ¨ main.js ä¸­åŠ¨æ€è£…è½½ç»™å½“å‰routerå¯¹è±¡ routes: defaultRoutes&#125;) å†å›åˆ° main.js ä¸­çš„å…¨å±€é’©å­å‡½æ•°ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ª action æ¥åŠ¨æ€ç”Ÿæˆéœ€è¦æƒé™æ‰èƒ½è®¿é—®çš„è·¯ç”±ï¼š 12345678910111213141516// åªè¦é¡µé¢åˆ‡æ¢å°±æ‰§è¡Œçš„é’©å­router.beforeEach(async (to, from, next) =&gt; &#123; // åˆ¤æ–­å½“å‰æœ‰æ²¡æœ‰è·å–è¿‡æƒé™ï¼Œå¦‚æœè·å–è¿‡äº†ï¼Œå°±ä¸è¦å†è·å–äº† if (!store.state.hasRules) &#123; //è·å–æƒé™ï¼Œè°ƒç”¨è·å–æƒé™çš„æ¥å£ï¼Œå»actionä¸­è·å–æ•°æ® await store.dispatch('getMenuList') // æ‹¿åˆ°åŠ¨æ€ç”Ÿæˆçš„è·¯ç”±åˆ—è¡¨ let r = await store.dispatch('getAuthRoute') // æ·»åŠ åˆ°å½“å‰è·¯ç”±ä¸­ router.addRoutes(r) next() &#125; else &#123; //å¦‚æœå·²ç»è·å–äº†æƒé™å°±å¯ä»¥è®¿é—®é¡µé¢äº† next() &#125;&#125;) æœ€ååœ¨ store.js ä¸­å®ç° getAuthRoute è¿™ä¸ª actionï¼š 1234567891011121314151617181920212223242526272829303132333435...// é¦–å…ˆå¯¼å…¥routerä¸­å®Œæ•´çš„æƒé™è·¯ç”±åˆ—è¡¨import &#123; authRoutes &#125; from './router'Vue.use(Vuex)...// ç„¶ååœ¨routerçš„æ‰€æœ‰æƒé™åˆ—è¡¨ä¸­ï¼ŒåŒ¹é…å½“å‰ç”¨æˆ·å¯ä»¥è®¿é—®çš„æƒé™åˆ—è¡¨// ç”ŸæˆåŠ¨æ€è·¯ç”±let getNeedRoutes = (auth) =&gt; &#123; //['cart','cart-list'....] function r(authRoutes) &#123; return authRoutes.filter(route =&gt; &#123; if (auth.includes(route.name)) &#123; if (route.children) &#123; //å¦‚æœæœ‰å„¿å­ //æ‰¾åˆ°å„¿å­ç»§ç»­çœ‹å­è·¯ç”±çš„æƒé™ route.children = r(route.children) &#125; return true; //æœ‰æƒé™å°±è¿”å› &#125; &#125;) &#125; return r(authRoutes);&#125;export default new Vuex.Store(&#123; ... actions: &#123; .. async getAuthRoute(&#123; commit, state &#125;) &#123; // æœ€åæŠŠå½“å‰éœ€è¦åŠ¨æ€æ·»åŠ çš„è·¯ç”±è¿”å›å‡ºå» let r = getNeedRoutes(state.authList) return r &#125; &#125;&#125;) åˆ°æ­¤ä¸ºæ­¢å°±å®ç°äº†ä¸€å¥— åŠ¨æ€è·¯ç”± + è·¯ç”±é‰´æƒ åŠŸèƒ½ã€‚ é…å¥—ä»£ç åŠ¨æ€è·¯ç”±+è·¯ç”±é‰´æƒ]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>æ¡†æ¶</category>
      </categories>
      <tags>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Vueç»„ä»¶å¼€å‘â€”â€”æ— é™èœå•]]></title>
    <url>%2Fposts%2F23904%2F</url>
    <content type="text"><![CDATA[@vue/cli-service-global æ’ä»¶ä»‹ç»è¯¥npmåŒ…å¯ä»¥è®©ä½ åœ¨é›¶é…ç½®æƒ…å†µä¸‹ï¼Œç›´æ¥ä½¿ç”¨ vue serve å’Œ vue build å‘½ä»¤è·‘ *.vue æ–‡ä»¶ï¼Œå¹¶ä¸”å¯ä»¥æŠŠå®ƒç¼–è¯‘æ‰“åŒ…æˆä¸€ä¸ªVueæ’ä»¶ã€‚ å…¨å±€å®‰è£…1npm install -g @vue/cli-service-global åŸºæœ¬ä½¿ç”¨åœ¨ä»»æ„æ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ª .vue æ–‡ä»¶ï¼Œä¾‹å¦‚ App.vue ï¼š 12345678910111213141516171819&lt;template&gt; &lt;div&gt; &#123;&#123;msg&#125;&#125; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; export default &#123; data() &#123; return &#123; msg: 'Hello world' &#125; &#125;, &#125;&lt;/script&gt;&lt;style lang="scss" scoped&gt;&lt;/style&gt; ç„¶åå‘½ä»¤è¡Œä¸­è¾“å…¥ï¼š 12cd è¯¥.vueæ–‡ä»¶è·¯å¾„vue serve App.vue æœ€åæ‰“å¼€æµè§ˆå™¨è¾“å…¥ http://localhost:8080/ å°±èƒ½çœ‹åˆ°åˆšå»ºçš„ App.vue ç»„ä»¶äº†ã€‚ æ— é™èœå•ç»„ä»¶å¼€å‘æ–‡ä»¶ç»“æ„ Menu ä¸€çº§èœå• MenuItem æˆå‘˜ SubMenu å«å­èœå• â†“ é£Ÿå“ç”Ÿé²œ -&gt; Menu ä¼‘é—²é£Ÿå“ -&gt; SubMenu é›¶é£Ÿå¤§ç¤¼åŒ… -&gt; Menu è‚‰æ¾é¥¼ -&gt; MenuItem è¿›å£é£Ÿå“ -&gt; Menu å’–å•¡è±† -&gt; MenuItem æ–‡ä»¶æˆå‘˜ App.vue 1234567891011121314151617181920212223242526272829303132333435&lt;template&gt; &lt;div id="app"&gt; &lt;Menu&gt; &lt;MenuItem&gt;èœå•1&lt;/MenuItem&gt; &lt;MenuItem&gt;èœå•2&lt;/MenuItem&gt; &lt;MenuItem&gt;èœå•3&lt;/MenuItem&gt; &lt;SubMenu&gt; &lt;!-- &lt;template v-slot:title&gt; ç­‰äº &lt;template #title&gt; --&gt; &lt;template #title&gt; èœå•4 &lt;/template&gt; &lt;MenuItem&gt;èœå•4-1&lt;/MenuItem&gt; &lt;MenuItem&gt;èœå•4-2&lt;/MenuItem&gt; &lt;/SubMenu&gt; &lt;/Menu&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;import Menu from './Menu'import MenuItem from './MenuItem'import SubMenu from './SubMenu' export default &#123; data() &#123; return &#123; msg: 'Hello world' &#125; &#125;, components: &#123; Menu, MenuItem, SubMenu &#125;, &#125;&lt;/script&gt; Menu.vue 1234567891011&lt;template&gt; &lt;ul class="menu"&gt; &lt;slot&gt;&lt;/slot&gt; &lt;/ul&gt;&lt;/template&gt;&lt;script&gt; export default &#123; &#125;&lt;/script&gt; MenuItem.vue 123456789&lt;template&gt; &lt;li&gt;&lt;slot&gt;&lt;/slot&gt;&lt;/li&gt;&lt;/template&gt;&lt;script&gt; export default &#123; &#125;&lt;/script&gt; SubMenu.vue 12345678910111213141516171819202122232425&lt;template&gt; &lt;div&gt; &lt;div class="title" @click="change"&gt; &lt;slot name="title"&gt;&lt;/slot&gt; &lt;/div&gt; &lt;div v-show="flag"&gt; &lt;slot&gt;&lt;/slot&gt; &lt;/div&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; export default &#123; data() &#123; return &#123; flag: false &#125; &#125;, methods: &#123; change() &#123; this.flag = !this.flag &#125; &#125; &#125;&lt;/script&gt; è¿™æ ·ä¸€ä¸ªåŸºæœ¬çš„èœå•ç»“æ„å°±å®Œæˆäº†ï¼ŒäºŒçº§èœå•é»˜è®¤è¢«æŠ˜å ï¼Œç‚¹å‡»èœå•ååå¯ä»¥å±•å¼€èœå•æˆå‘˜ã€‚ å¢åŠ è™šæ‹Ÿæ•°æ®åœ¨ App.vue ä¸‹æ·»åŠ ä¸€ä¸ª menuList æ•°ç»„æ¥æ¨¡æ‹Ÿå¤šçº§èœå•ï¼š 12345678910111213141516171819menuList: [&#123; title: 'èœå•1', children: [ &#123; title: 'èœå•1-1', children: [ &#123; title: 'èœå•1-1-1' &#125;, &#123; title: 'èœå•1-1-2' &#125;, &#123; title: 'èœå•1-1-3', children: [ &#123; title: 'èœå•1-1-3-1' &#125;, &#123; title: 'èœå•1-1-3-2' &#125;, ] &#125;] &#125;, &#123; title: 'èœå•1-2' &#125;, &#123; title: 'èœå•1-3' &#125;] &#125;, &#123; title: 'èœå•2' &#125;, &#123; title: 'èœå•3' &#125;] ä»…æœ‰ä¸€å±‚åµŒå¥—æ—¶çš„å†™æ³• App.vue 12345678910111213141516&lt;Menu&gt; &lt;template v-for="menu in menuList"&gt; &lt;!-- æ²¡æœ‰å­èœå• --&gt; &lt;MenuItem :key="menu.title" v-if="!menu.children"&gt; &#123;&#123;menu.title&#125;&#125; &lt;/MenuItem&gt; &lt;!-- æœ‰å­èœå• --&gt; &lt;SubMenu :key="menu.title" v-else&gt; &lt;template #title&gt; èœå•4 &lt;/template&gt; &lt;MenuItem&gt;èœå•4-1&lt;/MenuItem&gt; &lt;!-- å¦‚æœå­èœå•è¿˜æœ‰å­èœå• --&gt; &lt;/SubMenu&gt; &lt;/template&gt;&lt;/Menu&gt; æˆ‘ä»¬å½“ç„¶ä¸èƒ½åƒä¸Šé¢è¿™æ ·ç¡¬ç¼–ç ï¼Œå¦åˆ™ä¸å¾—ç´¯æ­»ï¼Œè¦æ˜¯ç¢°ä¸Šå¤¸å¼ ç‚¹çš„åå‡ å±‚åµŒå¥—ä¸æ­»å®šäº†å˜›ã€‚æ‰€ä»¥é‡åˆ°è¿™ç§é‡å¤çš„å†…å®¹ï¼Œå°±éœ€è¦æŠ½ç¦»å‡ºå»ã€‚åœ¨ä¸Šé¢ä»£ç ä¸­ï¼Œé‡å¤çš„å†…å®¹å°±æ˜¯ä¸‹é¢è¿™ä¸€éƒ¨åˆ†ï¼š 12345678&lt;!-- æœ‰å­èœå• --&gt;&lt;SubMenu :key="menu.title" v-else&gt; &lt;template #title&gt; èœå•4 &lt;/template&gt; &lt;MenuItem&gt;èœå•4-1&lt;/MenuItem&gt; &lt;!-- å¦‚æœå­èœå•è¿˜æœ‰å­èœå• --&gt;&lt;/SubMenu&gt; æ‰€ä»¥æˆ‘ä»¬æ–°å»ºä¸€ä¸ª ReSubMenu.vue æ¥å°è£…å®ƒï¼š 12345678910111213141516171819202122232425262728293031323334353637383940&lt;template&gt; &lt;SubMenu&gt; &lt;template #title&gt; &#123;&#123;data.title&#125;&#125; &lt;/template&gt; &lt;template v-for="child in data.children"&gt; &lt;MenuItem :key="child.title" v-if="!child.children"&gt;&#123;&#123;child.title&#125;&#125;&lt;/MenuItem&gt; &lt;!-- å¦‚æœå­èœå•è¿˜æœ‰å­èœå•ï¼Œå°±è°ƒç”¨è‡ªå·±ï¼Œå¹¶æŠŠå½“å‰å¯¹è±¡ä¼ è¿‡å» --&gt; &lt;ReSub :key="child.title" :data="child" v-else&gt;&lt;/ReSub&gt; &lt;/template&gt; &lt;/SubMenu&gt;&lt;!-- &#123;title: 'èœå•1', children: [&#123;title: 'èœå•1-1'&#125;, &#123;title: 'èœå•1-2'&#125;, &#123;title: 'èœå•1-3'&#125;]&#125;, --&gt;&lt;/template&gt;&lt;script&gt;import SubMenu from './SubMenu'import MenuItem from './MenuItem' export default &#123; name: 'ReSub', // èµ·åå­—å¯ä»¥ä½¿ç”¨é€’å½’ç»„ä»¶ props: &#123; data: &#123; type: Object, default: () =&gt; (&#123;&#125;) &#125; &#125;, components: &#123; SubMenu, MenuItem &#125;, &#125;&lt;/script&gt;&lt;style lang="css" scoped&gt;&lt;/style&gt; è¿™æ ·ä¸€æ¥æˆ‘ä»¬å°±å®ç°äº†æ— é™èœå•ï¼š å®Œæ•´ä»£ç  App.vue 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081&lt;template&gt; &lt;div id="app"&gt; &lt;Menu&gt; &lt;template v-for="menu in menuList"&gt; &lt;MenuItem :key="menu.title" v-if="!menu.children"&gt; &#123;&#123;menu.title&#125;&#125; &lt;/MenuItem&gt; &lt;!-- æŠŠé‡å¤çš„å†…å®¹ï¼ŒæŠ½ç¦»å‡ºå» --&gt; &lt;ReSubMenu :key="menu.title" v-else :data="menu"&gt; &lt;/ReSubMenu&gt; &lt;/template&gt; &lt;!-- &lt;SubMenu&gt; &lt;template v-slot:title&gt; ç­‰äº &lt;template #title&gt; &lt;template #title&gt; èœå•4 &lt;/template&gt; &lt;MenuItem&gt;èœå•4-1&lt;/MenuItem&gt; &lt;MenuItem&gt;èœå•4-2&lt;/MenuItem&gt; &lt;/SubMenu&gt; --&gt; &lt;/Menu&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; import Menu from './Menu' import MenuItem from './MenuItem' import SubMenu from './SubMenu' import ReSubMenu from './ReSubMenu' export default &#123; data() &#123; return &#123; menuList: [&#123; title: 'èœå•1', children: [ &#123; title: 'èœå•1-1', children: [ &#123; title: 'èœå•1-1-1' &#125;, &#123; title: 'èœå•1-1-2' &#125;, &#123; title: 'èœå•1-1-3', children: [ &#123; title: 'èœå•1-1-3-1' &#125;, &#123; title: 'èœå•1-1-3-2' &#125;, ] &#125;, ] &#125;, &#123; title: 'èœå•1-2' &#125;, &#123; title: 'èœå•1-3' &#125;, ] &#125;, &#123; title: 'èœå•2' &#125;, &#123; title: 'èœå•3' &#125; ] &#125; &#125;, components: &#123; Menu, MenuItem, SubMenu, ReSubMenu &#125;, &#125;&lt;/script&gt; Menu.vue 1234567891011&lt;template&gt; &lt;ul class="menu"&gt; &lt;slot&gt;&lt;/slot&gt; &lt;/ul&gt;&lt;/template&gt;&lt;script&gt; export default &#123; &#125;&lt;/script&gt; MenuItem.vue 123456789&lt;template&gt; &lt;li&gt;&lt;slot&gt;&lt;/slot&gt;&lt;/li&gt;&lt;/template&gt;&lt;script&gt; export default &#123; &#125;&lt;/script&gt; SubMenu.vue 12345678910111213141516171819202122232425262728293031&lt;template&gt; &lt;div&gt; &lt;div class="title" @click="change"&gt; &lt;slot name="title"&gt;&lt;/slot&gt; &lt;/div&gt; &lt;div v-show="flag" class="sub"&gt; &lt;slot&gt;&lt;/slot&gt; &lt;/div&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; export default &#123; data() &#123; return &#123; flag: false &#125; &#125;, methods: &#123; change() &#123; this.flag = !this.flag &#125; &#125; &#125;&lt;/script&gt;&lt;style lang="css" scoped&gt;.sub &#123; padding-left: 20px;&#125;&lt;/style&gt; ReSubMenu.vue 1234567891011121314151617181920212223242526272829303132333435&lt;template&gt; &lt;SubMenu&gt; &lt;template #title&gt; &#123;&#123;data.title&#125;&#125; &lt;/template&gt; &lt;template v-for="child in data.children"&gt; &lt;MenuItem :key="child.title" v-if="!child.children"&gt;&#123;&#123;child.title&#125;&#125;&lt;/MenuItem&gt; &lt;ReSub :key="child.title" :data="child" v-else&gt;&lt;/ReSub&gt; &lt;/template&gt; &lt;/SubMenu&gt;&lt;!-- &#123;title: 'èœå•1', children: [&#123;title: 'èœå•1-1'&#125;, &#123;title: 'èœå•1-2'&#125;, &#123;title: 'èœå•1-3'&#125;]&#125;, --&gt;&lt;/template&gt;&lt;script&gt;import SubMenu from './SubMenu'import MenuItem from './MenuItem' export default &#123; name: 'ReSub', // èµ·åå­—å¯ä»¥ä½¿ç”¨é€’å½’ç»„ä»¶ props: &#123; data: &#123; type: Object, default: () =&gt; (&#123;&#125;) &#125; &#125;, components: &#123; SubMenu, MenuItem &#125;, &#125;&lt;/script&gt;]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>æ¡†æ¶</category>
      </categories>
      <tags>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Eruda-ç§»åŠ¨ç«¯é¡¹ç›®è°ƒè¯•å·¥å…·]]></title>
    <url>%2Fposts%2F41294%2F</url>
    <content type="text"><![CDATA[èµ·å› ä¹‹å‰ç§»åŠ¨ç«¯é¡µé¢è°ƒè¯•æˆ‘éƒ½æ˜¯æ‰‹æœºæ’çº¿è¿ç”µè„‘ç”¨ Chrome æˆ–è€… Safari æå®šçš„ï¼Œç„¶è€Œè¿™ç§æ–¹å¼æŒºéº»çƒ¦çš„ï¼Œèµ·ç æˆ‘è¿™ä¹ˆè§‰å¾—ã€‚ï¼ˆp.s. å¦‚æœä¸ç†Ÿæ‚‰è¿çº¿æ“ä½œæ–¹å¼ï¼Œå¯ä»¥æŸ¥çœ‹æ˜é‡‘çš„è¿™ç¯‡æ–‡ç« ï¼‰åæ¥å°±è€ƒè™‘æœç´¢æ›¿ä»£æ–¹æ¡ˆäº†ï¼Œäºæ˜¯å‘ç°äº† Eruda è¿™æ¬¾è°ƒè¯•å·¥å…·ã€‚ ä»‹ç»ç›´æ¥å¼•ç”¨ä½œè€…å¯¹è¿™æ¬¾æ’ä»¶çš„ä»‹ç»ï¼šEruda æ˜¯ä¸€ä¸ªä¸“ä¸ºæ‰‹æœºç½‘é¡µå‰ç«¯è®¾è®¡çš„è°ƒè¯•é¢æ¿ï¼Œç±»ä¼¼ DevTools çš„è¿·ä½ ç‰ˆï¼Œå…¶ä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼šæ•è· console æ—¥å¿—ã€æ£€æŸ¥å…ƒç´ çŠ¶æ€ã€æ•è·XHRè¯·æ±‚ã€æ˜¾ç¤ºæœ¬åœ°å­˜å‚¨å’Œ Cookie ä¿¡æ¯ç­‰ç­‰ã€‚ æ€»ç»“æ¥è®²ï¼Œä½¿ç”¨å®ƒçš„å¥½å¤„å°±æ˜¯ï¼Œæ‰‹æœºåœ¨ä¸è¿çº¿çš„æƒ…å†µä¸‹è®¿é—®é¡µé¢ï¼Œä¼šåœ¨å³ä¸‹è§’ç”Ÿæˆä¸€ä¸ªæŒ‰é’®ï¼Œç‚¹å‡»ä¼šå¼¹å‡ºä¸€ä¸ªè°ƒè¯•çª—å£ï¼Œèƒ½å¤Ÿåœ¨ä¸Šé¢æŸ¥çœ‹logæ—¥å¿—ç­‰ä¿¡æ¯ï¼Œæ–¹ä¾¿è°ƒè¯•ã€‚ æˆªå›¾ å¦‚ä½•ä½¿ç”¨é€šè¿‡cdn12&lt;script src="//cdn.bootcss.com/eruda/1.5.2/eruda.min.js"&gt;&lt;/script&gt;&lt;script&gt;eruda.init();&lt;/script&gt; é€šè¿‡ npm1npm i eruda -D å…¥å£æ–‡ä»¶ï¼š 12345678910;(function () &#123; if (!/mdebug=true/.test(window.location.href)) return var script = document.createElement('script') script.src = "https://cdn.bootcss.com/eruda/1.5.2/eruda.min.js" script.async = true document.getElementsByTagName('head')[0].appendChild(script) script.onload = function () &#123; eruda.init() &#125;&#125;)() åœ¨éœ€è¦è°ƒè¯•æ—¶ï¼Œç»™åœ°å€æ æœ«å°¾æ­£ä»· mdebug=trueå°±OKäº†ã€‚ èµ„æº github - eruda å¦ä¸€æ¬¾è°ƒè¯•å·¥å…· - vconsole]]></content>
      <categories>
        <category>è°ƒè¯•å·¥å…·</category>
      </categories>
      <tags>
        <tag>æŠ€å·§</tag>
        <tag>è°ƒè¯•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ubuntuä¸‹nginxåŸºæœ¬ä½¿ç”¨]]></title>
    <url>%2Fposts%2F36876%2F</url>
    <content type="text"><![CDATA[å®‰è£… Nginxç»ˆç«¯é”®å…¥ä»¥ä¸‹å‘½ä»¤ï¼š 12sudo apt updatesudo apt install nginx å®‰è£…å®ŒæˆåæŸ¥çœ‹ç‰ˆæœ¬ï¼š 1sudo nginx -v è¾“å‡ºï¼š 1nginx version: nginx/1.14.0 (Ubuntu) é…ç½®é˜²ç«å¢™å¦‚æœä½ æœåŠ¡å™¨æ‰“å¼€äº†é˜²ç«å¢™ï¼Œåˆ™è¿˜éœ€è¦æ‰“å¼€ç«¯å£80å’Œ443ã€‚ç„¶åé”®å…¥ï¼š 1sudo ufw allow 'Nginx Full' ä½ å¯ä»¥é€šè¿‡ä¸‹é¢æ–¹å¼éªŒè¯æ›´æ”¹ï¼š 1sudo ufw status å¦‚æœå‡ºç°ï¼š 12Nginx Full ALLOW Anywhere Nginx Full (v6) ALLOW Anywhere (v6) å°±è¯´æ˜æ›´æ”¹æˆåŠŸã€‚ æµ‹è¯•å®‰è£…æµè§ˆå™¨ä¸­æ‰“å¼€ http://your_ip ï¼Œå°±èƒ½å¤Ÿçœ‹åˆ°é»˜è®¤çš„Nginxæ¬¢è¿é¡µé¢ ä½¿ç”¨systemctlç®¡ç†NginxæœåŠ¡ä½ å¯ä»¥åƒä»»ä½•å…¶ä»– systemd å‘½ä»¤ä¸€æ ·ç®¡ç† Nginx æœåŠ¡ã€‚ è¦åœæ­¢ Nginx æœåŠ¡ï¼Œè¿è¡Œï¼š 1sudo systemctl stop nginx è¦å†æ¬¡å¯åŠ¨ï¼Œè¯·é”®å…¥ï¼š 1sudo systemctl start nginx é‡æ–°å¯åŠ¨NginxæœåŠ¡ï¼š 1sudo systemctl restart nginx åœ¨è¿›è¡Œä¸€äº›é…ç½®æ›´æ”¹åé‡æ–°åŠ è½½ Nginx æœåŠ¡ï¼š 1sudo systemctl reload nginx å¦‚æœä½ æƒ³ç¦ç”¨ Nginx æœåŠ¡åœ¨å¯åŠ¨æ—¶å¯åŠ¨ï¼š 1sudo systemctl disable nginx å¹¶é‡æ–°å¯ç”¨å®ƒï¼š 1sudo systemctl enable nginx ä»¥ä¸Šå‚è€ƒæ¥æºï¼šå¦‚ä½•åœ¨Ubuntu 18.04ä¸Šå®‰è£…Nginx é…ç½®404/etc/nginx/sites-enabled/default ä¸­æ·»åŠ ï¼š 12345678910111213141516171819202122232425server &#123; listen 80 default_server; listen [::]:80 default_server ipv6only=on; . . . error_page 404 /custom_404.html; # ä¹Ÿå¯ä»¥è·³è½¬ä¸€ä¸ªå…¶ä»–é¡µé¢ï¼šhttp://www.baidu.com location = /custom_404.html &#123; root /usr/share/nginx/html; internal; allow 118.232.21.221; # å…è®¸è°è®¿é—® deny 118.245.21.123; # ç¦æ­¢è¿™ä¸ª ip è®¿é—® # å¦‚æœæœ‰ deny all è¿™æ ·ä¸€ä¸ªå‘½ä»¤ï¼Œä¸”åœ¨ allow ä»£ç çš„ä¸Šæ–¹ï¼Œé‚£ä¹ˆå³ä½¿å†™äº† allow ä¹Ÿä¸ä¼šç”Ÿæ•ˆã€‚ &#125; location = /img &#123; allow all; # å…è®¸æ‰€æœ‰äººè®¿é—®(p.s. å½“æœåŠ¡å™¨æ ¹ç›®å½•æ²¡æœ‰imgæ–‡ä»¶å¤¹æ—¶ï¼Œä¼šè·³è½¬404é¡µé¢) &#125; location = /admin &#123; deny all; # å‡å¦‚æœ‰ä¸ªadminç›®å½•ï¼Œä¸å¸Œæœ›è¢«äººè®¿é—®æ—¶è®¾ç½®ã€‚å½“æœ‰äººè®¿é—®æ—¶ï¼ŒæŠ¥403ç¦æ­¢è®¿é—®é”™è¯¯ &#125; location ~ \.php$ &#123; deny all; # æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„æ–¹å¼ç¦æ­¢ä»–äººè®¿é—® .php ç»“å°¾çš„æ–‡ä»¶ &#125;&#125; å‚è€ƒï¼šä½¿ç”¨Nginxçš„error_pageæŒ‡ä»¤è‡ªå®šä¹‰404 50xé”™è¯¯é¡µé¢ å…³é—­è‡ªå¯æœåŠ¡ï¼Œæ¯”å¦‚æ‰“å°æœºå…ˆå®‰è£…ä¸€ä¸ªç±»GUIè½¯ä»¶ï¼Œå¯ä»¥ç®¡ç†è‡ªå¯ï¼š 1sudo apt-get. install sysv-rc-conf è¾“å…¥å‘½ä»¤sysv-rc-confï¼Œå¯ä»¥ç®¡ç†å¼€æœºå¯åŠ¨ç¨‹åºã€‚å¸¦xçš„éƒ½æ˜¯å¼€æœºå¯åŠ¨çš„ å‚è€ƒï¼šå¦‚ä½•å…³é—­ubuntuä¸å¿…è¦çš„å¼€æœºå¯åŠ¨ç¨‹åº é…ç½®è™šæ‹Ÿä¸»æœºï¼šp.s. é»˜è®¤ nginx ç½‘ç«™æ ¹ç›®å½•ä¸º var/www/html åŸºäºç«¯å£å·çš„é…ç½®è¿›å…¥ etc/nginx/sites-available ç›®å½•ä¸‹ï¼Œæ–°å»ºä¸€ä¸ªé…ç½®ï¼Œå‘½åä¸º test ï¼š 1vim test test 123456789101112131415# serveré…ç½®server &#123; listen 8001; # æ¯è¡Œå‘½ä»¤ç»“æŸåˆ«å¿˜äº†åŠ  ; åˆ†å· listen [::]:8001; server_name localhost; #ä½ é…ç½®çš„å¯¹åº”çš„åŸŸå root /var/www/html/html8001; #è®°å¾—åœ¨è¯¥ç›®å½•ä¸‹æ–°å»ºè¿™ä¸ªæ–‡ä»¶å¤¹ä»¥åŠé»˜è®¤index.htmlæ–‡ä»¶ # ä½ çš„é»˜è®¤indexæ–‡ä»¶ index index.html #ä½ çš„rootæ–‡ä»¶æ‰€åœ¨çš„åœ°å€ location / &#123; try_files $uri $uri/ =404; &#125;&#125; ä¿å­˜é€€å‡ºã€‚ ç„¶ååœ¨ç»ˆç«¯åœæ‰ nginx å†é‡å¼€ï¼š 12nginx -s quitnginx â—ï¸æ³¨æ„ï¼šå¦‚æœä½ å¼€å¯äº†é˜²ç«å¢™ï¼Œè®°å¾—æŠŠé…ç½®çš„8001ç«¯å£å¼€æ”¾å‡ºæ¥ï¼š 1sudo ufw allow 8001/tcp å¦å¤–è¿˜éœ€åœ¨é˜¿é‡Œäº‘çš„å®‰å…¨ç»„è§„åˆ™ä¸­æŠŠ 8001 ç«¯å£å¼€å‘å‡ºæ¥ã€‚ åŸºäºIPçš„é…ç½®æŠŠä¸Šé¢ test æ–‡ä»¶ä¸­çš„ server_name æ”¹ä¸ºä½ çš„å…¶ä»–IPå°±å¥½ã€‚ åŸºäºåŸŸåçš„é…ç½®è¿˜æ˜¯ä»¥ä¸Šé¢çš„ test æ–‡ä»¶ä¸ºä¾‹ï¼Œåªéœ€è¦æŠŠ server_name æ”¹ä¸ºä½ çš„åŸŸåå°±å¥½ã€‚ é™¤æ­¤ä¹‹å¤–ï¼Œä½ è¿˜éœ€è¦é…ç½®åŸŸåè§£æï¼Œä¾‹å¦‚ä½ ä½¿ç”¨äº†é˜¿é‡Œäº‘ECSï¼Œé‚£ä¹ˆä½ éœ€è¦è®¿é—®é˜¿é‡Œäº‘çš„åŸŸåè§£ææ·»åŠ è®°å½•ï¼š åœ¨é˜¿é‡Œäº‘çš„æ§åˆ¶å°ä¸­æ‰¾åˆ°åŸŸåç®¡ç†ï¼Œç„¶åé€‰æ‹©é¡¶çº§åŸŸå evelance.cn åé¢çš„â€œè§£æâ€å­—æ ·ã€‚åœ¨æ–°æ‰“å¼€çš„é¡µé¢ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸€ä¸ªæä¾›åŸŸåè§£æçš„ç•Œé¢ï¼Œé€‰æ‹©è§£æç±»å‹ä¸ºAç±»è§£æï¼Œç„¶åè¾“å…¥ mallï¼ˆæˆ‘ä»¬æƒ³è¦çš„äºŒçº§åŸŸåçš„å¤´ï¼‰ï¼Œç„¶ååœ¨åœ°å€é‡Œé¢è¾“å…¥æˆ‘ä»¬åˆšæ‰æŸ¥çœ‹åˆ°çš„ECSçš„å…¬ç½‘ipï¼Œç„¶åç‚¹å‡»ç¡®è®¤ï¼Œä¹‹åæˆ‘ä»¬çš„è§£æå°±ä¼šç”Ÿæ•ˆäº†ã€‚ ä½¿ç”¨ Nginx åå‘ä»£ç†ä»ç„¶ä»¥ test æ–‡ä»¶ä¸ºä¾‹ï¼Œç¤ºä¾‹é…ç½®å¦‚ä¸‹ï¼š 12345678910server &#123; listen 8001; listen [::]:8001; server_name nginx.evelance.cn; location / &#123; proxy_pass http://www.bilibili.com; &#125;&#125; Nginx é€‚é…PCå’Œç§»åŠ¨è®¾å¤‡ åœ¨ /var/www/ ç›®å½•ä¸‹æ–°å»ºä¸¤ä¸ªæ–‡ä»¶å¤¹ï¼Œåˆ†åˆ«ä¸ºï¼špc å’Œ mobile ç›®å½•ï¼š 123cd /var/wwwmkdir pcmkdir mobile åˆ†åˆ«åœ¨ä¸¤ä¸ªç›®å½•ä¸‹æ–°å»º index.html æ–‡ä»¶å¹¶å¯¹åº”é”®å…¥ä¸‹é¢æ–‡å­—ä»¥ç¤ºåŒºåˆ†ï¼š 12&lt;h1&gt;æˆ‘æ˜¯PC&lt;/h1&gt;&lt;h1&gt;æˆ‘æ˜¯Mobile&lt;/h1&gt; è¿›å…¥ /etc/nginx/sites-enabled/ ç›®å½•ï¼Œè¿˜æ˜¯ä»¥ test æ–‡ä»¶ä½œä¸ºç¤ºä¾‹ï¼š 1234567891011121314server &#123; listen 8001; listen [::]:8001; server_name nginx.evelance.cn; location / &#123; root /var/www/pc; if ($http_user_agent ~* '(Android|webOS|iPhone|iPod|BlackBerry)') &#123; root /var/www/mobile; &#125; index index.html; &#125;&#125; é‡å¯ nginx ï¼š 12nginx -s quitnginx å¯ç”¨ gzipè¿›å…¥ /etc/nginx ç›®å½•ï¼Œé€šè¿‡ vim ç¼–è¾‘ nginx.conf æ–‡ä»¶ï¼š 12cd /etc/nginxvim nginx.conf æ‰¾åˆ° Gzip Settings é¡¹ï¼Œå‘ç° nginx é»˜è®¤æ˜¯å¼€å¯ gzip çš„ï¼š 1gzip on; ä½†æˆ‘ä»¬å‘ç° gzip_types é…ç½®é¡¹æ˜¯è¢«æ³¨é‡Šäº†çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦è§£å¼€æ³¨é‡Šå°±å¥½ï¼š 1gzip_types text/plain text/css application/json application/javascript text/html application/xml text/javascript; æœ€åé‡å¯ nginx 12nginx -s quitnginx]]></content>
      <categories>
        <category>åç«¯</category>
        <category>æœåŠ¡å™¨</category>
        <category>Ubuntu</category>
      </categories>
      <tags>
        <tag>ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ubuntuä¸‹å¼€å¯/å…³é—­é˜²ç«å¢™åŠç«¯å£çš„å‘½ä»¤(ç¬”è®°)]]></title>
    <url>%2Fposts%2F60660%2F</url>
    <content type="text"><![CDATA[å¼€å¯é˜²ç«å¢™1sudo ufw enable å…³é—­é˜²ç«å¢™1sudo ufw disable é‡å¯é˜²ç«å¢™1sudo ufw reload æŸ¥çœ‹ç«¯å£å¼€å¯çŠ¶æ€1sudo ufw status å¼€å¯æŸä¸ªç«¯å£1sudo ufw allow 8001/tcp ç¦æ­¢å¤–éƒ¨æŸä¸ªç«¯å£1sudo ufw delete allow 8001/tcp æŸ¥çœ‹ç«¯å£ip1netstat -ltn]]></content>
      <categories>
        <category>åç«¯</category>
        <category>æœåŠ¡å™¨</category>
        <category>Ubuntu</category>
      </categories>
      <tags>
        <tag>ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é˜¿é‡Œäº‘äº‘æœåŠ¡å™¨ECSè´­ä¹°ä¸ä½¿ç”¨ï¼ˆç¬”è®°ï¼‰]]></title>
    <url>%2Fposts%2F58410%2F</url>
    <content type="text"><![CDATA[è´­ä¹°è¿›å…¥é˜¿é‡Œäº‘ä¸‹æ‹‰èœå•é€‰æ‹© ecs ï¼š æˆ‘è´­ä¹°çš„é…ç½®å¦‚ä¸‹ï¼š è´­ä¹°åå®ä¾‹å°±è¿è¡Œäº†ï¼Œè¿œç¨‹è¿æ¥åå®‰è£…ä¸€ç³»åˆ—åŒ…å’Œè½¯ä»¶ï¼š å¦‚ä½•å®‰è£…é˜¿é‡Œäº‘æœåŠ¡å™¨ECS LAMPç¯å¢ƒå®‰è£…ï¼ˆUbuntuï¼‰é˜¿é‡Œäº‘ECSäº‘æœåŠ¡å™¨å¤–ç½‘IPæ— æ³•è®¿é—® åŸŸåè§£æé˜¿é‡Œäº‘å¦‚ä½•è§£æåŸŸå Github Page è‡ªå®šä¹‰åŸŸå åˆ›å»º Github Page å¹¶è®¾ç½®è‡ªå®šä¹‰åŸŸå æ·»åŠ  CNAME æ–‡ä»¶åˆ°ä½ çš„å­˜å‚¨åº“ä¸­ Ubuntu å®‰è£… nodejs https://blog.5udou.cn/blog/A-Li-Yun-UbuntuDa-Jian-NodeJsHuan-Jing-75 ubuntu å›¾å½¢ç•Œé¢ä¸‹æ— æ³•ç”¨rootç™»å½•è§£å†³åŠæ³•å…ˆæŒ‰ç…§ è¿™ä¸ªæ•™ç¨‹ èµ°ï¼Œä½†æœ€åä¸é‡å¯ã€‚ç„¶åè½¬åˆ° è¿™ä¸ªæ•™ç¨‹ï¼Œæ‰§è¡Œç¬¬ä¸‰æ­¥ï¼Œä¹Ÿå°±æ˜¯ä¸‹é¢è¿™æ®µï¼š è¿›å…¥/etc/pam.dæ–‡ä»¶å¤¹ä¸‹ï¼Œä¿®æ”¹gdm-autologinå’Œgdm-passwdæ–‡ä»¶å†…å®¹(é¦–å…ˆä¿®æ”¹æ–‡ä»¶æƒé™ï¼Œå‚è€ƒæ­¥éª¤2çš„æ“ä½œ) gdm-autologinæ–‡ä»¶æ³¨é‡Šæ‰auth required pam_success_if.so user!=root quiet_successè¿™ä¸€è¡Œ gdm-passwdæ–‡ä»¶æ³¨é‡Šæ‰auth required pam_success_if.so user!=root quiet_successè¿™ä¸€è¡Œ åšå®Œåé‡å¯ç„¶åç‚¹å‡»ç™»å½•å…¶ä»–ç”¨æˆ·ï¼Œè¾“å…¥rootå’Œå¯†ç rootï¼ˆè¿™ä¸ªå¯†ç åœ¨ä¸Šé¢ç¬¬ä¸€ä¸ªæ•™ç¨‹ä¸­å·²ç»è‡ªå·±è®¾ç½®äº†ï¼‰å°±å¥½ã€‚ å®‰è£… LAMP ç¯å¢ƒåœ¨ubuntu16.04ä¸­ä¸€é”®åˆ›å»ºLAMPç¯å¢ƒ ç¼–è¾‘æ–‡ä»¶ é€€å‡º mysql å‘½ä»¤è¡Œï¼šexit vi ç¼–è¾‘æ–‡ä»¶ æŒ‰ä¸‹ i è¡¨ç¤ºç¼–è¾‘ æŒ‰ä¸‹ esc é€€å‡ºç¼–è¾‘æ¨¡å¼ æŒ‰ä¸‹ :wq ä¿å­˜é€€å‡º mysql æ“ä½œç™»å½• mysql -u root -p -u è¡¨ç¤ºé€‰æ‹©ç™»é™†çš„ç”¨æˆ·åï¼Œ -p è¡¨ç¤ºç™»é™†çš„ç”¨æˆ·å¯†ç ï¼Œç°åœ¨æ˜¯mysqlæ•°æ®åº“æ˜¯æ²¡æœ‰å¯†ç çš„ï¼ŒEnter password:å¤„ç›´æ¥å›è½¦ï¼Œå°±èƒ½å¤Ÿè¿›å…¥mysqlæ•°æ®åº“ã€‚ å¯¼å…¥å¯¼å‡ºubuntuä¸‹mysqlæ•°æ®åº“çš„å¯¼å…¥å¯¼å‡º å®‰è£… å›¾å½¢åŒ– mysql-workbenchå®‰è£…mysqlæœåŠ¡ï¼ŒåŠå®‰è£…å›¾å½¢åŒ–ç®¡ç†ç•Œé¢ æ‰“å¼€mysqlå›¾å½¢åŒ–åæ— æ³•è¿æ¥æ•°æ®åº“Unbuntu ä¸‹ Mysql è¿æ¥ MysqlWorkBench å‡ºç°é”™è¯¯ åœ¨ ubuntu ä¸‹æ­å»º ftp æœåŠ¡å™¨ å¦‚ä½•åœ¨Ubuntu 18.04ä¸Šä¸ºç”¨æˆ·ç›®å½•è®¾ç½®vsftpdæ‰§è¡Œå®Œä¸Šé¢æ“ä½œåï¼Œä¼šå‘ç°ä¸‹é¢ä¸¤ä¸ªé—®é¢˜ï¼ŒæŒ‰æ–¹æ³•è°ƒæ•´å°±å¥½ï¼š ä½¿ç”¨FileZilla FTPä¸‹è½½æ—¶æç¤ºâ€œä¸å®‰å…¨çš„æœåŠ¡å™¨ï¼Œä¸æ”¯æŒFTPover TLSâ€,å’Œâ€œæœåŠ¡å™¨ä¸æ”¯æŒéASCIIå­—ç¬¦â€ ftpè¿æ¥é”™è¯¯â€”â€”æœåŠ¡å™¨å‘å›äº†ä¸å¯è·¯ç”±çš„åœ°å€ã€‚ä½¿ç”¨æœåŠ¡å™¨åœ°å€ä»£æ›¿ã€‚ ä»‹ç»FTPæ˜¯æ–‡ä»¶ä¼ è¾“åè®®çš„ç¼©å†™ï¼Œæ˜¯ä¸€ç§æ›¾ç»å¹¿æ³›ç”¨äºåœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´ç§»åŠ¨æ–‡ä»¶çš„ç½‘ç»œåè®®ã€‚ å®ƒå·²è¢«æ›´å¿«ï¼Œæ›´å®‰å…¨ï¼Œæ›´æ–¹ä¾¿çš„æ–‡ä»¶ä¼ è¾“æ–¹å¼æ‰€å–ä»£ã€‚ è®¸å¤šä¼‘é—²äº’è”ç½‘ç”¨æˆ·å¸Œæœ›é€šè¿‡httpsç›´æ¥ä»ä»–ä»¬çš„ç½‘ç»œæµè§ˆå™¨ä¸‹è½½ï¼Œå‘½ä»¤è¡Œç”¨æˆ·æ›´æœ‰å¯èƒ½ä½¿ç”¨å®‰å…¨åè®®ï¼Œå¦‚scpæˆ–SFTP ã€‚ FTPä»ç„¶ç”¨äºæ”¯æŒå…·æœ‰ç‰¹å®šéœ€æ±‚çš„é—ç•™åº”ç”¨ç¨‹åºå’Œå·¥ä½œæµã€‚ å¦‚æœæ‚¨å¯ä»¥é€‰æ‹©ä½¿ç”¨å“ªç§åè®®ï¼Œè¯·è€ƒè™‘æ¢ç´¢æ›´ç°ä»£çš„é€‰é¡¹ã€‚ ä½†æ˜¯ï¼Œå½“æ‚¨ç¡®å®éœ€è¦FTPæ—¶ï¼Œvsftpdæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ã€‚ vsftpdé’ˆå¯¹å®‰å…¨æ€§ï¼Œæ€§èƒ½å’Œç¨³å®šæ€§è¿›è¡Œäº†ä¼˜åŒ–ï¼Œå¯ä»¥å¾ˆå¥½åœ°é˜²èŒƒå…¶ä»–FTPæœåŠ¡å™¨ä¸­å­˜åœ¨çš„è®¸å¤šå®‰å…¨é—®é¢˜ï¼Œå¹¶ä¸”æ˜¯è®¸å¤šLinuxå‘è¡Œç‰ˆçš„é»˜è®¤è®¾ç½®ã€‚ åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæ‚¨å°†é…ç½®vsftpdä»¥å…è®¸ç”¨æˆ·ä½¿ç”¨å…·æœ‰SSL / TLSä¿æŠ¤çš„ç™»å½•å‡­æ®çš„FTPå°†æ–‡ä»¶ä¸Šè½½åˆ°å…¶ä¸»ç›®å½•ã€‚ å…ˆå†³æ¡ä»¶è¦å­¦ä¹ æœ¬æ•™ç¨‹ï¼Œæ‚¨éœ€è¦ï¼š Ubuntu 18.04æœåŠ¡å™¨å’Œå…·æœ‰sudoæƒé™çš„érootç”¨æˆ· ï¼šæ‚¨å¯ä»¥åœ¨ä½¿ç”¨Ubuntu 18.04æŒ‡å—çš„åˆå§‹æœåŠ¡å™¨è®¾ç½®ä¸­äº†è§£æœ‰å…³å¦‚ä½•ä½¿ç”¨è¿™äº›æƒé™è®¾ç½®ç”¨æˆ·çš„æ›´å¤šä¿¡æ¯ã€‚ ç¬¬1æ­¥ - å®‰è£…vsftpdè®©æˆ‘ä»¬é¦–å…ˆæ›´æ–°æˆ‘ä»¬çš„åŒ…åˆ—è¡¨å¹¶å®‰è£…vsftpdå®ˆæŠ¤è¿›ç¨‹ï¼š 12sudo apt updatesudo apt install vsftpd å®‰è£…å®Œæˆåï¼Œè®©æˆ‘ä»¬å¤åˆ¶é…ç½®æ–‡ä»¶ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ä»ç©ºç™½é…ç½®å¼€å§‹ï¼Œå°†åŸä»¶ä¿å­˜ä¸ºå¤‡ä»½ï¼š 1sudo cp /etc/vsftpd.conf /etc/vsftpd.conf.orig é€šè¿‡å¤‡ä»½é…ç½®ï¼Œæˆ‘ä»¬å·²å‡†å¤‡å¥½é…ç½®é˜²ç«å¢™ã€‚ ç¬¬2æ­¥ - æ‰“å¼€é˜²ç«å¢™æ³¨æ„ï¼š æœ€åæˆ‘ä»¬è¿˜å¾—æ‰“å¼€ 80 å’Œ 8080 ç«¯å£ï¼ï¼ï¼ è®©æˆ‘ä»¬æ£€æŸ¥é˜²ç«å¢™çŠ¶æ€ä»¥æŸ¥çœ‹å®ƒæ˜¯å¦å·²å¯ç”¨ã€‚ å¦‚æœæ˜¯ï¼Œæˆ‘ä»¬å°†ç¡®ä¿å…è®¸FTPæµé‡ï¼Œå› æ­¤é˜²ç«å¢™è§„åˆ™ä¸ä¼šé˜»æ­¢æˆ‘ä»¬çš„æµ‹è¯•ã€‚ æ£€æŸ¥é˜²ç«å¢™çŠ¶æ€ï¼š 1sudo ufw status åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåªå…è®¸SSHé€šè¿‡ï¼š 123456OutputStatus: activeTo Action From-- ------ ----OpenSSH ALLOW AnywhereOpenSSH (v6) ALLOW Anywhere (v6) æ‚¨å¯èƒ½æœ‰å…¶ä»–è§„åˆ™æˆ–æ ¹æœ¬æ²¡æœ‰é˜²ç«å¢™è§„åˆ™ã€‚ ç”±äºåœ¨è¿™ç§æƒ…å†µä¸‹åªå…è®¸SSHæµé‡ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä¸ºFTPæµé‡æ·»åŠ è§„åˆ™ã€‚ è®©æˆ‘ä»¬æ‰“å¼€ç«¯å£20å’Œ21ç”¨äºFTPï¼Œç«¯å£990ç”¨äºå¯ç”¨TLSï¼Œç«¯å£40000-50000ç”¨äºæˆ‘ä»¬è®¡åˆ’åœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½®çš„è¢«åŠ¨ç«¯å£èŒƒå›´ï¼š 12345sudo ufw allow 20/tcpsudo ufw allow 21/tcpsudo ufw allow 990/tcpsudo ufw allow 40000:50000/tcpsudo ufw status æˆ‘ä»¬çš„é˜²ç«å¢™è§„åˆ™ç°åœ¨åº”å¦‚ä¸‹æ‰€ç¤ºï¼š 1234567891011121314OutputStatus: activeTo Action From-- ------ ----OpenSSH ALLOW Anywhere990/tcp ALLOW Anywhere20/tcp ALLOW Anywhere21/tcp ALLOW Anywhere40000:50000/tcp ALLOW AnywhereOpenSSH (v6) ALLOW Anywhere (v6)20/tcp (v6) ALLOW Anywhere (v6)21/tcp (v6) ALLOW Anywhere (v6)990/tcp (v6) ALLOW Anywhere (v6)40000:50000/tcp (v6) ALLOW Anywhere (v6) p.s. å¦‚ä½•åˆ é™¤ä¸€ä¸ªruleï¼šsudo ufw delete allow 80/tcp å®‰è£…äº†vsftpdå¹¶æ‰“å¼€äº†å¿…è¦çš„ç«¯å£åï¼Œæˆ‘ä»¬ç»§ç»­åˆ›å»ºä¸€ä¸ªä¸“ç”¨çš„FTPç”¨æˆ·ã€‚ ç¬¬3æ­¥ - å‡†å¤‡ç”¨æˆ·ç›®å½•æˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªä¸“ç”¨çš„FTPç”¨æˆ·ï¼Œä½†æ‚¨å¯èƒ½å·²ç»æœ‰ä¸€ä¸ªéœ€è¦FTPè®¿é—®çš„ç”¨æˆ·ã€‚ æˆ‘ä»¬å°†æ³¨æ„ä¿ç•™ç°æœ‰ç”¨æˆ·å¯¹ä»¥ä¸‹è¯´æ˜ä¸­çš„æ•°æ®çš„è®¿é—®æƒé™ã€‚ å³ä¾¿å¦‚æ­¤ï¼Œæˆ‘ä»¬å»ºè®®æ‚¨åœ¨é…ç½®å’Œæµ‹è¯•è®¾ç½®ä¹‹å‰å…ˆä¸æ–°ç”¨æˆ·è”ç³»ã€‚ é¦–å…ˆï¼Œæ·»åŠ ä¸€ä¸ªæµ‹è¯•ç”¨æˆ·ï¼š 1sudo adduser sammy å‡ºç°æç¤ºæ—¶åˆ†é…å¯†ç ã€‚ éšæ„é€šè¿‡å…¶ä»–æç¤ºæŒ‰ENTER ã€‚ å½“ç”¨æˆ·è¢«é™åˆ¶åœ¨ç‰¹å®šç›®å½•æ—¶ï¼ŒFTPé€šå¸¸æ›´å®‰å…¨ã€‚ vsftpdç”¨chroot jailså®Œæˆäº†è¿™ä¸ªã€‚ ä¸ºæœ¬åœ°ç”¨æˆ·å¯ç”¨chroot ï¼Œé»˜è®¤æƒ…å†µä¸‹å®ƒä»¬ä»…é™äºå…¶ä¸»ç›®å½•ã€‚ ä½†æ˜¯ï¼Œç”±äºvsftpdä¿æŠ¤ç›®å½•çš„æ–¹å¼ï¼Œç”¨æˆ·ä¸èƒ½å†™å…¥ã€‚ è¿™å¯¹äºåªåº”é€šè¿‡FTPè¿æ¥çš„æ–°ç”¨æˆ·æ¥è¯´å¾ˆå¥½ï¼Œä½†å¦‚æœç°æœ‰ç”¨æˆ·ä¹Ÿå…·æœ‰shellè®¿é—®æƒé™ï¼Œåˆ™å¯èƒ½éœ€è¦å†™å…¥å…¶ä¸»æ–‡ä»¶å¤¹ã€‚ åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œä¸æ˜¯ä»ä¸»ç›®å½•ä¸­åˆ é™¤å†™æƒé™ï¼Œè€Œæ˜¯åˆ›å»ºä¸€ä¸ªftpç›®å½•ä½œä¸ºchrootå’Œä¸€ä¸ªå¯å†™filesç›®å½•æ¥ä¿å­˜å®é™…æ–‡ä»¶ã€‚ åˆ›å»ºftpæ–‡ä»¶å¤¹ï¼š 1sudo mkdir /home/sammy/ftp è®¾ç½®æ‰€æœ‰æƒï¼š 1sudo chown nobody:nogroup /home/sammy/ftp åˆ é™¤å†™æƒé™ï¼š 1sudo chmod a-w /home/sammy/ftp éªŒè¯æƒé™ï¼š 1234sudo ls -la /home/sammy/ftpOutputtotal 84 dr-xr-xr-x 2 nobody nogroup 4096 Aug 24 21:29 .4 drwxr-xr-x 3 sammy sammy 4096 Aug 24 21:29 .. æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬åˆ›å»ºæ–‡ä»¶ä¸Šä¼ ç›®å½•å¹¶ä¸ºç”¨æˆ·åˆ†é…æ‰€æœ‰æƒï¼š 12sudo mkdir /home/sammy/ftp/filessudo chown sammy:sammy /home/sammy/ftp/files å¯¹ftpç›®å½•çš„æƒé™æ£€æŸ¥åº”è¿”å›ä»¥ä¸‹å†…å®¹ï¼š 12345sudo ls -la /home/sammy/ftpOutputtotal 12dr-xr-xr-x 3 nobody nogroup 4096 Aug 26 14:01 .drwxr-xr-x 3 sammy sammy 4096 Aug 26 13:59 ..drwxr-xr-x 2 sammy sammy 4096 Aug 26 14:01 files æœ€åï¼Œè®©æˆ‘ä»¬æ·»åŠ ä¸€ä¸ªtest.txtæ–‡ä»¶ï¼Œä»¥ä¾¿åœ¨æµ‹è¯•æ—¶ä½¿ç”¨ï¼š 1echo &quot;vsftpd test file&quot; | sudo tee /home/sammy/ftp/files/test.txt ç°åœ¨æˆ‘ä»¬å·²ç»ä¿æŠ¤äº†ftpç›®å½•å¹¶å…è®¸ç”¨æˆ·è®¿é—®filesç›®å½•ï¼Œè®©æˆ‘ä»¬ä¿®æ”¹æˆ‘ä»¬çš„é…ç½®ã€‚ ç¬¬4æ­¥ - é…ç½®FTPè®¿é—®æˆ‘ä»¬è®¡åˆ’å…è®¸å…·æœ‰æœ¬åœ°shellå¸æˆ·çš„å•ä¸ªç”¨æˆ·ä¸FTPè¿æ¥ã€‚ è¿™ä¸¤ä¸ªå…³é”®è®¾ç½®å·²åœ¨vsftpd.confè®¾ç½®ã€‚ é¦–å…ˆæ‰“å¼€é…ç½®æ–‡ä»¶ï¼ŒéªŒè¯é…ç½®ä¸­çš„è®¾ç½®æ˜¯å¦ä¸ä»¥ä¸‹è®¾ç½®ç›¸åŒ¹é…ï¼š 1sudo nano /etc/vsftpd.conf /etc/vsftpd.confæ–‡ä»¶ 1234567. . .# Allow anonymous FTP? (Disabled by default).anonymous_enable=NO## Uncomment this to allow local users to log in.local_enable=YES. . . æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬é€šè¿‡å–æ¶ˆæ³¨é‡Šwrite_enableè®¾ç½®æ¥å…è®¸ç”¨æˆ·ä¸Šä¼ æ–‡ä»¶ï¼š /etc/vsftpd.confæ–‡ä»¶ 123. . .write_enable=YES. . . æˆ‘ä»¬è¿˜å°†å–æ¶ˆæ³¨é‡Šchrootä»¥é˜²æ­¢FTPè¿æ¥çš„ç”¨æˆ·è®¿é—®ç›®å½•æ ‘ä¹‹å¤–çš„ä»»ä½•æ–‡ä»¶æˆ–å‘½ä»¤ï¼š /etc/vsftpd.confæ–‡ä»¶ 123. . .chroot_local_user=YES. . . æˆ‘ä»¬è¿˜æ·»åŠ ä¸€ä¸ªuser_sub_tokenä»¥åœ¨local_root directoryè·¯å¾„ä¸­æ’å…¥ç”¨æˆ·åï¼Œè¿™æ ·æˆ‘ä»¬çš„é…ç½®å°†é€‚ç”¨äºæ­¤ç”¨æˆ·å’Œä»»ä½•å…¶ä»–æœªæ¥ç”¨æˆ·ã€‚ åœ¨æ–‡ä»¶ä¸­çš„ä»»ä½•ä½ç½®æ·»åŠ è¿™äº›è®¾ç½®ï¼š /etc/vsftpd.confæ–‡ä»¶ 123. . .user_sub_token=$USERlocal_root=/home/$USER/ftp æˆ‘ä»¬è¿˜é™åˆ¶äº†å¯ç”¨äºè¢«åŠ¨FTPçš„ç«¯å£èŒƒå›´ï¼Œä»¥ç¡®ä¿æœ‰è¶³å¤Ÿçš„è¿æ¥å¯ç”¨ï¼š /etc/vsftpd.confæ–‡ä»¶ 123. . .pasv_min_port=40000pasv_max_port=50000 æ³¨æ„ï¼šåœ¨ç¬¬2æ­¥ä¸­ï¼Œæˆ‘ä»¬æ‰“å¼€äº†æˆ‘ä»¬åœ¨æ­¤å¤„ä¸ºè¢«åŠ¨ç«¯å£èŒƒå›´è®¾ç½®çš„ç«¯å£ã€‚ å¦‚æœæ›´æ”¹å€¼ï¼Œè¯·åŠ¡å¿…æ›´æ–°é˜²ç«å¢™è®¾ç½®ã€‚ è¦æ ¹æ®å…·ä½“æƒ…å†µå…è®¸FTPè®¿é—®ï¼Œè®©æˆ‘ä»¬è®¾ç½®é…ç½®ï¼Œä»¥ä¾¿ç”¨æˆ·åªæœ‰åœ¨æ˜ç¡®æ·»åŠ åˆ°åˆ—è¡¨æ—¶æ‰èƒ½è®¿é—®ï¼Œè€Œä¸æ˜¯é»˜è®¤æƒ…å†µä¸‹ï¼š /etc/vsftpd.confæ–‡ä»¶ 1234. . .userlist_enable=YESuserlist_file=/etc/vsftpd.userlistuserlist_deny=NO userlist_denyåˆ‡æ¢é€»è¾‘ï¼šå½“å®ƒè®¾ç½®ä¸ºYES ï¼Œåˆ—è¡¨ä¸­çš„ç”¨æˆ·è¢«æ‹’ç»FTPè®¿é—®ã€‚ å½“å®ƒè®¾ç½®ä¸ºNO ï¼Œåªå…è®¸åˆ—è¡¨ä¸­çš„ç”¨æˆ·è®¿é—®ã€‚ å®Œæˆæ›´æ”¹åï¼Œä¿å­˜æ–‡ä»¶å¹¶é€€å‡ºç¼–è¾‘å™¨ã€‚ æœ€åï¼Œè®©æˆ‘ä»¬å°†ç”¨æˆ·æ·»åŠ åˆ°/etc/vsftpd.userlist ã€‚ ä½¿ç”¨-aæ ‡å¿—è¿½åŠ åˆ°æ–‡ä»¶ï¼š 1echo &quot;sammy&quot; | sudo tee -a /etc/vsftpd.userlist æ£€æŸ¥å®ƒæ˜¯å¦æŒ‰é¢„æœŸæ·»åŠ ï¼š 12cat /etc/vsftpd.userlistOutputsammy é‡æ–°å¯åŠ¨å®ˆæŠ¤ç¨‹åºä»¥åŠ è½½é…ç½®æ›´æ”¹ï¼š 1sudo systemctl restart vsftpd é…ç½®åˆ°ä½åï¼Œæˆ‘ä»¬ç»§ç»­æµ‹è¯•FTPè®¿é—®ã€‚ ç¬¬5æ­¥ - æµ‹è¯•FTPè®¿é—®æˆ‘ä»¬å·²å°†æœåŠ¡å™¨é…ç½®ä¸ºä»…å…è®¸ç”¨æˆ·sammyé€šè¿‡FTPè¿æ¥ã€‚ è®©æˆ‘ä»¬ç¡®ä¿å®ƒæŒ‰é¢„æœŸå·¥ä½œã€‚ åŒ¿åç”¨æˆ·åº”è¯¥æ— æ³•è¿æ¥ ï¼šæˆ‘ä»¬å·²ç¦ç”¨åŒ¿åè®¿é—®ã€‚ è®©æˆ‘ä»¬é€šè¿‡å°è¯•åŒ¿åè¿æ¥æ¥æµ‹è¯•å®ƒã€‚ å¦‚æœæˆ‘ä»¬çš„é…ç½®è®¾ç½®æ­£ç¡®ï¼Œåˆ™åº”æ‹’ç»åŒ¿åç”¨æˆ·çš„æƒé™ã€‚ è¯·åŠ¡å¿…å°†203.0.113.0æ›¿æ¢ä¸ºæœåŠ¡å™¨çš„å…¬å…±IPåœ°å€ï¼š 1234567ftp -p 203.0.113.0OutputConnected to 203.0.113.0.220 (vsFTPd 3.0.3)Name (203.0.113.0:default): anonymous530 Permission denied.ftp: Login failed.ftp&gt; å…³é—­è¿æ¥ï¼š 1bye é™¤äº†sammyä¹‹å¤–çš„ç”¨æˆ·åº”è¯¥æ— æ³•è¿æ¥ ï¼šæ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬å°è¯•è¿æ¥æˆ‘ä»¬çš„sudoç”¨æˆ·ã€‚ ä»–ä»¬ä¹Ÿåº”è¯¥è¢«æ‹’ç»è®¿é—®ï¼Œå¹¶ä¸”åº”è¯¥åœ¨ä»–ä»¬è¢«å…è®¸è¾“å…¥å¯†ç ä¹‹å‰å‘ç”Ÿï¼š 1234567ftp -p 203.0.113.0OutputConnected to 203.0.113.0.220 (vsFTPd 3.0.3)Name (203.0.113.0:default): sudo_user530 Permission denied.ftp: Login failed.ftp&gt; å…³é—­è¿æ¥ï¼š 1bye ç”¨æˆ·sammyåº”è¯¥èƒ½å¤Ÿè¿æ¥ï¼Œè¯»å–å’Œå†™å…¥æ–‡ä»¶ ï¼šè®©æˆ‘ä»¬ç¡®ä¿æˆ‘ä»¬çš„æŒ‡å®šç”¨æˆ·å¯ä»¥è¿æ¥ï¼š 12345678910ftp -p 203.0.113.0OutputConnected to 203.0.113.0.220 (vsFTPd 3.0.3)Name (203.0.113.0:default): sammy331 Please specify the password.Password: your_user&apos;s_password230 Login successful.Remote system type is UNIX.Using binary mode to transfer files.ftp&gt; è®©æˆ‘ä»¬åˆ‡æ¢åˆ°filesç›®å½•å¹¶ä½¿ç”¨getå‘½ä»¤å°†æˆ‘ä»¬ä¹‹å‰åˆ›å»ºçš„æµ‹è¯•æ–‡ä»¶ä¼ è¾“åˆ°æœ¬åœ°æœºå™¨ï¼š 1234567cd filesget test.txtOutput227 Entering Passive Mode (203,0,113,0,169,12).150 Opening BINARY mode data connection for test.txt (16 bytes).226 Transfer complete.16 bytes received in 0.0101 seconds (1588 bytes/s)ftp&gt; æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬ä½¿ç”¨æ–°åç§°ä¸Šä¼ æ–‡ä»¶ä»¥æµ‹è¯•å†™å…¥æƒé™ï¼š 12345put test.txt upload.txtOutput227 Entering Passive Mode (203,0,113,0,164,71).150 Ok to send data.226 Transfer complete.16 bytes sent in 0.000894 seconds (17897 bytes/s) å…³é—­è¿æ¥ï¼š 1bye ç°åœ¨æˆ‘ä»¬å·²ç»æµ‹è¯•äº†æˆ‘ä»¬çš„é…ç½®ï¼Œè®©æˆ‘ä»¬é‡‡å–æªæ–½è¿›ä¸€æ­¥ä¿æŠ¤æˆ‘ä»¬çš„æœåŠ¡å™¨ã€‚ ç¬¬6æ­¥ - ä¿æŠ¤äº¤æ˜“ç”±äºFTPä¸ä¼šåŠ å¯†ä¼ è¾“ä¸­çš„ä»»ä½•æ•°æ®ï¼ŒåŒ…æ‹¬ç”¨æˆ·å‡­æ®ï¼Œå› æ­¤æˆ‘ä»¬å°†å¯ç”¨TLS / SSLæ¥æä¾›åŠ å¯†ã€‚ ç¬¬ä¸€æ­¥æ˜¯åˆ›å»ºç”¨äºvsftpdçš„SSLè¯ä¹¦ã€‚ è®©æˆ‘ä»¬ä½¿ç”¨opensslåˆ›å»ºä¸€ä¸ªæ–°è¯ä¹¦ï¼Œå¹¶ä½¿ç”¨-daysæ ‡å¿—ä½¿å…¶æœ‰æ•ˆä¸€å¹´ã€‚ åœ¨åŒä¸€ä¸ªå‘½ä»¤ä¸­ï¼Œæˆ‘ä»¬å°†æ·»åŠ ä¸€ä¸ªç§æœ‰çš„2048ä½RSAå¯†é’¥ã€‚ é€šè¿‡å°†-keyoutå’Œ-outæ ‡å¿—éƒ½è®¾ç½®ä¸ºç›¸åŒçš„å€¼ï¼Œç§é’¥å’Œè¯ä¹¦å°†ä½äºåŒä¸€æ–‡ä»¶ä¸­ï¼š 1sudo openssl req -x509 -nodes -days 365 -newkey rsa:2048 -keyout /etc/ssl/private/vsftpd.pem -out /etc/ssl/private/vsftpd.pem ç³»ç»Ÿå°†æç¤ºæ‚¨æä¾›è¯ä¹¦çš„åœ°å€ä¿¡æ¯ã€‚ å°†æ‚¨è‡ªå·±çš„ä¿¡æ¯æ›¿æ¢ä¸ºä»¥ä¸‹çªå‡ºæ˜¾ç¤ºçš„å€¼ï¼š 12345678910111213141516171819OutputGenerating a 2048 bit RSA private key............................................................................+++...........+++writing new private key to &apos;/etc/ssl/private/vsftpd.pem&apos;-----You are about to be asked to enter information that will be incorporatedinto your certificate request.What you are about to enter is what is called a Distinguished Name or a DN.There are quite a few fields but you can leave some blankFor some fields there will be a default value,If you enter &apos;.&apos;, the field will be left blank.-----Country Name (2 letter code) [AU]:USState or Province Name (full name) [Some-State]:NYLocality Name (eg, city) []:New York CityOrganization Name (eg, company) [Internet Widgits Pty Ltd]:DigitalOceanOrganizational Unit Name (eg, section) []:Common Name (e.g. server FQDN or YOUR name) []: your_server_ipEmail Address []: æœ‰å…³è¯ä¹¦æ ‡å¿—çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…OpenSSL Essentialsï¼šä½¿ç”¨SSLè¯ä¹¦ï¼Œç§é’¥å’ŒCSR åˆ›å»ºè¯ä¹¦åï¼Œå†æ¬¡æ‰“å¼€vsftpdé…ç½®æ–‡ä»¶ï¼š 1sudo nano /etc/vsftpd.conf åœ¨æ–‡ä»¶çš„åº•éƒ¨ï¼Œæ‚¨å°†çœ‹åˆ°ä»¥rsa_å¼€å¤´çš„ä¸¤è¡Œã€‚ è¯„è®ºå®ƒä»¬ï¼Œçœ‹èµ·æ¥åƒè¿™æ ·ï¼š /etc/vsftpd.confæ–‡ä»¶ 1234. . .# rsa_cert_file=/etc/ssl/certs/ssl-cert-snakeoil.pem# rsa_private_key_file=/etc/ssl/private/ssl-cert-snakeoil.key. . . åœ¨å®ƒä»¬ä¸‹é¢ï¼Œæ·»åŠ ä»¥ä¸‹æŒ‡å‘æˆ‘ä»¬åˆšåˆšåˆ›å»ºçš„è¯ä¹¦å’Œç§é’¥çš„è¡Œï¼š /etc/vsftpd.confæ–‡ä»¶ 1234. . .rsa_cert_file=/etc/ssl/private/vsftpd.pemrsa_private_key_file=/etc/ssl/private/vsftpd.pem. . . ä¹‹åï¼Œæˆ‘ä»¬å°†å¼ºåˆ¶ä½¿ç”¨SSLï¼Œè¿™å°†é˜»æ­¢æ— æ³•å¤„ç†TLSçš„å®¢æˆ·ç«¯è¿æ¥ã€‚ è¿™å¯¹äºç¡®ä¿æ‰€æœ‰æµé‡éƒ½å·²åŠ å¯†æ˜¯å¿…è¦çš„ï¼Œä½†å®ƒå¯èƒ½ä¼šå¼ºåˆ¶æ‚¨çš„FTPç”¨æˆ·æ›´æ”¹å®¢æˆ·ç«¯ã€‚ å°†ssl_enableæ›´æ”¹ä¸ºYES ï¼š /etc/vsftpd.confæ–‡ä»¶ 123. . .ssl_enable=YES. . . ä¹‹åï¼Œæ·»åŠ ä»¥ä¸‹è¡Œä»¥æ˜¾å¼æ‹’ç»SSLä¸Šçš„åŒ¿åè¿æ¥ï¼Œå¹¶è¦æ±‚SSLè¿›è¡Œæ•°æ®ä¼ è¾“å’Œç™»å½•ï¼š /etc/vsftpd.confæ–‡ä»¶ 12345. . .allow_anon_ssl=NOforce_local_data_ssl=YESforce_local_logins_ssl=YES. . . åœ¨æ­¤ä¹‹åï¼Œé€šè¿‡æ·»åŠ ä»¥ä¸‹è¡Œå°†æœåŠ¡å™¨é…ç½®ä¸ºä½¿ç”¨TLSï¼ˆSSLçš„é¦–é€‰åç»§è€…ï¼‰ï¼š /etc/vsftpd.confæ–‡ä»¶ 12345. . .ssl_tlsv1=YESssl_sslv2=NOssl_sslv3=NO. . . æœ€åï¼Œæˆ‘ä»¬å°†æ·»åŠ ä¸¤ä¸ªé€‰é¡¹ã€‚ é¦–å…ˆï¼Œæˆ‘ä»¬ä¸ä¼šè¦æ±‚é‡ç”¨SSLï¼Œå› ä¸ºå®ƒå¯èƒ½ä¼šç ´åè®¸å¤šFTPå®¢æˆ·ç«¯ã€‚ æˆ‘ä»¬å°†éœ€è¦â€œé«˜â€åŠ å¯†å¯†ç å¥—ä»¶ï¼Œç›®å‰è¿™æ„å‘³ç€å¯†é’¥é•¿åº¦ç­‰äºæˆ–å¤§äº128ä½ï¼š /etc/vsftpd.confæ–‡ä»¶ 1234. . .require_ssl_reuse=NOssl_ciphers=HIGH. . . å®Œæˆçš„æ–‡ä»¶éƒ¨åˆ†åº”å¦‚ä¸‹æ‰€ç¤ºï¼š /etc/vsftpd.confæ–‡ä»¶ 12345678910111213# This option specifies the location of the RSA certificate to use for SSL# encrypted connections.#rsa_cert_file=/etc/ssl/certs/ssl-cert-snakeoil.pem#rsa_private_key_file=/etc/ssl/private/ssl-cert-snakeoil.keyrsa_cert_file=/etc/ssl/private/vsftpd.pemrsa_private_key_file=/etc/ssl/private/vsftpd.pemssl_enable=YESallow_anon_ssl=NOforce_local_data_ssl=YESforce_local_logins_ssl=YESssl_tlsv1=YESssl_sslv2=NOssl_sslv3=NO å®Œæˆåï¼Œä¿å­˜å¹¶å…³é—­æ–‡ä»¶ã€‚ é‡æ–°å¯åŠ¨æœåŠ¡å™¨ä»¥ä½¿æ›´æ”¹ç”Ÿæ•ˆï¼š 1sudo systemctl restart vsftpd æ­¤æ—¶ï¼Œæˆ‘ä»¬å°†æ— æ³•å†ä½¿ç”¨ä¸å®‰å…¨çš„å‘½ä»¤è¡Œå®¢æˆ·ç«¯è¿›è¡Œè¿æ¥ã€‚ å¦‚æœæˆ‘ä»¬å°è¯•è¿‡ï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°ç±»ä¼¼çš„ä¸œè¥¿ï¼š 12345678ftp -p 203.0.113.0Connected to 203.0.113.0.220 (vsFTPd 3.0.3)Name (203.0.113.0:default): sammy530 Non-anonymous sessions must use encryption.ftp: Login failed.421 Service not available, remote server has closed connectionftp&gt; æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬éªŒè¯æˆ‘ä»¬æ˜¯å¦å¯ä»¥ä½¿ç”¨æ”¯æŒTLSçš„å®¢æˆ·ç«¯è¿›è¡Œè¿æ¥ã€‚ ç¬¬7æ­¥ - ä½¿ç”¨FileZillaæµ‹è¯•TLSå¤§å¤šæ•°ç°ä»£FTPå®¢æˆ·ç«¯éƒ½å¯ä»¥é…ç½®ä¸ºä½¿ç”¨TLSåŠ å¯†ã€‚ æˆ‘ä»¬å°†æ¼”ç¤ºå¦‚ä½•ä¸FileZillaè¿æ¥ï¼Œå› ä¸ºå®ƒæ”¯æŒè·¨å¹³å°ã€‚ è¯·å‚é˜…å…¶ä»–å®¢æˆ·çš„æ–‡æ¡£ã€‚ é¦–æ¬¡æ‰“å¼€FileZillaæ—¶ï¼Œåœ¨ä¸»é¡µä¸Šæ–¹æ‰¾åˆ°ç«™ç‚¹ç®¡ç†å™¨å›¾æ ‡ï¼Œè¿™æ˜¯æœ€ä¸Šä¸€è¡Œæœ€å·¦ä¾§çš„å›¾æ ‡ã€‚ ç‚¹å‡»å®ƒï¼š å°†æ‰“å¼€ä¸€ä¸ªæ–°çª—å£ã€‚ å•å‡»å³ä¸‹è§’çš„â€œ æ–°å»ºç«™ç‚¹â€æŒ‰é’®ï¼š åœ¨â€œ æˆ‘çš„ç½‘ç«™â€ä¸‹ï¼Œå°†å‡ºç°ä¸€ä¸ªå¸¦æœ‰â€œ æ–°ç½‘ç«™ â€å­—æ ·çš„æ–°å›¾æ ‡ã€‚ æ‚¨å¯ä»¥ç«‹å³å‘½åæˆ–ç¨åè¿”å›å¹¶ä½¿ç”¨â€œ é‡å‘½åâ€æŒ‰é’®ã€‚ ä½¿ç”¨åç§°æˆ–IPåœ°å€å¡«å†™ä¸»æœºå­—æ®µã€‚ åœ¨â€œ åŠ å¯†â€ä¸‹æ‹‰èœå•ä¸‹ï¼Œé€‰æ‹©â€œ è¦æ±‚æ˜¾å¼FTP over TLSâ€ ã€‚ å¯¹äºç™»å½•ç±»å‹ ï¼Œé€‰æ‹©è¯¢é—®å¯†ç  ã€‚ åœ¨â€œ ç”¨æˆ·â€å­—æ®µä¸­å¡«å†™æ‚¨çš„FTPç”¨æˆ·ï¼š å•å‡»ç•Œé¢åº•éƒ¨çš„â€œè¿æ¥â€ã€‚ ç³»ç»Ÿå°†è¦æ±‚æ‚¨è¾“å…¥ç”¨æˆ·å¯†ç ï¼š å•å‡»ç¡®å®šä»¥è¿›è¡Œè¿æ¥ã€‚ æ‚¨ç°åœ¨åº”è¯¥ä½¿ç”¨TLS / SSLåŠ å¯†ä¸æ‚¨çš„æœåŠ¡å™¨è¿æ¥ã€‚ æˆåŠŸåï¼Œæ‚¨å°†çœ‹åˆ°ä¸€ä¸ªå¦‚ä¸‹æ‰€ç¤ºçš„æœåŠ¡å™¨è¯ä¹¦ï¼š å½“æ‚¨æ¥å—è¯ä¹¦åï¼ŒåŒå‡»fileså¤¹å¹¶å°†upload.txtæ‹–åˆ°å·¦ä¾§ä»¥ç¡®è®¤æ‚¨èƒ½å¤Ÿä¸‹è½½æ–‡ä»¶ï¼š å®Œæˆåï¼Œå³é”®å•å‡»æœ¬åœ°å‰¯æœ¬ï¼Œå°†å…¶é‡å‘½åä¸ºupload-tls.txtå¹¶å°†å…¶æ‹–å›æœåŠ¡å™¨ä»¥ç¡®è®¤æ‚¨å¯ä»¥ä¸Šä¼ æ–‡ä»¶ï¼š æ‚¨ç°åœ¨å·²ç¡®è®¤å¯ä»¥å®‰å…¨åœ°æˆåŠŸä¼ è¾“å¯ç”¨äº†SSL / TLSçš„æ–‡ä»¶ã€‚ ç¬¬8æ­¥ - ç¦ç”¨Shellè®¿é—®ï¼ˆå¯é€‰ï¼‰å¦‚æœç”±äºå®¢æˆ·ç«¯è¦æ±‚è€Œæ— æ³•ä½¿ç”¨TLSï¼Œåˆ™å¯ä»¥é€šè¿‡ç¦ç”¨FTPç”¨æˆ·ä»¥ä»»ä½•å…¶ä»–æ–¹å¼ç™»å½•çš„æ–¹å¼æ¥è·å¾—ä¸€äº›å®‰å…¨æ€§ã€‚ é˜²æ­¢å®ƒçš„ä¸€ç§ç›¸å¯¹ç®€å•çš„æ–¹æ³•æ˜¯åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰shellã€‚ è¿™ä¸ä¼šæä¾›ä»»ä½•åŠ å¯†ï¼Œä½†ä¼šé™åˆ¶å—æ„ŸæŸ“å¸æˆ·å¯¹FTPå¯è®¿é—®çš„æ–‡ä»¶çš„è®¿é—®ã€‚ é¦–å…ˆï¼Œåœ¨binç›®å½•ä¸­æ‰“å¼€ä¸€ä¸ªåä¸ºftponlyçš„æ–‡ä»¶ï¼š 1sudo nano /bin/ftponly æ·»åŠ ä¸€æ¡æ¶ˆæ¯ï¼Œå‘Šè¯‰ç”¨æˆ·ä»–ä»¬æ— æ³•ç™»å½•çš„åŸå› ï¼š /æ–Œ/ ftponly 12#!/bin/shecho &quot;This account is limited to FTP access only.&quot; ä¿å­˜æ–‡ä»¶å¹¶é€€å‡ºç¼–è¾‘å™¨ã€‚ æ›´æ”¹æƒé™ä»¥ä½¿æ–‡ä»¶å¯æ‰§è¡Œï¼š 1sudo chmod a+x /bin/ftponly æ‰“å¼€æœ‰æ•ˆshellåˆ—è¡¨ï¼š 1sudo nano /etc/shells åœ¨åº•éƒ¨æ·»åŠ ï¼š / etc / shellsä¸­ 12. . ./bin/ftponly ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ›´æ–°ç”¨æˆ·çš„shellï¼š 1sudo usermod sammy -s /bin/ftponly ç°åœ¨å°è¯•ä»¥sammyèº«ä»½ç™»å½•æ‚¨çš„æœåŠ¡å™¨ï¼š 1ssh sammy@your_server_ip ä½ åº”è¯¥çœ‹åˆ°ç±»ä¼¼çš„ä¸œè¥¿ï¼š 12OutputThis account is limited to FTP access only.Connection to 203.0.113.0 closed. è¿™ç¡®è®¤ç”¨æˆ·ä¸èƒ½å†sshåˆ°æœåŠ¡å™¨å¹¶ä¸”ä»…é™äºFTPè®¿é—®ã€‚ ç»“è®ºåœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº†ä¸ºå…·æœ‰æœ¬åœ°å¸æˆ·çš„ç”¨æˆ·è®¾ç½®FTPã€‚ å¦‚æœæ‚¨éœ€è¦ä½¿ç”¨å¤–éƒ¨èº«ä»½éªŒè¯æºï¼Œæ‚¨å¯èƒ½éœ€è¦äº†è§£vsftpdå¯¹è™šæ‹Ÿç”¨æˆ·çš„æ”¯æŒã€‚ è¿™é€šè¿‡ä½¿ç”¨PAMï¼ˆå¯æ’å…¥èº«ä»½éªŒè¯æ¨¡å—ï¼‰æä¾›äº†ä¸°å¯Œçš„é€‰é¡¹ï¼Œå¦‚æœæ‚¨ç®¡ç†å…¶ä»–ç³»ç»Ÿï¼ˆå¦‚LDAPæˆ–Kerberosï¼‰ä¸­çš„ç”¨æˆ·ï¼Œè¿™æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚ æ‰§è¡Œå®Œä¸Šé¢æ“ä½œåçš„é—®é¢˜è§£å†³ä½¿ç”¨FileZilla FTPä¸‹è½½æ—¶æç¤ºâ€œä¸å®‰å…¨çš„æœåŠ¡å™¨ï¼Œä¸æ”¯æŒFTPover TLSâ€,å’Œâ€œæœåŠ¡å™¨ä¸æ”¯æŒéASCIIå­—ç¬¦â€1ã€æç¤ºâ€œä¸å®‰å…¨çš„æœåŠ¡å™¨ï¼Œä¸æ”¯æŒFTPover TLS è§£å†³æ–¹æ³•ï¼šåœ¨ç«™ç‚¹ç®¡ç†å™¨ä¸­ï¼ŒåŠ å¯†æ–¹å¼é€‰æ‹©ï¼š 2ã€æç¤ºâ€œæœåŠ¡å™¨ä¸æ”¯æŒéASCIIå­—ç¬¦â€ è§£å†³æ–¹æ³•ï¼šåœ¨ç«™ç‚¹ç®¡ç†å™¨ä¸­å­—ç¬¦é›†é€‰æ‹©ï¼šè‡ªå®šä¹‰å­—ç¬¦é›†ï¼šGBK OK,æ­£å¸¸äº† ftpè¿æ¥é”™è¯¯â€”â€”æœåŠ¡å™¨å‘å›äº†ä¸å¯è·¯ç”±çš„åœ°å€ã€‚ä½¿ç”¨æœåŠ¡å™¨åœ°å€ä»£æ›¿ã€‚è®¾ç½®filezillaå®¢æˆ·ç«¯çš„è¿æ¥å‚æ•° é€‰ä¸­æŸä¸€è¿æ¥é¡¹ é«˜çº§â€”â€”åŠ å¯†â€”â€”åªä½¿ç”¨æ™®é€šftp ä¼ è¾“è®¾ç½®â€”â€”ä¼ è¾“æ¨¡å¼â€”â€”ä¸»åŠ¨ é‡æ–°è¿æ¥ ubuntuä¸‹Apacheè™šæ‹Ÿç«™ç‚¹é…ç½®https://www.linuxidc.com/Linux/2017-05/143590.htm apacheé…ç½®äºŒçº§åŸŸåapache2æœåŠ¡å™¨mod_rewriteæ¨¡å— å¼€å¯æ–¹æ³•[linux, ubuntu] å¼€å¯é‡å†™ï¼Œp.s. ä¸Šé¢æ•™ç¨‹ä¸­è¯´è¦æŠŠ /etc/apache2/sites-enabled/000-default ä¸­çš„ AllowOverride None ä¿®æ”¹ä¸ºï¼š AllowOverride All ï¼Œç„¶è€Œæˆ‘çš„ Apache2 æ˜¯æ–°ç‰ˆï¼ˆ2.4ï¼‰ï¼Œæ‰€ä»¥å¾—è½¬åˆ° /etc/apache2/ ã€‚å°†åä¸º apache2.conf çš„æ–‡ä»¶ä¸­çš„ ä¸‹é¢ä»£ç ä» NONE æ”¹ä¸º ALL ï¼š 12345&lt;Directory /var/www/&gt; Options Indexes FollowSymLinks AllowOverride All Require all granted&lt;/Directory&gt; ç›®æ ‡äºŒçº§åŸŸåï¼šmall.evelance.cn é˜¿é‡Œäº‘æ§åˆ¶å°é…ç½®ï¼šåœ¨é˜¿é‡Œäº‘çš„æ§åˆ¶å°ä¸­æ‰¾åˆ°åŸŸåç®¡ç†ï¼Œç„¶åé€‰æ‹©é¡¶çº§åŸŸå evelance.cn åé¢çš„â€œè§£æâ€å­—æ ·ã€‚åœ¨æ–°æ‰“å¼€çš„é¡µé¢ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸€ä¸ªæä¾›åŸŸåè§£æçš„ç•Œé¢ï¼Œé€‰æ‹©è§£æç±»å‹ä¸ºAç±»è§£æï¼Œç„¶åè¾“å…¥ mallï¼ˆæˆ‘ä»¬æƒ³è¦çš„äºŒçº§åŸŸåçš„å¤´ï¼‰ï¼Œç„¶ååœ¨åœ°å€é‡Œé¢è¾“å…¥æˆ‘ä»¬åˆšæ‰æŸ¥çœ‹åˆ°çš„ECSçš„å…¬ç½‘ipï¼Œç„¶åç‚¹å‡»ç¡®è®¤ï¼Œä¹‹åæˆ‘ä»¬çš„è§£æå°±ä¼šç”Ÿæ•ˆäº†ã€‚ ubuntuæœåŠ¡å™¨é…ç½®ï¼š è¿›å…¥ /etc/apache2/site-available/ ï¼Œå¤åˆ¶é»˜è®¤çš„è™šæ‹Ÿä¸»æœºé…ç½®æ–‡ä»¶ï¼š 1sudo cp 000-default.conf mall.evelance.cn.conf ä¿®æ”¹é…ç½®ï¼š 12345678910111213141516&lt;VirtualHost *:80&gt; ServerAdmin xxx@qq.com ServerName mall.evelance.com DocumentRoot /home/www/mall &lt;Directory "/home/www/mall"&gt; Options FollowSymLinks AllowOverride All #Require all denied Require all granted &lt;/Directory&gt; ErrorLog $&#123;APACHE_LOG_DIR&#125;/error.log CustomLog $&#123;APACHE_LOG_DIR&#125;/access.log combined&lt;/VirtualHost&gt; åœ¨sites-enabledç›®å½•ä¸‹å»ºç«‹ç¬¦å·é“¾æ¥ï¼š 123cd /etc/apache2/sites-enabled#å»ºç«‹å¯¹åº”çš„è½¯é“¾æ¥sudo ln -s /etc/apache2/sites-available/mall.evelance.cn.conf /etc/apache2/sites-enabled/mall.evelance.cn.conf åœ¨å¯¹åº”ç›®å½•æ”¾å…¥é¡¹ç›®ä»£ç ï¼š æŠŠé¡¹ç›®æ–‡ä»¶æ”¾è¿› /home/www/mall ä¸­ï¼Œå¹¶èµ‹äºˆæ–‡ä»¶å¤¹æƒé™ï¼š 1sudo chmod -R 777 /home/www/mall æ¿€æ´»é…ç½®ï¼Œé‡å¯ apacheï¼š è¿”å›ä¸Šçº§ç›®å½• cd ../site-enable/ï¼Œè¾“å…¥ cd sites-available/ è¾“å…¥ a2ensite mall.evelance.cn.conf ï¼Œå¦‚æœæç¤ºå·²ç»æ¿€æ´»è¿‡äº†ï¼Œè¾“å…¥ä¸‹é¢ä»£ç ï¼š 1234a2dissite mall.evelance.cn.confservice apache2 reloada2ensite mall.evelance.cn.confservice apache2 reload å‚è€ƒï¼š ECSç®€å•é…ç½®å¤šä¸ªäºŒçº§åŸŸå åŸŸåè§£æç™»å½•é˜¿é‡Œäº‘ï¼Œè¿›å…¥æ§åˆ¶å°ï¼Œé€‰æ‹©äº‘è§£æDNSã€‚é€‰æ‹©å³ä¾§çš„è§£æç®¡ç†ï¼Œè¿›è¡ŒäºŒçº§åŸŸåçš„æ·»åŠ ï¼š è®°å½•ç±»å‹ï¼šA ä¸»æœºè®°å½•ï¼š[mall].evelance.cn è§£æçº¿è·¯ï¼šé»˜è®¤ è®°å½•å€¼ï¼šä½ çš„å…¬å…±IP TTLï¼š10åˆ†é’Ÿ å‚è€ƒï¼šé˜¿é‡Œäº‘æ·»åŠ äºŒçº§åŸŸåçš„æ“ä½œ æ”¯æŒhttps åœ¨é˜¿é‡Œäº‘é‡Œç”³è¯·å…è´¹Httpsè¯ä¹¦SSL ubuntu apache2 é…ç½®å®‰è£…sslè¯ä¹¦ é˜¿é‡Œäº‘ Ubuntu16.04 apache2 sslè¯ä¹¦ä¸‹è½½ä¸å®‰è£…ï¼ˆå¿…é¡»æœ‰åŸŸåï¼‰ å®Œæˆä¸Šè¿°é…ç½®åï¼Œåˆ«å¿˜äº†è®©é˜²ç«å¢™å…è®¸ 443 ç«¯å£ã€‚sudo ufw allow 443/tcp]]></content>
      <categories>
        <category>åç«¯</category>
        <category>æœåŠ¡å™¨</category>
      </categories>
      <tags>
        <tag>ç¬”è®°</tag>
        <tag>ECS</tag>
        <tag>é˜¿é‡Œäº‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å‰ç«¯é¢è¯•ç³»åˆ—å¤§çº²]]></title>
    <url>%2Fposts%2F46036%2F</url>
    <content type="text"><![CDATA[â—ï¸æŒç»­æ›´æ–°ä¸­â€¦â—ï¸ ä»‹ç»æ ¹æ®ç½‘ä¸Šå„å¤§å‰ç«¯é¢è¯•é¢˜æ–‡ç« ä»¥åŠè‡ªæˆ‘æ€»ç»“ï¼Œæ²‰æ·€ä¸‹æ¥çš„ä¸€å¥—é¢è¯•é¢˜åˆé›†ï¼ŒåŒ…å«å‰ç«¯çŸ¥è¯†ç‚¹ + é¢è¯•é¢˜ã€‚ å¤§çº²1 HTMLæ ¹æ®ä»¥å¾€é¢è¯•ç»éªŒï¼ŒHTMLéƒ¨åˆ†å¾ˆå°‘æœ‰é—®åˆ°ã€‚æ‰€ä»¥è¿™é‡Œä»…åˆ—ä¸¾ä¸€æ—¦è€ƒåˆ™å¿…é—®çš„é¢è¯•é¢˜ 1.1 é¢è¯•é¢˜ HTMLé¢è¯•é¢˜ 2 CSSä¸ªäººç»éªŒï¼šè¿™éƒ¨åˆ†é¢è¯•é¢˜ä¸€èˆ¬ç¬”è¯•è€ƒçŸ¥è¯†ç‚¹å¤šä¸€äº›ï¼ˆå¤šèƒŒï¼‰ï¼Œé¢è¯•è€ƒå¸ƒå±€æ›´å¤šä¸€äº›ï¼ˆå¤šå®è·µï¼‰ã€‚æ‰€ä»¥CSSæˆ‘æ‹†æˆäº†ä¸¤éƒ¨åˆ†ï¼ŒæŠŠå¸ƒå±€å•ç‹¬æ‹§å‡ºæ¥äº†ã€‚ 2.1 çŸ¥è¯†ç‚¹ + éƒ¨åˆ†é¢è¯•é¢˜ CSSçŸ¥è¯†ç‚¹ 2.2 å¸ƒå±€ CSSå¸ƒå±€é¢è¯•é¢˜ 3 JavaScriptè¿™éƒ¨åˆ†æ˜¯é¢è¯•é‡ä¸­ä¹‹é‡ï¼ŒåŸºæœ¬ä¸Šå•¥éƒ½å¯èƒ½è€ƒã€‚è­¬å¦‚æ¯”è¾ƒç»å…¸çš„ä¸€ä¸ªæœ‰å…³axiosçš„é¢è¯•é¢˜ï¼š é—®ï¼šaã€bã€cä¸‰ä¸ªè¯·æ±‚ï¼Œå¸Œæœ›cåœ¨aã€bè·å–æ•°æ®åå†å‘è¯·æ±‚ï¼Œè¦æ˜¯ä½ ä½ ä¼šæ€ä¹ˆåšï¼Ÿ ç­”ï¼šaxios.all å…ˆè¯·æ±‚ aã€bï¼Œå†åœ¨ then çš„ç¬¬ä¸€ä¸ªå›è°ƒä¸­è¯·æ±‚ c ï¼Œå·´æ‹‰å·´æ‹‰â€¦ é—®ï¼šé‚£ axios.all å†…éƒ¨æ˜¯é€šè¿‡ä»€ä¹ˆå®ç°çš„å‘¢ï¼Ÿ ç­”ï¼šPromise.allï¼Œå·´æ‹‰å·´æ‹‰â€¦ é—®ï¼šå¦‚æœä¸ç”¨ Promise è¯¥å¦‚ä½•å®ç°ï¼Ÿ ç­”ï¼šå¯ä»¥ç”¨ é«˜é˜¶å‡½æ•° ï¼Œå·´æ‹‰å·´æ‹‰â€¦ 12345678910111213141516// ç¤ºä¾‹ï¼ˆä½¿ç”¨nodeè¯»å–æ–‡ä»¶åšåœºæ™¯æ¥è¯´æ˜ï¼‰let fs = require('fs')let arr = []function fn(data) &#123; arr.push(data) if (arr.length === 2) &#123; // get ab // todo c &#125;&#125;fs.readFile('./a.txt', 'utf8', (err, data) =&gt; &#123; fn(data)&#125;)fs.readFile('./b.txt', 'utf8', (err, data) =&gt; &#123; fn(data)&#125;) å¯ä»¥çœ‹å‡ºï¼Œå¾€å¾€ JS é¢è¯•é¢˜æ˜¯å±‚å±‚æ·±å…¥çš„ï¼Œéœ€è¦ä½ æœ‰åšå®çš„åŸºç¡€ï¼Œå¹¶ä¸”åœ¨å¹³å¸¸å¼€å‘æ—¶ä¸ä»…æ»¡è¶³ä¼šä½¿ç”¨å„ç§åº“å’Œæ¡†æ¶ï¼Œè¿˜è¦æ·±å…¥äº†è§£åŸç†ã€‚æ‰€ä»¥è¿™ä¸€å°èŠ‚å†…å®¹è¾ƒå¤šï¼Œå„ä½åšå¥½æŠ—å‹å‡†å¤‡ã€‚ 3.1 çŸ¥è¯†ç‚¹ JSçŸ¥è¯†ç‚¹ 3.2 é¢è¯•é¢˜ JSç¬”è¯•é¢˜ JSé¢è¯•é¢˜ 4 æµè§ˆå™¨/ç½‘ç»œæµè§ˆå™¨è¿™è¾¹ä¸»è¦è€ƒå¯Ÿå…¼å®¹æ€§ï¼Œå½“ç„¶æœ‰æ—¶å€™ä¹Ÿè€ƒå¯Ÿä¸‹HTTPç¼“å­˜ç­‰å†…å®¹ï¼Œæ‰€ä»¥æˆ‘æŠŠå®ƒä»¬å½’åˆ°äº†ä¸€èµ·æ–¹ä¾¿å¤ä¹ ã€‚ æµè§ˆå™¨ 5 æ¡†æ¶ + å·¥å…·5.1 VueVueæ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œæ•°æ®å“åº”å¼ï¼ˆåŒå‘æ•°æ®ç»‘å®šï¼‰æ˜¯ä¸€å®šä¼šé—®åˆ°çš„ï¼Œå…¶å®ƒä¾‹å¦‚ç”Ÿå‘½å‘¨æœŸä¹‹ç±»çš„ä¹Ÿå¸¸å¸¸å‡ºç°ï¼Œå…·ä½“æŸ¥çœ‹ä¸‹é¢é“¾æ¥ï¼š Vueé¢è¯•é¢˜ 5.2 Webpackä¸ªäººåœ¨é¢è¯•ä¸­å¾ˆå°‘è¢«é—®åˆ° webpack çš„é—®é¢˜ï¼Ÿå”¯ä¸€ä¸€æ¬¡ä¸ webpack ç›¸å…³çš„è¿˜æ˜¯åœ¨ä¸€æ¬¡é¢è¯•çš„ç¬”è¯•é¢˜ä¸­ï¼Œæœ‰è¿™æ ·ä¸€é“ï¼š å†™å‡ºä½ çŸ¥é“çš„æ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆï¼ˆä¸è¦å†™ webpack å·¥å…·èƒ½åšåˆ°çš„ï¼‰ è™½ç„¶æˆ‘è‡ªå·±æ²¡ç¢°åˆ°è¿‡ï¼Œä½†ä¿ä¸é½å…¶ä»–å…¬å¸ä¸çˆ±é—®ï¼Œæ‰€ä»¥è¿˜æ˜¯æ”¾åœ¨è¿™å„¿ï¼š å¦‚ä½•ä½¿ç”¨webpack4 Webpacké¢è¯•é¢˜ 6 æ€§èƒ½ä¼˜åŒ–æ€§èƒ½ä¼˜åŒ–ç°åœ¨åº”è¯¥æ˜¯å¿…è€ƒé¢˜äº†ï¼Œæˆ‘å»å‡ å®¶å…¬å¸é¢å°±æœ‰å‡ å®¶ä¼šé—®åˆ°ï¼Œå¸¸è€ƒçš„çŸ¥è¯†ç‚¹æœ‰ã€Œé¦–å±ä¼˜åŒ–ã€ã€Œé‡æ’é‡ç»˜ä¼˜åŒ–ã€ä»¥åŠã€Œcss3åŠ¨ç”»ä¼˜åŒ–ã€ç­‰ã€‚ä¸å¤ªäº†è§£è¿™éƒ¨åˆ†çš„ç«¥é‹å¯ä»¥çœ‹ä¸‹é¢é“¾æ¥ï¼š ç½‘ç«™æ€§èƒ½ä¼˜åŒ– webæ€§èƒ½ä¼˜åŒ–-å®è·µ 7 ç®—æ³•è¿™éƒ¨åˆ†ç›®å‰æ˜¯æˆ‘è–„å¼±é¡¹ï¼Œæš‚æ—¶ä¸èƒ½ç»™åˆ°å¤§å®¶æ›´å¤šå¸®åŠ©ã€‚ä¸è¿‡å¯¹äºé¢ä¸€èˆ¬æ™®é€šå‰ç«¯æ¥è¯´ï¼Œä¹Ÿå°±é¡¶å¤šé—®ä¸€ä¸‹å¸¸è§çš„æ’åºç®—æ³•äº†ã€‚ è¿™æ˜¯æˆ‘ä¹‹å‰æ•´ç†çš„å¸¸è§æ’åºç®—æ³•ï¼šå¯ä»¥ ç‚¹å‡»æ­¤å¤„ æŸ¥çœ‹ã€‚ å…¶ä»–ç®—æ³•é¢è¯•é¢˜ä¼šåœ¨åç»­æ›´æ–°â€¦ ç®€å†æ¨¡æ¿ç½‘ä¸Šçš„ç®€å†æ¨¡æ¿ä¸€æœä¸€å¤§å †ï¼Œä¸è¿‡å¤§éƒ½æ—¢ä¸å®ç”¨ä¹Ÿä¸å¥½çœ‹ã€‚æ‰€ä»¥æœ€åæˆ‘å†åˆ†äº«å‡ ä¸ªè§‰å¾—ä¸é”™çš„æ¨¡æ¿ç»™å¤§å®¶å‚è€ƒï¼š çº¸è´¨æ¨¡æ¿ https://www.resumeviking.com/wp-content/uploads/2018/01/Dwight-Kavanagh-Resume-IT-QA-Analyst-11.pdf https://www.resumeviking.com/wp-content/uploads/2019/04/Emily_Carter_-_Resume_-_English_Teacher-9.pdf https://www.resumeviking.com/wp-content/uploads/2018/09/Karen_Philips_-_Resume_-_Web_Designer-4.pdf ä¸Šé¢ä¸¤ä»½æ¨¡æ¿éƒ½æ¥è‡ª æ­¤ç½‘ç«™ ï¼Œæƒ³å¯»æ‰¾æ›´æ»¡æ„çš„ç‰ˆæœ¬å¯ä»¥è¿›å»é€›é€›ã€‚ åœ¨çº¿æ¨¡æ¿ http://zhangwenli.com/cv/ ä¸‹è½½åœ°å€ï¼šhttps://github.com/Ovilia/cv https://html5up.net/read-only ä¸‹è½½åœ°å€ï¼šä¸Šæ–¹é“¾æ¥å³ä¸Šè§’ Download æ›´å¤šæœ¬é¡¹ç›®æ•´åˆäº†å¤§é‡ä¸‹æ–¹èµ„æºçš„é¢è¯•é¢˜å†…å®¹ï¼Œä½†æ¯•ç«Ÿæ˜¯æŒ‰ç…§æˆ‘è‡ªå·±æŠ€æœ¯æ ˆæ•´åˆçš„ï¼Œæ‰€ä»¥å¦‚æœä½ è¿˜æƒ³æŸ¥ç¼ºè¡¥æ¼ï¼ˆä¾‹å¦‚ react ç›¸å…³é¢è¯•é¢˜ç­‰ï¼‰ï¼Œå¯ä»¥ç‚¹å‡»ä¸‹æ–¹é“¾æ¥äº†è§£æ›´å¤šï¼š å‰ç«¯å¼€å‘é¢è¯•é¢˜ å‰ç«¯é¢è¯•è€ƒç‚¹å¤šï¼Ÿçœ‹è¿™äº›æ–‡ç« å°±å¤Ÿäº† KieSun/Front-end-knowledge]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>é¢è¯•</category>
      </categories>
      <tags>
        <tag>é¢è¯•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CSSå¸ƒå±€é¢è¯•é¢˜ï¼ˆé¢è¯•ç³»åˆ—ï¼‰]]></title>
    <url>%2Fposts%2F10415%2F</url>
    <content type="text"><![CDATA[å¦‚ä½•å±…ä¸­divï¼Ÿè¡Œå†…å…ƒç´ æ°´å¹³å±…ä¸­123#container &#123; text-align: center;&#125; å•ä¸ª divï¼ˆå—çº§å…ƒç´ ï¼‰æ°´å¹³å±…ä¸­1234#center &#123; width: 200px; margin: 0 auto;&#125; å¤šä¸ª div æ°´å¹³å±…ä¸­12345678910111213/* ä¼ ç»Ÿæ–¹æ¡ˆ */#container &#123; text-align: center;&#125;#center &#123; display: inline-block;&#125;/* flex å¸ƒå±€æ–¹æ¡ˆ */#container &#123; justify-content: center; display: flex;&#125; ç»å¯¹å®šä½çš„ div å±…ä¸­ï¼ˆå·²çŸ¥å®½é«˜ï¼‰å­ç»çˆ¶ç›¸ + margin1234567891011#center &#123; position: absolute; width: 300px; height: 300px; margin: auto; /* 0 auto æ°´å¹³å±…ä¸­ï¼›auto æ°´å¹³å‚ç›´å±…ä¸­ */ top: 0; left: 0; bottom: 0; right: 0; background-color: pink; /* æ–¹ä¾¿çœ‹æ•ˆæœ */&#125; å­ç»çˆ¶ç›¸ + è´Ÿè¾¹è·123456789#center &#123; position: absolute; width:500px; height:300px; top: 50%; left: 50%; margin: -150px 0 0 -250px; /* å¤–è¾¹è·ä¸ºè‡ªèº«å®½é«˜çš„ä¸€åŠ */ background-color: pink; /* æ–¹ä¾¿çœ‹æ•ˆæœ */&#125; å½“è¢«å±…ä¸­çš„å…ƒç´ æ˜¯ inline or inline-block å…ƒç´ 12345#container &#123; display: table-cell; text-align: center; vertical-align: middle;&#125; ä»»æ„å…ƒç´ ï¼ˆæœªçŸ¥å®½é«˜ï¼‰å­ç»çˆ¶ç›¸ + translate1234567891011#container &#123; position: relative;&#125;/* åˆ©ç”¨transform */#center &#123; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);&#125; flexï¼ˆéœ€è€ƒè™‘å…¼å®¹æ€§ï¼‰1234567891011#container &#123; display: flex; display: -webkit-flex; /* Safariä»æ—§éœ€è¦ä½¿ç”¨ç‰¹å®šçš„æµè§ˆå™¨å‰ç¼€ */ align-items: center; /* å‚ç›´å±…ä¸­ */ justify-content: center; /* æ°´å¹³å±…ä¸­ */&#125;#center &#123; width: 100px; height: 100px; background-color: pink; /* æ–¹ä¾¿çœ‹æ•ˆæœ */&#125; è¯·è§£é‡Šä¸€ä¸‹CSS3çš„ Flexboxï¼ˆå¼¹æ€§ç›’å¸ƒå±€æ¨¡å‹ï¼‰,ä»¥åŠé€‚ç”¨åœºæ™¯ï¼Ÿè¯¥å¸ƒå±€æ¨¡å‹çš„ç›®çš„æ˜¯æä¾›ä¸€ç§æ›´åŠ é«˜æ•ˆçš„æ–¹å¼æ¥å¯¹å®¹å™¨ä¸­çš„æ¡ç›®è¿›è¡Œå¸ƒå±€ã€å¯¹é½å’Œåˆ†é…ç©ºé—´ã€‚ åœ¨ä¼ ç»Ÿçš„å¸ƒå±€æ–¹å¼ä¸­: block å¸ƒå±€æ˜¯æŠŠå—åœ¨å‚ç›´æ–¹å‘ä»ä¸Šåˆ°ä¸‹ä¾æ¬¡æ’åˆ—çš„ï¼› inline å¸ƒå±€åˆ™æ˜¯åœ¨æ°´å¹³æ–¹å‘æ¥æ’åˆ—ã€‚ flex å¼¹æ€§ç›’å¸ƒå±€å¹¶æ²¡æœ‰è¿™æ ·å†…åœ¨çš„æ–¹å‘é™åˆ¶ï¼Œå¯ä»¥ç”±å¼€å‘äººå‘˜è‡ªç”±æ“ä½œã€‚ é€‚ç”¨åœºæ™¯ï¼šå¼¹æ€§å¸ƒå±€é€‚åˆäºç§»åŠ¨å‰ç«¯å¼€å‘ï¼Œåœ¨ Android å’Œ iOS ä¸Šä¹Ÿå®Œç¾æ”¯æŒã€‚ å‚è€ƒï¼šhttp://www.w3cplus.com/css3/flexbox-basics.html å¦‚ä½•ä½¿ç”¨ flex å®ç°ä¸‰åˆ—ç­‰å®½å¸ƒå±€çˆ¶å…ƒç´  display: flexï¼Œå­å…ƒç´  flex: 1 è§£é‡Šå­å…ƒç´ çš„è®¾ç½®ç­‰åŒäºï¼šflex: 1 1 auto flexçš„é»˜è®¤å€¼æ˜¯ï¼š0 1 auto æ„æ€æ˜¯é¡¹ç›®é»˜è®¤æœ‰å‰©ä½™ç©ºé—´ä¹Ÿä¸æ”¾å¤§ï¼ˆ0ï¼‰ï¼Œä½†ç©ºé—´ä¸è¶³ä¼šç¼©å°ï¼ˆ1ï¼‰ ç°åœ¨æ”¹ä¸ºäº†å€¼ 1 ï¼Œå°±å¯ä»¥æ”¾å¤§äº†ï¼Œæ‰€ä»¥ä¸‰æ å¯ä»¥å¹³åˆ†å®½åº¦ é˜…è¯»ï¼šflexè®¾ç½®æˆ1å’Œautoæœ‰ä»€ä¹ˆåŒºåˆ« å¦‚ä½•ä½¿ç”¨ flex å®ç°ä¸‹åˆ—å¸ƒå±€ HTML 12345678&lt;div id="container"&gt; &lt;div class="box box1"&gt;1&lt;/div&gt; &lt;div class="box box2"&gt;2&lt;/div&gt; &lt;div class="box box3"&gt;3&lt;/div&gt; &lt;div class="box box4"&gt;4&lt;/div&gt; &lt;div class="box box5"&gt;5&lt;/div&gt;&lt;/div&gt;&lt;p&gt;margin-right: auto&lt;/p&gt; CSS 123456789101112131415161718192021#container &#123; display: flex; justify-content: flex-end; background-color: lightyellow;&#125;.box &#123; display: flex; align-items: center; justify-content: center; height: 50px; width: 75px; background-color: springgreen; border: 1px solid #333;&#125;.box1 &#123; margin-right: auto;&#125;p &#123; width: 100%; text-align: center;&#125; æ‘˜è‡ªï¼šcss flexå¸ƒå±€ä¸­å¦™ç”¨ margin: auto ç”¨çº¯CSSåˆ›å»ºä¸€ä¸ªä¸‰è§’å½¢çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ12345678æŠŠä¸Šã€å·¦ã€å³ä¸‰æ¡è¾¹éšè—æ‰ï¼ˆé¢œè‰²è®¾ä¸º transparentï¼‰#demo &#123; width: 0; height: 0; border-width: 20px; border-style: solid; border-color: transparent transparent red transparent;&#125; csså¤šåˆ—ç­‰é«˜å¦‚ä½•å®ç°ï¼ŸåŸç†åˆ©ç”¨ padding-bottom|margin-bottom æ­£è´Ÿå€¼ç›¸æŠµï¼› è®¾ç½®çˆ¶å®¹å™¨è®¾ç½®è¶…å‡ºéšè—ï¼ˆoverflow:hiddenï¼‰ï¼Œè¿™æ ·å­çˆ¶å®¹å™¨çš„é«˜åº¦å°±è¿˜æ˜¯å®ƒé‡Œé¢çš„åˆ—æ²¡æœ‰è®¾å®š padding-bottom æ—¶çš„é«˜åº¦ï¼Œ å½“å®ƒé‡Œé¢çš„ä»»ä¸€åˆ—é«˜åº¦å¢åŠ äº†ï¼Œåˆ™çˆ¶å®¹å™¨çš„é«˜åº¦è¢«æ’‘åˆ°é‡Œé¢æœ€é«˜é‚£åˆ—çš„é«˜åº¦ï¼Œ å…¶ä»–æ¯”è¿™åˆ—çŸ®çš„åˆ—åˆ™ä¼šç”¨å®ƒä»¬çš„ padding-bottom æ¥è¡¥å¿è¿™éƒ¨åˆ†é«˜åº¦å·®ã€‚ å› ä¸ºèƒŒæ™¯æ˜¯å¯ä»¥ç”¨åœ¨ padding å ç”¨çš„ç©ºé—´é‡Œçš„ï¼Œè€Œä¸”è¾¹æ¡†ä¹Ÿæ˜¯è·Ÿéš padding å˜åŒ–çš„ï¼Œæ‰€ä»¥å°±æˆåŠŸçš„å®Œæˆäº†ä¸€ä¸ªéšœçœ¼æ³•ã€‚ å®ç° HTML 1234567891011121314&lt;ul class="Article"&gt; &lt;li class="js-equalheight"&gt; &lt;p&gt; ä¸€å®¶å°†å®¢æˆ·åˆ©ç›Šç½®äºé¦–ä½çš„ç»çºªå•†ï¼Œ ä¸ºå®¢æˆ·æä¾›ä¸“ä¸šçš„äº¤æ˜“å·¥å…·ä¸€å®¶å°†å®¢æˆ·åˆ©ç›Šç½®äºé¦–ä½çš„ç»çºªå•† &lt;/p&gt; &lt;/li&gt; &lt;li class="js-equalheight"&gt; &lt;p&gt;ä¸€å®¶å°†å®¢æˆ·åˆ©ç›Šç½®äºé¦–ä½çš„ç»çºªå•†ï¼Œä¸ºå®¢æˆ·æä¾›ä¸“ä¸šçš„äº¤æ˜“å·¥å…·&lt;/p&gt; &lt;/li&gt; &lt;li class="js-equalheight"&gt; &lt;p&gt;ä¸€å®¶å°†å®¢æˆ·åˆ©ç›Šç½®äºé¦–ä½çš„ç»çºªå•†&lt;/p&gt; &lt;/li&gt;&lt;/ul&gt; CSS 12345678910111213141516.Article &#123; overflow: hidden;&#125;.Article &gt; li &#123; float: left; margin: 0 10px -9999px 0; padding-bottom: 9999px; background: #4577dc; width: 200px; color: #fff;&#125;.Article &gt; li &gt; p &#123; padding: 10px;&#125; æœ‰ä¸€ä¸ªé«˜åº¦è‡ªé€‚åº”çš„ div ï¼Œé‡Œé¢æœ‰ä¸¤ä¸ª div ï¼Œä¸€ä¸ªé«˜åº¦ 100px ï¼Œå¸Œæœ›å¦ä¸€ä¸ªå¡«æ»¡å‰©ä¸‹çš„é«˜åº¦ã€‚ HTML 123456&lt;body&gt; &lt;div class="outer"&gt; &lt;div class="A"&gt;&lt;/div&gt; &lt;div class="B"&gt;&lt;/div&gt; &lt;/div&gt;&lt;/body&gt; CSS æ–¹æ¡ˆ1123456789.A &#123; height: 100px; background-color: pink;&#125;.B &#123; background-color: blue; height: calc(100vh - 100px);&#125; æ–¹æ¡ˆ2123456789101112131415161718192021222324/* åˆ©ç”¨border-boxå°†paddingåŒ…å«åœ¨é«˜åº¦å†…ï¼› */.outer &#123; height: 100%; padding: 100px 0 0; box-sizing: border-box; background-color: pink;&#125;/* ç”¨è´Ÿmarginå€¼å°†Aå­å®¹å™¨é¡¶åˆ°é¡µé¢é¡¶éƒ¨*/.A &#123; height: 100px; margin: -100px 0 0; background: #BBE8F2;&#125;/* å‰©ä¸‹çš„é«˜åº¦100%-100pxå°±æ˜¯Bå®¹å™¨æ‰€è°“çš„100%é«˜äº†*/.B &#123; height: 100%; background: #D9C666;&#125; æ–¹æ¡ˆ312345678910111213141516171819202122.outer &#123; height: 100%; padding: 100px 0 0; box-sizing: border-box; position: relative;&#125;/* ç»å¯¹å®š*/.A &#123; height: 100px; background: #BBE8F2; position: absolute; top: 0; left: 0; width: 100%;&#125;.B &#123; height: 100%; background: #D9C666;&#125; æ–¹æ¡ˆ4123456789101112131415161718.outer &#123; height: 100%; position: relative;&#125;.A &#123; height: 100px; background: #BBE8F2;&#125;.B &#123; background: #D9C666; width: 100%; position: absolute; top: 100px; left: 0; bottom: 0;&#125; æ–¹æ¡ˆ512345678910111213141516171819.outer &#123; height: 100%; background: red; display: flex; display: -webkit-flex; flex-direction: column; -webkit-flex-direction: row;&#125;.A &#123; width: 100%; height: 100px; background: green;&#125;.B &#123; background: blue; flex: 1;&#125; remå¸ƒå±€çŸ¥é“å—ï¼ŸåŸç†æ˜¯ä»€ä¹ˆï¼Ÿremæ˜¯ä¸ªç›¸å¯¹å•ä½ï¼Œç›¸å¯¹çš„æ˜¯htmlæ ¹å…ƒç´ çš„font-sizeå¤§å°ã€‚è¿™æ ·ä¸€æ¥æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡htmlä¸Šçš„å­—ä½“å¤§å°æ¥æ§åˆ¶é¡µé¢ä¸Šæ‰€æœ‰ä»¥remä¸ºå•ä½çš„å…ƒç´ å°ºå¯¸ã€‚ ç¤ºä¾‹ä»£ç  ä¾‹å¦‚åœ¨vueé¡¹ç›®çš„index.htmlé¡µä¸­åŠ¨æ€è®¡ç®—æ ¹å…ƒç´ å­—ä½“å¤§å° index.html 123456789101112131415161718192021222324252627282930&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt; &lt;head&gt; &lt;meta charset="utf-8"&gt; &lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt; &lt;meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no"&gt; ... &lt;/head&gt; &lt;body&gt; &lt;noscript&gt; ... &lt;/noscript&gt; &lt;div id="app"&gt;&lt;/div&gt; &lt;script&gt; ;(function(doc, win) &#123; const docEl = doc.documentElement const resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize' const recalc = () =&gt; &#123; const clientWidth = docEl.clientWidth // æŠŠå±å¹•å®½åº¦åˆ’åˆ†æˆ10ä»½ï¼Œé‚£ä¹ˆæ¯ä¸€ä»½çš„å®½åº¦å°±ç­‰äº1rem docEl.style.fontSize = clientWidth / 10 + 'px' &#125; if (!doc.addEventListener) return win.addEventListener(resizeEvt, recalc, false) doc.addEventListener('DOMContentLoaded', recalc, false) recalc() &#125;)(document, window) &lt;/script&gt; &lt;/body&gt;&lt;/html&gt; ç„¶ååˆ©ç”¨cssé¢„å¤„ç†å™¨å®šä¹‰ä¸€ä¸ªmixinå‡½æ•°ï¼ˆä¸‹æ–¹ç”¨çš„stylusï¼‰ï¼Œç”¨æ¥å°†è®¾è®¡ç¨¿ä¸Šçš„pxè½¬ä¸ºå¯¹åº”çš„remå€¼ è®¡ç®—å…¬å¼ä¸ºï¼š é¡µé¢å…ƒç´ çš„remå€¼ = è®¾è®¡ç¨¿å…ƒç´ å€¼ï¼ˆpxï¼‰/ï¼ˆå±å¹•å®½åº¦ / åˆ’åˆ†çš„ä»½æ•°ï¼‰ mixin.stylus 1234/* æŠŠpxè½¬ä¸ºrem */px2rem(designpx) $rem = 750 / 10; return (designpx / $rem)rem æœ€ååœ¨cssä¸­ä½¿ç”¨ æŸvueç»„ä»¶çš„styleæ ‡ç­¾ä¸­ 1234/* 375è®¾è®¡ç¨¿ä¸Š100%å®½ä»¥åŠ50é«˜çš„å¯¼èˆªæ¡ï¼ˆiPhone6çš„dprä¸º2ï¼Œæ‰€ä»¥pxå€¼å¾—éƒ½ä¹˜ä»¥2ï¼‰ */header width px2rem(750) height px2rem(100) remå¸ƒå±€çš„ä¼˜ç¼ºç‚¹ä¼˜ç‚¹ï¼š èƒ½ç»´æŒèƒ½æ•´ä½“çš„å¸ƒå±€æ•ˆæœï¼Œç§»åŠ¨ç«¯å…¼å®¹æ€§å¥½ï¼Œä¸ç”¨å†™å¤šä¸ªcssä»£ç ï¼Œè€Œä¸”è¿˜å¯ä»¥åˆ©ç”¨@mediaè¿›è¡Œä¼˜åŒ–ã€‚ ç¼ºç‚¹ï¼š å¼€å¤´è¦å¼•å…¥ä¸€æ®µ js ä»£ç ï¼Œå•ä½éƒ½è¦æ”¹æˆ remï¼ˆ font-size å¯ä»¥ç”¨ px ï¼‰ï¼Œè®¡ç®— rem æ¯”è¾ƒéº»çƒ¦(å¯ä»¥å¼•ç”¨é¢„å¤„ç†å™¨ï¼Œä½†æ˜¯å¢åŠ äº†ç¼–è¯‘è¿‡ç¨‹ï¼Œç›¸å¯¹éº»çƒ¦äº†ç‚¹)ã€‚PC å’Œ Mobile è¦åˆ†å¼€ã€‚ å‚è€ƒï¼š ç”¨ rem å®ç° WebApp è‡ªé€‚åº”çš„ä¼˜åŠ£åˆ†æ CSS3 çš„å­—ä½“å¤§å°å•ä½[rem]åˆ°åº•å¥½åœ¨å“ªï¼Ÿ æ€»ç»“ä¸ªäººä½¿ç”¨è¿‡çš„ç§»åŠ¨ç«¯å¸ƒå±€æ–¹æ³• æ…ç”¨ em çš„åŸå› emä¼šå åŠ è®¡ç®—ã€‚åœ¨è¿™ä¸ªæœºåˆ¶ä¸‹å¤ªå®¹æ˜“çŠ¯é”™äº†ï¼Œå› ä¸ºä½ ä¸çŸ¥é“è¿™æ®µcssæŒ‡å®šçš„å­—å·å…·ä½“æ˜¯å¤šå°‘ã€‚ HTML 12345&lt;span&gt; abc &lt;span&gt;def&lt;/span&gt; abc&lt;/span&gt; CSS 1span &#123; font-size: 1.5em; &#125; å®é™…æ•ˆæœï¼š å…ˆè¦ææ¸…æ¥š em çš„è®¡ç®—åŸç†ï¼Œå®ƒæ˜¯æ ¹æ®å½“å‰å…ƒç´ çš„å­—å·æŒ‰æ¯”ä¾‹è®¡ç®—çš„ã€‚ å¤–å±‚ span çš„å­—å·æ˜¯ 16pxï¼ˆæµè§ˆå™¨é»˜è®¤å€¼ï¼‰ï¼Œæ‰€ä»¥ 1.5em ä¹‹åæ˜¯ 24px ã€‚ç”±äºå­—å·æ˜¯ç»§æ‰¿çš„ï¼Œå¯¼è‡´å†…å±‚ span çš„å­—å·ç»§æ‰¿è¿‡æ¥æ˜¯ 24px ï¼Œå†ç»è¿‡ 1.5em ä¹‹åå°±æˆäº† 36px ã€‚ æ‰€ä»¥ï¼Œå°±ç®—è¦ç”¨ em çš„è¯ï¼Œå°½é‡ä¸è¦ç”¨åœ¨ç»§æ‰¿å±æ€§ï¼ˆfont-sizeï¼‰ä¸Šï¼Œé™¤éä½ çœŸçš„æ¸…æ¥šä½ åœ¨åšä»€ä¹ˆï¼ ä¸¤åˆ—å¸ƒå±€ï¼ˆå·¦åˆ—å®šå®½ï¼Œå³åˆ—è‡ªé€‚åº”ï¼‰ HTML 1234&lt;body&gt; &lt;div id="left"&gt;å·¦åˆ—å®šå®½&lt;/div&gt; &lt;div id="right"&gt;å³åˆ—è‡ªé€‚åº”&lt;/div&gt;&lt;/body&gt; 1. åˆ©ç”¨ float + margin123456789101112131415#left &#123; background-color: #f00; float: left; width: 100px; height: 500px;&#125;#right &#123; background-color: #0f0; height: 500px; margin-left: 100px; /*è®¾ç½®é—´éš”ï¼Œå¤§äºç­‰äº#leftçš„å®½åº¦*/&#125;åŸç†ï¼š#leftå·¦æµ®åŠ¨ï¼Œè„±ç¦»æ–‡æ¡£æµï¼Œ#rightä¸ºäº†ä¸è¢«#leftæŒ¡ä½ï¼Œè®¾ç½®margin-leftå¤§äºç­‰äº#leftçš„å®½åº¦è¾¾åˆ°è§†è§‰ä¸Šçš„ä¸¤æ å¸ƒå±€ 2. ä½¿ç”¨ float + overflowï¼ˆè§¦å‘bfcï¼‰1234567891011121314#left &#123; background-color: #f00; float: left; width: 100px; height: 500px;&#125;#right &#123; background-color: #0f0; height: 500px; overflow: hidden; /*è§¦å‘bfcè¾¾åˆ°è‡ªé€‚åº”*/&#125;åŸç†ï¼š#leftå·¦æµ®åŠ¨ï¼Œ#rightè§¦å‘bfcè¾¾åˆ°è‡ªé€‚åº” 3. ä½¿ç”¨ table å®ç°123456789101112131415161718#parent &#123; width: 100%; display: table; height: 500px;&#125;#left &#123; width: 100px; background-color: #f00;&#125;#right &#123; background-color: #0f0;&#125;/*åˆ©ç”¨å•å…ƒæ ¼è‡ªåŠ¨åˆ†é…å®½åº¦*/#left, #right &#123; display: table-cell;&#125; 4. ä½¿ç”¨ position å®ç°123456789101112131415161718192021#parent&#123; position: relative;&#125; /*çˆ¶ç›¸*/#left &#123; position: absolute; /*å­ç»*/ top: 0; left: 0; background-color: #f00; width: 100px; height: 500px;&#125;#right &#123; position: absolute; /*å­ç»*/ top: 0; left: 100px; /*å€¼å¤§äºç­‰äº#leftçš„å®½åº¦*/ right: 0; background-color: #0f0; height: 500px;&#125; 5. ä½¿ç”¨ flex å®ç°123456789101112131415#parent &#123; width: 100%; height: 500px; display: flex;&#125;#left &#123; width: 100px; background-color: #f00;&#125;#right &#123; flex: 1; /*å‡åˆ†äº†çˆ¶å…ƒç´ å‰©ä½™ç©ºé—´*/ background-color: #0f0;&#125; ä¸¤åˆ—å¸ƒå±€ï¼ˆä¸€åˆ—ä¸å®šå®½ï¼Œä¸€åˆ—è‡ªé€‚åº”ï¼‰1. float + overflow1234567891011121314#left &#123; margin-right: 10px; float: left; /*åªè®¾ç½®æµ®åŠ¨,ä¸è®¾å®½åº¦*/ height: 500px; background-color: #f00;&#125;#right &#123; overflow: hidden; /*è§¦å‘bfc*/ height: 500px; background-color: #0f0;&#125;åŸç†ï¼š#leftä¸è®¾å®½åº¦å·¦æµ®åŠ¨ï¼Œ#rightè§¦å‘ bfc è¾¾åˆ°è‡ªé€‚åº” 2. flex å¸ƒå±€123456789101112131415#parent&#123; display: flex;&#125;#left &#123; /*ä¸è®¾å®½åº¦*/ margin-right: 10px; height: 500px; background-color: #f00;&#125;#right &#123; height: 500px; background-color: #0f0; flex: 1; /*å‡åˆ†#parentå‰©ä½™çš„éƒ¨åˆ†*/&#125; ä¸‰åˆ—å¸ƒå±€ï¼ˆå·¦ä¸­å®šå®½ï¼Œå³ä¾§è‡ªé€‚åº”ï¼‰ HTML 1234567&lt;body&gt;&lt;div id="parent"&gt; &lt;div id="left"&gt;å·¦åˆ—å®šå®½&lt;/div&gt; &lt;div id="center"&gt;ä¸­é—´å®šå®½&lt;/div&gt; &lt;div id="right"&gt;å³åˆ—è‡ªé€‚åº”&lt;/div&gt;&lt;/div&gt;&lt;/body&gt; 1. float + margin123456789101112131415161718192021222324#parent&#123; min-width: 310px;&#125; /*100+10+200,é˜²æ­¢å®½åº¦ä¸å¤Ÿ,å­å…ƒç´ æ¢è¡Œ*/#left &#123; margin-right: 10px; /*#leftå’Œ#centeré—´éš”*/ float: left; width: 100px; height: 500px; background-color: #f00;&#125;#center&#123; float: left; width: 200px; height: 500px; background-color: #eeff2b;&#125;#right &#123; margin-left: 320px; /*ç­‰äº#leftå’Œ#centerçš„å®½åº¦ä¹‹å’ŒåŠ ä¸Šé—´éš”,å¤šå‡ºæ¥çš„å°±æ˜¯#rightå’Œ#centerçš„é—´éš”*/ height: 500px; background-color: #0f0;&#125; 2. float + overflow12345678910111213141516171819202122232425#parent&#123; min-width: 320px;&#125; /*100+10+200+20,é˜²æ­¢å®½åº¦ä¸å¤Ÿ,å­å…ƒç´ æ¢è¡Œ*/#left &#123; margin-right: 10px; /*é—´éš”*/ float: left; width: 100px; height: 500px; background-color: #f00;&#125;#center&#123; margin-right: 10px; /*åœ¨æ­¤å®šä¹‰å’Œ#rightçš„é—´éš”*/ float: left; width: 200px; height: 500px; background-color: #eeff2b;&#125;#right &#123; overflow: hidden; /*è§¦å‘bfc*/ height: 500px; background-color: #0f0;&#125; 3. åˆ©ç”¨ position123456789101112131415161718192021222324252627282930#parent &#123; position: relative;&#125; /*çˆ¶ç›¸*/#left &#123; position: absolute; /*å­ç»*/ top: 0; left: 0; width: 100px; height: 500px; background-color: #f00;&#125;#center &#123; position: absolute; /*å­ç»*/ left: 100px; /*å¯¹åº”#leftçš„widthå€¼*/ top: 0; width: 200px; height: 500px; background-color: #eeff2b;&#125;#right &#123; position: absolute; /*å­ç»*/ left: 300px; /*å¯¹åº”#leftå’Œ#centerçš„widthå€¼ä¹‹å’Œ*/ top: 0; right: 0; height: 500px; background-color: #0f0;&#125; 4. åˆ©ç”¨ table12345678910111213141516171819202122232425#parent &#123; width: 100%; height: 520px; /*æŠµæ¶ˆä¸Šä¸‹é—´è·10*2çš„é«˜åº¦å½±å“*/ margin: -10px 0; /*æŠµæ¶ˆä¸Šä¸‹è¾¹é—´è·10çš„ä½ç½®å½±å“*/ display: table; /*å·¦å³ä¸¤è¾¹é—´è·æ— æ³•æ¶ˆé™¤,å­å…ƒç´ æ”¹ç”¨paddingè®¾ç½®ç›’å­é—´è·å°±æ²¡æœ‰è¿™ä¸ªé—®é¢˜*/ border-spacing: 10px; /*å…³é”®!!!è®¾ç½®é—´è·*/&#125;#left &#123; display: table-cell; width: 100px; background-color: #f00;&#125;#center &#123; display: table-cell; width: 200px; background-color: #eeff2b;&#125;#right &#123; display: table-cell; background-color: #0f0;&#125; 5. åˆ©ç”¨ flex123456789101112131415161718192021#parent &#123; height: 500px; display: flex;&#125;#left &#123; margin-right: 10px; /*é—´è·*/ width: 100px; background-color: #f00;&#125;#center &#123; margin-right: 10px; /*é—´è·*/ width: 200px; background-color: #eeff2b;&#125;#right &#123; flex: 1; /*å‡åˆ†#parentå‰©ä½™çš„éƒ¨åˆ†è¾¾åˆ°è‡ªé€‚åº”*/ background-color: #0f0;&#125; ä¸‰åˆ—å¸ƒå±€ï¼ˆä¸¤ä¾§å®šå®½ï¼Œä¸­é—´è‡ªé€‚åº”ï¼‰åœ£æ¯å¸ƒå±€ è¯¦è§£ HTML 12345&lt;div class="container"&gt; &lt;div class="center"&gt;ä¸­é—´&lt;/div&gt; &lt;!-- è®©ä¸­é—´ç¬¬ä¸€ï¼Œè¿™æ ·æµ®åŠ¨çš„æ—¶å€™å®ƒä¼šå…ˆå æ®100%å®½ --&gt; &lt;div class="left"&gt;å·¦è¾¹&lt;/div&gt; &lt;div class="right"&gt;å³è¾¹&lt;/div&gt;&lt;/div&gt; CSS 12345678910111213141516171819202122232425262728293031.container &#123; height: 500px; min-width: 400px; /* å·¦è¾¹w*2+å³è¾¹w */ padding: 0 100px 0 150px; /* 1. çˆ¶å®¹å™¨å·¦å³ç•™å‡ºå›ºå®špadding */ background-color: gray;&#125;.left &#123; margin-left: -100%; /* 4.1 è®©è¢«æŒ¤åˆ°centerä¸‹æ–¹çš„leftå·¦ç§»æ•´ä¸ªå®¹å™¨çš„å®½åº¦ï¼Œæ­¤æ—¶å·¦ä¸Šè§’ä¸centeré‡å  */ position: relative; /* 4.2 ä¸ºäº†è®©leftç§»åˆ°æœ€å·¦è¾¹,è®¾ç½®ç›¸å¯¹å®šä½ */ left: -150px; /* 4.3 ç„¶åç›¸å¯¹è‡ªå·±å·¦ç§»è‡ªå·²å®½åº¦çš„å•ä½ï¼Œä½¿è‡ªå·±ç§»åŠ¨åˆ°æœ€å·¦è¾¹ */ height: 100%; float: left; /* 2.1 å·¦æµ®åŠ¨ */ width: 150px; background-color: rgba(233, 233, 0, .2);&#125;.center &#123; height: 100%; width: 100%; /* 3. è®©centerå æ®å‰©ä¸‹çˆ¶å®¹å™¨çš„100%å®½ */ float: left; /* 2.1 å·¦æµ®åŠ¨ */ background-color: rgba(165, 12, 23, .4);&#125;.right &#123; margin-right: -100px; /* 5. ç»™åœ¨ç¬¬äºŒè¡Œçš„rightè®¾ç½®ä¸€ä¸ªè´Ÿè‡ªå·±å®½åº¦çš„margin-rightã€‚è®©å…¶æœ€å³è¾¹ */ height: 100%; width: 100px; float: left; /* 2.1 å·¦æµ®åŠ¨ */ background-color: green;&#125; åŒé£ç¿¼å¸ƒå±€æ–¹æ³• è¯¦æƒ… HTML 1234567&lt;div class="container"&gt; &lt;div class="center"&gt; &lt;div&gt;ä¸­é—´&lt;/div&gt; &lt;/div&gt; &lt;div class="left"&gt;å·¦è¾¹&lt;/div&gt; &lt;div class="right"&gt;å³è¾¹&lt;/div&gt;&lt;/div&gt; CSS 1234567891011121314151617181920212223242526272829303132.container &#123; width: 100%; /* 1. æ•´ä¸ªå®¹å™¨å®½100%è‡ªé€‚åº” */ height: 500px; background-color: gray;&#125;.left &#123; width: 100px; /* 3.1 è®¾ç½®å®šå®½ */ margin-left: -100%; /* 5. å·¦ç§»å®¹å™¨å®½åº¦100%ä¸ªå•ä½ï¼Œå°±æŠŠè‡ªå·±æ’åœ¨äº†centerå‰é¢ */ background-color: rgba(233, 233, 0, .2);&#125;.center &#123; width: 100%; /* 4. ä¸­é—´å®¹å™¨100%ï¼Œæ­¤æ—¶ä¼šæŠŠå·¦å³æŒ¤åˆ°ç¬¬äºŒè¡Œ */ background-color: rgba(165, 12, 23, .4);&#125;.center div &#123; margin: 0 150px 0 100px; /* 7. æ­¤æ—¶centerçš„å·¦å³åˆ†åˆ«æœ‰100å’Œ150å®½ä¸leftï¼Œrighté‡å ã€‚æ‰€ä»¥è®©centerå­å®¹å™¨å·¦å³marginæŠµæ¶ˆ */&#125;.right &#123; width: 150px; /* 3.2 è®¾ç½®å®šå®½ */ margin-left: -150px; /* 6. åŒæ ·å·¦ç§»è‡ªèº«å®½åº¦çš„å•ä½ï¼Œè®©rightä¹Ÿå›åˆ°ç¬¬ä¸€è¡Œ */ background-color: green;&#125;.left, .center, .right &#123; height: 100%; float: left; /*2. å­å®¹å™¨å…¨éƒ¨å·¦æµ®åŠ¨ */&#125; å¸ƒå±€çš„å‡ ç§æ–¹å¼ ä¼¸ç¼©å¸ƒå±€ flex æµå¼å¸ƒå±€ ç™¾åˆ†æ¯” å“åº”å¼å¸ƒå±€ åª’ä½“æŸ¥è¯¢ï¼ˆè¶…å°å±è®¾å¤‡æ—¶ï¼šæµå¼å¸ƒå±€ï¼‰ &lt;!- ä»¥ä¸Šå¸ƒå±€å…±åŒç‚¹ï¼šå…ƒç´ åªèƒ½åšåˆ°å®½åº¦çš„é€‚é…ï¼ˆæ’é™¤å›¾ç‰‡ï¼‰-&gt; remå¸ƒå±€ å®½åº¦å’Œé«˜åº¦éƒ½èƒ½åšåˆ°é€‚é…ï¼ˆç­‰æ¯”é€‚é…ï¼‰ Flexflexå¸ƒå±€å’Œä¼ ç»Ÿå¸ƒå±€çš„ä¼˜åŠ¿ï¼Ÿè¯¥å¸ƒå±€æ¨¡å‹çš„ç›®çš„æ˜¯æä¾›ä¸€ç§æ›´åŠ é«˜æ•ˆçš„æ–¹å¼æ¥å¯¹å®¹å™¨ä¸­çš„æ¡ç›®è¿›è¡Œå¸ƒå±€ã€å¯¹é½å’Œåˆ†é…ç©ºé—´ã€‚ åœ¨ä¼ ç»Ÿçš„å¸ƒå±€æ–¹å¼ä¸­: block å¸ƒå±€æ˜¯æŠŠå—åœ¨å‚ç›´æ–¹å‘ä»ä¸Šåˆ°ä¸‹ä¾æ¬¡æ’åˆ—çš„ inline å¸ƒå±€åˆ™æ˜¯åœ¨æ°´å¹³æ–¹å‘æ¥æ’åˆ— flex å¼¹æ€§ç›’å¸ƒå±€å¹¶æ²¡æœ‰è¿™æ ·å†…åœ¨çš„æ–¹å‘é™åˆ¶ï¼Œå¯ä»¥ç”±å¼€å‘äººå‘˜è‡ªç”±æ“ä½œ å¦‚ä½•è§£å†³ç§»åŠ¨ç«¯ Retina å± 1px åƒç´ é—®é¢˜åŸç†ï¼šåª’ä½“æŸ¥è¯¢ + å˜æ¢ç¼©æ”¾12345678910111213141516171819202122232425262728&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta name="viewport" content="width=device-width,initial-scale=1.0"/&gt; &lt;style type="text/css"&gt; * &#123; margin: 0; padding: 0; &#125; #test &#123; width: 100%; height: 1px; margin-top: 50px; background: black; &#125; @media only screen and (-webkit-device-pixel-ratio:2 ) &#123; #test &#123; transform: scaleY(.5); &#125; &#125; @media only screen and (-webkit-device-pixel-ratio:3 ) &#123; #test &#123; transform: scaleY(.333333333333333333); &#125; &#125; &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;div id="test"&gt;&lt;/div&gt; &lt;/body&gt;&lt;/html&gt; stylus å®ç°æ–¹æ¡ˆ stylus12345678910111213141516171819202122232425/* ç»™ dpr 1.5 çš„è®¾å¤‡è®¾ç½® 0.7 çš„ç¼©æ”¾ */@media (-webkit-min-device-pixel-ratio: 1.5), (min-device-pixel-ratio: 1.5) .border1px &amp;::after -webkit-transform: scaleY(.7) transform: scaleY(.7)/* ç»™ dpr 2.0 çš„è®¾å¤‡è®¾ç½® 0.5 çš„ç¼©æ”¾ */@media (-webkit-min-device-pixel-ratio: 2), (min-device-pixel-ratio: 2) .border1px &amp;::after -webkit-transform: scaleY(.5) transform: scaleY(.5)/* ç»™éœ€è¦1pxä¸‹è¾¹æ¡†çš„å…ƒç´ æ·»åŠ ä¸€ä¸ªä¼ªå…ƒç´ ï¼Œä½¿å…¶å®½100%ï¼›é«˜ä¸ºç”¨æˆ·è‡ªå®šä¹‰ */border1px($color) position: relative &amp;:after display: block position: absolute left: 0 bottom: 0 width: 100% border-top: 1px solid $color content: ' ' html 12345678&lt;!-- 1. ç»™éœ€è¦æ·»åŠ 1åƒç´ è¾¹æ¡†çš„å…ƒç´ è®¾ç½®ä¸€ä¸ªç±»ä½œä¸ºæ ‡è¯†ï¼Œè®©åª’ä½“æŸ¥è¯¢èƒ½å¤Ÿè¯†åˆ« --&gt;&lt;header class="border1px"&gt;&lt;/header&gt;&lt;style lang="stylus" scoped&gt;header ... border1px(black) /* 2. é€šè¿‡border1pxè®¾ç½®è¾¹æ¡† */&lt;/style&gt; å…¶å®ƒå®ç°ä¸ä½¿ç”¨ border ç”»å‡º 1px é«˜çš„çº¿ï¼Œåœ¨ä¸åŒæµè§ˆå™¨çš„æ ‡å‡†æ¨¡å¼ä¸æ€ªå¼‚æ¨¡å¼ä¸‹éƒ½èƒ½ä¿æŒä¸€è‡´çš„æ•ˆæœã€‚1&lt;div style="height:1px;overflow:hidden;background:red"&gt;&lt;/div&gt; å·²çŸ¥å¦‚ä¸‹ä»£ç ï¼Œå¦‚ä½•ä¿®æ”¹æ‰èƒ½è®©å›¾ç‰‡å®½åº¦ä¸º 300px ï¼Ÿæ³¨æ„ä¸‹é¢ä»£ç ä¸å¯ä¿®æ”¹1&lt;img src="1.jpg" style="width:480px!important;"&gt; ç­”æ¡ˆï¼š 1234567891011121314151617181920&lt;!-- æ–¹æ³•ä¸€ï¼šmax-widthè¦†ç›– --&gt;&lt;img src="1.jpg" style="width:480px!important; max-width: 300px"&gt;&lt;!-- æ–¹æ³•äºŒï¼šscaleæŒ‰æ¯”ä¾‹ç¼©æ”¾ --&gt;&lt;img src="1.jpg" style="width:480px!important; transform: scale(0.625, 1);" &gt;&lt;!-- æ–¹æ³•ä¸‰ï¼šç›¸åŒå±æ€§ç›´æ¥è¦†ç›– --&gt;&lt;img src="1.jpg" style="width:480px!important; width:300px!important;"&gt;&lt;!-- æ–¹æ³•å››ï¼šcssåŠ¨ç”»æ ·å¼ä¼˜å…ˆçº§é«˜äºimportantç‰¹æ€§ --&gt;&lt;style&gt;img &#123; animation: test 0s forwards;&#125;@keyframes test &#123; from &#123; width: 300px &#125; to &#123; width: 300px; &#125;&#125;&lt;/style&gt; é¢˜ç›®æ¥æºï¼šDaily-Interview-Question ç¬¬60é¢˜]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>é¢è¯•</category>
      </categories>
      <tags>
        <tag>é¢è¯•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Webpacké¢è¯•é¢˜ï¼ˆé¢è¯•ç³»åˆ—ï¼‰]]></title>
    <url>%2Fposts%2F6706%2F</url>
    <content type="text"><![CDATA[ä¸‹é¢çš„é¢˜ç›®éƒ½æ‘˜è‡ªå„ç§ webpack é¢è¯•ç›¸å…³çš„æ–‡ç« ï¼Œæˆ‘åªé€‰æ‹©äº†æ„Ÿè§‰å¾ˆé‡è¦çš„ä¸€äº›é¢˜ï¼Œæƒ³è¦äº†è§£æ›´å¤šï¼Œå¯ä»¥æŸ¥çœ‹æœ¬æ–‡æœ€åçš„å‚è€ƒé“¾æ¥ã€‚ webpack æœ‰ä»€ä¹ˆç”¨ é™æ€èµ„æºçš„åˆå¹¶/æ‰“åŒ…/å‹ç¼© è§£å†³åŠ è½½æ…¢ï¼Œé”™ç»¼å¤æ‚çš„ä¾èµ–å…³ç³» æœ‰å“ªäº›å¸¸è§ loader å’Œ pluginï¼Œä½ ç”¨è¿‡å“ªäº›loaderï¼š cssï¼špostcss-l+autoprefixerï¼Œstyle-l(jsåˆ°)ï¼Œcss-l(jsä¸­ import çš„ css)ï¼Œless-lï¼Œsass-l å›¾ç‰‡/å­—ä½“åŠ è½½ï¼šurl-loaderï¼Œfile-loader å›¾ç‰‡å‹ç¼©ï¼šimage-webpack-loader jsï¼šbabel-loader es6è½¬es5ï¼Œeslint-loader æ£€æŸ¥jsä»£ç  pluginï¼š webpack-dev-server å®æ—¶æ‰“åŒ…æ„å»º html-webpack-plugin é…ç½®å¯åŠ¨é¡µ clean-webpack-plugin æ¸…ç† dist æ–‡ä»¶å¤¹ mini-css-extract-plugin æå–cssä¸ºå•ç‹¬æ–‡ä»¶ optimize-css-assets-webpack-plugin å‹ç¼©css loader å’Œ plugin çš„åŒºåˆ«æ˜¯ä»€ä¹ˆloaders æ˜¯åŠ è½½å™¨ã€‚ç”¨æ¥å¤„ç†æºæ–‡ä»¶çš„ï¼ˆJSXï¼ŒScssï¼ŒLess..ï¼‰ï¼Œä¸€æ¬¡å¤„ç†ä¸€ä¸ªï¼Œè®© webpack æœ‰èƒ½åŠ›åŠ è½½å¤„ç†éjsæ–‡ä»¶ï¼Œplugin æ˜¯æ’ä»¶ã€‚å¹¶ä¸ç›´æ¥æ“ä½œå•ä¸ªæ–‡ä»¶ï¼Œå®ƒç›´æ¥å¯¹æ•´ä¸ªæ„å»ºè¿‡ç¨‹èµ·ä½œç”¨ã€‚ å¦‚ä½•æŒ‰éœ€åŠ è½½ä»£ç import(â€˜æ–‡ä»¶è·¯å¾„â€™).thenã€ä»£ç æ‰§è¡Œåˆ°æ—¶å†åŠ è½½ã€‘ å¦‚ä½•æé«˜ webpack æ„å»ºé€Ÿåº¦ ç”¨ webpack4 ç”¨ externals æå–å¸¸ç”¨åº“ æå‰æ‰“åŒ…ç¬¬ä¸‰æ–¹åº“ï¼šdllplugin happypackï¼šå¤šçº¿ç¨‹è¿›è¡Œæ‰“åŒ…ï¼Œæå‡ loader è§£æé€Ÿåº¦ webpack-parallel-uglify-plugin å¹¶å‘å‹ç¼©jsï¼Œæå‡é€Ÿåº¦ å¦‚ä½•åˆ©ç”¨ webpack æå‡å‰ç«¯æ€§èƒ½ åŠ¨æ€åŠ è½½ï¼šè·¯ç”±æ‡’åŠ è½½ã€import()åŠ¨æ€åŠ è½½æ¨¡å—ï¼Œè¿”å›ç»“æœæ˜¯Promiseã€‘ 1234function loadView(view) &#123; return () =&gt; import( /* webpackChunkName: "view-[request]" */ `../components/$&#123;view&#125;.vue`)&#125;&#123; path: '/home', component: loadView('Home') &#125; ç¬¬ä¸‰æ–¹ä¾èµ–ç”¨ cdnï¼ˆvueï¼Œvue-routerï¼Œelement-uiï¼‰ã€webpack.config.js externalsã€‘ å‹ç¼©æ–‡ä»¶ã€uglifyjs-plugin/optimize-css-assets-plugin/image-webpack-loaderã€‘ æå–å…¬å…±ä»£ç ã€CommonChunkPlugin / splitChunksPluginã€‘ å‚è€ƒ å…³äºwebpackçš„é¢è¯•é¢˜æ€»ç»“ ä½¿ç”¨webpack4æå‡180%ç¼–è¯‘é€Ÿåº¦ webpack4.0 å„ä¸ªå‡»ç ´]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>é¢è¯•</category>
      </categories>
      <tags>
        <tag>é¢è¯•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Vueé¢è¯•é¢˜ï¼ˆé¢è¯•ç³»åˆ—ï¼‰]]></title>
    <url>%2Fposts%2F53756%2F</url>
    <content type="text"><![CDATA[watch å’Œ computed åŒºåˆ« watch æ˜¯ç›‘å¬åŠ¨ä½œï¼Œcomputed æ˜¯è®¡ç®—å±æ€§ computed æœ‰ç¼“å­˜ï¼Œåªåœ¨å±æ€§å˜åŒ–çš„æ—¶å€™æ‰å»è®¡ç®—ã€‚watch æ²¡ç¼“å­˜ï¼Œåªè¦æ•°æ®å˜åŒ–å°±æ‰§è¡Œ è®²ä¸€ä¸‹ Vue çš„ç”Ÿå‘½å‘¨æœŸï¼Ÿåˆ›å»ºæœŸé—´çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼š beforeCreateï¼šå®ä¾‹åˆšåœ¨å†…å­˜ä¸­è¢«åˆ›å»ºå‡ºæ¥ï¼Œæ­¤æ—¶ï¼Œè¿˜æ²¡æœ‰åˆå§‹åŒ–å¥½ data å’Œ methods å±æ€§ createdï¼šå®ä¾‹å·²ç»åœ¨å†…å­˜ä¸­åˆ›å»ºOKï¼Œæ­¤æ—¶ data å’Œ methods å·²ç»åˆ›å»ºOKï¼Œæ­¤æ—¶è¿˜æ²¡æœ‰å¼€å§‹ ç¼–è¯‘æ¨¡æ¿ beforeMountï¼šæ­¤æ—¶å·²ç»å®Œæˆäº†æ¨¡æ¿çš„ç¼–è¯‘ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰æŒ‚è½½åˆ°é¡µé¢ä¸­ã€‚ æ¢å¥è¯è¯´ï¼Œæ­¤æ—¶é¡µé¢ä¸­çš„ç±»ä¼¼ è¿™æ ·çš„è¯­æ³•è¿˜æ²¡æœ‰è¢«æ›¿æ¢æˆçœŸæ­£çš„æ•°æ®ã€‚ mountedï¼šæ­¤æ—¶ï¼Œå·²ç»å°†ç¼–è¯‘å¥½çš„æ¨¡æ¿ï¼ŒæŒ‚è½½åˆ°äº†é¡µé¢æŒ‡å®šçš„å®¹å™¨ä¸­æ˜¾ç¤ºã€å¯ä»¥è·å– DOM èŠ‚ç‚¹ | å‘èµ·å¼‚æ­¥è¯·æ±‚ã€‘ ç”¨æˆ·å·²ç»å¯ä»¥çœ‹åˆ°æ¸²æŸ“å¥½çš„é¡µé¢äº† è¿è¡ŒæœŸé—´çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼š beforeUpdateï¼šçŠ¶æ€æ›´æ–°ä¹‹å‰æ‰§è¡Œæ­¤å‡½æ•°ï¼Œ æ­¤æ—¶ data ä¸­çš„çŠ¶æ€å€¼æ˜¯æœ€æ–°çš„ï¼Œä½†æ˜¯ç•Œé¢ä¸Šæ˜¾ç¤ºçš„ æ•°æ®è¿˜æ˜¯æ—§çš„ï¼Œå› ä¸ºæ­¤æ—¶è¿˜æ²¡æœ‰å¼€å§‹é‡æ–°æ¸²æŸ“DOMèŠ‚ç‚¹ updatedï¼šå®ä¾‹æ›´æ–°å®Œæ¯•ä¹‹åè°ƒç”¨æ­¤å‡½æ•°ï¼Œæ­¤æ—¶ data ä¸­çš„çŠ¶æ€å€¼ å’Œ ç•Œé¢ä¸Šæ˜¾ç¤ºçš„æ•°æ®ï¼Œéƒ½å·²ç»å®Œæˆäº†æ›´æ–°ï¼Œç•Œé¢å·²ç»è¢«é‡æ–°æ¸²æŸ“å¥½äº†ï¼ é”€æ¯æœŸé—´çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼š beforeDestroyï¼šå®ä¾‹é”€æ¯ä¹‹å‰è°ƒç”¨ã€‚åœ¨è¿™ä¸€æ­¥ï¼Œå®ä¾‹ä»ç„¶å®Œå…¨å¯ç”¨ã€‚ destroyedï¼šVue å®ä¾‹é”€æ¯åè°ƒç”¨ã€‚è°ƒç”¨åï¼ŒVue å®ä¾‹æŒ‡ç¤ºçš„æ‰€æœ‰ä¸œè¥¿éƒ½ä¼šè§£ç»‘å®šï¼Œæ‰€æœ‰çš„äº‹ä»¶ç›‘å¬å™¨ä¼šè¢«ç§»é™¤ï¼Œæ‰€æœ‰çš„å­å®ä¾‹ä¹Ÿä¼šè¢«é”€æ¯ã€‚ Vue çš„çˆ¶ç»„ä»¶å’Œå­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé’©å­æ‰§è¡Œé¡ºåºæ˜¯ä»€ä¹ˆ åŠ è½½æ¸²æŸ“è¿‡ç¨‹çˆ¶beforeCreate-&gt;çˆ¶created-&gt;çˆ¶beforeMount-&gt;å­beforeCreate-&gt;å­created-&gt;å­beforeMount-&gt;å­mounted-&gt;çˆ¶mounted å­ç»„ä»¶æ›´æ–°è¿‡ç¨‹çˆ¶beforeUpdate-&gt;å­beforeUpdate-&gt;å­updated-&gt;çˆ¶updated çˆ¶ç»„ä»¶æ›´æ–°è¿‡ç¨‹çˆ¶beforeUpdate-&gt;çˆ¶updated é”€æ¯è¿‡ç¨‹çˆ¶beforeDestroy-&gt;å­beforeDestroy-&gt;å­destroyed-&gt;çˆ¶destroyed æ€»ç»“ï¼šä»å¤–åˆ°å†…ï¼Œå†ä»å†…åˆ°å¤– æ›´å¤šé˜…è¯» åŒ…ä½ ç†è§£â€”vue çš„ç”Ÿå‘½å‘¨æœŸ ç»„ä»¶ç°åœ¨æœ‰ä¸ªçˆ¶å­ç»„ä»¶ï¼Œæˆ‘å¸Œæœ›åœ¨çˆ¶çº§ä¸­ç»™å­ç»„ä»¶ç»‘å®šä¸€ä¸ªåŸç”Ÿclickäº‹ä»¶ï¼Œè¿™ä¸ªäº‹ä»¶ä¼šè¢«è§¦å‘å—ï¼Ÿ123456789101112&lt;div id='app'&gt; &lt;my-button @click='change'&gt;&lt;/my-button&gt;&lt;/div&gt;&lt;script&gt; export default &#123; methods: &#123; change() &#123; alert(1) &#125; &#125; &#125;&lt;/script&gt; ç­”ï¼šä¸èƒ½ï¼Œç»‘å®šçš„è¯¥clickäº‹ä»¶ä¼šè¢«å½“åšç»„ä»¶ä¸Šçš„ä¸€ä¸ªæ™®é€šå±æ€§çœ‹å¾…ï¼Œå¦‚æœæƒ³è¦ä½¿clickäº‹ä»¶ç”Ÿæ•ˆï¼Œå¯ä»¥ä½¿ç”¨ `@click.native=â€™changeâ€™` çš„æ–¹å¼æ¥å®ç°ã€‚ ç»„ä»¶é—´å¦‚ä½•é€šè®¯ï¼Ÿ props/$emit+v-on: é€šè¿‡propså°†æ•°æ®è‡ªä¸Šè€Œä¸‹ä¼ é€’ï¼Œè€Œé€šè¿‡$emitå’Œv-onæ¥å‘ä¸Šä¼ é€’ä¿¡æ¯ã€‚ EventBus: é€šè¿‡EventBusè¿›è¡Œä¿¡æ¯çš„å‘å¸ƒä¸è®¢é˜… vuex: æ˜¯å…¨å±€æ•°æ®ç®¡ç†åº“ï¼Œå¯ä»¥é€šè¿‡vuexç®¡ç†å…¨å±€çš„æ•°æ®æµ $attrs/$listeners: Vue2.4ä¸­åŠ å…¥çš„$attrs/$listenerså¯ä»¥è¿›è¡Œè·¨çº§çš„ç»„ä»¶é€šä¿¡ provide/injectï¼šä»¥å…è®¸ä¸€ä¸ªç¥–å…ˆç»„ä»¶å‘å…¶æ‰€æœ‰å­å­™åä»£æ³¨å…¥ä¸€ä¸ªä¾èµ–ï¼Œä¸è®ºç»„ä»¶å±‚æ¬¡æœ‰å¤šæ·±ï¼Œå¹¶åœ¨èµ·ä¸Šä¸‹æ¸¸å…³ç³»æˆç«‹çš„æ—¶é—´é‡Œå§‹ç»ˆç”Ÿæ•ˆï¼Œè¿™æˆä¸ºäº†è·¨ç»„ä»¶é€šä¿¡çš„åŸºç¡€ this.$emit çš„è¿”å›å€¼æ˜¯ä»€ä¹ˆï¼Ÿå¦‚æœéœ€è¦è¿”å›å€¼è¯¥æ€ä¹ˆåŠï¼Ÿthis.$emit çš„è¿”å›å€¼å°±æ˜¯ this ï¼Œå³å½“å‰å­ç»„ä»¶ VueComponent ã€‚ å¦‚æœæƒ³è¦æœ‰è¿”å›å€¼å¯ä»¥å¦‚ä¸‹æ“ä½œï¼š å­ç»„ä»¶ 12345678910111213141516&lt;template&gt; &lt;input :value="name" @change="handleChange" /&gt;&lt;/template&gt;&lt;script&gt;export default &#123; props: ['name'], methods: &#123; handleChange(e) &#123; const res = this.$emit("Echange", e.target.value, val =&gt; &#123; console.log(val); &#125;); console.log(res, res === this); &#125;, &#125;&#125;&lt;/script&gt; çˆ¶ç»„ä»¶ 12345678910111213141516171819&lt;template&gt; &lt;Child :name='name' @Echange="handleEventChange" /&gt;&lt;/template&gt;&lt;script&gt;export default &#123; data() &#123; return &#123; name: '', &#125; &#125; methods: &#123; handleEventChange(val, callback) &#123; this.name = val callback("hello") return 'hello' &#125; &#125;&#125;&lt;/script&gt; vue æŒ‡ä»¤èƒ½è®²ä¸‹ v-if å’Œ v-show çš„åŒºåˆ«å—ï¼Ÿ v-if: æ˜¯å¦åŠ è½½è¿™ä¸ªå…ƒç´ ï¼ˆä¸€æ¬¡æ€§çš„ï¼‰ v-showï¼šæ§åˆ¶æ˜¾ç¤ºæ–¹å¼block or noneï¼ˆéœ€è¦åˆ‡æ¢çš„ï¼Œä¾§è¾¹æ ï¼‰ å› æ­¤ï¼šå¦‚æœéœ€è¦é¢‘ç¹åˆ‡æ¢ v-show è¾ƒå¥½ï¼Œå¦‚æœåœ¨è¿è¡Œæ—¶æ¡ä»¶ä¸å¤§å¯èƒ½æ”¹å˜ v-if è¾ƒå¥½ v-for ä½ ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œæœ‰é‡åˆ°ä»€ä¹ˆé—®é¢˜æˆ–è€…å…³æ³¨ç‚¹å—ï¼Ÿ é¿å…å°† v-if å’Œ v-for æ”¾åœ¨åŒä¸€ä¸ªå…ƒç´ ä¸Šï¼Œå› ä¸º v-for ä¼˜å…ˆçº§æ¯” v-if æ›´é«˜ã€‚ä¾‹å¦‚è¦æ¸²æŸ“ todo åˆ—è¡¨ä¸­æœªå®Œæˆçš„ä»»åŠ¡ï¼Œç»™ li æ ‡ç­¾åŒæ—¶å†™ä¸Š v-for å’Œ v-if åä¼šå¯¼è‡´æ¯æ¬¡é‡æ–°æ¸²æŸ“éƒ½å¾—éå†æ•´ä¸ªåˆ—è¡¨ã€‚ä¼˜åŒ–æ–¹æ¡ˆæ˜¯æŠŠéœ€è¦éå†çš„ todoList æ›´æ¢ä¸ºåœ¨è®¡ç®—å±æ€§ä¸Šéå†è¿‡æ»¤ã€‚ï¼ˆVueæ–‡æ¡£æœ‰è¯¦ç»†è¯´æ˜ï¼Œå…·ä½“è§ä¸‹æ–¹ã€Œé˜…è¯»æ›´å¤šã€ï¼‰ ç»™ v-for è®¾ç½®é”®ç»‘å®šé”®å€¼ keyã€‚ç†ç”±è§ä¸‹ã€‚ åœ¨åˆ—è¡¨ç»„ä»¶ä¸­æ·»åŠ  key å±æ€§çš„ä½œç”¨ï¼Ÿkeyçš„ä¸»è¦ä½œç”¨å°±æ˜¯åœ¨æ›´æ–°ç»„ä»¶æ—¶åˆ¤æ–­ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å¦ç›¸åŒã€‚ç›¸åŒå°±å¤ç”¨ï¼Œä¸ç›¸åŒå°±åˆ é™¤æ—§çš„åˆ›å»ºæ–°çš„ã€‚è¿™æ ·å¯ä»¥æ›´é«˜æ•ˆçš„æ›´æ–°è™šæ‹Ÿ DOMã€‚ å¦å¤–å¦‚æœç»™åˆ—è¡¨ç»„ä»¶è®¾ç½®äº†è¿‡æ¸¡æ•ˆæœï¼Œä¸æ·»åŠ keyå±æ€§ä¼šå¯¼è‡´è¿‡æ¸¡æ•ˆæœæ— æ³•è§¦å‘ã€‚å› ä¸ºä¸æ·»åŠ keyä¼šå¯¼è‡´vueæ— æ³•åŒºåˆ†å®ƒä»¬ï¼Œå¯¼è‡´åªä¼šæ›¿æ¢èŠ‚ç‚¹å†…éƒ¨å±æ€§è€Œä¸ä¼šè§¦å‘è¿‡æ¸¡æ•ˆæœã€‚ ä¸ºä»€ä¹ˆä¸å»ºè®®ç”¨ index ä½œä¸º key å‘¢ï¼Ÿæ›´æ–°DOMæ—¶ä¼šå‡ºç°æ€§èƒ½é—®é¢˜ ä¾‹å¦‚æˆ‘ä»¬åœ¨ä½¿ç”¨indexä½œä¸ºkeyå€¼æ—¶æƒ³è¦ä¸‹é¢åˆ—è¡¨è¿›è¡Œå€’åºæ’åˆ—ï¼š 1234567&lt;li key='0'&gt;React&lt;/li&gt;&lt;li key='1'&gt;Vue&lt;/li&gt;&lt;li key='2'&gt;Angular&lt;/li&gt;&lt;!-- å€’åºåâ†“â†“â†“â†“â†“â†“â†“â†“â†“â†“ --&gt;&lt;li key='0'&gt;Angular&lt;/li&gt;&lt;li key='1'&gt;Vue&lt;/li&gt;&lt;li key='2'&gt;React&lt;/li&gt; vueè¿™ä¸ªæ—¶å€™ä»…ä¼šè°ƒæ¢ç¬¬ä¸€å’Œç¬¬ä¸‰é¡¹çš„æ–‡æœ¬ï¼Œliå…ƒç´ åˆ™ä¸ä¼šè°ƒæ¢é¡ºåºï¼Œå› ä¸ºvueå‘ç°keyå€¼ä¹Ÿå°±æ˜¯indexæ²¡å˜åŒ–ã€‚è€Œè¿™ä¼šå¯¼è‡´lié‡Œé¢çš„æ–‡æœ¬é‡æ–°æ¸²æŸ“ï¼Œå½±å“æ€§èƒ½ã€‚ è€Œå¦‚æœé‡‡ç”¨ id ä½œä¸º keyï¼Œåˆ™ä»…ä»…éœ€è¦ç§»åŠ¨ä¸‹DOMå°±OKäº†ï¼Œå¹¶ä¸éœ€è¦é‡æ–°æ¸²æŸ“DOMï¼š 1234567&lt;li key='react'&gt;React&lt;/li&gt;&lt;li key='vue'&gt;Vue&lt;/li&gt;&lt;li key='angular'&gt;Angular&lt;/li&gt;&lt;!-- å€’åºåâ†“â†“â†“â†“â†“â†“â†“â†“â†“â†“ --&gt;&lt;li key='angular'&gt;Angular&lt;/li&gt;&lt;li key='vue'&gt;Vue&lt;/li&gt;&lt;li key='react'&gt;React&lt;/li&gt; ä¼šå‘ç”Ÿä¸€äº›çŠ¶æ€bug è¿˜æ˜¯ä»¥ä¸Šé¢ä¾‹å­ä¸ºä¾‹ï¼Œç»™æ¯ä¸ªliå…ƒç´ ä¸­åŠ ä¸€ä¸ªcheckboxï¼š 123&lt;li key='react'&gt;&lt;input type='checkbox'&gt;React&lt;/li&gt;&lt;li key='vue'&gt;&lt;input type='checkbox'&gt;Vue&lt;/li&gt;&lt;li key='angular'&gt;&lt;input type='checkbox'&gt;Angular&lt;/li&gt; å¦‚æœé‡‡ç”¨ index ä½œä¸º keyï¼Œé€‰ä¸­çŠ¶æ€ä¼šå‡ºç°bugï¼ˆå·¦è¾¹åˆ—è¡¨é‡‡ç”¨indexï¼Œå³è¾¹é‡‡ç”¨idå½¢å¼ï¼‰ï¼š åŸå› ä¹Ÿæ˜¯ index æ²¡æœ‰å˜åŒ–è¢«å¤ç”¨äº†ï¼Œå¯¼è‡´é€‰ä¸­çŠ¶æ€æ°¸è¿œéƒ½æ˜¯ index=0 çš„ç¬¬ä¸€é¡¹ã€‚ é˜…è¯»æ›´å¤šï¼š é¿å… v-if å’Œ v-for ç”¨åœ¨ä¸€èµ· å†™ React / Vue é¡¹ç›®æ—¶ä¸ºä»€ä¹ˆè¦åœ¨åˆ—è¡¨ç»„ä»¶ä¸­å†™ keyï¼Œå…¶ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ Vue2.0 v-for ä¸­ :key åˆ°åº•æœ‰ä»€ä¹ˆç”¨ï¼Ÿ Vueï¼šä¸ºä»€ä¹ˆä½¿ç”¨v-foræ—¶å¿…é¡»æ·»åŠ å”¯ä¸€çš„keyï¼Ÿä¸ºä»€ä¹ˆä¸å®œç”¨indexä½œä¸ºkeyï¼Ÿ æ•°æ®å“åº”å¼ï¼ˆåŒå‘ç»‘å®šï¼‰æ€ä¹ˆåšåˆ°çš„ï¼ŸåŸç†ï¼šVue é‡‡ç”¨ æ•°æ®åŠ«æŒ ç»“åˆ å‘å¸ƒè€…-è®¢é˜…è€… æ¨¡å¼çš„æ–¹å¼ï¼Œé€šè¿‡ Object.defineProperty() æ¥åŠ«æŒå„ä¸ªå±æ€§çš„ setter ä»¥åŠ getterï¼Œåœ¨æ•°æ®å˜åŠ¨æ—¶å‘å¸ƒæ¶ˆæ¯ç»™è®¢é˜…è€…ï¼Œè§¦å‘ç›¸åº”çš„ç›‘å¬å›è°ƒã€‚ ç¬¬ä¸€æ­¥ï¼šéœ€è¦ Observe çš„æ•°æ®å¯¹è±¡è¿›è¡Œé€’å½’éå†ï¼ŒåŒ…æ‹¬å­å±æ€§å¯¹è±¡çš„å±æ€§ï¼Œéƒ½åŠ ä¸Š setter å’Œ getterã€‚è¿™æ ·çš„è¯ï¼Œç»™è¿™ä¸ªå¯¹è±¡çš„æŸä¸ªå€¼èµ‹å€¼ï¼Œå°±ä¼šè§¦å‘ setterï¼Œé‚£ä¹ˆå°±èƒ½ç›‘å¬åˆ°äº†æ•°æ®å˜åŒ–ã€‚ ç¬¬äºŒæ­¥ï¼šCompile è§£ææ¨¡æ¿æŒ‡ä»¤ï¼Œå°†æ¨¡æ¿ä¸­çš„å˜é‡æ›¿æ¢æˆæ•°æ®ï¼Œç„¶ååˆå§‹åŒ–æ¸²æŸ“é¡µé¢è§†å›¾ï¼Œå¹¶å°†æ¯ä¸ªæŒ‡ä»¤å¯¹åº”çš„èŠ‚ç‚¹ç»‘å®šæ›´æ–°å‡½æ•°ï¼Œæ·»åŠ ç›‘å¬æ•°æ®çš„è®¢é˜…è€…ï¼Œä¸€æ—¦æ•°æ®æœ‰å˜åŠ¨ï¼Œæ”¶åˆ°é€šçŸ¥ï¼Œæ›´æ–°æ•°æ®ã€‚ ç¬¬ä¸‰æ­¥ï¼šWatcher è®¢é˜…è€…æ˜¯ Observer å’Œ Compile ä¹‹é—´é€šä¿¡çš„æ¡¥æ¢ï¼Œä¸»è¦åšçš„äº‹æƒ…æœ‰ï¼š åœ¨è‡ªèº«å®ä¾‹åŒ–æ—¶å¾€å±æ€§è®¢é˜…å™¨ï¼ˆdepï¼‰é‡Œé¢æ·»åŠ è‡ªå·±ã€‚ è‡ªèº«å¿…é¡»æœ‰ä¸€ä¸ª update() æ–¹æ³• å¾…å±æ€§å˜åŠ¨ dep.notice() é€šçŸ¥æ—¶ï¼Œèƒ½è°ƒç”¨è‡ªèº«çš„ update() æ–¹æ³•ï¼Œå¹¶è§¦å‘ Compile ä¸­ç»‘å®šçš„å›è°ƒï¼Œåˆ™åŠŸæˆèº«é€€ã€‚ ç¬¬å››æ­¥ï¼šMVVM ä½œä¸ºæ•°æ®ç»‘å®šçš„å…¥å£ï¼Œæ•´åˆ Observerã€Compile å’Œ Watcher ä¸‰è€…ï¼Œé€šè¿‡ Observer æ¥ç›‘å¬è‡ªå·±çš„ model æ•°æ®å˜åŒ–ï¼Œé€šè¿‡ Compile æ¥è§£æç¼–è¯‘æ¨¡æ¿æŒ‡ä»¤ï¼Œæœ€ç»ˆåˆ©ç”¨ Watcher æ­èµ· Observer å’Œ Compile ä¹‹é—´çš„æ¡¥æ¢ï¼Œè¾¾åˆ°æ•°æ®å˜åŒ– -&gt; è§†å›¾æ›´æ–°ï¼›è§†å›¾äº¤äº’å˜åŒ–ï¼ˆinputï¼‰ -&gt; æ•°æ® model å˜æ›´çš„åŒå‘ç»‘å®šæ•ˆæœã€‚ å‚è€ƒï¼š Vue.jsåŒå‘ç»‘å®šçš„å®ç°åŸç† vueåŒå‘æ•°æ®ç»‘å®šç®€å•å®ç°(ä¸€) è¿½é—®1ï¼šé‚£å¦‚æœæˆ‘è¦ç›‘å¬ä¸€ä¸ªå¯¹è±¡å±æ€§çš„åˆ é™¤æˆ–æ·»åŠ å‘¢ï¼Ÿå— defineProperty é™åˆ¶ï¼ŒVue æ— æ³•æ£€æµ‹å¯¹è±¡å±æ€§çš„åˆ é™¤å’Œæ·»åŠ ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ Vue æä¾›çš„ Vue.set æ¥è§£å†³æ­¤é—®é¢˜ã€‚ ä¾‹å­ï¼š 123æœ‰ä¸€ä¸ªobj:&#123;a:1&#125;ï¼Œæƒ³è¦this.obj.b=233ï¼Œä¸ä¼šè§¦å‘è§†å›¾æ›´æ–°Vue.set(this.obj, 'b', 233) or this.$set(this.obj, 'b', 233) è¿½é—®2ï¼šä¸ºä»€ä¹ˆå¯¹è±¡å±æ€§çš„åˆ é™¤æˆ–æ·»åŠ æ— æ³•è§¦å‘é¡µé¢æ›´æ–°å› ä¸º vue åœ¨å®ä¾‹åŒ–è¿‡ç¨‹ä¸­ï¼Œæ·±åº¦éå†äº† data ä¸‹æ‰€æœ‰å±æ€§, æŠŠå±æ€§å…¨è½¬ä¸º getter/setter ã€‚è¿™æ ·æ‰èƒ½ç›‘å¬å±æ€§å˜åŒ–ã€‚æ‰€ä»¥å±æ€§å¿…é¡»åœ¨ data å¯¹è±¡ä¸Šå­˜åœ¨æ‰èƒ½è®© Vue è½¬æ¢å®ƒï¼Œè¿™æ ·æ‰èƒ½è®©å®ƒæ˜¯å“åº”çš„ã€‚ å½“ä½ åœ¨å¯¹è±¡ä¸Šæ–°åŠ äº†ä¸€ä¸ªå±æ€§ newProperty ï¼Œå½“å‰æ–°åŠ çš„è¿™ä¸ªå±æ€§å¹¶æ²¡æœ‰åŠ å…¥ vue æ£€æµ‹æ•°æ®æ›´æ–°çš„æœºåˆ¶ï¼ˆå› ä¸ºæ˜¯åœ¨åˆå§‹åŒ–ä¹‹åæ·»åŠ çš„ï¼‰, vue.$set æ˜¯èƒ½è®© vue çŸ¥é“ä½ æ·»åŠ äº†å±æ€§, å®ƒä¼šç»™ä½ åšå¤„ç†ã€‚ js å®ç°ç®€å•çš„åŒå‘ç»‘å®š12345678910111213141516171819202122232425&lt;body&gt; &lt;div id="app"&gt; &lt;input type="text" id="txt"&gt; &lt;p id="show"&gt;&lt;/p&gt; &lt;/div&gt; &lt;script&gt; window.onload = function () &#123; let obj = &#123;&#125;; window.obj = obj Object.defineProperty(obj, "txt", &#123; get: function () &#123; return obj; &#125;, set: function (newValue) &#123; document.getElementById("txt").value = newValue; document.getElementById("show").innerHTML = newValue; &#125; &#125;) document.addEventListener("keyup", function (e) &#123; obj.txt = e.target.value; &#125;) &#125; &lt;/script&gt;&lt;/body&gt; Vue çš„å“åº”å¼åŸç†ä¸­ Object.defineProperty æœ‰ä»€ä¹ˆç¼ºé™·ï¼Ÿä¸ºä»€ä¹ˆåœ¨ Vue3.0 é‡‡ç”¨äº† Proxyï¼ŒæŠ›å¼ƒäº† Object.definePropertyï¼Ÿ Vue ä¸­ä½¿ç”¨ Object.defineProperty è¿›è¡ŒåŒå‘æ•°æ®ç»‘å®šæ—¶ï¼Œå‘ŠçŸ¥ä½¿ç”¨è€…æ˜¯å¯ä»¥ç›‘å¬æ•°ç»„çš„ï¼Œä½†æ˜¯åªæ˜¯ç›‘å¬äº†æ•°ç»„çš„ push()ã€pop()ã€shift()ã€unshift()ã€splice()ã€sort()ã€reverse() è¿™å…«ç§æ–¹æ³•ï¼Œå…¶ä»–æ•°ç»„çš„å±æ€§æ£€æµ‹ä¸åˆ°ã€‚ Object.defineProperty æ— æ³•ç›‘æ§åˆ°æ•°ç»„ä¸‹æ ‡çš„å˜åŒ–ï¼Œå¯¼è‡´é€šè¿‡æ•°ç»„ä¸‹æ ‡æ·»åŠ å…ƒç´ ï¼Œä¸èƒ½å®æ—¶å“åº”ï¼› Object.defineProperty åªèƒ½åŠ«æŒå¯¹è±¡çš„å±æ€§ï¼Œå› æ­¤å¯¹æ¯ä¸ªå¯¹è±¡çš„å±æ€§è¿›è¡Œéå†æ—¶ï¼Œå¦‚æœå±æ€§å€¼ä¹Ÿæ˜¯å¯¹è±¡éœ€è¦æ·±åº¦éå†ï¼Œé‚£ä¹ˆå°±æ¯”è¾ƒéº»çƒ¦äº†ï¼Œæ‰€ä»¥åœ¨æ¯”è¾ƒ Proxy èƒ½å®Œæ•´åŠ«æŒå¯¹è±¡çš„å¯¹æ¯”ä¸‹ï¼Œé€‰æ‹© Proxyã€‚ Proxy ä¸ä»…å¯ä»¥ä»£ç†å¯¹è±¡ï¼Œè¿˜å¯ä»¥ä»£ç†æ•°ç»„ã€‚è¿˜å¯ä»¥ä»£ç†åŠ¨æ€å¢åŠ çš„å±æ€§ã€‚ ç­”æ¡ˆå‚è€ƒï¼šDaily-Interview-Question - ç¬¬51é¢˜æ›´å¤šé˜…è¯»ï¼šå®ç°åŒå‘ç»‘å®šProxyæ¯”definepropertyä¼˜åŠ£å¦‚ä½• Vuex ç”¨è¿‡å—ï¼ŸVuex æ˜¯ä¸“ä¸º Vue åº”ç”¨ç¨‹åºå¼€å‘çš„çŠ¶æ€ç®¡ç†å·¥å…·ï¼Œç›¸å½“äºå…±äº«ä»“åº“ï¼Œæ–¹ä¾¿ä»»ä½•ç»„ä»¶ç›´æ¥è·å–å’Œä¿®æ”¹ã€‚ state - æ•°æ®ã€å­˜é¡¹ç›®å…±äº«çŠ¶æ€ï¼Œæ˜¯å“åº”å¼çš„ï¼Œstoreçš„æ•°æ®æ”¹å˜ï¼Œæ‰€æœ‰ä¾èµ–æ­¤çŠ¶æ€çš„ç»„ä»¶ä¼šæ›´æ–°ã€‘ $store.state.count mutations - æ–¹æ³•ã€åŒæ­¥å‡½æ•°ã€‘ inc(state, å‚æ•°å”¯ä¸€) {} $store.commit(â€˜incâ€™, 2) getters - åŒ…è£…æ•°æ® ã€storeçš„è®¡ç®—å±æ€§ï¼Œå¯ç¼“å­˜ã€‘ show: function(state) {} this.$store.getters.show ä¼ å‚ï¼Œè¿”å›å‡½æ•°ï¼šshow(state) {return function(å‚æ•°) {return â€¦}}ã€ä¸ä¼šç¼“å­˜æ•°æ®ã€‘ actions -ã€å¼‚æ­¥æ“ä½œã€‘ã€æäº¤çš„æ˜¯mutationsï¼Œä¸ç›´æ¥ä¿®æ”¹çŠ¶æ€ã€‘ increment(context, num) {context.commit()} this.$store.dispatch(â€˜â€™,arg) ä½¿ç”¨ Vuex ç®¡ç†æ•°æ®ï¼Œä¸ç›´æ¥åœ¨å…¨å±€windowä¸‹å®šä¹‰å˜é‡ç›¸æ¯”ï¼Œæœ‰ä»€ä¹ˆåŒºåˆ«æˆ–è€…è¯´ä¼˜åŠ¿ï¼Ÿå…¨å±€ä½œç”¨åŸŸä¸‹å®šä¹‰çš„æ•°æ®æ˜¯é™æ€çš„ï¼Œåªèƒ½é€šè¿‡æ‰‹åŠ¨ä¿®æ”¹ï¼Œä¿®æ”¹åæ•°æ®å˜äº†ï¼Œä½†ä½¿ç”¨è¿™äº›æ•°æ®çš„ç»„ä»¶å¹¶ä¸ä¼šé‡æ–°æ¸²æŸ“ï¼Œä¹Ÿå¿…é¡»å¾—æ‰‹åŠ¨æ¸²æŸ“ã€‚è€Œä¸”å…¨å±€ä½œç”¨åŸŸä¸‹å®šä¹‰å¤ªå¤šå˜é‡è¿˜å®¹æ˜“é€ æˆå˜é‡æ±¡æŸ“ã€‚ Vuex åªè¦ store ä¸­çš„æ•°æ®æ›´æ–°ï¼Œå°±ä¼šç«‹å³æ¸²æŸ“æ‰€æœ‰ä½¿ç”¨ store æ•°æ®çš„ç»„ä»¶ã€‚Vuex ä½¿ç”¨å•å‘æ•°æ®æµï¼Œè¦æƒ³ä¿®æ”¹ store æ•°æ®éœ€è¦ç»è¿‡ action å±‚ï¼Œmutation å±‚ï¼Œå±‚æ¬¡åˆ’åˆ†æ˜ç¡®ï¼Œä¾¿äºç®¡ç†ã€‚ Vuex æ˜¯é€šè¿‡ä»€ä¹ˆæ–¹å¼æä¾›å“åº”å¼æ•°æ®çš„ï¼Ÿåœ¨ Store æ„é€ å‡½æ•°ä¸­é€šè¿‡ new Vue({}}) å®ç°çš„ã€‚åˆ©ç”¨ Vue æ¥ç›‘å¬ state ä¸‹çš„æ•°æ®å˜åŒ–ï¼Œç»™çŠ¶æ€æ·»åŠ  getterã€setterã€‚ Vuex å¦‚ä½•åŒºåˆ† state æ˜¯å¤–éƒ¨ç›´æ¥ä¿®æ”¹ï¼Œè¿˜æ˜¯é€šè¿‡ mutation æ–¹æ³•ä¿®æ”¹çš„ï¼ŸVuex ä¸­ä¿®æ”¹ state çš„å”¯ä¸€æ¸ é“å°±æ˜¯æ‰§è¡Œ commit(â€˜xxâ€™, payload) æ–¹æ³•ï¼Œå…¶åº•å±‚é€šè¿‡æ‰§è¡Œ this._withCommit(fn) è®¾ç½®_committing æ ‡å¿—å˜é‡ä¸º trueï¼Œç„¶åæ‰èƒ½ä¿®æ”¹ stateï¼Œä¿®æ”¹å®Œæ¯•è¿˜éœ€è¦è¿˜åŸ_committing å˜é‡ã€‚å¤–éƒ¨ä¿®æ”¹è™½ç„¶èƒ½å¤Ÿç›´æ¥ä¿®æ”¹ stateï¼Œä½†æ˜¯å¹¶æ²¡æœ‰ä¿®æ”¹_committing æ ‡å¿—ä½ï¼Œæ‰€ä»¥åªè¦ watch ä¸€ä¸‹ stateï¼Œstate change æ—¶åˆ¤æ–­æ˜¯å¦_committing å€¼ä¸º trueï¼Œå³å¯åˆ¤æ–­ä¿®æ”¹çš„åˆæ³•æ€§ã€‚ Vuex åŸç†vuex ä»…ä»…æ˜¯ä½œä¸º vue çš„ä¸€ä¸ªæ’ä»¶è€Œå­˜åœ¨ï¼Œä¸åƒ Redux,MobX ç­‰åº“å¯ä»¥åº”ç”¨äºæ‰€æœ‰æ¡†æ¶ï¼Œvuex åªèƒ½ä½¿ç”¨åœ¨ vue ä¸Šï¼Œå¾ˆå¤§çš„ç¨‹åº¦æ˜¯å› ä¸ºå…¶é«˜åº¦ä¾èµ–äº vue çš„ computed ä¾èµ–æ£€æµ‹ç³»ç»Ÿä»¥åŠå…¶æ’ä»¶ç³»ç»Ÿï¼Œ vuex æ•´ä½“æ€æƒ³è¯ç”Ÿäº flux,å¯å…¶çš„å®ç°æ–¹å¼å®Œå®Œå…¨å…¨çš„ä½¿ç”¨äº† vue è‡ªèº«çš„å“åº”å¼è®¾è®¡ï¼Œä¾èµ–ç›‘å¬ã€ä¾èµ–æ”¶é›†éƒ½å±äº vue å¯¹å¯¹è±¡ Property set get æ–¹æ³•çš„ä»£ç†åŠ«æŒã€‚æœ€åä¸€å¥è¯ç»“æŸ vuex å·¥ä½œåŸç†ï¼Œvuex ä¸­çš„ store æœ¬è´¨å°±æ˜¯æ²¡æœ‰ template çš„éšè—ç€çš„ vue ç»„ä»¶ã€‚ VueRouter æ˜¯ä»€ä¹ˆï¼Ÿä½ å¹³å¸¸æ˜¯æ€ä¹ˆç”¨çš„ï¼Ÿ æ˜¯ä»€ä¹ˆï¼šVue-Router æ˜¯ Vue å®˜æ–¹çš„è·¯ç”±ç®¡ç†å™¨ ä½œç”¨ï¼šä¸ºäº†é¡µé¢è·³è½¬ åŸç†ï¼šç›‘å¬é”šç‚¹å€¼æ”¹å˜ï¼Œæ¸²æŸ“æŒ‡å®šé¡µé¢ 123456789101112131415161718&lt;div class="h"&gt;æˆ‘æ˜¯å¤´éƒ¨&lt;/div&gt;&lt;div id="content" class="b"&gt;&lt;/div&gt;&lt;div class="f"&gt;æˆ‘æ˜¯åº•éƒ¨&lt;/div&gt;&lt;script type="text/javascript"&gt;//ç›‘è§†é”šç‚¹å€¼çš„æ”¹å˜window.addEventListener('hashchange', function() &#123; var text = ''; switch (location.hash) &#123; case '#/music': text = 'å„ç§éŸ³ä¹çš„æ•°æ®'; break; case '#/movie': text = 'å„ç§ç”µå½±çš„æ•°æ®'; break; &#125; document.getElementById('content').innerHTML = text;&#125;)&lt;/script&gt; åŠ¨æ€è·¯ç”±æŸ¥è¯¢å­—ç¬¦ä¸²ï¼š å»å“ªï¼ˆåˆ—è¡¨é¡µä¼ å‚ï¼‰ xxx å¯¼èˆªï¼ˆrouterä¸­ï¼‰ { name:â€™detailâ€™ , path:â€™/detailâ€™, component: Detail } å»äº†å¹²å˜›ï¼ˆè¯¦æƒ…é¡µæ¥æ”¶å‚æ•°ï¼‰this.$route.query.id pathæ–¹å¼ï¼š å»å“ªé‡Œ xxx å¯¼èˆª { name:â€™detailâ€™ , path:â€™/detail/:nameâ€™, component: Detail} å»äº†å¹²å˜›ï¼ˆè·å–è·¯ç”±å‚æ•°ï¼‰this.$route.params.name ç¼–ç¨‹å¼å¯¼èˆª123456789// nameé…paramsï¼šthis.$router.push(&#123;name: 'Goods', params: &#123;goodsId:id&#125;&#125;)// pathé…queryï¼šthis.$router.push(&#123;path: '/goods', query: &#123;goodsId:id&#125;&#125;)// å‚æ•°æ¥æ”¶åŒ¹é…ï¼šthis.goodsId = this.$route.query.goodsIdthis.goodsId = this.$route.params.goodsId è·¯ç”±å®ˆå« å…¨å±€å®ˆå«ï¼šbeforeEach, beforeResolve, afterEachã€æ²¡æœ‰nextã€‘ è·¯ç”±ç‹¬äº«å®ˆå«ï¼šbeforeEnter ç»„ä»¶å†…å®ˆå«ï¼šbeforeRouteEnterã€å”¯ä¸€nextæœ‰å›è°ƒã€‘, Update, Leave åº”ç”¨ å…¨å±€å®ˆå«ï¼šbeforeEachï¼ˆç”¨æˆ·ç™»å½•ä»¥åŠæƒé™åˆ¤å®šï¼‰ 123456789router.beforeEach((to, from, next) =&gt; &#123; const isLogin = localStroage.token // ä¸ªäººä¸­å¿ƒéœ€è¦ç™»å½• if (to.name === 'Member') &#123; isLogin ? next() : next('/login') &#125; else &#123; next() &#125;&#125;) ç»„ä»¶å†…å®ˆå«ï¼šbeforeRouteEnterï¼ˆæ ¹æ®ç”¨æˆ·ä»ä½•è€Œæ¥ï¼Œä¿®æ”¹å½“å‰ç»„ä»¶æ ‡é¢˜ï¼‰ 1234567// è¯¦æƒ…é¡µç»„ä»¶beforeRouteEnter(to, from, next) &#123; let title = '' title = from.name === 'news.list' ? 'æ–°é—»è¯¦æƒ…' : 'å•†å“è¯¦æƒ…' // ä¸€å®šè¦è°ƒç”¨ next ï¼Œå¦åˆ™æ— æ³•ä»åˆ—è¡¨é¡µè·³è½¬åˆ°è¯¦æƒ…é¡µ next(vm =&gt; vm.title = title) // é€šè¿‡ vm è®¿é—®ç»„ä»¶å®ä¾‹&#125; è®²ä¸€ä¸‹å®Œæ•´çš„Vueè·¯ç”±ç”Ÿå‘½å‘¨æœŸ å¯¼èˆªè¢«è§¦å‘ã€‚ åœ¨å¤±æ´»çš„ç»„ä»¶é‡Œè°ƒç”¨ç¦»å¼€å®ˆå«ã€‚ è°ƒç”¨å…¨å±€çš„ beforeEach å®ˆå«ã€‚ åœ¨é‡ç”¨çš„ç»„ä»¶é‡Œè°ƒç”¨ beforeRouteUpdate å®ˆå« (2.2+)ã€‚ åœ¨è·¯ç”±é…ç½®é‡Œè°ƒç”¨ beforeEnterã€‚ è§£æå¼‚æ­¥è·¯ç”±ç»„ä»¶ã€‚ åœ¨è¢«æ¿€æ´»çš„ç»„ä»¶é‡Œè°ƒç”¨ beforeRouteEnterã€‚ è°ƒç”¨å…¨å±€çš„ beforeResolve å®ˆå« (2.5+)ã€‚ å¯¼èˆªè¢«ç¡®è®¤ã€‚ è°ƒç”¨å…¨å±€çš„ afterEach é’©å­ã€‚ è§¦å‘ DOM æ›´æ–°ã€‚ ç”¨åˆ›å»ºå¥½çš„å®ä¾‹è°ƒç”¨ beforeRouteEnter å®ˆå«ä¸­ä¼ ç»™ next çš„å›è°ƒå‡½æ•°ã€‚ å®ç°ä¸€ä¸ªç®€å•è·¯ç”±1234567891011121314151617181920212223// hashè·¯ç”±class Route&#123; constructor()&#123; // è·¯ç”±å­˜å‚¨å¯¹è±¡ this.routes = &#123;&#125; // å½“å‰hash this.currentHash = '' // ç»‘å®šthisï¼Œé¿å…ç›‘å¬æ—¶thisæŒ‡å‘æ”¹å˜ this.freshRoute = this.freshRoute.bind(this) // ç›‘å¬ window.addEventListener('load', this.freshRoute, false) window.addEventListener('hashchange', this.freshRoute, false) &#125; // å­˜å‚¨ storeRoute (path, cb) &#123; this.routes[path] = cb || function () &#123;&#125; &#125; // æ›´æ–° freshRoute () &#123; this.currentHash = location.hash.slice(1) || '/' this.routes[this.currentHash]() &#125;&#125; vueè„šæ‰‹æ¶ç”Ÿæˆçš„ router.js ä¸­ï¼Œæœ‰ä¸€æ®µ base: process.env.BASE_URL é…ç½®ï¼Œä½ çŸ¥é“å®ƒå¼•ç”¨äº†è°çš„è·¯å¾„ä¹ˆï¼Ÿ1234const router = new Router(&#123; mode: 'history', base: process.env.BASE_URL, // &lt;- ... å®ƒä¼šå’Œ vue.config.js ä¸­çš„ publicPath é€‰é¡¹ç›¸ç¬¦ï¼Œå³ä½ çš„åº”ç”¨ä¼šéƒ¨ç½²åˆ°çš„çº¿ä¸Š/å¼€å‘ç¯å¢ƒçš„åŸºç¡€è·¯å¾„ï¼š 12345const path = require('path')module.exports = &#123; // æ—§ç‰ˆå«åšbaseURL // çº¿ä¸Š/å¼€å‘ç¯å¢ƒçš„è·¯å¾„é…ç½® publicPath: process.env.NODE_ENV === 'production' ? 'http://ä½ çš„çº¿ä¸Šç¯å¢ƒ' : '/', ä½ æ˜¯å¦‚ä½•ä½¿ç”¨æ’æ§½çš„ï¼Ÿ é»˜è®¤æ’æ§½ï¼šçˆ¶htmlæ¨¡æ¿ | å­ å…·åæ’æ§½ï¼šçˆ¶ | å­ ä½œç”¨åŸŸæ’æ§½ï¼šçˆ¶ | å­æä¾›æ•°æ® é˜…è¯»æ›´å¤šï¼šæ·±å…¥ç†è§£vueä¸­çš„slotä¸slot-scope nextTickçš„æ›´æ–°åŸç†Vue åœ¨ä¿®æ”¹æ•°æ®åï¼Œè§†å›¾ä¸ä¼šç«‹åˆ»æ›´æ–°ï¼Œè€Œæ˜¯ç­‰åŒä¸€äº‹ä»¶å¾ªç¯ä¸­çš„æ‰€æœ‰æ•°æ®å˜åŒ–å®Œæˆä¹‹åï¼Œå†ç»Ÿä¸€è¿›è¡Œè§†å›¾æ›´æ–°ã€‚ nextTickçš„å›è°ƒå‡½æ•°ä¼šç­‰åˆ°åŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼ŒDOMæ›´æ–°åæ‰è§¦å‘ã€‚ é˜…è¯»æ›´å¤šï¼šVue.nextTick çš„åŸç†å’Œç”¨é€” åœ¨ Vue ä¸­ï¼Œå­ç»„ä»¶ä¸ºä½•ä¸å¯ä»¥ä¿®æ”¹çˆ¶ç»„ä»¶ä¼ é€’çš„ Propå› ä¸º prop çš„ä¼ é€’æ˜¯å•å‘æ•°æ®æµï¼Œè¿™æ ·æ˜“äºç›‘æµ‹æ•°æ®çš„æµåŠ¨ï¼Œå‡ºç°äº†é”™è¯¯å¯ä»¥æ›´åŠ è¿…é€Ÿçš„å®šä½åˆ°é”™è¯¯å‘ç”Ÿçš„ä½ç½®ã€‚å¦å¤– props ä¼ å…¥çš„å€¼å¦‚æœå¯¹è±¡çš„è¯ï¼Œæ˜¯å¯ä»¥ç›´æ¥åœ¨å­ç»„ä»¶é‡Œæ›´æ”¹çš„ï¼Œå› ä¸ºæ˜¯åŒä¸€ä¸ªå¼•ç”¨ã€‚ å¦‚æœä¿®æ”¹äº†ï¼ŒVue æ˜¯å¦‚ä½•ç›‘æ§åˆ°å±æ€§çš„ä¿®æ”¹å¹¶ç»™å‡ºè­¦å‘Šçš„123456789101112131415161718192021if (process.env.NODE_ENV !== 'production') &#123; var hyphenatedKey = hyphenate(key); if (isReservedAttribute(hyphenatedKey) || config.isReservedAttr(hyphenatedKey)) &#123; warn( ("\"" + hyphenatedKey + "\" is a reserved attribute and cannot be used as component prop."), vm ); &#125; defineReactive$$1(props, key, value, function () &#123; if (!isRoot &amp;&amp; !isUpdatingChildComponent) &#123; warn( "Avoid mutating a prop directly since the value will be " + "overwritten whenever the parent component re-renders. " + "Instead, use a data or computed property based on the prop's " + "value. Prop being mutated: \"" + key + "\"", vm ); &#125; &#125;);&#125; åœ¨initPropsçš„æ—¶å€™ï¼Œåœ¨defineReactiveæ—¶é€šè¿‡åˆ¤æ–­æ˜¯å¦åœ¨å¼€å‘ç¯å¢ƒï¼Œå¦‚æœæ˜¯å¼€å‘ç¯å¢ƒï¼Œä¼šåœ¨è§¦å‘setçš„æ—¶å€™åˆ¤æ–­æ˜¯å¦æ­¤keyæ˜¯å¦å¤„äºupdatingChildrenä¸­è¢«ä¿®æ”¹ï¼Œå¦‚æœä¸æ˜¯ï¼Œè¯´æ˜æ­¤ä¿®æ”¹æ¥è‡ªå­ç»„ä»¶ï¼Œè§¦å‘warningæç¤ºã€‚ éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œå½“ä½ ä»å­ç»„ä»¶ä¿®æ”¹çš„propå±äºåŸºç¡€ç±»å‹æ—¶ä¼šè§¦å‘æç¤ºã€‚ è¿™ç§æƒ…å†µä¸‹ï¼Œä½ æ˜¯æ— æ³•ä¿®æ”¹çˆ¶ç»„ä»¶çš„æ•°æ®æºçš„ï¼Œ å› ä¸ºåŸºç¡€ç±»å‹èµ‹å€¼æ—¶æ˜¯å€¼æ‹·è´ã€‚ä½ ç›´æ¥å°†å¦ä¸€ä¸ªéåŸºç¡€ç±»å‹ï¼ˆObject, arrayï¼‰èµ‹å€¼åˆ°æ­¤keyæ—¶ä¹Ÿä¼šè§¦å‘æç¤º(ä½†å®é™…ä¸Šä¸ä¼šå½±å“çˆ¶ç»„ä»¶çš„æ•°æ®æº)ï¼Œ å½“ä½ ä¿®æ”¹objectçš„å±æ€§æ—¶ä¸ä¼šè§¦å‘æç¤ºï¼Œå¹¶ä¸”ä¼šä¿®æ”¹çˆ¶ç»„ä»¶æ•°æ®æºçš„æ•°æ®ã€‚ è™šæ‹ŸDOMè™šæ‹ŸDOMå®ç°åŸç†? è™šæ‹ŸDOMæœ¬è´¨ä¸Šæ˜¯JavaScriptå¯¹è±¡,æ˜¯å¯¹çœŸå®DOMçš„æŠ½è±¡ çŠ¶æ€å˜æ›´æ—¶ï¼Œè®°å½•æ–°æ ‘å’Œæ—§æ ‘çš„å·®å¼‚ æœ€åæŠŠå·®å¼‚æ›´æ–°åˆ°çœŸæ­£çš„domä¸­ è¯¦ç»†å®ç°è§è™šæ‹ŸDOMåŸç†? è™šæ‹ŸDOMçš„ä¼˜åŠ£å¦‚ä½•?ä¼˜ç‚¹: ä¿è¯æ€§èƒ½ä¸‹é™: è™šæ‹ŸDOMå¯ä»¥ç»è¿‡diffæ‰¾å‡ºæœ€å°å·®å¼‚,ç„¶åæ‰¹é‡è¿›è¡Œpatch,è¿™ç§æ“ä½œè™½ç„¶æ¯”ä¸ä¸Šæ‰‹åŠ¨ä¼˜åŒ–,ä½†æ˜¯æ¯”èµ·ç²—æš´çš„DOMæ“ä½œæ€§èƒ½è¦å¥½å¾ˆå¤š,å› æ­¤è™šæ‹ŸDOMå¯ä»¥ä¿è¯æ€§èƒ½ä¸‹é™ æ— éœ€æ‰‹åŠ¨æ“ä½œDOM: è™šæ‹ŸDOMçš„diffå’Œpatchéƒ½æ˜¯åœ¨ä¸€æ¬¡æ›´æ–°ä¸­è‡ªåŠ¨è¿›è¡Œçš„,æˆ‘ä»¬æ— éœ€æ‰‹åŠ¨æ“ä½œDOM,æå¤§æé«˜å¼€å‘æ•ˆç‡ è·¨å¹³å°: è™šæ‹ŸDOMæœ¬è´¨ä¸Šæ˜¯JavaScriptå¯¹è±¡,è€ŒDOMä¸å¹³å°å¼ºç›¸å…³,ç›¸æ¯”ä¹‹ä¸‹è™šæ‹ŸDOMå¯ä»¥è¿›è¡Œæ›´æ–¹ä¾¿åœ°è·¨å¹³å°æ“ä½œ,ä¾‹å¦‚æœåŠ¡å™¨æ¸²æŸ“ã€ç§»åŠ¨ç«¯å¼€å‘ç­‰ç­‰ ç¼ºç‚¹: æ— æ³•è¿›è¡Œæè‡´ä¼˜åŒ–: åœ¨ä¸€äº›æ€§èƒ½è¦æ±‚æé«˜çš„åº”ç”¨ä¸­è™šæ‹ŸDOMæ— æ³•è¿›è¡Œé’ˆå¯¹æ€§çš„æè‡´ä¼˜åŒ–,æ¯”å¦‚VScodeé‡‡ç”¨ç›´æ¥æ‰‹åŠ¨æ“ä½œDOMçš„æ–¹å¼è¿›è¡Œæç«¯çš„æ€§èƒ½ä¼˜åŒ– å…¶å®ƒvue çš„ä¼˜ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ ä½è€¦åˆã€‚è§†å›¾ï¼ˆViewï¼‰å¯ä»¥ç‹¬ç«‹äº Model å˜åŒ–å’Œä¿®æ”¹ï¼Œä¸€ä¸ª ViewModel å¯ä»¥ç»‘å®šåˆ°ä¸åŒçš„â€Viewâ€ä¸Šï¼Œå½“ View å˜åŒ–çš„æ—¶å€™ Model å¯ä»¥ä¸å˜ï¼Œå½“ Model å˜åŒ–çš„æ—¶å€™ View ä¹Ÿå¯ä»¥ä¸å˜ã€‚ å¯é‡ç”¨æ€§ã€‚ä½ å¯ä»¥æŠŠä¸€äº›è§†å›¾é€»è¾‘æ”¾åœ¨ä¸€ä¸ª ViewModel é‡Œé¢ï¼Œè®©å¾ˆå¤š view é‡ç”¨è¿™æ®µè§†å›¾é€»è¾‘ã€‚ ç‹¬ç«‹å¼€å‘ã€‚å¼€å‘äººå‘˜å¯ä»¥ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘å’Œæ•°æ®çš„å¼€å‘ï¼ˆViewModelï¼‰ï¼Œè®¾è®¡äººå‘˜å¯ä»¥ä¸“æ³¨äºé¡µé¢è®¾è®¡ï¼Œä½¿ç”¨ Expression Blend å¯ä»¥å¾ˆå®¹æ˜“è®¾è®¡ç•Œé¢å¹¶ç”Ÿæˆ xml ä»£ç ã€‚ å¯æµ‹è¯•ã€‚ç•Œé¢ç´ æ¥æ˜¯æ¯”è¾ƒéš¾äºæµ‹è¯•çš„ï¼Œè€Œç°åœ¨æµ‹è¯•å¯ä»¥é’ˆå¯¹ ViewModel æ¥å†™ã€‚ å½“æ‰§è¡Œ import vue from â€˜vueâ€™ æ—¶å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿå¹³æ—¶å¼€å‘ä¸­ï¼Œç»å¸¸ä¼šç”¨åˆ°è¿™æ ·ä¸€ä¸ªè¯­å¥ï¼š 1import Vue from 'vue'; ç”±äºæµè§ˆå™¨å…¼å®¹æ€§é—®é¢˜ï¼Œé€šå¸¸è¿™ä¸ªè¯­æ³•æ˜¯åœ¨ webpack çš„æ„å»ºæµæ­å»ºçš„é¡¹ç›®ä¸­æ‰§è¡Œçš„ï¼Œé‚£ä¹ˆè¿™ä¸ªè¯­å¥åˆ°åº•åšäº†ä»€ä¹ˆå‘¢ï¼Ÿ å…¶å®åœ¨ nodejs ä¸­ï¼Œæ‰§è¡Œ import å°±ç›¸å½“äºæ‰§è¡Œäº† requireï¼Œè€Œ require è¢«è°ƒç”¨ï¼Œå…¶å®ä¼šç”¨åˆ° require.resolve è¿™ä¸ªå‡½æ•°æ¥æŸ¥æ‰¾åŒ…çš„è·¯å¾„ï¼Œè€Œè¿™ä¸ªå‡½æ•°åœ¨ nodejs ä¸­ä¼šæœ‰ä¸€ä¸ªå…³äºä¼˜å…ˆçº§çš„ç®—æ³•ã€‚å…ˆçœ‹ä¸€ä¸‹ import Vue from &#39;vue&#39; è¿™ä¸€å¥åšäº†ä»€ä¹ˆï¼š import Vue from &#39;vue&#39; è§£æä¸º const Vue = require(&#39;vue&#39;)ã€‚ require åˆ¤æ–­ vue æ˜¯å¦æœª nodejs æ ¸å¿ƒåŒ…ï¼Œå¦‚æˆ‘ä»¬å¸¸ç”¨çš„ï¼špathï¼Œfs ç­‰ï¼Œæ˜¯åˆ™ç›´æ¥å¯¼å…¥ï¼Œå¦åˆ™ç»§ç»­å¾€ä¸‹èµ°ã€‚ vue é nodejs æ ¸å¿ƒåŒ…ï¼Œåˆ¤æ–­ vue æ˜¯å¦æœª â€˜/â€˜ æ ¹ç›®å½•å¼€å¤´ï¼Œæ˜¾ç„¶ä¸æ˜¯ï¼Œç»§ç»­å¾€ä¸‹èµ°ã€‚ vue æ˜¯å¦ä¸º â€˜./â€˜ã€â€™/â€˜ æˆ–è€… â€˜../â€˜ å¼€å¤´ï¼Œæ˜¾ç„¶ä¸æ˜¯ï¼Œç»§ç»­å¾€ä¸‹èµ°ã€‚ ä»¥ä¸Šæ¡ä»¶éƒ½ä¸ç¬¦åˆï¼Œè¯»å–é¡¹ç›®ç›®å½•ä¸‹ node_modules åŒ…é‡Œçš„åŒ…ã€‚ åˆ°äº†ç¬¬äº”æ­¥ï¼Œimport Vue from &#39;vue&#39; å°±æ‰¾åˆ°äº† vue æ‰€åœ¨çš„å®é™…ä½ç½®äº†ï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œnode_modules ä¸‹çš„ vue æ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œè€Œå¼•å…¥çš„ Vue æ˜¯ä¸€ä¸ª javascript å¯¹è±¡ï¼Œé‚£å®ƒæ˜¯æ€ä¹ˆå–åˆ°è¿™ä¸ªå¯¹è±¡å‘¢ï¼Ÿ å…¶å®å¯¹äºä¸€ä¸ª npm åŒ…ï¼Œå†…éƒ¨è¿˜æœ‰ä¸€ä¸ªæ–‡ä»¶è¾“å‡ºçš„è§„åˆ™ï¼Œå…ˆçœ‹ä¸‹ node_modules/vue ä¸‹çš„æ–‡ä»¶ç»“æ„æ˜¯æ€ä¹ˆæ ·çš„ï¼š 123456â”œâ”€â”€ LICENSEâ”œâ”€â”€ README.mdâ”œâ”€â”€ distâ”œâ”€â”€ package.jsonâ”œâ”€â”€ srcâ””â”€â”€ types æ˜¯ä¸æ˜¯çœ‹èµ·æ¥å¾ˆç¬¼ç»Ÿï¼Œå…¶å®å¯¹äº npm åŒ…ï¼Œrequire çš„è§„åˆ™æ˜¯è¿™æ ·çš„ï¼š æŸ¥æ‰¾ package.json ä¸‹æ˜¯å¦å®šä¹‰äº† main å­—æ®µï¼Œæ˜¯åˆ™è¯»å– main å­—æ®µä¸‹å®šä¹‰çš„å…¥å£ã€‚ å¦‚æœæ²¡æœ‰ package.json æ–‡ä»¶ï¼Œåˆ™è¯»å–æ–‡ä»¶å¤¹ä¸‹çš„ index.js æˆ–è€… index.nodeã€‚ å¦‚æœéƒ½ package.jsonã€index.jsã€index.node éƒ½æ‰¾ä¸åˆ°ï¼ŒæŠ›å‡ºé”™è¯¯ Error: Cannot find module &#39;some-library&#39;ã€‚ é‚£ä¹ˆçœ‹ä¸€ä¸‹ vue çš„ package.json æ–‡ä»¶æœ‰è¿™ä¹ˆä¸€å¥ï¼š 12345&#123; ... "main": "dist/vue.runtime.common.js", ...&#125; åˆ°è¿™é‡Œå°±å¾ˆæ¸…æ™°äº†ï¼š 1234import vue from 'vue';// æœ€åè½¬æ¢ä¸ºconst vue = require('./node_modules/vue/dist/vue.runtime.common.js'); è€Œ vue.runtime.common.js æ–‡ä»¶çš„æœ€åä¸€è¡Œæ˜¯ï¼šmodule.exports = Vue;ï¼Œå°±æ­£å¥½è·Ÿæˆ‘ä»¬å¹³æ—¶ä½¿ç”¨æ—¶çš„ new Vue({}) æ˜¯ä¸€è‡´çš„ï¼Œè¿™å°±æ˜¯ import vue from &#39;vue&#39; çš„è¿‡ç¨‹äº†ã€‚ å½“ç„¶ï¼Œè¿™ä¸ªæ˜¯æˆ‘ä»¬å¹³æ—¶ä½¿ç”¨å¾—æœ€å¤šçš„å¯¼å…¥æ–¹å¼ï¼Œè¿˜æœ‰å…¶ä»–ä¸€äº›å¯¼å…¥è§„åˆ™ï¼Œéƒ½å¯ä»¥åœ¨ nodejs çš„æ–‡æ¡£ ä¸­æ‰¾åˆ°ã€‚ æ–‡ç« æ¥æºï¼šhttps://www.jianshu.com/p/fad3688cbd81 Vue å’Œ jQuery æœ‰ä»€ä¹ˆåŒºåˆ«ï¼ŸjQueryæ˜¯ä½¿ç”¨é€‰æ‹©å™¨ï¼ˆ$ï¼‰é€‰å–DOMå¯¹è±¡ï¼Œå¯¹å…¶è¿›è¡Œèµ‹å€¼ã€å–å€¼ã€äº‹ä»¶ç»‘å®šç­‰æ“ä½œï¼Œå…¶å®å’ŒåŸç”Ÿçš„HTMLçš„åŒºåˆ«åªåœ¨äºå¯ä»¥æ›´æ–¹ä¾¿çš„é€‰å–å’Œæ“ä½œDOMå¯¹è±¡ï¼Œè€Œæ•°æ®å’Œç•Œé¢æ˜¯åœ¨ä¸€èµ·çš„ã€‚æ¯”å¦‚éœ€è¦è·å–labelæ ‡ç­¾çš„å†…å®¹ï¼š$(â€œlabelâ€).val();,å®ƒè¿˜æ˜¯ä¾èµ–DOMå…ƒç´ çš„å€¼ã€‚ Vueåˆ™æ˜¯é€šè¿‡Vueå¯¹è±¡å°†æ•°æ®å’ŒViewå®Œå…¨åˆ†ç¦»å¼€æ¥äº†ã€‚å¯¹æ•°æ®è¿›è¡Œæ“ä½œä¸å†éœ€è¦å¼•ç”¨ç›¸åº”çš„DOMå¯¹è±¡ï¼Œå¯ä»¥è¯´æ•°æ®å’ŒViewæ˜¯åˆ†ç¦»çš„ï¼Œä»–ä»¬é€šè¿‡Vueå¯¹è±¡è¿™ä¸ªvmå®ç°ç›¸äº’çš„ç»‘å®šï¼Œä¹Ÿå°±æ˜¯MVVMã€‚ è°ˆè°ˆä½ å¯¹ MVVM å¼€å‘æ¨¡å¼çš„ç†è§£ Model æ•°æ®æ¨¡å‹å±‚ï¼Œä¿å­˜é¡µé¢ä¸­çš„æ•°æ® View è§†å›¾å±‚ï¼Œé¡µé¢æ•°æ®çš„å±•ç¤ºï¼› ViewModel Mï¼ŒVè°ƒåº¦è€…ã€‚åŒå‘æ•°æ®ç»‘å®šã€‚é€šè¿‡ç›‘å¬ Model æ•°æ®çš„æ”¹å˜æ¥æ§åˆ¶Vçš„æ›´æ–°ï¼Œå¤„ç†ç”¨æˆ·äº¤äº’æ“ä½œï¼› M æ•°æ®æ”¹å˜ =&gt;VM =&gt; è§¦å‘ View æ›´æ–° V ç”¨æˆ·æ“ä½œ =&gt; VM =&gt; M æ•°æ®åŒæ­¥æ›´æ–° å¼€å‘è€…åªéœ€è¦ä¸“æ³¨å¯¹æ•°æ®çš„ç»´æŠ¤æ“ä½œå³å¯ï¼Œè€Œä¸éœ€è¦è‡ªå·±æ“ä½œ dom ã€‚ è¯·ä½ è®²ä¸€ä¸‹Vueé¡¹ç›®ä¸­ä½¿ç”¨tokenç™»å½•çš„å…·ä½“æµç¨‹å¯¹ token å®Œå…¨ä¸äº†è§£çš„åŒå­¦å¯ä»¥æŸ¥çœ‹æˆ‘åšå®¢ä¸­è½¬è½½çš„ è¿™ç¯‡æ–‡ç«  ã€‚ ä¸æƒ³çœ‹é•¿ç¯‡å¤§è®ºçš„æˆ‘è¿™é‡Œç®€å•æè¿°ä¸‹åŸºäº token èº«ä»½éªŒè¯çš„æ•´ä¸ªæµç¨‹ï¼š ç”¨æˆ·é€šè¿‡è´¦æˆ·åå’Œå¯†ç å‘é€ç™»å½•è¯·æ±‚ æœåŠ¡ç«¯å¯¹è´¦æˆ·çš„æœ‰æ•ˆæ€§è¿›è¡ŒéªŒè¯ éªŒè¯æˆåŠŸåå†åˆ©ç”¨ã€Œå¯†é’¥ã€å’Œã€ŒåŠ å¯†ç®—æ³•ã€ï¼ˆå¦‚ï¼šHMAC-SHA256ï¼‰å¯¹ã€Œç”¨æˆ·æ•°æ®ã€ï¼ˆå¦‚è´¦å·ä¿¡æ¯ï¼‰åšä¸€ä¸ªç­¾åçš„ token è¿”å›ç»™å®¢æˆ·ç«¯ å®¢æˆ·ç«¯æœ¬åœ°å­˜å‚¨ token ï¼Œå¹¶åœ¨æ¯æ¬¡è¯·æ±‚çš„ header ä¸­å¸¦ä¸Š token æœåŠ¡ç«¯éªŒè¯ token å¹¶è¿”å›æ•°æ® å¯¹äº Vue é¡¹ç›®æ¥è¯´ï¼Œå…·ä½“æµç¨‹å¦‚ä¸‹ï¼š å®¢æˆ·ç«¯ï¼šç™»å½•é¡µå¸¦ä¸Šç”¨æˆ·åå’Œå¯†ç è¯·æ±‚ç™»å½•æ¥å£ æœåŠ¡ç«¯ï¼šæ¥æ”¶è¯·æ±‚å¹¶åœ¨æ•°æ®åº“ä¸­æŸ¥è¯¢è´¦æˆ·çš„æœ‰æ•ˆæ€§ æœåŠ¡ç«¯ï¼šæŸ¥è¯¢é€šè¿‡ååˆ©ç”¨ã€Œå¯†é’¥ã€å’Œã€ŒåŠ å¯†ç®—æ³•ã€å¯¹ã€Œç”¨æˆ·æ•°æ®ã€åšç­¾å token å¹¶è¿”å›ç»™å®¢æˆ·ç«¯æ­¤ token ï¼ˆæ­¤ token æœ‰æ—¶æ•ˆæ€§ï¼‰ å®¢æˆ·ç«¯ï¼šæœ¬åœ°å­˜å‚¨ tokenï¼ˆå¦‚ localStorage + Vuexï¼‰ å®¢æˆ·ç«¯ï¼šæ¯æ¬¡è·¯ç”±è·³è½¬å‰éƒ½è¦åˆ¤æ–­ localStorage æ˜¯å¦å­˜åœ¨ token ï¼Œæœ‰åˆ™æ­£å¸¸è·³è½¬ï¼Œæ— åˆ™è·³è½¬å›ç™»å½•é¡µ å®¢æˆ·ç«¯ï¼šæ¯æ¬¡å‘é€è¯·æ±‚æ—¶ï¼Œåœ¨ Axios è¯·æ±‚å¤´é‡Œæºå¸¦ä¸Š token æœåŠ¡ç«¯ï¼šæ¥æ”¶è¯·æ±‚å¹¶åˆ¤æ–­è¯·æ±‚å¤´æœ‰æ—  token ï¼Œæœ‰ä¸” token æ²¡æœ‰è¿‡æœŸï¼Œæ­£å¸¸è¿”å›æ•°æ®ï¼›æ— æˆ– token å¤±æ•ˆè¿”å› 401 çŠ¶æ€ç  å®¢æˆ·ç«¯ï¼šä¸€æ—¦å‘ç° 401 åˆ™é‡å®šå‘åˆ°ç™»å½•é¡µ ä¸€èˆ¬å›ç­”å®Œæ¯•åé¢è¯•å®˜è¿˜ä¼šè¿½é—®ä¸€äº›ç»†èŠ‚ï¼Œè¿™é‡Œåˆ—ä¸¾ä¸¤ä¸ªå¸¸é—®çš„ï¼š ä½ æ˜¯å¦‚ä½•åˆ©ç”¨ Axios å®ç°æºå¸¦ token ä»¥åŠ 401 çŠ¶æ€ç åˆ¤å®šçš„ï¼Ÿ åˆ©ç”¨ Axios çš„è¯·æ±‚/å“åº”æ‹¦æˆªã€‚ä½¿ç”¨ axios.interceptors.request.use è¿›è¡Œè¯·æ±‚æ‹¦æˆªï¼Œåˆ¤æ–­ localStorage æ˜¯å¦æœ‰ token ï¼Œæœ‰åˆ™åœ¨è¯·æ±‚å¤´é‡Œæºå¸¦ token ã€‚ä½¿ç”¨ axios.interceptors.response.use è¿›è¡Œå“åº”æ‹¦æˆªï¼Œåˆ¤æ–­ response.status æ˜¯å¦ä¸º 401 ï¼Œæ˜¯åˆ™ä»£è¡¨ token å¤±æ•ˆï¼Œæ¸…ç©ºæœ¬åœ° token ï¼Œè·³è½¬ç™»å½•é¡µ ä½ æ˜¯å¦‚ä½•ç›‘æ§è·¯ç”±è·³è½¬ï¼Œå¹¶åœ¨æ²¡æœ‰ token æ—¶è·³è½¬å›ç™»å½•é¡µçš„ï¼Ÿ ä½¿ç”¨ Vue Router çš„å…¨å±€è·¯ç”±å®ˆå« router.beforeEach ï¼Œè¯¥æ–¹æ³•æ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼štoã€from å’Œ next ï¼Œå¦‚æœç”¨æˆ·è®¿é—®çš„æ˜¯ä¸éœ€è¦ç™»å½•å°±èƒ½è®¿é—®çš„é¡µé¢ï¼ˆå¦‚ to.path === â€˜/loginâ€™ï¼‰ï¼Œåˆ™ç›´æ¥è·³è½¬ã€‚å¦åˆ™åˆ¤æ–­æœ¬åœ°æ˜¯å¦æœ‰ token ï¼Œæœ‰åˆ™è°ƒç”¨ next() ï¼Œæ— åˆ™ next(â€˜/loginâ€™) è·³è½¬å›ç™»å½•é¡µ SPA çš„ç¼ºç‚¹æœ‰å“ªäº›ï¼Œå¦‚ä½•è§£å†³ï¼Ÿ ä¸åˆ©äºSEO é¦–å±æ¸²æŸ“æ—¶é—´è¿‡é•¿ vue å¦‚ä½•ä¼˜åŒ–é¦–é¡µçš„åŠ è½½é€Ÿåº¦ï¼Ÿvue é¦–é¡µç™½å±æ˜¯ä»€ä¹ˆé—®é¢˜å¼•èµ·çš„ï¼Ÿå¦‚ä½•è§£å†³å‘¢ï¼Ÿé¦–é¡µç™½å±çš„åŸå› ï¼šå•é¡µé¢åº”ç”¨çš„ html æ˜¯é  js ç”Ÿæˆï¼Œå› ä¸ºé¦–å±éœ€è¦åŠ è½½å¾ˆå¤§çš„jsæ–‡ä»¶(app.js vendor.js)ï¼Œæ‰€ä»¥å½“ç½‘é€Ÿå·®çš„æ—¶å€™ä¼šäº§ç”Ÿä¸€å®šç¨‹åº¦çš„ç™½å± è§£å†³åŠæ³•ï¼š 1.å°†å…¬ç”¨çš„JSåº“é€šè¿‡scriptæ ‡ç­¾å¤–éƒ¨å¼•å…¥ï¼Œå‡å°app.bundleçš„å¤§å°ï¼Œè®©æµè§ˆå™¨å¹¶è¡Œä¸‹è½½èµ„æºæ–‡ä»¶ï¼Œæé«˜ä¸‹è½½é€Ÿåº¦ï¼› 2.åœ¨é…ç½®è·¯ç”±æ—¶ï¼Œé¡µé¢å’Œç»„ä»¶ä½¿ç”¨æ‡’åŠ è½½çš„æ–¹å¼å¼•å…¥ï¼Œè¿›ä¸€æ­¥ç¼©å° app.bundle çš„ä½“ç§¯ï¼Œåœ¨è°ƒç”¨æŸä¸ªç»„ä»¶æ—¶å†åŠ è½½å¯¹åº”çš„jsæ–‡ä»¶ï¼› 3.ä¸Šéª¨æ¶å±æˆ–loadingåŠ¨ç”»ï¼Œæå‡ç”¨æˆ·ä½“éªŒï¼› 4.åˆç†ä½¿ç”¨web workerä¼˜åŒ–ä¸€äº›è®¡ç®— 5.ç¼“å­˜ä¸€å®šè¦ä½¿ç”¨ï¼Œä½†æ˜¯è¯·æ³¨æ„åˆç†ä½¿ç”¨ 6.æœ€åå¯ä»¥å€ŸåŠ©ä¸€äº›å·¥å…·è¿›è¡Œæ€§èƒ½è¯„æµ‹ï¼Œé‡ç‚¹è°ƒä¼˜ï¼Œä¾‹å¦‚chromeå¼€å‘è€…å·¥å…·çš„ performance æˆ– Google PageSpeed Insights æ’ä»¶ååŠ©æµ‹è¯•ã€‚]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>é¢è¯•</category>
      </categories>
      <tags>
        <tag>é¢è¯•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JSé¢è¯•é¢˜ï¼ˆé¢è¯•ç³»åˆ—ï¼‰]]></title>
    <url>%2Fposts%2F24235%2F</url>
    <content type="text"><![CDATA[ES6let / constå…¨å±€ä½œç”¨åŸŸä¸­ï¼Œç”¨ const å’Œ let å£°æ˜çš„å˜é‡ä¸åœ¨ window ä¸Šï¼Œé‚£åˆ°åº•åœ¨å“ªé‡Œï¼Ÿå¦‚ä½•å»è·å–ï¼ŸES6è§„å®šï¼Œvar å‘½ä»¤å’Œ function å‘½ä»¤å£°æ˜çš„å…¨å±€å˜é‡ï¼Œä¾æ—§æ˜¯é¡¶å±‚å¯¹è±¡çš„å±æ€§ï¼Œä½† letã€constã€classå‘½ä»¤å£°æ˜çš„å…¨å±€å˜é‡ï¼Œä¸å±äºé¡¶å±‚å¯¹è±¡çš„å±æ€§ã€‚åªåœ¨ä¸€ä¸ªå—çº§ä½œç”¨åŸŸï¼ˆScriptï¼‰ä¸­ï¼Œè·å–æ—¶ä¸åŠ  window/global å°±å¥½ï¼š 12345let aa = 1;const bb = 2;console.log(aa); // 1console.log(bb); // 2 ç­”æ¡ˆé“¾æ¥ï¼šå…³äº const å’Œ let å£°æ˜çš„å˜é‡ä¸åœ¨ window ä¸Š ç®­å¤´å‡½æ•°ç®­å¤´å‡½æ•°ä¸æ™®é€šå‡½æ•°ï¼ˆfunctionï¼‰çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿæ„é€ å‡½æ•°ï¼ˆfunctionï¼‰å¯ä»¥ä½¿ç”¨ new ç”Ÿæˆå®ä¾‹ï¼Œé‚£ä¹ˆç®­å¤´å‡½æ•°å¯ä»¥å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿç®­å¤´å‡½æ•°æ˜¯æ™®é€šå‡½æ•°çš„ç®€å†™ï¼Œå¯ä»¥æ›´ä¼˜é›…çš„å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œå’Œæ™®é€šå‡½æ•°ç›¸æ¯”ï¼Œæœ‰ä»¥ä¸‹å‡ ç‚¹å·®å¼‚ï¼š 1ã€å‡½æ•°ä½“å†…çš„ this å¯¹è±¡ï¼Œå°±æ˜¯å®šä¹‰æ—¶æ‰€åœ¨çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯ä½¿ç”¨æ—¶æ‰€åœ¨çš„å¯¹è±¡ã€‚ 2ã€ä¸å¯ä»¥ä½¿ç”¨ arguments å¯¹è±¡ï¼Œè¯¥å¯¹è±¡åœ¨å‡½æ•°ä½“å†…ä¸å­˜åœ¨ã€‚å¦‚æœè¦ç”¨ï¼Œå¯ä»¥ç”¨ rest å‚æ•°ä»£æ›¿ã€‚ 3ã€ä¸å¯ä»¥ä½¿ç”¨ yield å‘½ä»¤ï¼Œå› æ­¤ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨ä½œ Generator å‡½æ•°ã€‚ 4ã€ä¸å¯ä»¥ä½¿ç”¨ new å‘½ä»¤ï¼Œå› ä¸ºï¼š æ²¡æœ‰è‡ªå·±çš„ thisï¼Œæ— æ³•è°ƒç”¨ callï¼Œapplyã€‚ æ²¡æœ‰ prototype å±æ€§ ï¼Œè€Œ new å‘½ä»¤åœ¨æ‰§è¡Œæ—¶éœ€è¦å°†æ„é€ å‡½æ•°çš„ prototype èµ‹å€¼ç»™æ–°çš„å¯¹è±¡çš„ proto new è¿‡ç¨‹å¤§è‡´æ˜¯è¿™æ ·çš„ï¼š 123456789101112function newFunc(father, ...rest) &#123; var result = &#123;&#125;; result.__proto__ = father.prototype; var result2 = father.apply(result, rest); if ( (typeof result2 === 'object' || typeof result2 === 'function') &amp;&amp; result2 !== null ) &#123; return result2; &#125; return result;&#125; é¢˜ç›®æ¥æºï¼šDaily-Interview-Question ç¬¬58é¢˜ Promise10 ä¸ª Ajax åŒæ—¶å‘èµ·è¯·æ±‚ï¼Œå…¨éƒ¨è¿”å›å±•ç¤ºç»“æœï¼Œå¹¶ä¸”è‡³å¤šå…è®¸ä¸‰æ¬¡å¤±è´¥ï¼Œè¯´å‡ºè®¾è®¡æ€è·¯è¿™ä¸ªé—®é¢˜ç›¸ä¿¡å¾ˆå¤šäººä¼šç¬¬ä¸€æ—¶é—´æƒ³åˆ° Promise.all ï¼Œä½†æ˜¯è¿™ä¸ªå‡½æ•°æœ‰ä¸€ä¸ªå±€é™åœ¨äºå¦‚æœå¤±è´¥ä¸€æ¬¡å°±è¿”å›äº†ï¼Œç›´æ¥è¿™æ ·å®ç°ä¼šæœ‰ç‚¹é—®é¢˜ï¼Œéœ€è¦å˜é€šä¸‹ã€‚ä»¥ä¸‹æ˜¯ä¸¤ç§å®ç°æ€è·¯ 1234567891011121314151617181920212223242526272829303132333435363738// ä»¥ä¸‹æ˜¯ä¸å®Œæ•´ä»£ç ï¼Œç€é‡äºæ€è·¯ é Promise å†™æ³•let successCount = 0let errorCount = 0let datas = []ajax(url, (res) =&gt; &#123; if (success) &#123; success++ if (success + errorCount === 10) &#123; console.log(datas) &#125; else &#123; datas.push(res.data) &#125; &#125; else &#123; errorCount++ if (errorCount &gt; 3) &#123; // å¤±è´¥æ¬¡æ•°å¤§äº3æ¬¡å°±åº”è¯¥æŠ¥é”™äº† throw Error('å¤±è´¥ä¸‰æ¬¡') &#125; &#125;&#125;)// Promise å†™æ³•let errorCount = 0let p = new Promise((resolve, reject) =&gt; &#123; if (success) &#123; resolve(res.data) &#125; else &#123; errorCount++ if (errorCount &gt; 3) &#123; // å¤±è´¥æ¬¡æ•°å¤§äº3æ¬¡å°±åº”è¯¥æŠ¥é”™äº† reject(error) &#125; else &#123; resolve(error) &#125; &#125;&#125;)Promise.all([p]).then(v =&gt; &#123; console.log(v);&#125;); JS åƒåœ¾å›æ”¶æœºåˆ¶è°ˆè°ˆåƒåœ¾å›æ”¶æœºåˆ¶çš„æ–¹å¼åŠå†…å­˜ç®¡ç†ï¼Ÿé¢˜ç›®åŠç­”æ¡ˆæ¥æºï¼š 2019 å‰ç«¯é¢è¯• | â€œHTML + CSS + JSâ€ä¸“é¢˜ JavaScript åŸºç¡€éƒ¨åˆ†ï¼Œç¼–å·ä¸º [js_11] ä¸€ã€åƒåœ¾å›æ”¶æœºåˆ¶â€”â€”GC Javascript å…·æœ‰è‡ªåŠ¨åƒåœ¾å›æ”¶æœºåˆ¶ï¼ˆGCï¼šGarbage Collecationï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ‰§è¡Œç¯å¢ƒä¼šè´Ÿè´£ç®¡ç†ä»£ç æ‰§è¡Œè¿‡ç¨‹ä¸­ä½¿ç”¨çš„å†…å­˜ã€‚ åŸç†ï¼šåƒåœ¾æ”¶é›†å™¨ä¼šå®šæœŸï¼ˆå‘¨æœŸæ€§ï¼‰æ‰¾å‡ºé‚£äº›ä¸åœ¨ç»§ç»­ä½¿ç”¨çš„å˜é‡ï¼Œç„¶åé‡Šæ”¾å…¶å†…å­˜ã€‚ é€šå¸¸æƒ…å†µä¸‹æœ‰ä¸¤ç§å®ç°æ–¹å¼ï¼š æ ‡è®°æ¸…é™¤ å¼•ç”¨è®¡æ•° æ ‡è®°æ¸…é™¤ï¼š js ä¸­æœ€å¸¸ç”¨çš„åƒåœ¾å›æ”¶æ–¹å¼å°±æ˜¯æ ‡è®°æ¸…é™¤ã€‚ å½“å˜é‡è¿›å…¥ç¯å¢ƒæ—¶ï¼Œä¾‹å¦‚ï¼Œåœ¨å‡½æ•°ä¸­å£°æ˜ä¸€ä¸ªå˜é‡ï¼Œå°±å°†è¿™ä¸ªå˜é‡æ ‡è®°ä¸ºâ€œè¿›å…¥ç¯å¢ƒâ€ã€‚ä»é€»è¾‘ä¸Šè®²ï¼Œæ°¸è¿œä¸èƒ½é‡Šæ”¾è¿›å…¥ç¯å¢ƒçš„å˜é‡æ‰€å ç”¨çš„å†…å­˜ï¼Œå› ä¸ºåªè¦æ‰§è¡Œæµè¿›å…¥ç›¸åº”çš„ç¯å¢ƒï¼Œå°±å¯èƒ½ä¼šç”¨åˆ°å®ƒä»¬ã€‚è€Œå½“å˜é‡ç¦»å¼€ç¯å¢ƒæ—¶ï¼Œåˆ™å°†å…¶æ ‡è®°ä¸ºâ€œç¦»å¼€ç¯å¢ƒâ€ã€‚ å¼•ç”¨è®¡æ•°çš„å«ä¹‰æ˜¯è·Ÿè¸ªè®°å½•æ¯ä¸ªå€¼è¢«å¼•ç”¨çš„æ¬¡æ•°ã€‚ å½“å£°æ˜äº†ä¸€ä¸ªå˜é‡å¹¶å°†ä¸€ä¸ªå¼•ç”¨ç±»å‹å€¼èµ‹ç»™è¯¥å˜é‡æ—¶ï¼Œåˆ™è¿™ä¸ªå€¼çš„å¼•ç”¨æ¬¡æ•°å°±æ˜¯ 1ã€‚å¦‚æœåŒä¸€ä¸ªå€¼åˆè¢«èµ‹ç»™å¦ä¸€ä¸ªå˜é‡ï¼Œåˆ™è¯¥å€¼çš„å¼•ç”¨æ¬¡æ•°åŠ  1ã€‚ç›¸åï¼Œå¦‚æœåŒ…å«å¯¹è¿™ä¸ªå€¼å¼•ç”¨çš„å˜é‡åˆå–å¾—äº†å¦å¤–ä¸€ä¸ªå€¼ï¼Œåˆ™è¿™ä¸ªå€¼çš„å¼•ç”¨æ¬¡æ•°å‡ 1ã€‚å½“è¿™ä¸ªå€¼çš„å¼•ç”¨æ¬¡æ•°å˜æˆ 0 æ—¶ï¼Œåˆ™è¯´æ˜æ²¡æœ‰åŠæ³•å†è®¿é—®è¿™ä¸ªå€¼äº†ï¼Œå› è€Œå°±å¯ä»¥å°†å…¶å ç”¨çš„å†…å­˜ç©ºé—´å›æ”¶å›æ¥ã€‚è¿™æ ·ï¼Œå½“åƒåœ¾å›æ”¶å™¨ä¸‹æ¬¡å†è¿è¡Œæ—¶ï¼Œå®ƒå°±ä¼šé‡Šæ”¾é‚£äº›å¼•ç”¨æ¬¡æ•°ä¸º 0 çš„å€¼æ‰€å ç”¨çš„å†…å­˜ã€‚ äºŒã€å†…å­˜ç®¡ç† Javascript å¼•æ“åŸºç¡€ GC æ–¹æ¡ˆæ˜¯ ï¼ˆsimple GCï¼‰ï¼šmark and sweepï¼ˆæ ‡è®°æ¸…é™¤ï¼‰ï¼Œå³ï¼š 1ï¼‰éå†æ‰€æœ‰å¯è®¿é—®çš„å¯¹è±¡ï¼› 2ï¼‰å›æ”¶å·²ä¸å¯è®¿é—®çš„å¯¹è±¡ã€‚ GC çš„ç¼ºé™· å’Œå…¶ä»–è¯­è¨€ä¸€æ ·ï¼ŒJavaScript çš„ GC ç­–ç•¥ä¹Ÿæ— æ³•é¿å…ä¸€ä¸ªé—®é¢˜ï¼šGC æ—¶ï¼Œåœæ­¢å“åº”å…¶ä»–æ“ä½œï¼Œè¿™æ˜¯ä¸ºäº†å®‰å…¨è€ƒè™‘ã€‚è€Œ Javascript çš„ GC åœ¨ 100ms ç”šè‡³ä»¥ä¸Šï¼Œå¯¹ä¸€èˆ¬çš„åº”ç”¨è¿˜å¥½ï¼Œä½†å¯¹äº JS æ¸¸æˆï¼ŒåŠ¨ç”»å¯¹è¿è´¯æ€§è¦æ±‚æ¯”è¾ƒé«˜çš„åº”ç”¨ï¼Œå°±éº»çƒ¦äº†ã€‚è¿™å°±æ˜¯æ–°å¼•æ“éœ€è¦ä¼˜åŒ–çš„ç‚¹ï¼šé¿å… GC é€ æˆçš„é•¿æ—¶é—´åœæ­¢å“åº”ã€‚ GC ä¼˜åŒ–ç­–ç•¥ 1ï¼‰åˆ†ä»£å›æ”¶ï¼ˆGeneration GCï¼‰ è¿™ä¸ªå’Œ Java å›æ”¶ç­–ç•¥æ€æƒ³æ˜¯ä¸€è‡´çš„ã€‚ç›®çš„æ˜¯é€šè¿‡åŒºåˆ†â€œä¸´æ—¶â€ä¸â€œæŒä¹…â€å¯¹è±¡ï¼›å¤šå›æ”¶â€œä¸´æ—¶å¯¹è±¡â€åŒºï¼ˆyoung generationï¼‰ï¼Œå°‘å›æ”¶â€œæŒä¹…å¯¹è±¡â€åŒºï¼ˆtenured generationï¼‰ï¼Œå‡å°‘æ¯æ¬¡éœ€éå†çš„å¯¹è±¡ï¼Œä»è€Œå‡å°‘æ¯æ¬¡ GC çš„è€—æ—¶ã€‚ 2ï¼‰å¢é‡ GC è¿™ä¸ªæ–¹æ¡ˆçš„æ€æƒ³å¾ˆç®€å•ï¼Œå°±æ˜¯â€œæ¯æ¬¡å¤„ç†ä¸€ç‚¹ï¼Œä¸‹æ¬¡å†å¤„ç†ä¸€ç‚¹â€ï¼Œå¦‚æ­¤ç±»æ¨ã€‚ æ›´å¤šé˜…è¯»ï¼š JSåƒåœ¾å›æ”¶æœºåˆ¶ å“ªäº›æ“ä½œä¼šé€ æˆå†…å­˜æ³„æ¼ï¼Ÿæ„å¤–çš„å…¨å±€å˜é‡å¼•èµ·çš„å†…å­˜æ³„æ¼123function foo(arg) &#123; bar = 'å…¨å±€å˜é‡'; // æ²¡æœ‰å£°æ˜å˜é‡ å®é™…ä¸Šæ˜¯å…¨å±€å˜é‡=&gt;window.bar&#125; åŸå› ï¼šå…¨å±€å˜é‡ï¼Œä¸ä¼šè¢«å›æ”¶ã€‚ ä¸ºä»€ä¹ˆä¸èƒ½æ³„æ¼åˆ°å…¨å±€ï¼Ÿå¹³æ—¶ä¸éƒ½ä¼šå®šä¹‰ä¸€äº›å…¨å±€å˜é‡ä¹ˆï¼šå…¨å±€å˜é‡æ ¹æ®å®šä¹‰æ— æ³•è¢«åƒåœ¾å›æ”¶æœºåˆ¶æ”¶é›†ã€‚éœ€è¦ç‰¹åˆ«æ³¨æ„ç”¨äºä¸´æ—¶å­˜å‚¨å’Œå¤„ç†å¤§é‡ä¿¡æ¯çš„å…¨å±€å˜é‡ã€‚å¦‚æœå¿…é¡»ä½¿ç”¨å…¨å±€å˜é‡æ¥å­˜å‚¨æ•°æ®ï¼Œè¯·ç¡®ä¿å°†å…¶æŒ‡å®šä¸ºnullæˆ–åœ¨å®Œæˆåé‡æ–°åˆ†é…å®ƒã€‚ è§£å†³ï¼šä½¿ç”¨ä¸¥æ ¼æ¨¡å¼é¿å…ï¼Œå‡½æ•°å†…ä½¿ç”¨varå®šä¹‰ï¼Œå—å†…ä½¿ç”¨letã€constã€‚ é—­åŒ…å¼•èµ·çš„å†…å­˜æ³„æ¼1234567function bindEvent() &#123; var obj = document.createElement("XXX"); var unused = function () &#123; console.log(obj,'é—­åŒ…å†…å¼•ç”¨obj objä¸ä¼šè¢«é‡Šæ”¾'); &#125;; // obj = null;&#125; åŸå› ï¼šé—­åŒ…å¯ä»¥ç»´æŒå‡½æ•°å†…å±€éƒ¨å˜é‡ï¼Œä½¿å…¶å¾—ä¸åˆ°é‡Šæ”¾ï¼Œé€ æˆå†…å­˜æ³„æ¼ã€‚ è§£å†³ï¼šå°†äº‹ä»¶å¤„ç†å‡½æ•°å®šä¹‰åœ¨å¤–éƒ¨ï¼Œè§£é™¤é—­åŒ…ï¼Œæˆ–è€…åœ¨å®šä¹‰äº‹ä»¶å¤„ç†å‡½æ•°çš„å¤–éƒ¨å‡½æ•°ä¸­ï¼Œåˆ é™¤å¯¹domçš„å¼•ç”¨ã€‚ä¾‹å¦‚ä¸Šè¿°æ¡ˆä¾‹ï¼Œæ‰‹åŠ¨è§£é™¤å¼•ç”¨ obj = null ã€‚ è¢«é—å¿˜çš„å®šæ—¶å™¨å’Œå›è°ƒå‡½æ•°123456789var someResource = getData();setInterval(function() &#123; var node = document.getElementById('Node'); if(node) &#123; node.innerHTML = JSON.stringify(someResource)); // å®šæ—¶å™¨ä¹Ÿæ²¡æœ‰æ¸…é™¤ &#125; // nodeã€someResource å­˜å‚¨äº†å¤§é‡æ•°æ® æ— æ³•å›æ”¶&#125;, 1000); åŸå› ï¼šå½“ä¸éœ€è¦ setInterval æˆ–è€… setTimeout æ—¶ï¼Œå®šæ—¶å™¨æ²¡æœ‰è¢«clearï¼Œå®šæ—¶å™¨çš„å›è°ƒå‡½æ•°ä»¥åŠå†…éƒ¨ä¾èµ–çš„å˜é‡éƒ½ä¸èƒ½è¢«å›æ”¶ï¼Œé€ æˆå†…å­˜æ³„æ¼ã€‚ è§£å†³ï¼šåœ¨å®šæ—¶å™¨å®Œæˆå·¥ä½œçš„æ—¶å€™ï¼Œæ‰‹åŠ¨æ¸…é™¤å®šæ—¶å™¨ æ²¡æœ‰æ¸…ç† DOM å…ƒç´ å¼•ç”¨12345var refA = document.getElementById('refA');document.body.removeChild(refA); // domåˆ é™¤äº†console.log(refA, "refA"); // ä½†æ˜¯è¿˜å­˜åœ¨å¼•ç”¨èƒ½consoleå‡ºæ•´ä¸ªdiv æ²¡æœ‰è¢«å›æ”¶refA = null;console.log(refA, "refA"); // è§£é™¤å¼•ç”¨ åŸå› : ä¿ç•™äº†DOMèŠ‚ç‚¹çš„å¼•ç”¨,å¯¼è‡´GCæ²¡æœ‰å›æ”¶ è§£å†³ï¼šrefA = null IE9ä»¥ä¸‹æµè§ˆå™¨ç¯å¢ƒå¯¼è‡´çš„å¾ªç¯å¼•ç”¨1234var element = document.getElementById('something');var myObject = new Object();myObject.element = element; // elementå±æ€§æŒ‡å‘domelement.someThing = myObject; // someThingå›æŒ‡myObject å‡ºç°å¾ªç¯å¼•ç”¨(ä¸¤ä¸ªå¯¹è±¡ä¸€ç›´äº’ç›¸åŒ…å« ä¸€ç›´å­˜åœ¨è®¡æ•°)ã€‚ åŸå› ï¼šIE9ä»¥ä¸‹ BOM å’Œ DOM å¯¹è±¡ä½¿ç”¨ C++ ä»¥ COM å¯¹è±¡çš„å½¢å¼å®ç°çš„ã€‚COM çš„åƒåœ¾æ”¶é›†æœºåˆ¶é‡‡ç”¨çš„æ˜¯å¼•ç”¨è®¡æ•°ç­–ç•¥ï¼Œè¿™ç§æœºåˆ¶åœ¨å‡ºç°å¾ªç¯å¼•ç”¨çš„æ—¶å€™æ°¸è¿œéƒ½é‡Šæ”¾ä¸æ‰å†…å­˜ã€‚ è§£å†³ï¼šä¸ä½¿ç”¨å®ƒä»¬çš„æ—¶å€™ï¼Œæ‰‹åŠ¨åˆ‡æ–­é“¾æ¥ï¼šmyObject.element = null; element.someThing = null; é—­åŒ…èƒ½è®²ä¸‹ JavaScript çš„é—­åŒ…ä¹ˆï¼Ÿä¸€ä¸ªå‡½æ•°åŒ…å«äº†å¦ä¸€ä¸ªå‡½æ•°æˆ–å¦ä¸€ä¸ªå¯¹è±¡ï¼Œé‡Œé¢è¿™ä¸ªå¯¹è±¡æˆ–å‡½æ•°éƒ½å¯ä»¥ä½¿ç”¨å¤–éƒ¨å‡½æ•°çš„å˜é‡æˆ–å‚æ•°ï¼Œæ­¤æ—¶å°±å½¢æˆäº†é—­åŒ…ã€‚ ä½ å¹³å¸¸æ€ä¹ˆç”¨é—­åŒ…çš„ï¼ŸåŒ¿åè‡ªæ‰§è¡Œå‡½æ•°é¿å…å…¨å±€æ±¡æŸ“ï¼ˆæ¨¡å—åŒ–å¼€å‘ï¼‰åˆ›å»ºäº†ä¸€ä¸ªåŒ¿åç«‹å³æ‰§è¡Œå‡½æ•°ï¼Œç”±äºå¤–éƒ¨æ— æ³•å¼•ç”¨å®ƒå†…éƒ¨çš„å˜é‡ï¼Œå› æ­¤åœ¨å‡½æ•°æ‰§è¡Œå®Œåä¼šç«‹åˆ»é‡Šæ”¾èµ„æºï¼Œä¸æ±¡æŸ“å…¨å±€å¯¹è±¡ã€‚ 123456789101112const msg = (function () &#123; const days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'] const today = new Date() const msg = 'Today is ' + days[today.getDay()] + ', ' + today.getDate() return &#123; getMsg() &#123; return msg &#125; &#125;&#125;())console.log(msg.getMsg()) ç¼“å­˜æ•°æ®æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦è·å–ä¸€ä¸ªå¤„ç†è¿‡ç¨‹å¾ˆè€—æ—¶çš„å¯¹è±¡ï¼Œå¹¶ä¸”å¾€å¾€ä¼šæŠŠè¿™ä¸ªå¤æ‚çš„å¤„ç†è¿‡ç¨‹å°è£…æˆä¸€ä¸ªæ–¹æ³•ã€‚ä½†æ¯æ¬¡éœ€è¦ç”¨åˆ°å®ƒæ—¶éƒ½éœ€è¦è°ƒç”¨å®ƒä»è€ŒèŠ±è´¹å¾ˆé•¿æ—¶é—´ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±éœ€è¦å°†è®¡ç®—å‡ºæ¥çš„å€¼å­˜å‚¨èµ·æ¥ï¼Œå½“è°ƒç”¨è¿™ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œé¦–å…ˆåœ¨ç¼“å­˜ä¸­æŸ¥æ‰¾ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œåˆ™è¿›è¡Œè®¡ç®—ï¼Œç„¶åæ›´æ–°ç¼“å­˜å¹¶è¿”å›å€¼ï¼Œå¦‚æœæ‰¾åˆ°äº†ï¼Œç›´æ¥è¿”å›æŸ¥æ‰¾åˆ°çš„å€¼å³å¯ã€‚é—­åŒ…å°±å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ï¼Œå› ä¸ºå®ƒä¸ä¼šé‡Šæ”¾å¤–éƒ¨çš„å¼•ç”¨ï¼Œä»è€Œå‡½æ•°å†…éƒ¨çš„å€¼å¯ä»¥å¾—ä»¥ä¿ç•™ã€‚ 12345678910111213141516171819202122var CachedSearchBox = (function () &#123; var cache = &#123;&#125;, count = []; return &#123; attachSearchBox: function (dsid) &#123; if (dsid in cache) &#123; //å¦‚æœç»“æœåœ¨ç¼“å­˜ä¸­ return cache[dsid]; //ç›´æ¥è¿”å›ç¼“å­˜ä¸­çš„å¯¹è±¡ &#125; var fsb = new uikit.webctrl.SearchBox(dsid); //æ–°å»º cache[dsid] = fsb; //æ›´æ–°ç¼“å­˜ if (count.length &gt; 100) &#123; //ä¿æ­£ç¼“å­˜çš„å¤§å°&lt;=100 delete cache[count.shift()]; &#125; return fsb; &#125;, clearSearchBox: function (dsid) &#123; if (dsid in cache) &#123; cache[dsid].clearSelection(); &#125; &#125; &#125;;&#125;)(); æ‹¿åˆ°æ­£ç¡®çš„å€¼12345for(var i = 0; i &lt; 10; i++) &#123; setTimeout(function()&#123; console.log(i) //10ä¸ª10 &#125;, 1000)&#125; è§£å†³æ–¹æ¡ˆï¼šforå¾ªç¯ä¸­å£°æ˜10ä¸ªè‡ªæ‰§è¡Œå‡½æ•°ï¼Œä¿å­˜å½“æ—¶çš„å€¼åˆ°å†…éƒ¨ 1234567for (var i = 0; i &lt; 10; i++) &#123; (function(j) &#123; setTimeout(() =&gt; &#123; console.log(j) &#125;, 1000); &#125;)(i)&#125; é«˜çº§æ’ä»–åœºæ™¯ï¼šä¸€ä¸ªul liåˆ—è¡¨ï¼Œé¼ æ ‡ç§»å…¥æ—¶é«˜äº®å½“å‰liæ ‡ç­¾ï¼Œç§»é™¤ä¹‹å‰liæ ‡ç­¾çš„é«˜äº®çŠ¶æ€ã€‚ å¸¸è§„å†™æ³•ï¼šä¸¤å±‚forå¾ªç¯ï¼Œå¤–å±‚éå†liæ ‡ç­¾ï¼Œç»™æ¯ä¸ªliæ·»åŠ  onmouseover äº‹ä»¶ï¼›é‡Œå±‚forå¾ªç¯ç”¨æ¥åœ¨é«˜äº®å½“å‰liæ ‡ç­¾ä¹‹å‰ï¼Œç§»é™¤æ‰€æœ‰liæ ‡ç­¾é«˜äº®çŠ¶æ€ã€‚ é—­åŒ…å†™æ³•ï¼šå®šä¹‰ä¸€ä¸ªpreIndexå˜é‡å­˜å‚¨ä¸Šæ¬¡é«˜äº®liæ ‡ç­¾çš„ç´¢å¼•ï¼Œforå¾ªç¯å†…éƒ¨ä½¿ç”¨ç«‹å³æ‰§è¡Œå‡½æ•°+é—­åŒ…ä¿å­˜indexç´¢å¼•ï¼Œè¿™æ ·å°±ä½¿liæ ‡ç­¾ä¸indexç´¢å¼•ä¸€ä¸€å¯¹åº”ï¼Œç„¶ååœ¨onmouseoveräº‹ä»¶è§¦å‘åï¼Œæ ¹æ®preIndexæ‰¾åˆ°ä¹‹å‰é«˜äº®æ ‡ç­¾å¹¶ç§»é™¤é«˜äº®çŠ¶æ€ï¼Œå¹¶è®¾ç½®å½“å‰æ ‡ç­¾é«˜äº®ï¼Œæœ€åå°†preIndexè®¾ç½®ä¸ºå½“å‰é«˜äº®æ ‡ç­¾çš„indexç´¢å¼•ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt; &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt; &lt;title&gt;Document&lt;/title&gt; &lt;style&gt; * &#123; margin: 0; padding: 0; list-style: none; &#125; ul li &#123; width: 100%; height: 20px; margin-bottom: 5px; background-color: grey; &#125; li.active &#123; background-color: yellow; &#125; &lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;ul&gt; &lt;li class="active"&gt;&lt;/li&gt; &lt;li&gt;&lt;/li&gt; &lt;li&gt;&lt;/li&gt; &lt;/ul&gt; &lt;script&gt; window.onload = function() &#123; let list = document.querySelectorAll('li') // è®°å½•ç§»åŠ¨å‰é€‰ä¸­liçš„å¯¹åº”ç´¢å¼• let preActiveIndex = 0 for (let i = 0; i &lt; list.length; i++) &#123; (function(j) &#123; const li = list[i] li.onmouseover = function() &#123; // æ¸…é™¤ list[preActiveIndex].className = '' // è®¾ç½® this.className = 'active' // èµ‹å€¼ preActiveIndex = j &#125; &#125;)(i) &#125; &#125; // å¸¸è§„å†™æ³• // window.onload = function() &#123; // let list = document.querySelectorAll('li') // for (let i = 0; i &lt; list.length; i++) &#123; // const li = list[i] // li.onmouseover = function() &#123; // for (let j = 0; j &lt; list.length; j++) &#123; // list[j].className = '' // &#125; // this.className = 'active' // &#125; // &#125; // &#125; &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; é—­åŒ…ä¼šäº§ç”Ÿå“ªäº›é—®é¢˜ï¼Ÿé—­åŒ…ä¼šä½¿å‡½æ•°ä¸­çš„å˜é‡ä¸èƒ½åŠæ—¶é‡Šæ”¾ï¼Œé€ æˆå†…å­˜æ¶ˆè€—è¿‡å¤§ï¼Œä»è€Œå¯¼è‡´ç½‘é¡µçš„æ€§èƒ½é—®é¢˜ã€‚ä¸è¿‡ç›®å‰æµè§ˆå™¨å¼•æ“éƒ½åŸºäº V8ï¼Œè€Œ V8 å¼•æ“æœ‰ä¸ª gc å›æ”¶æœºåˆ¶ï¼Œä¸ç”¨å¤ªè¿‡æ‹…å¿ƒå˜é‡ä¸ä¼šè¢«å›æ”¶ã€‚ Event LoopsetTimeoutã€Promiseã€Async/Await çš„åŒºåˆ«è¿™é¢˜ä¸»è¦æ˜¯è€ƒå¯Ÿè¿™ä¸‰è€…åœ¨äº‹ä»¶å¾ªç¯ä¸­çš„åŒºåˆ«ï¼Œäº‹ä»¶å¾ªç¯ä¸­åˆ†ä¸ºå®ä»»åŠ¡é˜Ÿåˆ—å’Œå¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚å…¶ä¸­setTimeoutçš„å›è°ƒå‡½æ•°æ”¾åˆ°å®ä»»åŠ¡é˜Ÿåˆ—é‡Œï¼Œç­‰åˆ°æ‰§è¡Œæ ˆæ¸…ç©ºä»¥åæ‰§è¡Œï¼›promise.thené‡Œçš„å›è°ƒå‡½æ•°ä¼šæ”¾åˆ°ç›¸åº”å®ä»»åŠ¡çš„å¾®ä»»åŠ¡é˜Ÿåˆ—é‡Œï¼Œç­‰å®ä»»åŠ¡é‡Œé¢çš„åŒæ­¥ä»£ç æ‰§è¡Œå®Œå†æ‰§è¡Œï¼›asyncå‡½æ•°è¡¨ç¤ºå‡½æ•°é‡Œé¢å¯èƒ½ä¼šæœ‰å¼‚æ­¥æ–¹æ³•ï¼Œawaitåé¢è·Ÿä¸€ä¸ªè¡¨è¾¾å¼ï¼Œasyncæ–¹æ³•æ‰§è¡Œæ—¶ï¼Œé‡åˆ°awaitä¼šç«‹å³æ‰§è¡Œè¡¨è¾¾å¼ï¼Œç„¶åæŠŠè¡¨è¾¾å¼åé¢çš„ä»£ç æ”¾åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—é‡Œï¼Œè®©å‡ºæ‰§è¡Œæ ˆè®©åŒæ­¥ä»£ç å…ˆæ‰§è¡Œã€‚ é¢˜ç›®æ¥æºï¼šhttps://github.com/Advanced-Frontend/Daily-Interview-Question/issues/33 æ¦‚å¿µæ€§é—®é¢˜è§‚å¯Ÿè€…æ¨¡å¼ä¸å‘å¸ƒè®¢é˜…æ¨¡å¼æœ‰ä»€ä¹ˆåŒºåˆ«å¯ä»¥æŠŠè§‚å¯Ÿè€…æ¨¡å¼æƒ³è±¡æˆé¡¾å®¢ä¸å¾®å•†çš„å…³ç³»ã€‚é¡¾å®¢å…³æ³¨äº†å¾®å•†çš„å•†å“ï¼Œå¾®å•†å°±ä¼šè®°ä½é¡¾å®¢ï¼Œæ¯å½“å¾®å•†æœ‰æ–°äº§å“æ—¶ï¼Œå°±ä¼šç›´æ¥ç§èŠæ¥é€šçŸ¥æ‰€æœ‰å…³æ³¨äº†è‡ªå·±çš„é¡¾å®¢ã€‚è¿™é‡Œçš„é¡¾å®¢å°±ç›¸å½“äºè§‚å¯Ÿè€…ï¼Œå¾®å•†å°±æ˜¯è¢«è§‚å¯Ÿè€…ã€‚ è€Œå‘å¸ƒè®¢é˜…æ¨¡å¼å¯ä»¥çœ‹åšæ˜¯é¡¾å®¢é€šè¿‡ã€Œå•†åŸå¹³å°ã€å…³æ³¨äº†å•†å®¶çš„å•†å“ï¼Œå•†å®¶ä¸€æ—¦ä¸Šæ–°å°±é€šè¿‡ã€Œå•†åŸå¹³å°ã€å‘å…³æ³¨äº†è‡ªå·±çš„é¡¾å®¢ç¾¤å‘æ¶ˆæ¯ï¼Œè¿™é‡Œçš„é¡¾å®¢å°±æ˜¯è®¢é˜…è€…ï¼Œã€Œå•†åŸå¹³å°ã€å°±æ˜¯äº‹ä»¶æ€»çº¿ï¼Œå•†å®¶å°±æ˜¯å‘å¸ƒè€…ã€‚ é€šè¿‡ä¸Šé¢ä¸¤ä¸ªä¾‹å­å°±èƒ½çœ‹å‡ºï¼Œè§‚å¯Ÿè€…æ¨¡å¼çš„æ¨¡å‹è·Ÿå‘å¸ƒ/è®¢é˜…è€…æ¨¡å‹é‡Œï¼Œå·®è·å°±å·®åœ¨æœ‰æ²¡æœ‰ä¸€ä¸ªä¸­å¤®çš„äº‹ä»¶æ€»çº¿ã€‚å¦‚æœæœ‰è¿™ä¸ªäº‹ä»¶æ€»çº¿ï¼Œæˆ‘ä»¬å°±å¯ä»¥è®¤ä¸ºæ˜¯ä¸ªå‘å¸ƒè®¢é˜…æ¨¡å‹ã€‚å¦‚æœæ²¡æœ‰ï¼Œé‚£ä¹ˆå°±å¯ä»¥è®¤ä¸ºæ˜¯ä¸ªè§‚å¯Ÿè€…æ¨¡å‹ã€‚å› ä¸ºå…¶å®å®ƒä»¬éƒ½å®ç°äº†ä¸€ä¸ªå…³é”®çš„åŠŸèƒ½ï¼šå‘å¸ƒäº‹ä»¶-è®¢é˜…äº‹ä»¶å¹¶è§¦å‘äº‹ä»¶ã€‚ è®²ä¸€ä¸‹é¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹å¾ï¼Ÿå°è£…ç»§æ‰¿å’Œå¤šæ€ ä¸è¿‡è¿™ä¸ªå›ç­”åˆ°ä»¥åï¼Œè‚¯å®šä¼šé—®ä½ å…·ä½“å•¥æ„æ€çš„ï¼Œä¸äº†è§£çš„åŒå­¦å¯ç‚¹å‡» è¿™ä¸ª é“¾æ¥æŸ¥çœ‹ã€‚ ä»€ä¹ˆæ˜¯é‡å†™ï¼Œä»€ä¹ˆæ˜¯é‡è½½ï¼Ÿé‡å†™å°±æ˜¯å­ç±»è¦†ç›–æ‰çˆ¶ç±»çš„æ–¹æ³•é‡è½½å°±æ˜¯åœ¨ä¸€ä¸ªç±»é‡Œé¢ï¼Œæ–¹æ³•åå­—ç›¸åŒï¼Œè€Œå‚æ•°ä¸åŒã€‚è¿”å›ç±»å‹å¯ä»¥ç›¸åŒä¹Ÿå¯ä»¥ä¸åŒã€‚ å¼€æ”¾æ€§æé—®è¿™éƒ¨åˆ†å°±åªæ”¾é¢˜ç›®ä¸ç»™å‚è€ƒç­”æ¡ˆäº†ï¼Œæ¯•ç«Ÿæ¯ä¸ªäººç»å†ä¸åŒï¼Œæ”¾è¿™å„¿è®©ä½ ä»¬æœ‰ä¸ªå‡†å¤‡å§ã€‚ ä½ åœ¨å¹³æ—¶å†™é¡¹ç›®ä¸­é‡åˆ°çš„æœ€å¤§çš„å›°éš¾åœ¨å“ªï¼Œåˆæ˜¯å¦‚ä½•è§£å†³æ‰çš„ï¼Ÿ ä½ ç®€å†ä¸Šçš„é¡¹ç›®ä½œå“ä¸­ï¼ŒæŒ‘ä¸€ä¸ªè®²ä¸€ä¸‹å­˜åœ¨å“ªäº›æŠ€æœ¯éš¾ç‚¹ï¼Ÿ åœ¨ä½¿ç”¨Vueè¿‡ç¨‹ä¸­é‡åˆ°è¿‡å“ªäº›å°è±¡æ·±åˆ»çš„é—®é¢˜ï¼Œå¦‚ä½•è§£å†³çš„ï¼Ÿ æœªæ¥3-5å¹´å¯¹è‡ªå·±çš„è®¡åˆ’ï¼Ÿ ä¸ºä»€ä¹ˆå–œæ¬¢å‰ç«¯ï¼Ÿ å¯¹è‡ªå·±åšä¸€ä¸ªè‡ªæˆ‘è¯„ä»·å§ è°ˆè°ˆä½ è‡ªå·±çš„ä¸è¶³ï¼Œæˆ–è€…æƒ³æå‡çš„ï¼Ÿ åšçš„æœ€æˆåŠŸçš„ä¸€ä»¶äº‹ï¼Ÿ æœ‰æ²¡æœ‰ä»€ä¹ˆä¸»åŠ¨äº‰å–çš„ä¸œè¥¿ï¼Ÿ ä½ æ˜¯æ€ä¹ˆå­¦å‰ç«¯çš„ï¼Ÿ å¹³æ—¶æœ‰å…³æ³¨ä¸€äº›åšå®¢ä»€ä¹ˆçš„å—ï¼Œè®²ä¸€ä¸ªæœ€è¿‘çœ‹çš„ï¼Ÿ ä½ è¿˜æœ‰ä»€ä¹ˆæƒ³é—®æˆ‘çš„å˜›ï¼Ÿ]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>é¢è¯•</category>
      </categories>
      <tags>
        <tag>é¢è¯•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[vscodeè‡ªå®šä¹‰snippetç‰‡æ®µ]]></title>
    <url>%2Fposts%2F17235%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘æˆ‘æœ‰ä¸ªéœ€æ±‚ï¼Œæƒ³è¦åœ¨ github ä¸Šä½¿ç”¨ markdown è¯­æ³•æ—¶å±…ä¸­å›¾ç‰‡ï¼Œç„¶è€Œæœäº†å‡ ç§åŠæ³•éƒ½æ— æ•ˆï¼Œæœ€ååœ¨ DavidWells çš„ gist ä¸­æ‰¾åˆ°äº†ç­”æ¡ˆï¼ˆp.s. å¦‚æœæ— æ³•ç¿»å¢™ï¼Œä½ è¿˜å¯ä»¥å‚è€ƒ è¿™ç¯‡åšå®¢ï¼‰ è§£å†³äº†ä¸€ä¸ªé—®é¢˜åˆå‡ºç°äº†å¦ä¸€ä¸ªï¼Œå…¶å®æˆ‘å·²ç»æŠŠåšå®¢å†™å®Œäº†ï¼Œä½†å…¶ä¸­éœ€è¦å±…ä¸­çš„å›¾ç‰‡æ¯”è¾ƒå¤šï¼Œè€Œå±…ä¸­ä»£ç è¿˜æ¯”è¾ƒç¹çï¼Œè¦æ˜¯ä¸€ä¸ªä¸ªæ‰‹åŠ¨æ›¿æ¢ä¹Ÿå¤ªéº»çƒ¦äº†ã€‚ç„¶åå°±æƒ³åˆ°äº†ä½¿ç”¨ snippet ï¼Œå®˜ç½‘æ•™ç¨‹åœ¨è¿™é‡Œï¼šCreating your own snippets å…·ä½“è¯¥å¦‚ä½•å®ç°å‘¢ï¼š Code â†’ é¦–é€‰é¡¹ â†’ ç”¨æˆ·ä»£ç ç‰‡æ®µ åœ¨å¼¹å‡ºçš„ä¸‹æ‹‰åˆ—è¡¨ä¸­è¾“å…¥ä½ æƒ³è¦åœ¨å“ªç§æ–‡ä»¶ä¸­ä½¿ç”¨è¿™ç§ç‰‡æ®µï¼ˆä¾‹å¦‚æˆ‘åªå¸Œæœ›åœ¨ markdown æ–‡ä»¶ä¸­ä½¿ç”¨ï¼Œå°±é”®å…¥ markdownï¼‰ æ­¤æ—¶ vs code å°±ä¼šå¸®æˆ‘ä»¬è‡ªåŠ¨æ–°å»ºä¸€ä¸ªåä¸º markdown.json çš„æ–‡ä»¶ï¼Œæˆ‘ä»¬åœ¨è¿™ä¸ª json æ–‡ä»¶ä¸­å®šä¹‰æˆ‘ä»¬çš„ä»£ç ç‰‡æ®µå°±å¥½äº† æ¥ç€æˆ‘ä»¬è¿›å…¥è¯¥æ–‡ä»¶ï¼Œç¼–å†™ snippet é…ç½®ï¼š 1234567891011&#123; "Img centered": &#123; "prefix": "mimg", "body": [ "&lt;div align=center&gt;", "\t&lt;img src='$1' alt='$2' width='$3'&gt;", "&lt;/div&gt;" ], "description": "Centered image in markdown" &#125;&#125; ç„¶è€Œå½“æˆ‘ä¿å­˜ååœ¨ md æ–‡ä»¶ä¸­ä½¿ç”¨æ—¶ï¼ŒæŒ‰ä¸‹ tab å¹¶æ²¡æœ‰æ•ˆæœï¼Œç»è¿‡é˜…è¯»å®˜æ–¹æ–‡æ¡£ï¼Œå‘ç°æœ‰è¿™æ ·ä¸€å¥è¯ï¼šEnable it with &quot;editor.tabCompletion&quot;: &quot;on&quot;, type a snippet prefix, and press Tab to insert a snippet. æ‰€ä»¥ä½ è¿˜éœ€è¦è¿›å…¥ é¦–é€‰é¡¹ â†’ è®¾ç½® ï¼Œåœ¨é¡¶éƒ¨è¾“å…¥æ¡†é”®å…¥ editor.tabCompletion æ¥æœç´¢æ­¤é…ç½®ï¼Œå°† off æ”¹ä¸º on å°± OK äº† ç°åœ¨å¤§åŠŸå‘Šæˆï¼Œåœ¨ md æ–‡ä»¶ä¸­ï¼Œé”®å…¥ mimg åæŒ‰ä¸‹ tab é”®ï¼Œå…ˆå‰å†™å¥½çš„ snippet å°±èƒ½å¤Ÿä½¿ç”¨äº† ç»“è¯­ï¼šå…³äº vs code çš„ snippet ç‰‡æ®µï¼Œç½‘ä¸Šéå¸¸å¤šæ•™ç¨‹ï¼Œå¤§å®¶è‡ªè¡Œæœç´¢å°±å¥½ï¼Œè¿™ç¯‡ç¬”è®°çš„é‡ç‚¹æ˜¯ä¸Šæ–¹ç¬¬ 6 æ­¥æŠŠ editor.tabCompletion æ”¹ä¸º on ã€‚è¿™ä¸€æ­¥è‡³å…³é‡è¦ï¼Œä¸ä¿®æ”¹ä¼šå¯¼è‡´ä½ ä»¥ä¸ºè‡ªå·±çš„ snippet è®¾ç½®æ²¡ç”Ÿæ•ˆã€‚]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>IDE</category>
      </categories>
      <tags>
        <tag>vscode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æµè§ˆå™¨é¢è¯•é¢˜ï¼ˆé¢è¯•ç³»åˆ—ï¼‰]]></title>
    <url>%2Fposts%2F38402%2F</url>
    <content type="text"><![CDATA[cookie ä¸ æœ¬åœ°å­˜å‚¨ ç›¸å…³cookieã€sessionã€localStorage åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿcookie æ˜¯å­˜å‚¨åœ¨æµè§ˆå™¨ä¸Šçš„ä¸€å°æ®µæ•°æ®ï¼Œç”¨æ¥è®°å½•æŸäº›å½“é¡µé¢å…³é—­æˆ–è€…åˆ·æ–°åä»ç„¶éœ€è¦è®°å½•çš„ä¿¡æ¯ã€‚ ç”¨æˆ·åœ¨è¾“å…¥ç”¨æˆ·åå¯†ç æäº¤ç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯éªŒè¯é€šè¿‡åä¼šåˆ›å»ºä¸€ä¸ª session ç”¨äºè®°å½•ç”¨æˆ·çš„ç›¸å…³ä¿¡æ¯ï¼Œè¿™ä¸ª session å¯ä¿å­˜åœ¨æœåŠ¡å™¨å†…å­˜ä¸­ï¼Œä¹Ÿå¯ä¿å­˜åœ¨æ•°æ®åº“ä¸­ã€‚ localStorage HTML5 æœ¬åœ°å­˜å‚¨ web storage ç‰¹æ€§çš„ API ä¹‹ä¸€ï¼Œç”¨äºå°†å¤§é‡æ•°æ®ï¼ˆæœ€å¤§ 5Mï¼‰ä¿å­˜åœ¨æµè§ˆå™¨ä¸­ï¼Œä¿å­˜åæ•°æ®æ°¸è¿œå­˜åœ¨ä¸ä¼šå¤±æ•ˆè¿‡æœŸï¼Œé™¤éç”¨ JS æ‰‹åŠ¨æ¸…é™¤ã€‚ cookie çš„ä½¿ç”¨123456789101112131415161718192021// è®¾ç½®document.cookie = 'age=16' // æ¯æ¬¡åªèƒ½è®¾ç½®ä¸€å¯¹cookie// è·å–document.cookie // è·å–å…¨éƒ¨cookieå€¼ï¼Œè·å–ç‰¹å®šç”¨å¾ªç¯// åˆ é™¤document.cookie = 'name=xiaoming; max-age=-1000' // è®¾ç½®ä¸€ä¸ªå½“å‰ä¹‹å‰çš„æ—¶é—´å³å¯// è®¾ç½®è¿‡æœŸæ—¶é—´var name = 'one_name'var value = '123'var exp = new Date()exp.setTime(exp.getTime() + 60 * 2000) // è¿‡æœŸæ—¶é—´ 2åˆ†é’Ÿdocument.cookie = name + "=" + escape(value) + ";expires=" + exp.toGMTString()console.log(name + "=" + escape(value) + ";expires=" + exp.toGMTString())// å¦‚æœä¸åœ¨æµè§ˆå™¨ä¸­è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œcookie è¢«ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œç”Ÿå‘½å‘¨æœŸéšæµè§ˆå™¨çš„å…³é—­è€Œç»“æŸï¼Œ// è¿™ç§ cookie ç®€ç§°ä¼šè¯ cookieã€‚// å¦‚æœåœ¨æµè§ˆå™¨ä¸­è®¾ç½®äº† cookie çš„è¿‡æœŸæ—¶é—´ï¼Œcookie è¢«ä¿å­˜åœ¨ç¡¬ç›˜ä¸­ï¼Œ// å…³é—­æµè§ˆå™¨åï¼Œcookie æ•°æ®ä»ç„¶å­˜åœ¨ï¼Œç›´åˆ°è¿‡æœŸæ—¶é—´ç»“æŸæ‰æ¶ˆå¤±ã€‚ cookie, localStorage å’Œ sessionStorage çš„åŒºåˆ«ç”¨é€” cookieï¼šæ˜¯æœåŠ¡å™¨å‘ç»™æµè§ˆå™¨ä¿å­˜çš„ï¼ˆå­—ç¬¦ä¸²ï¼‰æ•°æ®ï¼Œä¸€èˆ¬ç”¨æ¥è®°å½•ç”¨æˆ·ä¿¡æ¯æ–¹ä¾¿æœåŠ¡ç«¯ç¡®è®¤ç”¨æˆ·èº«ä»½ localStorageã€sessionStorageï¼šæœ¬åœ°å­˜å‚¨ï¼Œå¯ä»¥ä¿å­˜ä¸€äº›ä¸å¤ªé‡è¦çš„æ•°æ®ï¼Œä¾‹å¦‚å½“å‰ç”¨æˆ·åæ ‡ï¼Œè´­ç‰©è½¦ä¿¡æ¯ç­‰ å­˜å‚¨å¤§å° cookieï¼š4k localStorage, sessionStorageï¼š5M æœ‰æ•ˆæœŸ cookieï¼šå…³é—­æµè§ˆå™¨å¤±æ•ˆï¼ˆé»˜è®¤ï¼‰ localStorageï¼šæ°¸ä¹…ï¼Œé™¤éjsæ‰‹åŠ¨åˆ å’Œæ¸…é™¤æµè§ˆå™¨ç¼“å­˜ sessionStorageï¼šé¡µé¢ä¸å…³é—­å°±ä¸å¤±æ•ˆï¼ŒåŒ…æ‹¬é‡æ–°åŠ è½½æˆ–æ¢å¤é¡µé¢ä¹Ÿä¸å¤±æ•ˆã€‚ä½†åœ¨æ–°æ ‡ç­¾æˆ–çª—å£æ‰“å¼€ä¸€ä¸ªé¡µé¢ï¼Œåˆ™ä¼šé‡æ–°ç”Ÿæˆ cookie ä¸ session åŒºåˆ«éƒ½æ˜¯ç”¨æ¥ç¡®è®¤ç”¨æˆ·èº«ä»½çš„ï¼ŒåŒºåˆ«åœ¨äº cookie ä¿å­˜åœ¨å®¢æˆ·ç«¯ï¼Œsession ä¿å­˜åœ¨æœåŠ¡ç«¯ã€‚ å¦å¤–ï¼Œsession æ˜¯åŸºäº cookie çš„ã€‚æœåŠ¡å™¨ç«¯åœ¨ç”Ÿæˆ session åï¼Œä¼šè®©å®¢æˆ·ç«¯çš„ cookie ä»£ä¸ºä¿å­˜ sessionID ã€‚ é˜…è¯»ï¼š ä¸€æ–‡å¸¦ä½ çœ‹æ‡‚cookieï¼Œé¢è¯•å‰ç«¯ä¸ç”¨æ„ èŠä¸€èŠcookie Cookieç¦ç”¨äº†ï¼ŒSessionè¿˜èƒ½ç”¨å—ï¼Ÿ session,cookie,sessionStorage,localStorageçš„åŒºåˆ«åŠåº”ç”¨åœºæ™¯ å¦‚ä½•å®ç°åŒä¸€ä¸ªæµè§ˆå™¨å¤šä¸ªæ ‡ç­¾é¡µä¹‹é—´çš„é€šä¿¡ï¼Ÿ1. websocket é€šè®¯ å…¨åŒå·¥ï¼ˆfull-duplexï¼‰é€šä¿¡è‡ªç„¶å¯ä»¥å®ç°å¤šä¸ªæ ‡ç­¾é¡µä¹‹é—´çš„é€šä¿¡ã€‚ 2. å®šæ—¶å™¨ setInterval+cookie åœ¨é¡µé¢ A è®¾ç½®ä¸€ä¸ªä½¿ç”¨ setInterval å®šæ—¶å™¨ä¸æ–­åˆ·æ–°ï¼Œæ£€æŸ¥ Cookies çš„å€¼æ˜¯å¦å‘ç”Ÿå˜åŒ–ï¼Œå¦‚æœå˜åŒ–å°±è¿›è¡Œåˆ·æ–°çš„æ“ä½œã€‚ 3. ä½¿ç”¨ localStorage localStorage æ˜¯æµè§ˆå™¨å¤šä¸ªæ ‡ç­¾å…±ç”¨çš„å­˜å‚¨ç©ºé—´ï¼Œæ‰€ä»¥å¯ä»¥ç”¨æ¥å®ç°å¤šæ ‡ç­¾ä¹‹é—´çš„é€šä¿¡ï¼ˆpsï¼šsession æ˜¯ä¼šè¯çº§çš„å­˜å‚¨ç©ºé—´ï¼Œæ¯ä¸ªæ ‡ç­¾é¡µéƒ½æ˜¯å•ç‹¬çš„ï¼‰ã€‚ ç›´æ¥åœ¨ window å¯¹è±¡ä¸Šæ·»åŠ ç›‘å¬å³å¯ï¼š 1234window.onstorage = (e) =&gt; &#123;console.log(e)&#125;// æˆ–è€…è¿™æ ·window.addEventListener("storage", (e) =&gt; console.log(e)) HTML5çš„ç¦»çº¿å‚¨å­˜ä½¿ç”¨ï¼Œè§£é‡Šå·¥ä½œåŸç†ï¼Ÿ åœ¨ç”¨æˆ·æ²¡æœ‰ä¸å› ç‰¹ç½‘è¿æ¥æ—¶ï¼Œå¯ä»¥æ­£å¸¸è®¿é—®ç«™ç‚¹æˆ–åº”ç”¨ï¼Œåœ¨ç”¨æˆ·ä¸å› ç‰¹ç½‘è¿æ¥æ—¶ï¼Œæ›´æ–°ç”¨æˆ·æœºå™¨ä¸Šçš„ç¼“å­˜æ–‡ä»¶ã€‚ åŸç†ï¼šHTML5çš„ç¦»çº¿å­˜å‚¨æ˜¯åŸºäºä¸€ä¸ªæ–°å»ºçš„ .appcache æ–‡ä»¶çš„ç¼“å­˜æœºåˆ¶(ä¸æ˜¯å­˜å‚¨æŠ€æœ¯)ï¼Œé€šè¿‡è¿™ä¸ªæ–‡ä»¶ä¸Šçš„è§£ææ¸…å•ç¦»çº¿å­˜å‚¨èµ„æºï¼Œè¿™äº›èµ„æºå°±ä¼šåƒcookieä¸€æ ·è¢«å­˜å‚¨äº†ä¸‹æ¥ã€‚ä¹‹åå½“ç½‘ç»œåœ¨å¤„äºç¦»çº¿çŠ¶æ€ä¸‹æ—¶ï¼Œæµè§ˆå™¨ä¼šé€šè¿‡è¢«ç¦»çº¿å­˜å‚¨çš„æ•°æ®è¿›è¡Œé¡µé¢å±•ç¤ºã€‚ å¦‚ä½•ä½¿ç”¨ï¼š é¡µé¢å¤´éƒ¨åƒä¸‹é¢ä¸€æ ·åŠ å…¥ä¸€ä¸ªmanifestçš„å±æ€§ åœ¨ cache.manifest æ–‡ä»¶çš„ç¼–å†™ç¦»çº¿å­˜å‚¨çš„èµ„æº åœ¨ç¦»çº¿çŠ¶æ€æ—¶ï¼Œæ“ä½œ window.applicationCache è¿›è¡Œéœ€æ±‚å®ç°ã€‚ è¯¦ç»†çš„ä½¿ç”¨è¯·å‚è€ƒï¼š HTML5 ç¦»çº¿ç¼“å­˜-manifestç®€ä»‹ æœ‰è¶£çš„HTML5ï¼šç¦»çº¿å­˜å‚¨ æµè§ˆå™¨å¯¹ HTML5 ç¦»çº¿å‚¨å­˜èµ„æºçš„ç®¡ç†å’ŒåŠ è½½ï¼Ÿåœ¨çº¿çš„æƒ…å†µä¸‹: æµè§ˆå™¨å‘ç° html å¤´éƒ¨æœ‰ manifest å±æ€§ï¼Œå®ƒä¼šè¯·æ±‚ manifest æ–‡ä»¶ï¼Œå¦‚æœæ˜¯ç¬¬ä¸€æ¬¡è®¿é—® app ï¼Œé‚£ä¹ˆæµè§ˆå™¨å°±ä¼šæ ¹æ® manifest æ–‡ä»¶çš„å†…å®¹ä¸‹è½½ç›¸åº”çš„èµ„æºå¹¶ä¸”è¿›è¡Œç¦»çº¿å­˜å‚¨ã€‚å¦‚æœå·²ç»è®¿é—®è¿‡ app å¹¶ä¸”èµ„æºå·²ç»ç¦»çº¿å­˜å‚¨äº†ï¼Œé‚£ä¹ˆæµè§ˆå™¨å°±ä¼šä½¿ç”¨ç¦»çº¿çš„èµ„æºåŠ è½½é¡µé¢ï¼Œç„¶åæµè§ˆå™¨ä¼šå¯¹æ¯”æ–°çš„ manifest æ–‡ä»¶ä¸æ—§çš„ manifest æ–‡ä»¶ï¼Œå¦‚æœæ–‡ä»¶æ²¡æœ‰å‘ç”Ÿæ”¹å˜ï¼Œå°±ä¸åšä»»ä½•æ“ä½œï¼Œå¦‚æœæ–‡ä»¶æ”¹å˜äº†ï¼Œé‚£ä¹ˆå°±ä¼šé‡æ–°ä¸‹è½½æ–‡ä»¶ä¸­çš„èµ„æºå¹¶è¿›è¡Œç¦»çº¿å­˜å‚¨ã€‚ ç¦»çº¿çš„æƒ…å†µä¸‹: æµè§ˆå™¨å°±ç›´æ¥ä½¿ç”¨ç¦»çº¿å­˜å‚¨çš„èµ„æºã€‚ ç”¨æˆ·ç‚¹å¤–å–çš„ä»½æ•°æ€ä¹ˆå’Œåå°é€šä¿¡ï¼Ÿä¸‡ä¸€ç”¨æˆ·ä¸­æ–­äº†å†è¿›äº†æ€ä¹ˆè·å–ï¼Ÿä¸ºä»€ä¹ˆä¸ç”¨ cookieï¼Ÿ å°†è´­ç‰©è½¦ä¿¡æ¯å­˜åœ¨ localStorage ä» localStorage ä¸­è·å– ç”¨æˆ·ç¦ç”¨ cookie æ—¶æ— æ³•ä½¿ç”¨ å…¼å®¹æ€§ç»å¸¸é‡åˆ°çš„æµè§ˆå™¨çš„å…¼å®¹æ€§æœ‰å“ªäº›ï¼Ÿ IE æµè§ˆå™¨ä¸æ”¯æŒ Promise babel-polyfill â†’ webpack.config.js çš„ entry ä¸­è®¾ç½® [â€˜babel-polyfillâ€™, â€˜./src/main.jsâ€™] å„æµè§ˆå™¨ä¹‹é—´é»˜è®¤æ ·å¼çš„å·®å¼‚ normalize.css ä¸ reset åŒºåˆ« â†’ normalize.css æ¶ˆé™¤å„æµè§ˆå™¨ä¹‹é—´é»˜è®¤æ ·å¼çš„å·®å¼‚ã€ä¿ç•™æœ‰ç”¨çš„é»˜è®¤æ ·å¼ï¼›è€Œ reset ä¼šæ¸…é™¤æ‰€æœ‰çš„é»˜è®¤æ ·å¼ï¼Œè¿‡äºæš´åŠ›ï¼Œä¾‹å¦‚ä¼šè®© h æ ‡é¢˜æ ‡ç­¾ä¸å†é»˜è®¤åŠ ç²—ï¼Œul li å‰é¢é»˜è®¤çš„å°åœ†ç‚¹ä¹Ÿæ²¡äº†ï¼‰ html5 æŸäº›æ–°å¢æ ‡ç­¾ä¸è¢«è¯†åˆ« html5shiv.js - è§£å†³ ie9 ä»¥ä¸‹å¯¹ html5 æŸäº›æ–°å¢æ ‡ç­¾ä¸è¯†åˆ«çš„é—®é¢˜ï¼ˆe.g. videoæ ‡ç­¾ä¸è¯†åˆ«ä¸æ˜¾ç¤ºï¼‰ ç”¨æ³•ï¼š[if lt IE 9]&gt;&lt;script&gt; src=&quot;http://html5shim.googlecode.com/svn/trunk/html5.js&quot;&lt;/script&gt;&lt;![endif] é€šè¿‡ document.createElement æ–¹æ³•äº§ç”Ÿçš„æ ‡ç­¾ï¼Œ å¯ä»¥åˆ©ç”¨è¿™ä¸€ç‰¹æ€§è®©è¿™äº›æµè§ˆå™¨æ”¯æŒHTML5æ–°æ ‡ç­¾ï¼Œæµè§ˆå™¨æ”¯æŒæ–°æ ‡ç­¾åï¼Œè¿˜éœ€è¦æ·»åŠ æ ‡ç­¾é»˜è®¤çš„æ ·å¼ã€‚ CSS3 åª’ä½“æŸ¥è¯¢å¤±æ•ˆ respond.js - èƒ½è§£å†³ ie9 ä»¥ä¸‹ä¸æ”¯æŒåª’ä½“æŸ¥è¯¢é—®é¢˜ è‡ªåŠ¨æ·»åŠ æµè§ˆå™¨å‰ç¼€ posscss-loader+autoprefixer ie6 ä¸æ”¯æŒ min-height/width æ·»åŠ é¢å¤–çš„ _min-height ie6 è¯†åˆ« å¸¸è§hackï¼ˆé’ˆå¯¹ç‰¹å®šieç‰ˆæœ¬çš„æ ·å¼æ§åˆ¶ï¼‰ _color - ie6 è¯†åˆ« *color - ie6/7 è¯†åˆ« color: red\9; ie8åŠä»¥ä¸‹è¯†åˆ« ieæ¡ä»¶æ³¨é‡Šå†™æ³•ï¼š(lt å°äº | gt å¤§äº | lte å°äºç­‰äº | gte å¤§äºç­‰äº | ! ä¸ç­‰äº) ç§»åŠ¨ç«¯å…¼å®¹æ€§å‘¢ï¼Ÿ ç§»åŠ¨ç«¯ç‚¹é€é—®é¢˜ è§£å†³æ–¹æ¡ˆ iosæ»šåŠ¨å¡é¡¿ ä½¿ç”¨ better-scroll æ’ä»¶ ios é¡¶éƒ¨è¾“å…¥æ¡† fixed å¸ƒå±€å¤±æ•ˆï¼ˆå½“é”®ç›˜å¼¹èµ·æ—¶ï¼‰âŒ å®‰å“ é”®ç›˜é®æŒ¡è¾“å…¥æ¡† âŒ position:fixed; åœ¨ android ä¸‹æ— æ•ˆæ€ä¹ˆå¤„ç†ï¼Ÿã€âŒå¾…éªŒè¯ã€‘åŸå› ï¼š fixed çš„å…ƒç´ æ˜¯ç›¸å¯¹æ•´ä¸ªé¡µé¢å›ºå®šä½ç½®çš„ï¼Œä½ åœ¨å±å¹•ä¸Šæ»‘åŠ¨åªæ˜¯åœ¨ç§»åŠ¨è¿™ä¸ªæ‰€è°“çš„ viewport ï¼ŒåŸæ¥çš„ç½‘é¡µè¿˜å¥½å¥½çš„åœ¨é‚£ï¼Œfixed çš„å†…å®¹ä¹Ÿæ²¡æœ‰å˜è¿‡ä½ç½®ã€‚ è§£å†³ï¼š 1&lt;meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no"/&gt; ç§»åŠ¨ç«¯çš„ç‚¹å‡»äº‹ä»¶çš„æœ‰å»¶è¿Ÿï¼Œæ—¶é—´æ˜¯å¤šä¹…ï¼Œä¸ºä»€ä¹ˆä¼šæœ‰ï¼Ÿ æ€ä¹ˆè§£å†³è¿™ä¸ªå»¶æ—¶ï¼ŸâŒclick æœ‰ 300ms å»¶è¿Ÿ,ä¸ºäº†å®ç°safariçš„åŒå‡»äº‹ä»¶çš„è®¾è®¡ï¼Œæµè§ˆå™¨è¦çŸ¥é“ä½ æ˜¯ä¸æ˜¯è¦åŒå‡»æ“ä½œã€‚ åœ¨åšç§»åŠ¨ç«¯é¡¹ç›®æ—¶é‡åˆ°è¿‡ä»€ä¹ˆé—®é¢˜ï¼Ÿå‚è€ƒé˜…è¯»ï¼šH5ä¸APPæ··åˆå¼€å‘é‡åˆ°çš„é—®é¢˜æ€»ç»“ Polyfillä»€ä¹ˆæ˜¯ Polyfillpolyfill æ˜¯â€œåœ¨æ—§ç‰ˆæµè§ˆå™¨ä¸Šå¤åˆ¶æ ‡å‡† API çš„ JavaScript è¡¥å……â€,å¯ä»¥åŠ¨æ€åœ°åŠ è½½ JavaScript ä»£ç æˆ–åº“ï¼Œåœ¨ä¸æ”¯æŒè¿™äº›æ ‡å‡† API çš„æµè§ˆå™¨ä¸­æ¨¡æ‹Ÿå®ƒä»¬ã€‚ ä¾‹å¦‚ï¼Œgeolocationï¼ˆåœ°ç†ä½ç½®ï¼‰polyfill å¯ä»¥åœ¨ navigator å¯¹è±¡ä¸Šæ·»åŠ å…¨å±€çš„ geolocation å¯¹è±¡ï¼Œè¿˜èƒ½æ·»åŠ  getCurrentPosition å‡½æ•°ä»¥åŠâ€œåæ ‡â€å›è°ƒå¯¹è±¡ï¼Œæ‰€æœ‰è¿™äº›éƒ½æ˜¯ W3C åœ°ç†ä½ç½® API å®šä¹‰çš„å¯¹è±¡å’Œå‡½æ•°ã€‚ å› ä¸º polyfill æ¨¡æ‹Ÿæ ‡å‡† APIï¼Œæ‰€ä»¥èƒ½å¤Ÿä»¥ä¸€ç§é¢å‘æ‰€æœ‰æµè§ˆå™¨æœªæ¥çš„æ–¹å¼é’ˆå¯¹è¿™äº› API è¿›è¡Œå¼€å‘ï¼Œä¸€æ—¦å¯¹è¿™äº› API çš„æ”¯æŒå˜æˆç»å¯¹å¤§å¤šæ•°ï¼Œåˆ™å¯ä»¥æ–¹ä¾¿åœ°å»æ‰ polyfillï¼Œæ— éœ€åšä»»ä½•é¢å¤–å·¥ä½œã€‚ åšçš„é¡¹ç›®ä¸­ï¼Œæœ‰æ²¡æœ‰ç”¨è¿‡æˆ–è‡ªå·±å®ç°ä¸€äº› polyfill æ–¹æ¡ˆï¼ˆå…¼å®¹æ€§å¤„ç†æ–¹æ¡ˆï¼‰ï¼ŸâŒæ¯”å¦‚ï¼š html5shivã€Geolocationã€Placeholder åˆ—ä¸¾IEä¸å…¶ä»–æµè§ˆå™¨ä¸ä¸€æ ·çš„ç‰¹æ€§ï¼Ÿäº‹ä»¶ç›®æ ‡å¯¹è±¡è§¦å‘äº‹ä»¶çš„å…ƒç´ è¢«è®¤ä¸ºæ˜¯ç›®æ ‡ï¼ˆtargetï¼‰ã€‚è€Œåœ¨ IE ä¸­ï¼Œç›®æ ‡åŒ…å«åœ¨ event å¯¹è±¡çš„ srcElement å±æ€§ è·å–å­—ç¬¦ä»£ç å¦‚æœæŒ‰é”®ä»£è¡¨ä¸€ä¸ªå­—ç¬¦ï¼ˆshiftã€ctrlã€alté™¤å¤–ï¼‰ï¼ŒIE çš„ keyCode ä¼šè¿”å›å­—ç¬¦ä»£ç ï¼ˆUnicodeï¼‰ï¼ŒDOM ä¸­æŒ‰é”®çš„ä»£ç å’Œå­—ç¬¦æ˜¯åˆ†ç¦»çš„ï¼Œè¦è·å–å­—ç¬¦ä»£ç ï¼Œéœ€è¦ä½¿ç”¨ charCode å±æ€§ é˜»æ­¢æŸä¸ªäº‹ä»¶çš„é»˜è®¤è¡Œä¸ºIE ä¸­é˜»æ­¢æŸä¸ªäº‹ä»¶çš„é»˜è®¤è¡Œä¸ºï¼Œå¿…é¡»å°† returnValue å±æ€§è®¾ç½®ä¸º falseï¼ŒMozilla ä¸­ï¼Œéœ€è¦è°ƒç”¨ preventDefault() æ–¹æ³• åœæ­¢äº‹ä»¶å†’æ³¡IE ä¸­é˜»æ­¢äº‹ä»¶è¿›ä¸€æ­¥å†’æ³¡ï¼Œéœ€è¦è®¾ç½® cancelBubble ä¸º trueï¼ŒMozzilla ä¸­ï¼Œéœ€è¦è°ƒç”¨ stopPropagation() é€šä¿¡å¦‚ä½•å®ç°æµè§ˆå™¨å†…å¤šä¸ªæ ‡ç­¾é¡µä¹‹é—´çš„é€šä¿¡? (é˜¿é‡Œ)WebSocketã€SharedWorkerï¼› ä¹Ÿå¯ä»¥è°ƒç”¨ localStorage ã€cookies ç­‰æœ¬åœ°å­˜å‚¨æ–¹å¼ï¼› localStorage å¦ä¸€ä¸ªæµè§ˆä¸Šä¸‹æ–‡é‡Œè¢«æ·»åŠ ã€ä¿®æ”¹æˆ–åˆ é™¤æ—¶ï¼Œå®ƒéƒ½ä¼šè§¦å‘ä¸€ä¸ªäº‹ä»¶ï¼Œ æˆ‘ä»¬é€šè¿‡ç›‘å¬äº‹ä»¶ï¼Œæ§åˆ¶å®ƒçš„å€¼æ¥è¿›è¡Œé¡µé¢ä¿¡æ¯é€šä¿¡ï¼› æ³¨æ„ï¼šSafari åœ¨æ— ç—•æ¨¡å¼ä¸‹è®¾ç½®localStorage å€¼æ—¶ä¼šæŠ›å‡º QuotaExceededError çš„å¼‚å¸¸ï¼› webSocket å¦‚ä½•å…¼å®¹ä½æµè§ˆå™¨ï¼Ÿ(é˜¿é‡Œ)Adobe Flash Socket ã€ ActiveX HTMLFile (IE) ã€ åŸºäº multipart ç¼–ç å‘é€ XHR ã€ åŸºäºé•¿è½®è¯¢çš„ XHR é¡µé¢æ¸²æŸ“ä¸ç¼“å­˜ä»è¾“å…¥ URL åˆ°é¡µé¢å±•ç°ä¸­é—´å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ DNS æŸ¥è¯¢ å»ºç«‹ TCP è¿æ¥ï¼ˆä¸‰æ¬¡æ¡æ‰‹ï¼‰ å‘é€ HTTP è¯·æ±‚ æœåŠ¡ç«¯webæœåŠ¡å™¨å¯¹è¯·æ±‚åšå¤„ç†ï¼ˆç›‘å¬80ç«¯å£ è·¯ç”± æ¸²æŸ“HTMLæ¨¡æ¿ ç”Ÿæˆå“åº”ï¼‰ å‘é€ HTTP å“åº” å…³é—­ TCP è¿æ¥ï¼ˆå››æ¬¡æŒ¥æ‰‹ï¼‰ æµè§ˆå™¨è§£æHTMLï¼ŒCSSï¼Œå›¾ç‰‡ï¼ŒJS å¤„ç† HTML æ ‡è®°å¹¶æ„å»º DOM æ ‘ å¤„ç† CSS æ ‡è®°å¹¶æ„å»º CSS è§„åˆ™æ ‘ å°† DOMæ ‘ ä¸ CSSè§„åˆ™æ ‘ åˆå¹¶æˆä¸€ä¸ªæ¸²æŸ“æ ‘ã€‚ æ ¹æ®æ¸²æŸ“æ ‘æ¥å¸ƒå±€ï¼Œä»¥è®¡ç®—æ¯ä¸ªèŠ‚ç‚¹çš„å‡ ä½•ä¿¡æ¯ã€‚ å°†å„ä¸ªèŠ‚ç‚¹ç»˜åˆ¶åˆ°å±å¹•ä¸Š è¿™äº”ä¸ªæ­¥éª¤å¹¶ä¸ä¸€å®šä¸€æ¬¡æ€§é¡ºåºå®Œæˆã€‚å¦‚æœ DOM æˆ– CSSOM è¢«ä¿®æ”¹ï¼Œä»¥ä¸Šè¿‡ç¨‹éœ€è¦é‡å¤æ‰§è¡Œï¼Œè¿™æ ·æ‰èƒ½è®¡ç®—å‡ºå“ªäº›åƒç´ éœ€è¦åœ¨å±å¹•ä¸Šè¿›è¡Œé‡æ–°æ¸²æŸ“ã€‚å®é™…é¡µé¢ä¸­ï¼ŒCSS ä¸ JavaScript å¾€å¾€ä¼šå¤šæ¬¡ä¿®æ”¹ DOM å’Œ CSSOM é˜…è¯»æ›´å¤šï¼š æµè§ˆå™¨çš„æ¸²æŸ“ï¼šè¿‡ç¨‹ä¸åŸç† ç»†è¯´æµè§ˆå™¨è¾“å…¥URLåå‘ç”Ÿäº†ä»€ä¹ˆ style æ ‡ç­¾å†™åœ¨ body åä¸ body å‰ï¼ˆheadï¼‰æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿstyle æ ‡ç­¾æ”¾åœ¨ body åï¼Œä¼šå¯¼è‡´å½“åŠ è½½åˆ°æ­¤æ ·å¼æ—¶ï¼Œé¡µé¢å°†åœæ­¢ä¹‹å‰çš„æ¸²æŸ“ã€‚æ­¤æ ·å¼è¡¨è¢«è§£æåï¼Œå°†é‡æ–°æ¸²æŸ“é¡µé¢ï¼Œä¹Ÿå°±å‡ºç°äº†çŸ­æš‚çš„èŠ±å±ç°è±¡ã€‚ æ‰€ä»¥ä¸è¦å†™åœ¨ body åï¼Œè¦æŠŠæ ·å¼æ”¾åœ¨ head ä¸­ã€‚ ç¼“å­˜ç­–ç•¥æ‰§è¡Œè¿‡ç¨‹ ä¸€ä¸ª Response Header ç¤ºä¾‹ å¼ºç¼“å­˜ä¸åå•†ç¼“å­˜çš„å¼‚åŒ ç›¸åŒç‚¹ï¼šæœ€ç»ˆéƒ½æ˜¯èµ°çš„æœ¬åœ°ç¼“å­˜ ä¸åŒç‚¹ï¼šå¼ºç¼“å­˜ä¸å‘è¯·æ±‚ï¼Œç›´æ¥è¯»æœ¬åœ°ç¼“å­˜ã€‚åå•†ç¼“å­˜å‘è¯·æ±‚åˆ°æœåŠ¡å™¨ åŸºæœ¬åŸç† 1ï¼‰æµè§ˆå™¨åœ¨åŠ è½½èµ„æºæ—¶ï¼Œæ ¹æ®è¯·æ±‚å¤´çš„ expires å’Œ cache-control åˆ¤æ–­æ˜¯å¦å‘½ä¸­å¼ºç¼“å­˜ï¼Œæ˜¯åˆ™ç›´æ¥ä»ç¼“å­˜è¯»å–èµ„æºï¼Œä¸ä¼šå‘è¯·æ±‚åˆ°æœåŠ¡å™¨ã€‚ 2ï¼‰å¦‚æœæ²¡æœ‰å‘½ä¸­å¼ºç¼“å­˜ï¼Œæµè§ˆå™¨ä¸€å®šä¼šå‘é€ä¸€ä¸ªè¯·æ±‚åˆ°æœåŠ¡å™¨ï¼Œé€šè¿‡ last-modified å’Œ Etag éªŒè¯èµ„æºæ˜¯å¦å‘½ä¸­åå•†ç¼“å­˜ï¼Œå¦‚æœå‘½ä¸­ï¼ŒæœåŠ¡å™¨ä¼šå°†è¿™ä¸ªè¯·æ±‚è¿”å›ï¼Œä½†æ˜¯ä¸ä¼šè¿”å›è¿™ä¸ªèµ„æºçš„æ•°æ®ï¼Œä¾ç„¶æ˜¯ä»ç¼“å­˜ä¸­è¯»å–èµ„æº 3ï¼‰å¦‚æœå‰é¢ä¸¤è€…éƒ½æ²¡æœ‰å‘½ä¸­ï¼Œç›´æ¥ä»æœåŠ¡å™¨åŠ è½½èµ„æº å¦‚ä½•å®ç°é¡µé¢æ¯æ¬¡æ‰“å¼€æ—¶æ¸…é™¤æœ¬é¡µç¼“å­˜ï¼Ÿ ç”¨ HTML æ ‡ç­¾è®¾ç½® HTTP å¤´ä¿¡æ¯ï¼š 1234&lt;meta http-equiv="Pragma" content="no-cache"&gt;header("Cache-Control: no-cache, must-revalidate")&lt;meta http-equiv="Cache-Control" content="no-cache"&gt;&lt;meta http-equiv="Expires" content="0"&gt; è¯´æ˜ï¼šHTTP å¤´ä¿¡æ¯ Expires å’Œ Cache-Control ä¸ºåº”ç”¨ç¨‹åºæœåŠ¡å™¨æä¾›äº†ä¸€ä¸ªæ§åˆ¶æµè§ˆå™¨å’Œä»£ç†æœåŠ¡å™¨ä¸Šç¼“å­˜çš„æœºåˆ¶ã€‚ HTTP å¤´ä¿¡æ¯ Expires å‘Šè¯‰ä»£ç†æœåŠ¡å™¨å®ƒçš„ç¼“å­˜é¡µé¢ä½•æ—¶å°†è¿‡æœŸã€‚ HTTP1.1 è§„èŒƒä¸­æ–°å®šä¹‰çš„å¤´ä¿¡æ¯ Cache-Control å¯ä»¥é€šçŸ¥æµè§ˆå™¨ä¸ç¼“å­˜ä»»ä½•é¡µé¢ã€‚å½“ç‚¹å‡»åé€€æŒ‰é’®æ—¶ï¼Œæµè§ˆå™¨é‡æ–°è®¿é—®æœåŠ¡å™¨å·²è·å–é¡µé¢ã€‚ â€‹ å¦‚ä¸‹æ˜¯ä½¿ç”¨ Cache-Control çš„åŸºæœ¬æ–¹æ³•ï¼š â€‹ 1ï¼‰no-cacheï¼šå¼ºåˆ¶ç¼“å­˜ä»æœåŠ¡å™¨ä¸Šè·å–æ–°çš„é¡µé¢ï¼› â€‹ 2ï¼‰no-storeï¼šåœ¨ä»»ä½•ç¯å¢ƒä¸‹ç¼“å­˜ä¸ä¿å­˜ä»»ä½•é¡µé¢ã€‚ â€‹ HTTP1.0 è§„èŒƒä¸­çš„ Pragma: no-cacheç­‰åŒäº HTTP1.1 è§„èŒƒä¸­çš„ Cache-Control: no-cacheï¼ŒåŒæ ·å¯ä»¥åŒ…å«åœ¨å¤´ä¿¡æ¯ä¸­ã€‚ åœ¨éœ€è¦æ‰“å¼€çš„ url åé¢å¢åŠ ä¸€ä¸ªéšæœºçš„å‚æ•°ï¼šå¢åŠ å‚æ•°å‰ï¼šurl=test/test.jspå¢åŠ å‚æ•°åï¼šurl=test/test.jsp?ranparam=random() expires å’Œ cache-control çš„åŒºåˆ«éƒ½æ˜¯ç”¨çš„æœ¬åœ°ç³»ç»Ÿæ—¶é—´ï¼Œä½† expires å­˜çš„æ˜¯ä¸ªæœåŠ¡ç«¯ç»å¯¹æ—¶é—´ï¼Œä¿®æ”¹å®¢æˆ·ç«¯ç³»ç»Ÿæ—¶é—´ä¼šæœ‰å½±å“ cache-control æ˜¯ç›¸å¯¹æ—¶é—´ï¼Œå³ä½¿å®¢æˆ·ç«¯æ—¶é—´å‘ç”Ÿæ”¹å˜ï¼Œç›¸å¯¹æ—¶é—´ä¹Ÿä¸ä¼šéšä¹‹æ”¹å˜ã€‚ä¾‹å¦‚è®¾ç½® max-age = 10sï¼Œé‚£ä¹ˆåœ¨ 10s ä»¥å†…ï¼Œä½¿ç”¨æµè§ˆå™¨ç¼“å­˜çš„èµ„æº cache-control çš„ä¼˜å…ˆçº§é«˜äº expires http get å’Œ post åŒºåˆ« è¯­ä¹‰ï¼šGET ç”¨æ¥è¯»æ•°æ®ï¼ŒPOST ç”¨æ¥å†™æ•°æ® å‚æ•°ï¼šGET æ”¾åœ¨ url é‡Œï¼ŒPOST æ”¾æ¶ˆæ¯ä½“é‡Œ å¤§å°ï¼šGET é•¿åº¦æœ‰é™åˆ¶ï¼Œä¸€èˆ¬ 1024 ä¸ªå­—ç¬¦ã€‚POST 4~10Mb é™åˆ¶ ç¼“å­˜ï¼šGET è¯·æ±‚å¯ä»¥è¢«æµè§ˆå™¨ç¼“å­˜ï¼ŒPOST ä¸èƒ½ cache-control å’Œ Etag çš„åŒºåˆ«ä¸€ä¸ªä¸å‘è¯·æ±‚ï¼Œä¸€ä¸ªå‘è¯·æ±‚ã€‚è¶…è¿‡ç¼“å­˜æ—¶é—´ï¼Œåªè¦ if-None-Match å’ŒæœåŠ¡å™¨ç«¯ etag ç›¸åŒï¼Œä»ç„¶ç¼“å­˜ã€‚å¹¶ä¸” Etag æ¯” cache-control çš„ä¼˜å…ˆçº§æ›´é«˜ã€‚ http å’Œ https çš„åŒºåˆ«HTTPS æ˜¯ä»¥å®‰å…¨ä¸ºç›®æ ‡çš„HTTPé€šé“ï¼Œç®€å•è®²æ˜¯HTTPçš„å®‰å…¨ç‰ˆï¼Œå³HTTPä¸‹åŠ å…¥SSLå±‚ï¼ŒHTTPSçš„å®‰å…¨åŸºç¡€æ˜¯SSLï¼Œå› æ­¤åŠ å¯†çš„è¯¦ç»†å†…å®¹å°±éœ€è¦SSLã€‚ HTTPSä½œç”¨ ä¸€ç§æ˜¯å»ºç«‹ä¸€ä¸ªä¿¡æ¯å®‰å…¨é€šé“ï¼Œæ¥ä¿è¯æ•°æ®ä¼ è¾“çš„å®‰å…¨ å¦ä¸€ç§å°±æ˜¯ç¡®è®¤ç½‘ç«™çš„çœŸå®æ€§ã€‚ åŒºåˆ« https åè®®éœ€è¦åˆ° ca ç”³è¯·è¯ä¹¦ï¼Œæœ‰å…è´¹ä»˜è´¹å¯é€‰ httpæ˜¯æ˜æ–‡ä¼ è¾“ï¼Œhttps åˆ™æ˜¯å…·æœ‰å®‰å…¨æ€§çš„ ssl åŠ å¯†ä¼ è¾“åè®®ã€‚ éå¯¹ç§°åŠ å¯† æ€§èƒ½é—®é¢˜ï¼šhttps åšäº†åŠ å¯†å°±æ„å‘³ç€å®¢æˆ·ç«¯æœåŠ¡ç«¯ä¹Ÿéœ€è¦é™„å¸¦è§£å¯†æ­¥éª¤ï¼Œç›¸æ¯”æ¥è¯´ï¼Œåœ¨é€šè®¯å¿«æ·ä¸Šï¼Œæ€§èƒ½æœ‰æ‰€ä¸å¦‚ http ã€‚ å¯¹éå¯¹ç§°æ€§åŠ å¯†çš„ç†è§£ ä¸è¦å»ç¡¬è®°ã€‚ ä½ åªè¦æƒ³ï¼šæ—¢ç„¶æ˜¯åŠ å¯†ï¼Œé‚£è‚¯å®šæ˜¯ä¸å¸Œæœ›åˆ«äººçŸ¥é“æˆ‘çš„æ¶ˆæ¯ï¼Œæ‰€ä»¥åªæœ‰æˆ‘æ‰èƒ½è§£å¯†ï¼Œæ‰€ä»¥å¯å¾—å‡ºå…¬é’¥è´Ÿè´£åŠ å¯†ï¼Œç§é’¥è´Ÿè´£è§£å¯†ï¼›åŒç†ï¼Œæ—¢ç„¶æ˜¯ç­¾åï¼Œé‚£è‚¯å®šæ˜¯ä¸å¸Œæœ›æœ‰äººå†’å……æˆ‘å‘æ¶ˆæ¯ï¼Œåªæœ‰æˆ‘æ‰èƒ½å‘å¸ƒè¿™ä¸ªç­¾åï¼Œæ‰€ä»¥å¯å¾—å‡ºç§é’¥è´Ÿè´£ç­¾åï¼Œå…¬é’¥è´Ÿè´£éªŒè¯ã€‚ å‚è€ƒï¼š éå¯¹ç§°åŠ å¯†ä¸HTTPS å®Œå…¨ç†è§£ HTTPS å¦‚ä½•åšåˆ°ä¼ è¾“å®‰å…¨ ä»‹ç» HTTPS æ¡æ‰‹è¿‡ç¨‹ å®¢æˆ·ç«¯ä½¿ç”¨httpsçš„urlè®¿é—®webæœåŠ¡å™¨,è¦æ±‚ä¸æœåŠ¡å™¨å»ºç«‹sslè¿æ¥ webæœåŠ¡å™¨æ”¶åˆ°å®¢æˆ·ç«¯è¯·æ±‚å, ä¼šå°†ç½‘ç«™çš„è¯ä¹¦(åŒ…å«å…¬é’¥)ä¼ é€ä¸€ä»½ç»™å®¢æˆ·ç«¯ å®¢æˆ·ç«¯æ”¶åˆ°ç½‘ç«™è¯ä¹¦åä¼šæ£€æŸ¥è¯ä¹¦çš„é¢å‘æœºæ„ä»¥åŠè¿‡æœŸæ—¶é—´, å¦‚æœæ²¡æœ‰é—®é¢˜å°±éšæœºäº§ç”Ÿä¸€ä¸ªç§˜é’¥ å®¢æˆ·ç«¯åˆ©ç”¨å…¬é’¥å°†ä¼šè¯ç§˜é’¥åŠ å¯†, å¹¶ä¼ é€ç»™æœåŠ¡ç«¯, æœåŠ¡ç«¯åˆ©ç”¨è‡ªå·±çš„ç§é’¥è§£å¯†å‡ºä¼šè¯ç§˜é’¥ ä¹‹åæœåŠ¡å™¨ä¸å®¢æˆ·ç«¯ä½¿ç”¨ç§˜é’¥åŠ å¯†ä¼ è¾“ å‚è€ƒæ¥æºï¼š ç¬¬ 44 é¢˜ï¼šä»‹ç» HTTPS æ¡æ‰‹è¿‡ç¨‹ é˜…è¯»æ›´å¤šï¼š ä¸€æ¬¡å®‰å…¨å¯é çš„é€šä¿¡â€”â€”HTTPSåŸç† HTTP1.1 ä¸ HTTP2 çš„åŒºåˆ« åŸºäºHTTPSçš„ å¤šè·¯å¤ç”¨ æœåŠ¡ç«¯æ¨é€ ç®€å•è®²è§£ä¸€ä¸‹ http2 çš„å¤šè·¯å¤ç”¨é˜…è¯»æ›´å¤šï¼šå¤šè·¯å¤ç”¨ HTTP2é‡‡ç”¨äºŒè¿›åˆ¶æ ¼å¼ä¼ è¾“ï¼Œå–ä»£äº†HTTP1.xçš„æ–‡æœ¬æ ¼å¼ï¼ŒäºŒè¿›åˆ¶æ ¼å¼è§£ææ›´é«˜æ•ˆã€‚ å¤šè·¯å¤ç”¨ä»£æ›¿äº†HTTP1.xçš„åºåˆ—å’Œé˜»å¡æœºåˆ¶ï¼Œæ‰€æœ‰çš„ç›¸åŒåŸŸåè¯·æ±‚éƒ½é€šè¿‡åŒä¸€ä¸ªTCPè¿æ¥å¹¶å‘å®Œæˆã€‚åœ¨HTTP1.xä¸­ï¼Œå¹¶å‘å¤šä¸ªè¯·æ±‚éœ€è¦å¤šä¸ªTCPè¿æ¥ï¼Œæµè§ˆå™¨ä¸ºäº†æ§åˆ¶èµ„æºä¼šæœ‰6-8ä¸ªTCPè¿æ¥éƒ½é™åˆ¶ã€‚ HTTP2ä¸­ï¼š åŒåŸŸåä¸‹æ‰€æœ‰é€šä¿¡éƒ½åœ¨å•ä¸ªè¿æ¥ä¸Šå®Œæˆï¼Œæ¶ˆé™¤äº†å› å¤šä¸ª TCP è¿æ¥è€Œå¸¦æ¥çš„å»¶æ—¶å’Œå†…å­˜æ¶ˆè€—ã€‚ å•ä¸ªè¿æ¥ä¸Šå¯ä»¥å¹¶è¡Œäº¤é”™çš„è¯·æ±‚å’Œå“åº”ï¼Œä¹‹é—´äº’ä¸å¹²æ‰°ã€‚ é˜…è¯»æ›´å¤šï¼š HTTP1.0ã€HTTP1.1 å’Œ HTTP2.0 çš„åŒºåˆ« æ€§èƒ½ä¼˜åŒ–ä½ æœ‰ç”¨è¿‡å“ªäº›å‰ç«¯æ€§èƒ½ä¼˜åŒ–çš„æ–¹æ³•ï¼Ÿèµ„æºåˆå¹¶å‹ç¼© å‹ç¼© htmlï¼Œcssï¼Œjsã€html-webpack/optimize-css-assets/webpack-parallel-uglifyã€‘-plugin å›¾ç‰‡ï¼šimage-webpack-loaderï¼Œé›ªç¢§å›¾ï¼Œiconfontå›¾æ ‡å­—ä½“ åˆå¹¶ å‡å°‘httpè¯·æ±‚ï¼Œæ¯ä¸ªhttpè¯·æ±‚éƒ½å¸¦æ¥æ…¢å¯åŠ¨ï¼Œä¸‰æ¬¡æ¡æ‰‹ï¼Œè¿æ¥å»ºç«‹ï¼Œæ‰€ä»¥èµ„æºåˆå¹¶ç”±ä¸ºé‡è¦ æœåŠ¡ç«¯å¯ç”¨ gzipï¼ˆå‹ç¼©ç‡80%ï¼‰ æµè§ˆå™¨è¯·æ±‚ header è®¾ç½® accept-encoding: gzip æœåŠ¡å™¨å“åº” header è¿”å› content-encoding: gzipã€apacheçš„ httpd.confã€‘ æµè§ˆå™¨åŠ è½½åŸç†ä¼˜åŒ–åŸç†ï¼šhtml åœ¨è½¬ DOM æ—¶ï¼ŒèŠ‚ç‚¹å¼•ç”¨ css/img ä¸å½±å“ç»§ç»­è½¬åŒ–ï¼Œä½† js ä¼šé˜»å¡ï¼Œå› ä¸º js æœ‰å¯èƒ½ä¿®æ”¹ dom æ ‘ css æ”¾ head js å°½é‡ä¸æ”¾ headï¼Œå¦‚æœæ”¾åˆ™ js å†…åµŒï¼Œä¸”åœ¨æ‰€æœ‰csså‰é¢ | å¯¹äºä¼šé˜»å¡åç»­å†…å®¹çš„å¤–éƒ¨ js ï¼Œç”¨ defer é¦–å±ä¼˜åŒ– æ‡’åŠ è½½ï¼šåˆ—è¡¨æ»šåŠ¨å›¾ç‰‡æ‡’åŠ è½½ æŒ‰éœ€åŠ è½½ webpack codespliting ä½¿ç”¨cdnåŠ é€Ÿï¼šæŠŠé™æ€èµ„æºï¼ˆèƒ½è¢«æµè§ˆå™¨ç¼“å­˜çš„js/cssï¼‰åˆ†å‘åˆ°ç¦»ç”¨æˆ·æœ€è¿‘èŠ‚ç‚¹å°±è¿‘è·å–ï¼Œæé«˜å“åº”é€Ÿåº¦å’ŒæˆåŠŸç‡ ç¼“å­˜ä¼˜åŒ– httpåè®®ç¼“å­˜ï¼šå¼ºç¼“å­˜/åå•†ç¼“å­˜ ä½¿ç”¨æµè§ˆå™¨ç¼“å­˜æ¥å‡å°‘è¯·æ±‚æ•°é‡ cssï¼Œjs åŠ  MD5 åç¼€ æœ¬åœ°å­˜å‚¨ localStorage ï¼ˆåœ°ç†ä½ç½®ï¼Œè´­ç‰©è½¦ï¼‰ app cache âŒ service worker âŒ æ¸²æŸ“ä¼˜åŒ– å‡å°‘é‡ç»˜å’Œé‡æ’ é›†ä¸­æ”¹å˜æ ·å¼ï¼ˆcssTextï¼Œç±»ååˆ‡æ¢ï¼‰ æ‰¹é‡ä¿®æ”¹DOMï¼ˆdisplay:noneï¼ŒcreateDocumentFragmentï¼‰ è¯»å†™åˆ†ç¦»ï¼ˆå°½é‡ä¸è¦ä¸€è¡Œä»£ç åˆè¯»åˆå†™ div.style.left = div.offsetLeft + 1 + â€˜pxâ€™; &lt;=é‡å¤ä¸¤æ¬¡å°±æ˜¯ä¸¤æ¬¡é‡æ’ï¼Œå…ˆå­˜èµ·æ¥å°±åªä¼šå¯¼è‡´ä¸€æ¬¡é‡æ’ï¼‰ åŠ¨ç”» css3åŠ¨ç”» webkit-transform: translateZ(0); / will-change: transform; GPUæ¸²æŸ“ï¼Œæµè§ˆå™¨ç”ŸæˆDOMå…ƒç´ å¿«ç…§ï¼Œåœ¨GPUçš„å±‚ä¸Šç¼“å­˜èµ·æ¥åšå•ç‹¬åšåŠ¨ç”» jsåŠ¨ç”» ä½¿ç”¨ requestAnimationFrame æå‡æµç•…åº¦ï¼ˆç¡®ä¿jså°½æ—©åœ¨æ¯ä¸€å¸§å¼€å§‹æ—¶æ‰§è¡Œï¼‰ åˆ—è¡¨æ»šåŠ¨é‡ç”¨ï¼ˆç±»ä¼¼ios cellå¤ç”¨ï¼‰âŒ ä½¿ç”¨SSRï¼ˆserver side renderingï¼‰åç«¯æ¸²æŸ“ï¼Œæ•°æ®ç›´æ¥è¾“å‡ºåˆ°HTML âŒ å…¶å®ƒæ£€æµ‹æµè§ˆå™¨ç‰ˆæœ¬ç‰ˆæœ¬æœ‰å“ªäº›æ–¹å¼ï¼ŸåŠŸèƒ½æ£€æµ‹ã€userAgentç‰¹å¾æ£€æµ‹ 123æ¯”å¦‚ï¼šnavigator.userAgent//"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_2) AppleWebKit/537.36(KHTML, like Gecko) Chrome/41.0.2272.101 Safari/537.36" åˆ¤æ–­ç”¨æˆ·çš„æµè§ˆå™¨ç±»å‹123456789101112function isAndroid() &#123; return /Android/.test(navigator.userAgent);&#125;function isiPhone() &#123; return /iPhone/.test(navigator.userAgent);&#125;function isiPad() &#123; return /iPad/.test(navigator.userAgent);&#125;function isiOS() &#123; return /(iPhone)|(iPad)/i.test(navigator.userAgent);&#125; ä»‹ç»ä¸€ä¸‹ä½ å¯¹æµè§ˆå™¨å†…æ ¸çš„ç†è§£ä¸»è¦åˆ†æˆä¸¤éƒ¨åˆ†ï¼š æ¸²æŸ“å¼•æ“(Layout engineer æˆ–Rendering Engine)å’ŒJSå¼•æ“ã€‚ æ¸²æŸ“å¼•æ“ï¼šè´Ÿè´£å–å¾—ç½‘é¡µçš„å†…å®¹ï¼ˆHTMLã€XMLã€å›¾åƒç­‰ç­‰ï¼‰ã€æ•´ç†è®¯æ¯ï¼ˆä¾‹å¦‚åŠ å…¥CSSç­‰ï¼‰ï¼Œä»¥åŠè®¡ç®—ç½‘é¡µçš„æ˜¾ç¤ºæ–¹å¼ï¼Œç„¶åä¼šè¾“å‡ºè‡³æ˜¾ç¤ºå™¨æˆ–æ‰“å°æœºã€‚æµè§ˆå™¨çš„å†…æ ¸çš„ä¸åŒå¯¹äºç½‘é¡µçš„è¯­æ³•è§£é‡Šä¼šæœ‰ä¸åŒï¼Œæ‰€ä»¥æ¸²æŸ“çš„æ•ˆæœä¹Ÿä¸ç›¸åŒã€‚æ‰€æœ‰ç½‘é¡µæµè§ˆå™¨ã€ç”µå­é‚®ä»¶å®¢æˆ·ç«¯ä»¥åŠå…¶å®ƒéœ€è¦ç¼–è¾‘ã€æ˜¾ç¤ºç½‘ç»œå†…å®¹çš„åº”ç”¨ç¨‹åºéƒ½éœ€è¦å†…æ ¸ã€‚ JSå¼•æ“åˆ™ï¼šè§£æå’Œæ‰§è¡Œjavascriptæ¥å®ç°ç½‘é¡µçš„åŠ¨æ€æ•ˆæœã€‚ æœ€å¼€å§‹æ¸²æŸ“å¼•æ“å’ŒJSå¼•æ“å¹¶æ²¡æœ‰åŒºåˆ†çš„å¾ˆæ˜ç¡®ï¼Œåæ¥JSå¼•æ“è¶Šæ¥è¶Šç‹¬ç«‹ï¼Œå†…æ ¸å°±å€¾å‘äºåªæŒ‡æ¸²æŸ“å¼•æ“ã€‚ è¯¦ç»†æ–‡ç« ï¼šæµè§ˆå™¨å†…æ ¸çš„è§£æå’Œå¯¹æ¯” å¸¸è§çŠ¶æ€ç å½¢è±¡è®°å¿†ï¼šhttps://http.cat/ 200 æœåŠ¡å™¨æˆåŠŸè¿”å›è¯·æ±‚ 301 æ°¸ä¹…é‡å®šå‘ï¼Œæµè§ˆå™¨ä¼šè®°ä½ | 302 ä¸´æ—¶é‡å®šå‘ | 304 è¯·æ±‚é¡µé¢æœªä¿®æ”¹ 400 è¯·æ±‚é”™è¯¯ï¼ŒæœåŠ¡å™¨ä¸ç†è§£ | 401 è¯·æ±‚æœªæˆæƒ | 403 æœåŠ¡å™¨æ‹’ç»è¯·æ±‚ | 404 èµ„æºä¸å­˜åœ¨ | 405 æ–¹æ³•ç¦ç”¨ 500 æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ | 503 æœåŠ¡æš‚æ—¶ä¸å¯ç”¨ï¼ˆè¶…è½½oråœæœºç»´æŠ¤ï¼‰ è°ˆè°ˆä½ å¯¹ TCP ä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹çš„ç†è§£ ç­”æ¡ˆåœ°å€ é¡µé¢å¯è§æ€§(Page Visibility API)æœ‰å“ªäº›ç”¨é€” é€šè¿‡ visibilityState çš„å€¼æ£€æµ‹é¡µé¢å½“å‰æ˜¯å¦å¯è§ï¼Œä»¥åŠæ‰“å¼€ç½‘é¡µçš„æ—¶é—´ç­‰; åœ¨é¡µé¢è¢«åˆ‡æ¢åˆ°å…¶ä»–åå°è¿›ç¨‹çš„æ—¶å€™ï¼Œè‡ªåŠ¨æš‚åœéŸ³ä¹æˆ–è§†é¢‘çš„æ’­æ”¾ï¼› ç½‘é¡µéªŒè¯ç å¹²å˜›çš„,æ˜¯ä¸ºäº†è§£å†³ä»€ä¹ˆå®‰å…¨é—®é¢˜åŒºåˆ†ç”¨æˆ·æ˜¯è®¡ç®—æœºè¿˜æ˜¯äººçš„å…¬å…±å…¨è‡ªåŠ¨ç¨‹åºã€‚å¯ä»¥é˜²æ­¢æ¶æ„ç ´è§£å¯†ç ã€åˆ·ç¥¨ã€è®ºå›çŒæ°´ï¼›æœ‰æ•ˆé˜²æ­¢é»‘å®¢å¯¹æŸä¸€ä¸ªç‰¹å®šæ³¨å†Œç”¨æˆ·ç”¨ç‰¹å®šç¨‹åºæš´åŠ›ç ´è§£æ–¹å¼è¿›è¡Œä¸æ–­çš„ç™»é™†å°è¯•ã€‚ å¦‚æœéœ€è¦æ‰‹åŠ¨å†™åŠ¨ç”»ï¼Œä½ è®¤ä¸ºæœ€å°æ—¶é—´é—´éš”æ˜¯å¤šä¹…ï¼Œä¸ºä»€ä¹ˆï¼Ÿå¤šæ•°æ˜¾ç¤ºå™¨é»˜è®¤é¢‘ç‡æ˜¯60Hzï¼Œå³1ç§’åˆ·æ–°60æ¬¡ï¼Œæ‰€ä»¥ç†è®ºä¸Šæœ€å°é—´éš”ä¸º1/60ï¼Š1000ms ï¼ 16.7ms ç¬¬ä¸€æ¬¡è®¿é—®é¡µé¢ä¸­æ—¶å¼¹å‡ºå¼•å¯¼ï¼Œç”¨æˆ·å…³é—­å¼•å¯¼ï¼Œä¹‹åå†æ¬¡è¿›å…¥é¡µé¢æ—¶ä¸å¸Œæœ›å‡ºç°å¼•å¯¼ï¼Œå¦‚ä½•å®ç°ï¼ŸâŒlocalStorage å®ç°ä¸€ä¸ªé¡µé¢æ“ä½œä¸ä¼šæ•´é¡µåˆ·æ–°çš„ç½‘ç«™ï¼Œå¹¶ä¸”èƒ½åœ¨æµè§ˆå™¨çš„å‰è¿›ï¼Œåé€€æ—¶æ­£ç¡®å“åº”ã€‚ç»™å‡ºä½ çš„æŠ€æœ¯å®ç°æ–¹æ¡ˆï¼Ÿ onhashchange window.history.pushStateï¼ˆæ·»åŠ æ–°çš„å†å²è®°å½•ï¼‰/replaceState(state,title, url)ã€æ”¹æ‰å½“å‰å†å²è®°å½•ã€‘ é…åˆ onpopstate äº‹ä»¶æ¥ç›‘å¬å†å²è®°å½•çš„æ”¹å˜ websocketå®ç°äº†å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯ä¹‹é—´çš„å…¨åŒå·¥é€šä¿¡ï¼Œå½“æœåŠ¡ç«¯æ•°æ®å˜åŒ–æ—¶ï¼Œå¯ä»¥ç¬¬ä¸€æ—¶é—´é€šçŸ¥åˆ°å®¢æˆ·ç«¯ã€‚ ä¸ HTTP çš„åŒºåˆ« http åªèƒ½ç”±å®¢æˆ·ç«¯å‘èµ·ï¼Œè€Œ webSocket æ˜¯åŒå‘çš„ webSocket ä¼ è¾“çš„æ•°æ®åŒ…ç›¸å¯¹äº http è€Œè¨€å¾ˆå°ï¼Œå¾ˆé€‚åˆç§»åŠ¨ç«¯ä½¿ç”¨ æ²¡æœ‰åŒæºé™åˆ¶ï¼Œå¯ä»¥è·¨åŸŸå…±äº«èµ„æº TCP å’Œ UDPTCPï¼ˆTransmission Control Protocolï¼Œä¼ è¾“æ§åˆ¶åè®®ï¼‰æ˜¯é¢å‘è¿æ¥çš„åè®®ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨æ”¶å‘æ•°æ®å‰ï¼Œå¿…é¡»å’Œå¯¹æ–¹å»ºç«‹å¯é çš„è¿æ¥ã€‚ ä¸€ä¸ªTCPè¿æ¥å¿…é¡»è¦ç»è¿‡ä¸‰æ¬¡â€œå¯¹è¯â€æ‰èƒ½å»ºç«‹èµ·æ¥ TCPä¸‰æ¬¡æ¡æ‰‹è¿‡ç¨‹ ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼šä¸»æœº A é€šè¿‡å‘ä¸»æœº B å‘é€ä¸€ä¸ªå«æœ‰åŒæ­¥åºåˆ—å·çš„æ ‡å¿—ä½çš„æ•°æ®æ®µç»™ä¸»æœº B ï¼Œå‘ä¸»æœº B è¯·æ±‚å»ºç«‹è¿æ¥ï¼Œé€šè¿‡è¿™ä¸ªæ•°æ®æ®µï¼Œ ä¸»æœº A å‘Šè¯‰ä¸»æœº B ä¸¤ä»¶äº‹ï¼šæˆ‘æƒ³è¦å’Œä½ é€šä¿¡ï¼›ä½ å¯ä»¥ç”¨å“ªä¸ªåºåˆ—å·ä½œä¸ºèµ·å§‹æ•°æ®æ®µæ¥å›åº”æˆ‘ã€‚ ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼šä¸»æœº B æ”¶åˆ°ä¸»æœº A çš„è¯·æ±‚åï¼Œç”¨ä¸€ä¸ªå¸¦æœ‰ç¡®è®¤åº”ç­”ï¼ˆACKï¼‰å’ŒåŒæ­¥åºåˆ—å·ï¼ˆSYNï¼‰æ ‡å¿—ä½çš„æ•°æ®æ®µå“åº”ä¸»æœº Aï¼Œä¹Ÿå‘Šè¯‰ä¸»æœº A ä¸¤ä»¶äº‹ï¼šæˆ‘å·²ç»æ”¶åˆ°ä½ çš„è¯·æ±‚äº†ï¼Œä½ å¯ä»¥ä¼ è¾“æ•°æ®äº†ï¼›ä½ è¦ç”¨é‚£ä¸ªåºåˆ—å·ä½œä¸ºèµ·å§‹æ•°æ®æ®µæ¥å›åº”æˆ‘ ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼šä¸»æœºAæ”¶åˆ°è¿™ä¸ªæ•°æ®æ®µåï¼Œå†å‘é€ä¸€ä¸ªç¡®è®¤åº”ç­”ï¼Œç¡®è®¤å·²æ”¶åˆ°ä¸»æœºB çš„æ•°æ®æ®µï¼šâ€æˆ‘å·²æ”¶åˆ°å›å¤ï¼Œæˆ‘ç°åœ¨è¦å¼€å§‹ä¼ è¾“å®é™…æ•°æ®äº†ï¼Œè¿™æ ·3æ¬¡æ¡æ‰‹å°±å®Œæˆäº†ï¼Œä¸»æœº A å’Œä¸»æœºB å°±å¯ä»¥ä¼ è¾“æ•°æ®äº†ã€‚ TCPæ–­å¼€è¿æ¥è¦è¿›è¡Œ4æ¬¡ ç¬¬ä¸€æ¬¡ï¼š å½“ä¸»æœºAå®Œæˆæ•°æ®ä¼ è¾“å,å°†æ§åˆ¶ä½FINç½®1ï¼Œæå‡ºåœæ­¢TCPè¿æ¥çš„è¯·æ±‚ ï¼› ç¬¬äºŒæ¬¡ï¼š ä¸»æœº B æ”¶åˆ° FIN åå¯¹å…¶ä½œå‡ºå“åº”ï¼Œç¡®è®¤è¿™ä¸€æ–¹å‘ä¸Šçš„ TCP è¿æ¥å°†å…³é—­,å°†ACKç½®1ï¼› ç¬¬ä¸‰æ¬¡ï¼š ç”± B ç«¯å†æå‡ºåæ–¹å‘çš„å…³é—­è¯·æ±‚ï¼Œå°† FIN ç½® 1 ï¼› ç¬¬å››æ¬¡ï¼š ä¸»æœº A å¯¹ä¸»æœº B çš„è¯·æ±‚è¿›è¡Œç¡®è®¤ï¼Œå°† ACK ç½® 1 ï¼ŒåŒæ–¹å‘çš„å…³é—­ç»“æŸã€‚ UDPï¼ˆUser Data Protocolï¼Œç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼‰UDP æ˜¯ä¸€ä¸ªéè¿æ¥çš„åè®®ï¼Œä¼ è¾“æ•°æ®ä¹‹å‰æºç«¯å’Œç»ˆç«¯ä¸å»ºç«‹è¿æ¥ï¼Œ å½“å®ƒæƒ³ä¼ é€æ—¶å°±ç®€å•åœ°å»æŠ“å–æ¥è‡ªåº”ç”¨ç¨‹åºçš„æ•°æ®ï¼Œå¹¶å°½å¯èƒ½å¿«åœ°æŠŠå®ƒæ‰”åˆ°ç½‘ç»œä¸Šã€‚ TCP ä¸ UDP çš„åŒºåˆ«1ã€TCP é¢å‘è¿æ¥ï¼›UDP ä¸é¢å‘è¿æ¥ï¼› 2ã€TCP ä¼ è¾“å¯é ï¼ˆä¸‰æ¬¡æ¡æ‰‹ï¼‰ï¼ŒUDP åˆ™ä¸å¯é ï¼Œä¸ä¿è¯æ­£ç¡®æ€§ï¼ˆUDP ä¼ é€æ•°æ®å‰å¹¶ä¸ä¸å¯¹æ–¹å»ºç«‹è¿æ¥ï¼Œå¯¹æ¥æ”¶åˆ°çš„æ•°æ®ä¹Ÿä¸å‘é€ç¡®è®¤ä¿¡å·ï¼Œå‘é€ç«¯ä¸çŸ¥é“æ•°æ®æ˜¯å¦ä¼šæ­£ç¡®æ¥æ”¶ï¼Œå½“ç„¶ä¹Ÿä¸ç”¨é‡å‘ï¼‰ï¼› 3ã€UDP å¼€é”€å°ï¼Œä¼ è¾“å¿«ï¼› ä½¿ç”¨åœºæ™¯ TCPï¼šæ•ˆç‡è¦æ±‚ç›¸å¯¹ä½ï¼Œä½†å¯¹å‡†ç¡®æ€§è¦æ±‚ç›¸å¯¹é«˜çš„åœºæ™¯ï¼ˆæ–‡ä»¶ä¼ è¾“ï¼Œé‚®ä»¶æ¥æ”¶ï¼Œè¿œç¨‹ç™»å½•ï¼‰ UDPï¼šæ•ˆç‡è¦æ±‚ç›¸å¯¹é«˜ï¼Œä½†å¯¹å‡†ç¡®æ€§è¦æ±‚ç›¸å¯¹ä½çš„åœºæ™¯ï¼ˆåœ¨çº¿è§†é¢‘ï¼Œè¯­éŸ³ç”µè¯ï¼‰ å‚è€ƒï¼šTCP å’Œ UDP çš„åŒºåˆ« ç½‘ç»œä¸ƒå±‚åè®® å‚è€ƒï¼šOSIä¸ƒå±‚åè®®å¤§ç™½è¯è§£è¯» CDNæ˜¯ä»€ä¹ˆContent Delivery Networkï¼Œç®€ç§°CDNï¼Œç¿»è¯‘æˆä¸­æ–‡æ˜¯å†…å®¹åˆ†å‘ç½‘ç»œã€‚ CDNæ˜¯é€šè¿‡åœ¨ç½‘ç»œä¸Šçš„å„ä¸ªåœ°æ–¹æ”¾ç½®ä¸€å®šæ•°é‡çš„èŠ‚ç‚¹æœåŠ¡å™¨ï¼Œæ„æˆåœ¨ç°æœ‰çš„äº’è”ç½‘åŸºç¡€ä¹‹ä¸Šçš„ä¸€å±‚æ™ºèƒ½è™šæ‹Ÿç½‘ç»œï¼Œè¿™å±‚ç½‘ç»œçš„ä¸»è¦åŠŸèƒ½æ˜¯å°†ä¿¡æ¯ï¼ˆæºç«™å†…å®¹ï¼‰åˆ†å‘è‡³é è¿‘ç”¨æˆ·çš„å„ä¸ªèŠ‚ç‚¹æœåŠ¡å™¨ä¸Šï¼Œè®©ç”¨æˆ·å¯ä»¥å°±è¿‘è·å–æ‰€éœ€ä¿¡æ¯ã€‚ é€šè¿‡CDNï¼Œå¯ä»¥æœ‰æ•ˆé™ä½æºç«™çš„è®¿é—®å‹åŠ›ï¼Œå‡è½»éª¨å¹²ç½‘ç»œçš„æ‹¥å¡ï¼Œæå‡ç”¨æˆ·çš„è®¿é—®é€Ÿåº¦ï¼Œä»è€Œæå‡ç”¨æˆ·ä½“éªŒã€‚è¿˜å¯åœ¨ä¸€å®šç¨‹åº¦ä¸Šä¿éšœæºç«™çš„å®‰å…¨ã€‚ CDN çš„ç”¨é€”å¯ä»¥è¯´å¾ˆçª„ï¼Œä¹Ÿå¯ä»¥è¯´å¾ˆå¹¿ã€‚è¯´çª„æ˜¯å› ä¸ºCDNåªæ˜¯åŸºäºäº’è”ç½‘ä¹‹ä¸Šçš„ä¸€ç§æœåŠ¡ï¼Œåªæ˜¯ç»™ç½‘ç»œ/ç½‘ç«™åŠ é€Ÿçš„ï¼›è¯´å¹¿æ˜¯å› ä¸ºå‡ ä¹æ‰€æœ‰çš„äº’è”ç½‘ä¸šåŠ¡ï¼ˆå¦‚ç½‘é¡µã€ç”µå•†ã€APPã€æ¸¸æˆã€ä¸‹è½½ã€å½±è§†ç‚¹æ’­ã€ç›´æ’­ç­‰ç­‰ï¼‰éƒ½éœ€è¦ç”¨åˆ° CDN ï¼Œè€Œå¦‚ä»Šäº’è”ç½‘åˆæ— å¤„ä¸åœ¨ã€‚ æ¥æºï¼šhttps://www.zhihu.com/question/282510029/answer/427307826]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>é¢è¯•</category>
      </categories>
      <tags>
        <tag>é¢è¯•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JSç¬”è¯•é¢˜ï¼ˆé¢è¯•ç³»åˆ—ï¼‰]]></title>
    <url>%2Fposts%2F41818%2F</url>
    <content type="text"><![CDATA[JSç±»å‹ç›¸å…³typeof æ²¡å®šä¹‰çš„å˜é‡ä¼šæŠ¥é”™å—ï¼Ÿtypeof letå®šä¹‰äº†çš„å‘¢ï¼Ÿ æœªå£°æ˜çš„å˜é‡ä½¿ç”¨ typeof è¿”å›å­—ç¬¦ä¸² â€œundefinedâ€ typeof ä¸€ä¸ª let å®šä¹‰çš„å˜é‡ä¼šå› ä¸ºæš‚æ—¶æ€§æ­»åŒºæŠ¥é”™ ReferenceErrorï¼ˆå‰æï¼šlet/const æœªå£°æ˜ä¹‹å‰èµ‹å€¼æˆ–ä½¿ç”¨ï¼‰ 1234567891011var tmp = 123if (true) &#123; tmp = 'abc' // ReferenceError: tmp is not defined let tmp&#125;console.log(typeof tmp) // ReferenceError: tmp is not definedlet tmplet tmpconsole.log(typeof tmp) // undefined ä¸ä¼šæŠ¥é”™ typeof çš„å€¼æœ‰å“ªäº›7ç§æ•°æ®ç±»å‹ï¼ˆè¿”å›çš„éƒ½æ˜¯å­—ç¬¦ä¸²å½¢å¼ï¼‰ï¼š string, number, function, object, undefined, boolean, symbolï¼ˆè¡¨ç‹¬ä¸€æ— äºŒçš„å€¼ï¼‰ æ³¨æ„ï¼š null å’Œ æ•°ç»„ è¿”å›çš„éƒ½æ˜¯ object NaN è¿”å›çš„æ˜¯ number valueOf å’Œ toString toString(): è¿”å›ä¸€ä¸ªåæ˜ è¿™ä¸ªå¯¹è±¡çš„å­—ç¬¦ä¸²ã€‚ valueOf(): è¿”å›å®ƒç›¸åº”çš„åŸå§‹å€¼ã€‚ å­—ç¬¦ä¸²åˆ¤æ–­ä¸€ä¸ªå•è¯æ˜¯å¦æ˜¯å›æ–‡1234var str = "mamam"function checkPalindrom(str) &#123; return str === str.split('').reverse().join('')&#125; éªŒè¯å›æ–‡å­—ç¬¦ä¸²ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼ŒéªŒè¯å®ƒæ˜¯å¦æ˜¯å›æ–‡ä¸²ï¼Œåªè€ƒè™‘å­—æ¯å’Œæ•°å­—å­—ç¬¦ï¼Œå¯ä»¥å¿½ç•¥å­—æ¯çš„å¤§å°å†™ã€‚ è¾“å…¥: â€œA man, a plan, a canal: Panamaâ€ è¾“å‡º: true è¾“å…¥: â€œrace a carâ€ è¾“å‡º: false 123456789var str = "A man, a plan, a canal: Panama"var isPalindrome = function (s) &#123; var reg = /[^A-Za-z0-9]/g var tempStr = s.replace(reg, "") var reverseStr = tempStr.split("").reverse().join("") return reverseStr.toLowerCase() === tempStr.toLowerCase()&#125;;console.log(isPalindrome(str)) ç»Ÿè®¡å­—ç¬¦ä¸²å‡ºç°æœ€å¤šçš„å­—æ¯12345678910111213141516171819202122var str = "afjghdfraaaasdenas"function findMaxDuplicateChar(str) &#123; if (str.length == 1) return str let charObj = &#123;&#125; for (let i = 0; i &lt; str.length; i++) &#123; if (!charObj[str.charAt(i)]) &#123; charObj[str.charAt(i)] = 1 &#125; else &#123; charObj[str.charAt(i)] += 1 &#125; &#125; let maxChar = '', maxValue = 1 for (var key in charObj) &#123; if (charObj[key] &gt;= maxValue) &#123; maxChar = key maxValue = charObj[key] &#125; &#125; return maxChar&#125; å­—ç¬¦ä¸²ä¸­çš„ç¬¬ä¸€ä¸ªå”¯ä¸€å­—ç¬¦ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ‰¾åˆ°å®ƒçš„ç¬¬ä¸€ä¸ªä¸é‡å¤çš„å­—ç¬¦ï¼Œå¹¶è¿”å›å®ƒçš„ç´¢å¼•ã€‚å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¿”å› -1ã€‚ s = â€œleetcodeâ€ è¿”å› 0. s = â€œloveleetcodeâ€ è¿”å› 2. 1234567891011var str = "leetcode"function firstUniqChar(str) &#123; for (var i = 0; i &lt; str.length; i++) &#123; var curChar = str[i] if (str.lastIndexOf(curChar) === str.indexOf(curChar)) &#123; return i &#125; &#125; return -1&#125;console.log(firstUniqChar(str)) æœ‰æ•ˆçš„å­—æ¯å¼‚ä½è¯å³åˆ¤æ–­å­—ç¬¦ä¸²ä¸­æ˜¯å¦åªæœ‰å­—ç¬¦çš„ä½ç½®ä¸åŒï¼Œä¹Ÿå°±æ˜¯åˆ¤æ–­ä¸¤ä¸ªå­—ç¬¦ä¸²ä¸­åŒ…å«çš„å­—ç¬¦ä»¥åŠè¿™äº›å­—ç¬¦å‡ºç°çš„æ¬¡æ•°æ˜¯å¦ç›¸åŒ è¾“å…¥: s = â€œanagramâ€, t = â€œnagaramâ€ è¾“å‡º: true è¾“å…¥: s = â€œratâ€, t = â€œcarâ€ è¾“å‡º: false 12345678var s = "anagram", t = "nagaram"function isAnagram(s, t) &#123; if (s.length !== t.length) return false; var ss = s.split("").sort().join("") var tt = t.split("").sort().join("") return ss === tt ? true : false&#125;console.log(isAnagram(s, t)) åˆ¤æ–­ä¸€ä¸ªç»™å®šçš„å­—ç¬¦ä¸²æ˜¯å¦æ˜¯åŒæ„çš„ è¾“å…¥: s = â€œeggâ€, t = â€œaddâ€è¾“å‡º: trueè¾“å…¥: s = â€œfooâ€, t = â€œbarâ€è¾“å‡º: false 12345678910var isIsomorphic = function(s, t) &#123; var i = 0 while (i &lt; s.length) &#123; if (s.indexOf(s[i]) != t.indexOf(t[i]))&#123; return false &#125; i++ &#125; return true&#125; æŠ¥æ•°æŠ¥æ•°åºåˆ—æ˜¯ä¸€ä¸ªæ•´æ•°åºåˆ—ï¼ŒæŒ‰ç…§å…¶ä¸­çš„æ•´æ•°çš„é¡ºåºè¿›è¡ŒæŠ¥æ•°ï¼Œå¾—åˆ°ä¸‹ä¸€ä¸ªæ•°ã€‚å…¶å‰äº”é¡¹å¦‚ä¸‹ï¼š 123451. 12. 113. 214. 12115. 111221 1 è¢«è¯»ä½œ &quot;one 1&quot; (&quot;ä¸€ä¸ªä¸€&quot;) , å³ 11ã€‚ 11 è¢«è¯»ä½œ &quot;two 1s&quot; (&quot;ä¸¤ä¸ªä¸€&quot;ï¼‰, å³ 21ã€‚ 21 è¢«è¯»ä½œ &quot;one 2&quot;, â€œone 1&quot; ï¼ˆ&quot;ä¸€ä¸ªäºŒ&quot; , &quot;ä¸€ä¸ªä¸€&quot;) , å³ 1211ã€‚ 12345678910111213141516171819202122232425var countAndSay = function (n) &#123; // ä»1å¼€å§‹æŠ¥æ•° var result = '1' // å¾ªç¯ç¬¬ N æ¬¡ for (let i = 1; i &lt; n; i++) &#123; // é»˜è®¤å½“å‰è¿ç»­çš„æ•°å­—çš„æ¬¡æ•°ä¸º1 var repeatCount = 1 var str = '' // å¾ªç¯å½“å‰æ•°å­— for (let j = 0; j &lt; result.length; j++) &#123; console.log(result[j], result[j + 1]) // å½“å‰æ•°å­—å’Œåé¢ä¸€ä¸ªæ˜¯å¦ç›¸åŒï¼Œç›¸åŒåˆ™é‡å¤æ•°è®¡æ•°+1 if (result[j] === result[j+1]) &#123; repeatCount++ &#125; else &#123; // å¦åˆ™å°±æŠŠåˆ°ç›®å‰ä¸ºæ­¢çš„æŠ¥æ•°â€œè¯»å‡ºæ¥â€ str += repeatCount + result[j] repeatCount = 1 &#125; &#125; // å½“å‰ç¬¬Næ¬¡æŠ¥æ•°çš„ç»“æœï¼Œä¸‹æ¬¡æŠ¥æ•°ä»¥æ­¤ä¸ºå‡† result = str &#125; return result&#125; æœ€é•¿å…¬å…±å‰ç¼€ç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥æŸ¥æ‰¾å­—ç¬¦ä¸²æ•°ç»„ä¸­çš„æœ€é•¿å…¬å…±å‰ç¼€ã€‚å¦‚æœä¸å­˜åœ¨å…¬å…±å‰ç¼€ï¼Œè¿”å›ç©ºå­—ç¬¦ä¸² &quot;&quot;ã€‚ è¾“å…¥: [â€œflowerâ€,â€flowâ€,â€flightâ€] è¾“å‡º: â€œflâ€ è¾“å…¥: [â€œdogâ€,â€racecarâ€,â€carâ€] è¾“å‡º: â€œâ€ 1234567891011121314151617var arr = ["flower", "flow", "flight"]function longestCommonPrefix(arr) &#123; if (!arr.length) return "" var firstStr = arr[0] var result = "" for (var i = 0; i &lt; firstStr.length; i++) &#123; for (var j = 1; j &lt; arr.length; j++) &#123; if (firstStr[i] !== arr[j][i]) &#123; return result &#125; &#125; result += firstStr[i] &#125; return result&#125;console.log(longestCommonPrefix(arr)) ç”ŸæˆæŒ‡å®šé•¿åº¦çš„éšæœºå­—æ¯æ•°å­—å­—ç¬¦ä¸²1234567function getRandomStr(len) &#123; var str = "" for (var i = 0; i &lt; len; i++ ) &#123; str += Math.random().toString(36).substring(2) &#125; return str.substring(0, len)&#125; å¦‚ä½•æŠŠä¸€ä¸ªå­—ç¬¦ä¸²çš„å¤§å°å†™å–åï¼ˆå¤§å†™å˜å°å†™å°å†™å˜å¤§å†™ï¼‰ï¼Œä¾‹å¦‚ â€™AbCâ€™ å˜æˆ â€˜aBcâ€™123456789101112// æ–¹æ³•ä¸€ï¼šå¸¸è§„function transformStr(str) &#123; let tempArr = str.split('') let result = tempArr.map(char =&gt; &#123; return char === char.toUpperCase() ? char.toLowerCase() : char.toUpperCase() &#125;) return result.join('')&#125;console.log(transformStr('aBc'))// æ–¹æ³•äºŒï¼šæ­£åˆ™'aBc'.replace(/[A-Za-z]/g, char =&gt; char === char.toUpperCase() ? char.toLowerCase() : char.toUpperCase()) é¢˜ç›®æ¥æºï¼šDaily-Interview-Question ç¬¬69é¢˜ å®ç°ä¸€ä¸ªå­—ç¬¦ä¸²åŒ¹é…ç®—æ³•ï¼Œä»é•¿åº¦ä¸º n çš„å­—ç¬¦ä¸² S ä¸­ï¼ŒæŸ¥æ‰¾æ˜¯å¦å­˜åœ¨å­—ç¬¦ä¸² Tï¼ŒT çš„é•¿åº¦æ˜¯ mï¼Œè‹¥å­˜åœ¨è¿”å›æ‰€åœ¨ä½ç½®ã€‚1234567const find = (S, T) =&gt; &#123; if (S.length &lt; T.length) return -1 for (let i = 0; i &lt; S.length; i++) &#123; if (S.slice(i, i + T.length) === T) return i &#125; return -1&#125; ç”¨ JavaScript å†™ä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥ int å‹ï¼Œè¿”å›æ•´æ•°é€†åºåçš„å­—ç¬¦ä¸²ã€‚å¦‚ï¼šè¾“å…¥æ•´å‹ 1234ï¼Œè¿”å›å­—ç¬¦ä¸²â€œ4321â€ã€‚è¦æ±‚å¿…é¡»ä½¿ç”¨é€’å½’å‡½æ•°è°ƒç”¨ï¼Œä¸èƒ½ç”¨å…¨å±€å˜é‡ï¼Œè¾“å…¥å‡½æ•°å¿…é¡»åªæœ‰ä¸€ä¸ªå‚æ•°ä¼ å…¥ï¼Œå¿…é¡»è¿”å›å­—ç¬¦ä¸²ã€‚123456789101112function test(num) &#123; var str = num + ""; if (str.length &gt; 1) &#123; var newStr = str.substring(str.length - 1); var oldStr = str.substring(0, str.length - 1); return newStr + test(oldStr); &#125; else &#123; return str; &#125;&#125;console.log(test(123)); æ‰¾å‡ºå­—ç¬¦ä¸²ä¸­è¿ç»­å‡ºç°æœ€å¤šçš„å­—ç¬¦å’Œä¸ªæ•°12'abcaakjbb' =&gt; &#123;'a':2,'b':2&#125;'abbkejsbcccwqaa' =&gt; &#123;'c':3&#125; è§£ç­”ï¼š 1234567891011121314151617181920212223242526const str = "abcaakjbb";function findLongest (str) &#123; if (!str || typeof str !== 'string') return &#123;&#125; var obj = &#123;&#125;, maxCount = 0, // æœ€å¤§è¿ç»­æ¬¡æ•° curCount = 1 // å½“å‰è¿ç»­æ¬¡æ•°ï¼ˆé»˜è®¤æœ€å°è¿ç»­æ¬¡æ•°ä¸º1ï¼‰ for (let i = 0; i &lt; str.length; i++) &#123; var curChar = str[i] // å½“å‰å­—ç¬¦ if (curChar === str[i + 1]) &#123; // å¦‚æœè¿ç»­ ++curCount // å½“å‰è¿ç»­æ¬¡æ•°+1 if (maxCount &lt; curCount) &#123; maxCount = curCount obj = &#123; [curChar]: maxCount &#125; // åªè¦å½“å‰è¿ç»­æ¬¡æ•°æ¯”ä¹‹å‰çš„å¤§ï¼Œå°±ç›´æ¥è¦†ç›–obj &#125; if (maxCount === curCount) &#123; // æœ‰å¯èƒ½è‹¥å¹²å­—ç¬¦è¿ç»­æ¬¡æ•°ç›¸åŒï¼Œé‚£ä¹ˆè¿½åŠ åˆ°obj obj[curChar] = maxCount &#125; &#125; else &#123; // å¦‚æœä¸è¿ç»­ curCount = 1 // é‡ç½®è¿ç»­æ¬¡æ•° &#125; &#125; return obj&#125;console.log(findLongest(str)); æ•°ç»„åˆ¤æ–­æ•°ç»„çš„æ–¹æ³•12345678910var arr = [1, 2, 3]arr instanceof ArrayObject.prototype.toString.call(arr) === '[object Array]'Array.isArray(arr)arr.constructor === Array // å‰ææ˜¯ä¿è¯ constructor ä¸ä¼šè¢«æ›´æ”¹// ä¸èƒ½ä½¿ç”¨ typeof å› ä¸º å®ƒè¿”å›çš„æ˜¯ä¸ª 'object' JSæ•°ç»„å»é‡123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566var arr = [1, 1, "1", "1", NaN, NaN, &#123;&#125;, NaN]// æ–¹æ³•1ï¼šindexOfå»é‡ï¼ˆæ— æ³•å¯¹ å¯¹è±¡ï¼ŒNaN è¯†åˆ«å»é‡ï¼‰// â†’ indexOf ä¸è®¤ NaNï¼Œé‡åˆ°NaNå°±è¿”å› -1function myDistinct(arr) &#123; var result = [] for (var i = 0; i &lt; arr.length; i++) &#123; if (result.indexOf(arr[i]) === -1) &#123; result.push(arr[i]) &#125; &#125; return result&#125;// è¿”å›æ•°ç»„ï¼š[ 1, '1', NaN, NaN, &#123;&#125;, &#123;&#125;, NaN ]// åŸæ•°ç»„ï¼š[ 1, 1, '1', '1', NaN, NaN, &#123;&#125;, &#123;&#125;, NaN ]// æ–¹æ³•2ï¼šfilter + indexOfï¼ˆå¯¹ å¯¹è±¡ å’Œ NaN æ— æ•ˆï¼‰function myDistinct(arr) &#123; var result = arr.filter((item, index, arr) =&gt; &#123; // é‡å¤çš„å€¼çš„ç´¢å¼•è‚¯å®šå¤§äºç¬¬ä¸€æ¬¡å‡ºç°è¿™ä¸ªå€¼çš„ç´¢å¼•ï¼Œä¸ä¼šè¢«è¿”å› return arr.indexOf(item) === index &#125;); return result&#125;// è¿”å›æ•°ç»„ï¼š[ 1, '1', &#123;&#125;, &#123;&#125; ]// åŸæ•°ç»„ï¼š[ 1, 1, '1', '1', NaN, NaN, &#123;&#125;, &#123;&#125;, NaN ]// æ–¹æ³•3ï¼šfilter å‡çº§ç‰ˆï¼ˆè§£å†³äº† å¯¹è±¡ å’Œ NaN çš„é—®é¢˜ï¼‰function myDistinct(arr) &#123; var obj = &#123;&#125; return arr.filter((item, index) =&gt; &#123; // ç”±äºå¯¹è±¡çš„é”®å€¼åªèƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œå¯¼è‡´ 1 å’Œ '1' è¢«è®¤ä¸ºæ˜¯ç›¸åŒçš„å€¼ï¼Œæ‰€ä»¥ä¸‹æ–¹ä½¿ç”¨ typeof item + item æ‹¼æˆå­—ç¬¦ä¸²ä½œä¸º key å€¼æ¥é¿å…è¿™ä¸ªé—®é¢˜ return obj.hasOwnProperty(typeof item + JSON.stringify(item)) ? false : obj[typeof item + JSON.stringify(item)] = true &#125;)&#125;// è¿”å›æ•°ç»„ï¼š[ 1, '1', NaN, &#123;&#125; ]// åŸæ•°ç»„ï¼š[ 1, 1, '1', '1', NaN, NaN, &#123;&#125;, &#123;&#125;, NaN ]// æ–¹æ³•4ï¼šforå¾ªç¯ï¼ˆè§£å†³äº† å¯¹è±¡ å’Œ NaN çš„é—®é¢˜ï¼‰~function() &#123; var arr = [1, 1, "1", "1", NaN, NaN, &#123;&#125;, NaN] var prop = Array.prototype prop.myDistinct = function myDistinct() &#123; var hash = &#123;&#125; for (var i = 0; i &lt; this.length; i++) &#123; var temp = typeof this[i] + JSON.stringify(this[i]) if (hash[temp]) &#123; this[i] = this[this.length - 1] this.length-- i-- continue &#125; hash[temp] = true &#125; return this &#125; console.log(arr.myDistinct())&#125;()// æ–¹æ³•5ï¼šES6 Setå»é‡ï¼ˆèƒ½åº”å¯¹NaNé‡å¤ï¼Œå¯¹å¯¹è±¡æ— æ•ˆï¼‰function myDistinct(arr) &#123; return [...new Set(arr)]&#125; ä¸¤ä¸ªæ•°ç»„æ¯”è¾ƒï¼Œåˆ¤æ–­æ˜¯å¦æœ‰ç›¸åŒå…ƒç´ ï¼ˆäº¤é›†ï¼‰12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849var nums1 = [1, 2, 3, NaN, &#123;&#125;]var nums2 = [2, 2, 8, 10, NaN, &#123;&#125;]// æ–¹æ³•1ï¼šfilter + indexOfï¼ˆä¸æ”¯æŒ NaN å’Œ &#123;&#125;ï¼‰function intersect(nums1, nums2) &#123; return nums1.filter(v =&gt; &#123; const index = nums2.indexOf(v) if (index &gt; -1) &#123; nums2.splice(index, 1) return v &#125; &#125;)&#125;console.log(intersect(nums1, nums2))// æ–¹æ³•2ï¼šfilter + indexOfï¼ˆæ”¯æŒ NaNï¼Œä¸æ”¯æŒ &#123;&#125;ï¼‰function intersect(nums1, nums2) &#123; const aHasNaN = nums1.some(v =&gt; isNaN(v)) const bHasNaN = nums2.some(v =&gt; isNaN(v)) return nums1.filter(v =&gt; &#123; const index = nums2.indexOf(v) if (index &gt; -1) &#123; nums2.splice(index, 1) return v &#125; &#125;).concat(aHasNaN &amp;&amp; bHasNaN ? [NaN] : [])&#125;console.log(intersect(nums1, nums2))// æ–¹æ³•3ï¼šå“ˆå¸Œè¡¨ï¼ˆæ”¯æŒ NaNï¼Œ&#123;&#125;ï¼‰function intersect(nums1, nums2) &#123; const map = &#123;&#125; const res = [] for (let n of nums1) &#123; if (map[n]) &#123; map[n]++ &#125; else &#123; map[n] = 1 &#125; &#125; for (let n of nums2) &#123; if (map[n] &gt; 0) &#123; res.push(n) map[n]-- &#125; &#125; return res&#125;console.log(intersect(nums1, nums2)) å¦‚ä½•å®ç°æ•°ç»„çš„éšæœºæ’åºï¼Ÿ12345678910111213141516171819202122var arr = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]// æ–¹æ³•1ï¼šéšæœºäº¤æ¢æ•°ç»„å†…çš„å…ƒç´ function result(arr) &#123; for (let i = 0; i &lt; arr.length; i++) &#123; // éšæœºç´¢å¼•ã€Math.random()è¿”å›ä¸€ä¸ªæµ®ç‚¹, ä¼ªéšæœºæ•°åœ¨èŒƒå›´[0ï¼Œ1)ã€‘ let randomIndex = parseInt(Math.random() * arr.length) // å­˜ä¸‹å½“å‰æ­£å¸¸ç´¢å¼•å€¼å¯¹åº”çš„æ•°å­— let curNum = arr[i] // å°†å…¶é‡æ–°èµ‹å€¼ä¸ºéšæœºç´¢å¼•å¯¹åº”çš„æ•°å­— arr[i] = arr[randomIndex] // å°†éšæœºç´¢å¼•å¯¹åº”çš„æ•°å­—æ›¿æ¢ä¸ºå½“å‰æ­£å¸¸ç´¢å¼•å€¼å¯¹åº”çš„æ•°å­— arr[randomIndex] = curNum &#125; return arr&#125;// æ–¹æ³•2ï¼šsort() å¯ä»¥è°ƒç”¨ä¸€ä¸ªå‡½æ•°åšä¸ºå‚æ•°ï¼Œå¦‚æœè¿™ä¸ªå‡½æ•°è¿”å›çš„å€¼ä¸ºè´Ÿæ•°è¡¨ç¤ºæ•°ç»„ä¸­çš„ a é¡¹æ’åœ¨ b é¡¹å‰arr.sort(function() &#123; return Math.random() - .5&#125;)console.log(arr) æ‰¾å‡ºæ­£æ•°ç»„ä¸­çš„æœ€å¤§å·®å€¼12345678910var arr = [10,5,11,7,8,9]; // 11-5=6function getMaxProfit(arr) &#123; var min = max = arr[0]; for(var i=0; i&lt;arr.length; i++) &#123; min = min &lt;= arr[i] ? min : arr[i]; max = max &gt;= arr[i] ? max : arr[i]; &#125; return Math.abs(max - min);&#125; ä»æ’åºæ•°ç»„ä¸­åˆ é™¤é‡å¤é¡¹123456789101112// è‹¥ nums = [1,1,2], åˆ™å‡½æ•°åº”è¿”å›é•¿åº¦ 2, å¹¶ä¸”åŸæ•°ç»„ nums çš„å‰ä¸¤ä¸ªå…ƒç´ è¢«ä¿®æ”¹ä¸º 1, 2ã€‚// è‹¥ nums = [0,0,1,1,1,2,2,3,3,4], åˆ™è¿”å› 5, å¹¶ä¸”åŸæ•°ç»„è¢«ä¿®æ”¹ä¸º 0, 1, 2, 3, 4ã€‚var nums = [0, 0, 1, 1, 1, 2, 2, 3, 3, 4]function removeDuplicates(nums) &#123; for (var i = 1; i &lt; nums.length; i++) &#123; if (nums[i - 1] === nums[i]) &#123; nums.splice(i - 1, 1) i-- &#125; &#125; return nums.length&#125; æ‰¾å‡ºæ•°ç»„ä¸­å‡ºç°æ¬¡æ•°æœ€å¤šçš„å…ƒç´ ï¼Œå¹¶ç»™å‡ºå…¶å‡ºç°è¿‡çš„ä½ç½®1234567891011121314151617181920212223var arr = [1, 1, 2, 1, 10, 10, 11, 1, 7]function fn(arr) &#123; var bestItem, indexs = [], obj = &#123;&#125; for (var i = 0, len = arr.length; i &lt; len; i++) &#123; var item = arr[i].toString() obj[item] ? obj[item].push(i) : obj[item] = [].concat([i]) &#125; var tempArr = Object.entries(obj) bestItem = parseInt(tempArr[0][0]) indexs = tempArr[0][1] for (const [key, value] of tempArr) &#123; if (indexs.length &lt; value.length) &#123; bestItem = parseInt(key) indexs = value &#125; &#125; return &#123; bestItem, indexs &#125;&#125;console.log(fn(arr)) å°†æ•°ç»„æ‰å¹³åŒ–å¹¶å»é™¤å…¶ä¸­é‡å¤æ•°æ®ï¼Œæœ€ç»ˆå¾—åˆ°ä¸€ä¸ªå‡åºä¸”ä¸é‡å¤çš„æ•°ç»„ å·²çŸ¥å¦‚ä¸‹æ•°ç»„ï¼š var arr = [ [1, 2, 2], [3, 4, 5, 5], [6, 7, 8, 9, [11, 12, [12, 13, [14] ] ] ], 10]; ç¼–å†™ä¸€ä¸ªç¨‹åºå°†æ•°ç»„æ‰å¹³åŒ–å»å¹¶é™¤å…¶ä¸­é‡å¤éƒ¨åˆ†æ•°æ®ï¼Œæœ€ç»ˆå¾—åˆ°ä¸€ä¸ªå‡åºä¸”ä¸é‡å¤çš„æ•°ç»„ 123456789101112131415161718192021222324252627282930// ES6// æ‰å¹³åŒ–æ•°ç»„Array.prototype.flat = function() &#123; return [].concat(...this.map(item =&gt; Array.isArray(item) ? item.flat() : [item]))&#125;// æ•°ç»„å»é‡Array.prototype.unique = function() &#123; return [...new Set(this)]&#125;// æ•°ç»„æ’åºconst sort = (a, b) =&gt; a - bconsole.log(arr.flat().unique().sort(sort))// ===========================================// ES5Array.prototype.flat = function() &#123; return this.toString().split(',').map(v =&gt; +v)&#125;Array.prototype.unique = function() &#123; var obj = &#123;&#125; return this.filter((item, index) =&gt; &#123; var tempItem = typeof item + JSON.stringify(item) return obj.hasOwnProperty(tempItem) ? false : obj[tempItem] = true &#125;)&#125;const sort = (a, b) =&gt; a - bconsole.log(arr.flat().unique().sort(sort)) ä½¿ç”¨è¿­ä»£çš„æ–¹å¼å®ç° flatten å‡½æ•° è¿­ä»£å®ç° 12345678let arr = [1, 2, [3, 4, 5, [6, 7], 8], 9, 10, [11, [12, 13]]]const flatten = function(arr) &#123; while (arr.some(v =&gt; Array.isArray(v))) &#123; arr = [].concat(...arr) &#125; return arr&#125; é€’å½’å®ç° 123const flatten = function(arr) &#123; return [].concat(...arr.map(v =&gt; Array.isArray(v) ? flatten(v) : [v]))&#125; å­—ç¬¦ä¸²è½¬æ¢ 123function flatten(arr) &#123; return arr.join(',').split(',').map(v =&gt; Number(v))&#125; ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœºç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œå®ƒçš„ç¬¬ i ä¸ªå…ƒç´ æ˜¯ä¸€æ”¯ç»™å®šè‚¡ç¥¨ç¬¬ i å¤©çš„ä»·æ ¼ã€‚ è®¾è®¡ä¸€ä¸ªç®—æ³•æ¥è®¡ç®—ä½ æ‰€èƒ½è·å–çš„æœ€å¤§åˆ©æ¶¦ã€‚ä½ å¯ä»¥å°½å¯èƒ½åœ°å®Œæˆæ›´å¤šçš„äº¤æ˜“ï¼ˆå¤šæ¬¡ä¹°å–ä¸€æ”¯è‚¡ç¥¨ï¼‰ã€‚ æ³¨æ„ï¼šä½ ä¸èƒ½åŒæ—¶å‚ä¸å¤šç¬”äº¤æ˜“ï¼ˆä½ å¿…é¡»åœ¨å†æ¬¡è´­ä¹°å‰å‡ºå”®æ‰ä¹‹å‰çš„è‚¡ç¥¨ï¼‰ã€‚ è¾“å…¥: [7,1,5,3,6,4] è¾“å‡º: 7 è§£é‡Š: åœ¨ç¬¬ 2 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 1ï¼‰çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 3 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 5ï¼‰çš„æ—¶å€™å–å‡º, è¿™ç¬”äº¤æ˜“æ‰€èƒ½è·å¾—åˆ©æ¶¦ = 5-1 = 4 ã€‚éšåï¼Œåœ¨ç¬¬ 4 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 3ï¼‰çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 5 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 6ï¼‰çš„æ—¶å€™å–å‡º, è¿™ç¬”äº¤æ˜“æ‰€èƒ½è·å¾—åˆ©æ¶¦ = 6-3 = 3 ã€‚ 123456789101112var arr = [7, 1, 5, 3, 6, 4]function maxProfit(arr) &#123; var income = 0; for (var i = 1, len = arr.length; i &lt; len; i++) &#123; var gap = arr[i] - arr[i - 1] // åä¸€ä¸ªä¸å‰ä¸€ä¸ªæ¯”è¾ƒï¼Œå¤§äºé›¶åˆ™èµš if (gap &gt; 0) &#123; income += gap &#125; &#125; return income&#125;console.log(maxProfit(arr)) æ—‹è½¬æ•°ç»„ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œå°†æ•°ç»„ä¸­çš„å…ƒç´ å‘å³ç§»åŠ¨ k ä¸ªä½ç½®ï¼Œå…¶ä¸­ k æ˜¯éè´Ÿæ•°ã€‚ è¾“å…¥: [1,2,3,4,5,6,7] å’Œ k = 3 è¾“å‡º: [5,6,7,1,2,3,4] è§£é‡Š: å‘å³æ—‹è½¬ 1 æ­¥: [7,1,2,3,4,5,6] å‘å³æ—‹è½¬ 2 æ­¥: [6,7,1,2,3,4,5] å‘å³æ—‹è½¬ 3 æ­¥: [5,6,7,1,2,3,4] 1234567891011var arr = [1, 2, 3, 4, 5, 6, 7]function rotate(arr, k) &#123; for (var i = 0; i &lt; k; i++) &#123; var temp = arr.pop() arr.unshift(temp) &#125; return arr&#125;console.log(rotate(arr, 3)) åˆ¤æ–­æ•°ç»„æ˜¯å¦å­˜åœ¨é‡å¤ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨é‡å¤å…ƒç´ ã€‚ å¦‚æœä»»ä½•å€¼åœ¨æ•°ç»„ä¸­å‡ºç°è‡³å°‘ä¸¤æ¬¡ï¼Œå‡½æ•°è¿”å› trueã€‚å¦‚æœæ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ éƒ½ä¸ç›¸åŒï¼Œåˆ™è¿”å› falseã€‚ è¾“å…¥: [1,2,3,1] è¾“å‡º: true è¾“å…¥: [1,2,3,4] è¾“å‡º: false 1234567891011121314151617181920var arr = [1, 2, 3, 1]function containsDuplicate(arr) &#123; var obj = &#123;&#125; for (var i = 0, len = arr.length; i &lt; len; i++) &#123; if (obj[arr[i]]) &#123; return true &#125; else &#123; obj[arr[i]] = true &#125; &#125; return false&#125;// orfunction containsDuplicate(arr) &#123; return [...new Set(arr)].length !== arr.length&#125;console.log(containsDuplicate(arr)) æ‰¾å‡ºåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ç»™å®šä¸€ä¸ªéç©ºæ•´æ•°æ•°ç»„ï¼Œé™¤äº†æŸä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡ä»¥å¤–ï¼Œå…¶ä½™æ¯ä¸ªå…ƒç´ å‡å‡ºç°ä¸¤æ¬¡ã€‚æ‰¾å‡ºé‚£ä¸ªåªå‡ºç°äº†ä¸€æ¬¡çš„å…ƒç´ ã€‚ 1234567891011121314151617181920212223242526var arr = [4, 1, 2, 1, 2]function singleNumber(arr) &#123; var tempArr = arr tempArr.sort() var onceNumber = null for (var i = 0, len = tempArr.length - 1; i &lt; len; i++) &#123; if (tempArr[i] !== tempArr[i + 1]) &#123; onceNumber = tempArr[i] &#125; else &#123; ++i &#125; &#125; // æœ‰å¯èƒ½æ’åºåæœ€åä¸€ä¸ªæ‰æ˜¯å•ç€çš„æ•°å­—ï¼Œæ‰€ä»¥ç›´æ¥èµ‹å€¼ä¸ºæ•°ç»„æœ€åä¸€ä¸ªå€¼ return onceNumber !== null ? onceNumber : tempArr[tempArr.length - 1]&#125;// orfunction singleNumber(arr) &#123; const a = [...new Set(arr)].reduce((total, cur) =&gt; total + cur, 0) const b = arr.reduce((total, cur) =&gt; total + cur, 0) return 2 * a - b&#125;console.log(singleNumber(arr)) åŠ ä¸€ç»™å®šä¸€ä¸ªç”±æ•´æ•°ç»„æˆçš„éç©ºæ•°ç»„æ‰€è¡¨ç¤ºçš„éè´Ÿæ•´æ•°ï¼Œåœ¨è¯¥æ•°çš„åŸºç¡€ä¸ŠåŠ ä¸€ã€‚ æœ€é«˜ä½æ•°å­—å­˜æ”¾åœ¨æ•°ç»„çš„é¦–ä½ï¼Œ æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ åªå­˜å‚¨ä¸€ä¸ªæ•°å­—ã€‚ ä½ å¯ä»¥å‡è®¾é™¤äº†æ•´æ•° 0 ä¹‹å¤–ï¼Œè¿™ä¸ªæ•´æ•°ä¸ä¼šä»¥é›¶å¼€å¤´ã€‚ ç¤ºä¾‹ 1: 123è¾“å…¥: [1,2,3]è¾“å‡º: [1,2,4]è§£é‡Š: è¾“å…¥æ•°ç»„è¡¨ç¤ºæ•°å­— 123ã€‚ ç¤ºä¾‹ 2: 123è¾“å…¥: [4,3,2,1]è¾“å‡º: [4,3,2,2]è§£é‡Š: è¾“å…¥æ•°ç»„è¡¨ç¤ºæ•°å­— 4321ã€‚ 12345678910111213141516171819202122var arr = [9, 9, 9] // é¢„æœŸï¼š[1, 0, 0, 0]function plusOne(arr) &#123; var count = arr.length - 1 // ä»æœ«å°¾å¾€å‰å€’ while (count &gt; -1) &#123; // åªè¦å½“å‰ä½+1å¤§äº9ï¼Œå°±æŠŠå½“å‰ä½ç½®ä¸º0ï¼Œcount-- if (arr[count] + 1 &gt; 9) &#123; arr[count] = 0 count-- &#125; else &#123; // ä¸€æ—¦å½“å‰ä½+1ä¸å¤§äº9ï¼Œå°±æ”¾å¿ƒ+1ï¼Œä¸”ç›´æ¥é€€å‡ºï¼Œä¸ç”¨å†ç®—æ›´é«˜ä½çš„äº† arr[count]++ break; &#125; &#125; // å¦‚æœwhileåï¼Œç¬¬ä¸€ä½è¿˜æ˜¯0ï¼Œè¯æ˜è¿™ä¸ªæ•°ç»„æ‰€æœ‰æ•°å­—éƒ½ä¸º9.è¿™ä¸ªæ—¶å€™å¾€æ•°ç»„æœ€å‰é¢åŠ ä¸ª1å°±å¥½ if (arr[0] === 0) &#123; arr.unshift(1) &#125; return arr;&#125;;console.log(plusOne(arr)) ç§»åŠ¨é›¶ç»™å®šä¸€ä¸ªæ•°ç»„ numsï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°å°†æ‰€æœ‰ 0 ç§»åŠ¨åˆ°æ•°ç»„çš„æœ«å°¾ï¼ŒåŒæ—¶ä¿æŒéé›¶å…ƒç´ çš„ç›¸å¯¹é¡ºåºã€‚ ç¤ºä¾‹: 12è¾“å…¥: [0,1,0,3,12]è¾“å‡º: [1,3,12,0,0] 1234567891011121314151617var arr = [0, 1, 0, 3, 12] // é¢„æœŸï¼š[ 1, 3, 12, 0, 0 ]var moveZeroes = function (nums) &#123; // é•¿åº¦æå–å‡ºæ¥ var len = nums.length for (var i = 0; i &lt; len; i++) &#123; // ä»å¤´å¾€åéå†ï¼Œé‡åˆ°0åˆ™åˆ æ‰è¿½æ”¾åˆ°å°¾éƒ¨ï¼Œ // åŒæ—¶è®©i--ï¼Œå› ä¸ºå¤´éƒ¨åˆ äº†ä¸ª0ï¼›åŒæ—¶len--ï¼Œå› ä¸ºä¸å†åˆ¤æ–­è¿½åŠ åçš„ if (nums[i] === 0) &#123; nums.splice(i, 1) nums.push(0) i-- len-- &#125; &#125; return nums&#125;console.log(moveZeroes(arr)) æŸå…¬å¸ 1 åˆ° 12 æœˆä»½çš„é”€å”®é¢å­˜åœ¨ä¸€ä¸ªå¯¹è±¡é‡Œé¢å¦‚ä¸‹ï¼š{1:222, 2:123, 5:888}ï¼Œè¯·æŠŠæ•°æ®å¤„ç†ä¸ºå¦‚ä¸‹ç»“æ„ï¼š[222, 123, null, null, 888, null, null, null, null, null, null, null]ã€‚ 12345678910111213141516// forå¾ªç¯let obj = &#123;1:222, 2:123, 5:888&#125;;function fn(obj) &#123; let arr = [] for (let i = 1; i &lt;= 12; i++) &#123; obj[i] ? arr.push(obj[i]) : arr.push(null) &#125; return arr&#125;console.log(fn(obj))// Array.fromlet obj = &#123;1:222, 2:123, 5:888&#125;;const result = Array.from(&#123; length: 12 &#125;).map((_, index) =&gt; obj[index + 1] || null);console.log(result); ä¸¤æ•°ä¹‹å’Œç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªç›®æ ‡å€¼ targetï¼Œè¯·ä½ åœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡ºå’Œä¸ºç›®æ ‡å€¼çš„é‚£ ä¸¤ä¸ª æ•´æ•°ï¼Œå¹¶è¿”å›ä»–ä»¬çš„æ•°ç»„ä¸‹æ ‡ã€‚ ä½ å¯ä»¥å‡è®¾æ¯ç§è¾“å…¥åªä¼šå¯¹åº”ä¸€ä¸ªç­”æ¡ˆã€‚ä½†æ˜¯ï¼Œä½ ä¸èƒ½é‡å¤åˆ©ç”¨è¿™ä¸ªæ•°ç»„ä¸­åŒæ ·çš„å…ƒç´ ã€‚ ç¤ºä¾‹: 1234ç»™å®š nums = [2, 7, 11, 15], target = 9å› ä¸º nums[0] + nums[1] = 2 + 7 = 9æ‰€ä»¥è¿”å› [0, 1] 12345678910111213var nums = [2, 7, 11, 15], target = 9function twoSum(nums, target) &#123; for (let i = 0; i &lt; nums.length; i++) &#123; const num = nums[i] // ç¬¬äºŒä¸ªæ•°ç´¢å¼• const targetIndex = nums.indexOf(target - num) // ç¡®ä¿å­˜åœ¨ç¬¬äºŒä¸ªæ•°ï¼Œä¸”ä¸ä¸ºå½“å‰éå†çš„æ•° if (targetIndex &gt; -1 &amp;&amp; targetIndex !== i) &#123; return [i, targetIndex] &#125; &#125;&#125;console.log(twoSum(nums, target)) æ—‹è½¬å›¾åƒç»™å®šä¸€ä¸ª n Ã— n çš„äºŒç»´çŸ©é˜µè¡¨ç¤ºä¸€ä¸ªå›¾åƒã€‚ å°†å›¾åƒé¡ºæ—¶é’ˆæ—‹è½¬ 90 åº¦ã€‚ è¯´æ˜ï¼š ä½ å¿…é¡»åœ¨åŸåœ°æ—‹è½¬å›¾åƒï¼Œè¿™æ„å‘³ç€ä½ éœ€è¦ç›´æ¥ä¿®æ”¹è¾“å…¥çš„äºŒç»´çŸ©é˜µã€‚è¯·ä¸è¦ä½¿ç”¨å¦ä¸€ä¸ªçŸ©é˜µæ¥æ—‹è½¬å›¾åƒã€‚ ç¤ºä¾‹ 1: 12345678910111213ç»™å®š matrix = [ [1,2,3], [4,5,6], [7,8,9]],åŸåœ°æ—‹è½¬è¾“å…¥çŸ©é˜µï¼Œä½¿å…¶å˜ä¸º:[ [7,4,1], [8,5,2], [9,6,3]] ç¤ºä¾‹ 2: 123456789101112131415ç»™å®š matrix =[ [ 5, 1, 9,11], [ 2, 4, 8,10], [13, 3, 6, 7], [15,14,12,16]],åŸåœ°æ—‹è½¬è¾“å…¥çŸ©é˜µï¼Œä½¿å…¶å˜ä¸º:[ [15,13, 2, 5], [14, 3, 4, 1], [12, 6, 8, 9], [16, 7,10,11]] 1234567891011121314151617181920var matrix = [ [5, 1, 9, 11], [2, 4, 8, 10], [13, 3, 6, 7], [15, 14, 12, 16]]function rotate(arr) &#123; for (var i = 0; i &lt; arr.length; i++) &#123; for (var j = i + 1; j &lt; arr.length; j++) &#123; var tempArr = arr[j][i] arr[j][i] = arr[i][j] arr[i][j] = tempArr &#125; arr[i].reverse() &#125; return arr&#125;console.log(rotate(matrix)) å¦‚ä½•å°†æµ®ç‚¹æ•°ç‚¹å·¦è¾¹çš„æ•°æ¯ä¸‰ä½æ·»åŠ ä¸€ä¸ªé€—å·ï¼Œå¦‚12000000.11è½¬åŒ–ä¸ºã€12,000,000.11ã€ï¼Ÿ123456789101112131415161718192021222324252627282930313233343536373839404142434445var num = 12000000.11// æ–¹æ³•1ï¼šåˆ©ç”¨ toLocaleString() è¿”å›æŸè¯­è¨€ç³»ç»Ÿä¸‹æ•°å­—çš„è¡¨ç¤ºå­—ç¬¦ä¸² IE6+num.toLocaleString()// æ–¹æ³•2function toThousands(num) &#123; if (typeof num !== 'number') return 0 // åˆ¤æ–­ num æ˜¯å¦å°äº 0 ï¼Œå°äºåˆ™è®¾ flag ä¸º "-" å¹¶ä¸”æŠŠ num è½¬ä¸ºç»å¯¹å€¼ if (num &lt; 0) &#123; flag = "-" num = Math.abs(num) &#125; // è½¬ä¸ºæ•°ç»„ e.g. [ '12000000', '11' ] var arr = num.toString().split(".") // åˆ†åˆ«æŠŠã€Œ.ã€å·¦è¾¹å’Œå³è¾¹å­˜èµ·æ¥ var left = [...arr[0]] var right = "" // å¦‚æœ num ä¸æ˜¯ä¸ªæ•´æ•°çš„æƒ…å†µ if (arr.length &gt; 1) &#123; right = "." + arr[1] &#125; var count = left.length - 1 // æ“ä½œå·¦è¾¹æ•´æ•°éƒ¨åˆ†ï¼Œé€†å‘éå†å¹¶ä¸”é€¢3å‰é¢åŠ ä¸ªã€Œ,ã€ ï¼Œæœ€å i-1 while (count &gt; 0) &#123; // [1,2,0,0,0,0] // ä¾‹å¦‚å¦‚æœæ•°ç»„é•¿åº¦ä¸º6ï¼Œåˆ™ä¸€å¼€å§‹ count=5 ï¼Œä¸åŠ  // count=3 æ—¶ï¼Œå°±éœ€è¦åœ¨å‰é¢åŠ ä¸ªã€Œ,ã€ if (count % 3 === 0) &#123; left.splice(-count, 0, ',') &#125; count-- &#125; // æ­£è´Ÿç¬¦å· + å·¦è¾¹ + å°æ•°ç‚¹å’Œå³è¾¹ return flag + left.join("") + right&#125;// æ–¹æ³•3ï¼šæ­£åˆ™function toThousands(num) &#123; return num &amp;&amp; num .toString() .replace(/(\d)(?=(\d&#123;3&#125;)+\.)/g, function($1, $2)&#123; return $2 + ',' &#125;)&#125; ä¸¤ä¸ªæ•°ç»„åˆå¹¶æˆä¸€ä¸ªæ•°ç»„è¯·æŠŠä¸¤ä¸ªæ•°ç»„ [&#39;A1&#39;, &#39;A2&#39;, &#39;B1&#39;, &#39;B2&#39;, &#39;C1&#39;, &#39;C2&#39;, &#39;D1&#39;, &#39;D2&#39;] å’Œ [&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;]ï¼Œåˆå¹¶ä¸º [&#39;A1&#39;, &#39;A2&#39;, &#39;A&#39;, &#39;B1&#39;, &#39;B2&#39;, &#39;B&#39;, &#39;C1&#39;, &#39;C2&#39;, &#39;C&#39;, &#39;D1&#39;, &#39;D2&#39;, &#39;D&#39;]ã€‚ è€ƒå¯Ÿç‚¹ï¼šå‡è®¾æœ‰ä¸€ç§æƒ…å†µï¼Œè®©ä½ åœ¨ä¸€ä¸ªåˆ—è¡¨ä¸­æ’å…¥ä¸€ä¸ªå¹¿å‘Šï¼Œä¸å…‰æ˜¯æ•°ç»„ï¼Œå¯¹è±¡ä¾ç„¶æœ‰è¿™ç§éœ€æ±‚ï¼Œè¿™é“é¢˜å…¶å®å°±æ˜¯å¹³å¸¸ç»å¸¸éœ€è¦ç”¨åˆ°çš„ä¸€ä¸ªå°åŠŸèƒ½ã€‚ 12345678910let arr1 = ["A1", "A2", "B1", "B2", "C1", "C2", "D1", "D2"]let arr2 = ["A", "B", "C", "D"]console.log( [...arr1, ...arr2].sort((v2, v1) =&gt; ( v2.codePointAt(0) - v1.codePointAt(0) || v1.length - v2.length || v2.codePointAt(1) - v1.codePointAt(1) ))) ç¬¬ä¸€ä¸ªæ¡ä»¶v2.codePointAt(0) - v1.codePointAt(0) ä¿è¯äº†æ‰€æœ‰å·²Aå¼€å¤´çš„å­—ç¬¦ä¸²ä¼šæ”¾åœ¨æœ€å‰è¾¹ï¼Œç„¶åä¾æ¬¡æ˜¯Bå’ŒCã€‚ ç¬¬äºŒä¸ªæ¡ä»¶v1.length - v2.lengthä¿è¯Aä¼šè¢«æ”¾åœ¨A1å’ŒA2ä¹‹åã€‚ ç¬¬ä¸‰ä¸ªæ¡ä»¶v2.codePointAt(1) - v1.codePointAt(1)ä¿è¯äº†A1ä¼šè¢«æ”¾åœ¨A2å‰è¾¹ã€‚ è¿™æ˜¯æˆ‘æŒ‘çš„ä¸€ä¸ªæ¯”è¾ƒå¥½çš„ç­”æ¡ˆï¼Œæ›´å¤šè§£æ³•å¯åœ¨æ­¤æŸ¥çœ‹ éšæœºç”Ÿæˆä¸€ä¸ªé•¿åº¦ä¸º 10 çš„æ•´æ•°ç±»å‹çš„æ•°ç»„ï¼Œä¾‹å¦‚ [2, 10, 3, 4, 5, 11, 10, 11, 20]ï¼Œå°†å…¶æ’åˆ—æˆä¸€ä¸ªæ–°æ•°ç»„ï¼Œè¦æ±‚æ–°æ•°ç»„å½¢å¼å¦‚ä¸‹ï¼Œä¾‹å¦‚ [[2, 3, 4, 5], [10, 11], [20]]ã€‚è§£æï¼šç”±äºé¢˜æ„æ²¡æœ‰è¯´æ¸…æ¥šï¼Œåˆ°åº•æ˜¯æŒ‰ã€Œæ•°å­—åŒºé—´ã€æ’è¿˜æ˜¯æŒ‰ç…§ã€Œè¿ç»­æ•°å­—ã€æ’ï¼Œæ‰€ä»¥ä¸¤ç§éƒ½å†™å‡ºæ¥ä¾›å‚è€ƒ ç­”æ¡ˆï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546// éšæœºæ•´æ•°function randomArr(min, max) &#123; return Math.round(Math.random() * (max - min) + min)&#125;// åˆå§‹åŒ–æ•°ç»„let initArr = Array.from(&#123;length: 10&#125;, () =&gt; randomArr(20, 100))// æ•°ç»„å»é‡initArr = [...new Set(initArr)]// æ•°ç»„æ’åºinitArr.sort((a, b) =&gt; a - b)// 1. åŒºé—´åˆ†ç±»è§£æ³•ï¼šfunction createTargetArr(initArr) &#123; let obj = &#123;&#125; initArr.map((num) =&gt; &#123; const initNum = Math.floor(num / 10) if (!obj[initNum]) obj[initNum] = [] obj[initNum].push(num) &#125;) let result = [] for (const key in obj) &#123; result.push(obj[key]) &#125; return result&#125;console.log(createTargetArr(initArr))// 2. è¿ç»­æ•°å­—åˆ†ç±»è§£æ³•ï¼šfunction createTargetArr(initArr) &#123; let continueArr = [], tempArr = [] console.log(initArr) initArr.map((e, index) =&gt; &#123; tempArr.push(e) if (initArr[index + 1] !== ++e) &#123; continueArr.push(tempArr) tempArr = [] &#125; &#125;); return continueArr&#125;console.log(createTargetArr(initArr)) é¢˜ç›®æ¥æºï¼šDaily-Interview-Question ç¬¬67é¢˜ æ‰“å°å‡º 1 - 10000 ä¹‹é—´çš„æ‰€æœ‰å¯¹ç§°æ•° ä¾‹å¦‚ï¼š121ã€1331 ç­‰123456789101112131415161718192021222324252627// éå† 10000 æ¬¡function symmetry(begin, end) &#123; let result = [] for (let i = begin &gt; 10 ? begin : 11; i &lt; end; i++) &#123; let str = i + "" if (str === str.split("").reverse().join("")) &#123; result.push(str) &#125; &#125; return result&#125;console.log(symmetry(11, 100))// åˆ©ç”¨å¯¹ç§°æ•°function symmetry() &#123; var arr = [] for (let i = 1; i &lt; 10; i++) &#123; arr.push(i * 11); // ä¸¤ä½æ•°çš„å¯¹ç§°æ•° for (let j = 0; j &lt; 10; j++) &#123; arr.push(i * 101 + j * 10) // ä¸‰ä½æ•°çš„å¯¹ç§°æ•° arr.push(i * 1001 + j * 110) // å››ä½æ•°çš„å¯¹ç§°æ•°ï¼Œå½“iå’Œjå‡ä¸º9æ˜¯å€¼ä¸º9999 &#125; &#125; return arr&#125;console.log(symmetry()); é¢˜ç›®æ¥æºï¼šDaily-Interview-Question ç¬¬81é¢˜ å®ç° convert æ–¹æ³•ï¼ŒæŠŠåŸå§‹ list è½¬æ¢æˆæ ‘å½¢ç»“æ„ï¼Œè¦æ±‚å°½å¯èƒ½é™ä½æ—¶é—´å¤æ‚åº¦ä»¥ä¸‹æ•°æ®ç»“æ„ä¸­ï¼Œid ä»£è¡¨éƒ¨é—¨ç¼–å·ï¼Œname æ˜¯éƒ¨é—¨åç§°ï¼ŒparentId æ˜¯çˆ¶éƒ¨é—¨ç¼–å·ï¼Œä¸º 0 ä»£è¡¨ä¸€çº§éƒ¨é—¨ï¼Œç°åœ¨è¦æ±‚å®ç°ä¸€ä¸ª convert æ–¹æ³•ï¼ŒæŠŠåŸå§‹ list è½¬æ¢æˆæ ‘å½¢ç»“æ„ï¼ŒparentId ä¸ºå¤šå°‘å°±æŒ‚è½½åœ¨è¯¥ id çš„å±æ€§ children æ•°ç»„ä¸‹ï¼Œç»“æ„å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152// åŸå§‹ list å¦‚ä¸‹let list = [ &#123;id:1,name:'éƒ¨é—¨A',parentId:0&#125;, &#123;id:2,name:'éƒ¨é—¨B',parentId:0&#125;, &#123;id:3,name:'éƒ¨é—¨C',parentId:1&#125;, &#123;id:4,name:'éƒ¨é—¨D',parentId:1&#125;, &#123;id:5,name:'éƒ¨é—¨E',parentId:2&#125;, &#123;id:6,name:'éƒ¨é—¨F',parentId:3&#125;, &#123;id:7,name:'éƒ¨é—¨G',parentId:2&#125;, &#123;id:8,name:'éƒ¨é—¨H',parentId:4&#125;];const result = convert(list, ...);// è½¬æ¢åçš„ç»“æœå¦‚ä¸‹let result = [ &#123; id: 1, name: 'éƒ¨é—¨A', parentId: 0, children: [ &#123; id: 3, name: 'éƒ¨é—¨C', parentId: 1, children: [ &#123; id: 6, name: 'éƒ¨é—¨F', parentId: 3 &#125;, &#123; id: 16, name: 'éƒ¨é—¨L', parentId: 3 &#125; ] &#125;, &#123; id: 4, name: 'éƒ¨é—¨D', parentId: 1, children: [ &#123; id: 8, name: 'éƒ¨é—¨H', parentId: 4 &#125; ] &#125; ] &#125;, Â·Â·Â·]; è§£ç­”ï¼š 1234567891011121314151617181920212223242526272829303132333435363738// å¸¸è§„function convert(list) &#123; function fn(pid) &#123; return list.filter(dep =&gt; &#123; if (dep.parentId === pid) &#123; // ä»¥è‡ªå·±ä¸ºæ ¹èŠ‚ç‚¹ï¼Œæ‰¾å„¿å­ let children = fn(dep.id) dep.children = children.length ? children : null return true &#125; &#125;) &#125; // æ‰¾æœ€å¤–å±‚æ ¹èŠ‚ç‚¹0 return fn(0)&#125;// mapfunction convert (arr) &#123; // æ•°ç»„è½¬å¯¹è±¡ var obj = &#123;&#125; for (const item of arr) &#123; obj[item.id] = item &#125; var result = [] // å¾ªç¯æ•°ç»„ï¼Œå¦‚æœæ˜¯çˆ¶éƒ¨é—¨åˆ™è£…è¿›ç»“æœæ•°ç»„ç„¶åè·³è¿‡æœ¬æ¬¡å¾ªç¯ï¼Œå†æ ¹æ®å‰©ä¸‹çš„å­éƒ¨é—¨æ‰¾ç›¸åº”çˆ¶éƒ¨é—¨ï¼ŒæŠŠè‡ªå·±æŒ‚è½½åˆ°çˆ¶éƒ¨ä»¬ä¸‹ for (const item of arr) &#123; if (item.parentId === 0) &#123; result.push(item) continue &#125; if (item.parentId in obj) &#123; let parent = obj[item.parentId] parent.children = parent.children || [] parent.children.push(item) &#125; &#125; return result&#125; é¢˜ç›®æ¥æºï¼šDaily-Interview-Question ç¬¬88é¢˜ ç¼–ç¨‹é¢˜ï¼Œè¯·å†™ä¸€ä¸ªå‡½æ•°ï¼Œå®Œæˆä»¥ä¸‹åŠŸèƒ½12è¾“å…¥ï¼š'1,2,3,5,7,8,10'è¾“å‡ºï¼š'1~3,5,7~8,10' è§£ç­”ï¼š 1234567891011121314151617181920212223242526272829let str = "1,2,3,5,7,8,10,11"function fn(str) &#123; let arr = str.split(",").map(v =&gt; +v) let continueNum = arr[0] // tempNumè´Ÿè´£å­˜å‚¨è¿ç»­æ•°å­—çš„èµ·å§‹ let result = [] for (let i = 0; i &lt; arr.length; i++) &#123; let curNum = arr[i], nextNum = arr[i + 1] // å½“å‰+1ç­‰äºä¸‹ä¸€ä¸ªæ•°åˆ™è·³è¿‡ // ä¸ç›¸ç­‰åˆ™å¤„ç† if (curNum + 1 !== nextNum) &#123; // åˆ†ä¸¤ç§æƒ…å†µï¼Œ // ä¸€å¼€å§‹å°±è¿ç»­æ•°å­—ï¼š[1,2,5,7] å½“iä¸º2æ—¶æ»¡è¶³ä¸Šæ–¹ifæ¡ä»¶ï¼ŒtempNum = 1ï¼ŒcurNum = 2 // ä¸€å¼€å§‹éè¿ç»­æ•°å­—ï¼š[3,5,7] å½“iä¸º1æ—¶å°±æ»¡è¶³ä¸Šæ–¹ifæ¡ä»¶ï¼ŒtempNum = 3ï¼ŒcurNum = 3 if (curNum !== continueNum) &#123; // è¿ç»­æ•°å­—æ‰“å¤´çš„tempNum + ~ + ç›®å‰æ•°å­—ä¸ºæ­¢ result.push(continueNum + "~" + curNum) &#125; else &#123; // å¦åˆ™ç›´æ¥æŠŠå½“å‰æ•°å­—æ¨å…¥æ•°ç»„ result.push(curNum) &#125; // æ— è®ºè¿ç»­è¿˜æ˜¯ä¸è¿ç»­ï¼Œéƒ½æŠŠä¸‹ä¸€é¡¹å½“åšè¿ç»­çš„èµ·å§‹ continueNum = nextNum &#125; &#125; return result.join(',')&#125;console.log(fn(str)) è¡¥å…¨ä»£ç ï¼Œå®ç°æ•°ç»„æŒ‰å§“åã€å¹´çºªã€ä»»æ„å­—æ®µæ’åºã€‚1234567var users = [ &#123; name: "John", age: 20, company: "Baidu" &#125;, &#123; name: "Pete", age: 18, company: "Alibaba" &#125;, &#123; name: "Ann", age: 19, company: "Tecent" &#125;]users.sort(byField('age'))users.sort(byField('company')) è§£ç­”ï¼š 123456789101112var users = [ &#123; name: "John", age: 20, company: "Baidu" &#125;, &#123; name: "Pete", age: 18, company: "Alibaba" &#125;, &#123; name: "Ann", age: 19, company: "Tecent" &#125;]var byField = function (key) &#123; return (a, b) =&gt; a[key] &gt; b[key]&#125;users.sort(byField('age'))console.log(users)users.sort(byField('company'))console.log(users) é¢˜ç›®æ¥æºï¼š2019 å‰ç«¯é¢è¯• | â€œHTML + CSS + JSâ€ä¸“é¢˜ ã€ŒJavaScript åŸºç¡€ã€éƒ¨åˆ†ç¼–å· js_12 å®ç°ä¸€ä¸ª reduce å‡½æ•°è§£æï¼šreduceæ˜¯å½’å¹¶æ–¹æ³•ï¼Œå®ƒå¹¶ä¸å¯¹æ¯ä¸€é¡¹æ‰§è¡Œç›®æ ‡å‡½æ•°ï¼Œç®€å•æ¥è¯´æ¦‚æ‹¬ä¸ºå¦‚ä¸‹æ­¥éª¤ï¼š ä¸æ–­åœ°å¯¹æ•°ç»„çš„å‰ä¸¤é¡¹â€œå–å‡ºâ€ï¼Œå¯¹å…¶æ‰§è¡Œç›®æ ‡å‡½æ•°ï¼Œè®¡ç®—å¾—åˆ°çš„è¿”å›å€¼ æŠŠä¸Šè¿°è¿”å›å€¼â€œå¡«å›â€æ•°ç»„é¦–éƒ¨ï¼Œä½œä¸ºæ–°çš„ array[0] æŒç»­å¾ªç¯æ‰§è¡Œè¿™ä¸ªè¿‡ç¨‹ï¼Œç›´åˆ°æ•°ç»„ä¸­æ¯ä¸€é¡¹éƒ½è®¿é—®äº†ä¸€æ¬¡ è¿”å›æœ€ç»ˆç»“æœ ä¸¾ä¸ªä¾‹å­ğŸŒ° å¯¹æ•°ç»„ [1ï¼Œ2ï¼Œ3] å½’å¹¶æ‰§è¡Œ (prev, cur) =&gt; prev + curï¼Œæµç¨‹å¦‚å›¾ï¼š 123[1, 2, 3] // å–å‡º 1 + 2 ï¼Œå¡«å› 3[3, 3] // å–å‡º 3 + 3 ï¼Œå¡«å› 6[6] // æœ€ç»ˆç»“æœä¸º 6 ç­”æ¡ˆï¼š 123456789101112function reduce(arr, fn, initValue) &#123; const tempArr = (initValue === undefined ? [] : [initValue]).concat(arr) while (tempArr.length &gt; 1) &#123; tempArr.splice(0, 2, fn(tempArr[0], tempArr[1])) &#125; return tempArr[0]&#125;var sum = reduce([1, 2, 3], function (previous, current) &#123; return previous + current&#125;, 0)console.log(sum) éšæœºæ•° / æ•°å­—å¦‚ä½•è·å–0-9çš„éšæœºæ•° Math.round(num)ï¼šå°† num å››èˆäº”å…¥å–æ•´ Math.floor(num)ï¼šå°† num å‘ä¸‹å–æ•´ï¼Œå³è¿”å› num çš„æ•´æ•°éƒ¨åˆ†ã€‚å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ parseInt() æ–¹æ³•ä»£æ›¿ã€‚ Math.ceil(num)ï¼šå‘ä¸Šå–æ•´ 12345678// (min, max)ï¼šreturn Math.round(Math.random() * (max - min - 2) + min + 1)// [min, max]ï¼šreturn Math.round(Math.random() * (max - min) + min)// (n, m]ï¼šreturn Math.ceil(Math.random() * (max - min) + min)// [n, m)ï¼šreturn Math.floor(Math.random() * (max - min) + min) éšæœºè·å–æ•°ç»„ä¸­çš„å…ƒç´ 123456789var arr = ["å‰ç«¯", "åç«¯", "å…¨æ ˆ"]function fn(arr) &#123; return arr[parseInt(Math.random() * arr.length)]&#125;var i = 0while (i&lt;10) &#123; console.log(fn(arr)) i++&#125; æ‰“ä¹±æ•°ç»„é¡ºåº12345678910var arr = [1,2,3,4,5,6,7,'a','dsfs',8,9,'v']function fn(arr) &#123; for(var i = 0; i &lt; arr.length; i++) &#123; var randomIndex = parseInt(Math.random() * arr.length) var temp = arr[i] arr[i] = arr[randomIndex] arr[randomIndex] = temp &#125; return arr&#125; ä¿ç•™æŒ‡å®šå°æ•°ä½12var num =4.345678num = num.toFixed(4) // 4.3457 ç¬¬å››ä½å°æ•°ä½ä»¥å››èˆäº”å…¥è®¡ç®— å‰ç«¯ä»·æ ¼å±•ç¤ºï¼Œä¿ç•™2ä½å°æ•°ã€‚ä½æ•°ä¸å¤Ÿè¡¥é›¶123function priceFormat(price) &#123; return parseFloat(Math.round(price * 100) / 100).toFixed(2)&#125; å¦‚ä½•å°†å­—ç¬¦ä¸²è½¬åŒ–ä¸ºæ•°å­—ï¼Œä¾‹å¦‚â€™12.3bâ€™ï¼Ÿ12parseFloat('12.3b')// 12.3 å¦‚ä½•æ£€æŸ¥ä¸€ä¸ªæ•°å­—æ˜¯å¦ä¸ºæ•´æ•°ï¼Ÿ å°†å®ƒå¯¹ 1 è¿›è¡Œå–æ¨¡ï¼Œçœ‹çœ‹æ˜¯å¦æœ‰ä½™æ•°ã€‚ 1234567function isInt(num) &#123; return num % 1 === 0&#125;console.log(isInt(4)) // trueconsole.log(isInt(12.2)) // falseconsole.log(isInt(0.3)) // false ä¸ºä»€ä¹ˆ0.1+0.2ä¸ç­‰äº0.3ï¼Ÿåœ¨ä»€ä¹ˆåœºæ™¯ä¸‹é‡åˆ°è¿™ä¸ªé—®é¢˜ï¼Œå¦‚ä½•è§£å†³ï¼Ÿ äºŒè¿›åˆ¶æ¨¡æ‹Ÿåè¿›åˆ¶è¿›è¡Œè®¡ç®—æ—¶ çš„ç²¾åº¦é—®é¢˜ 12345678910111213141516171819// æ–¹æ³•1ï¼šES6çš„ Number.EPSILON ï¼Œè¿™ä¸ªå€¼æ— é™æ¥è¿‘äº0ã€‚0.1 + 0.2çš„ç²¾åº¦è¯¯å·®åœ¨è¿™ä¸ªå€¼çš„èŒƒå›´å†…function numbersEqual(a,b) &#123; return Math.abs(a - b) &lt; Number.EPSILON&#125;var a = 0.1 + 0.2, b=0.3console.log(numbersEqual(a,b)) //true// æ–¹æ³•2ï¼šparseFloat + å†…ç½®å‡½æ•° toFixedfunction formatNum(num, fixed = 10) &#123; // a.toFixed(fixed) å…ˆè½¬ä¸ºå°æ•°ç‚¹10ä½çš„å­—ç¬¦ä¸² "0.3000000000" return parseFloat(a.toFixed(fixed)) // ç„¶åé€šè¿‡parseFloatè½¬ä¸ºæµ®ç‚¹æ•°&#125;var a = 0.1 + 0.2;console.log(formatNum(a)) //0.3// æ–¹æ³•3ï¼šå†…ç½®å‡½æ•°toPrecision(ä¸­æ–‡ï¼šç²¾ç¡®ï¼Œç²¾åº¦)// å‚æ•°æ˜¯ç²¾åº¦.æ¯”å¦‚ 5.1234 ï¼Œä¼  2 è¿”å› 5.1 ï¼Œä¼  1 è¿”å› 5 ï¼›0.2 + 0.1 ä¼  2 è¿”å› 0.30(0.1 + 0.2).toPrecision(10) == 0.3 // true å‚è€ƒï¼š 0.1 + 0.2ä¸ç­‰äº0.3ï¼Ÿä¸ºä»€ä¹ˆJavaScriptæœ‰è¿™ç§â€œéªšâ€æ“ä½œï¼Ÿ JavaScriptçš„è®¾è®¡ç¼ºé™·?æµ®ç‚¹è¿ç®—ï¼š0.1 + 0.2 != 0.3 å†™ä¸€ä¸ªå‡½æ•°ï¼Œç”Ÿæˆä¸€ä¸ªéšæœºé¢œè‰²å­—ç¬¦ä¸²ï¼Œåˆæ³•çš„é¢œè‰²ä¸º #000000 ~ #ffffff1234567891011function getRandColor() &#123; //è¡¥å…¨ const dict = '0123456789abcdef' let result = '#' for (let i = 0; i &lt; 6; i++) &#123; result += dict[Math.floor(Math.random() * dict.length)] &#125; return result&#125;var color = getRandColor()console.log(color) å¯¹è±¡ &amp; åŸå‹ &amp; åŸå‹é“¾å†™ä¸€ä¸‹æµ…/æ·±æ‹·è´ æ·±æ‹·è´å’Œæµ…æ‹·è´é’ˆå¯¹çš„æ˜¯å¼•ç”¨ç±»å‹ï¼ŒJSä¸­çš„å˜é‡ç±»å‹åˆ†ä¸ºå€¼ç±»å‹ï¼ˆåŸºæœ¬ç±»å‹ï¼‰å’Œå¼•ç”¨ç±»å‹ï¼›å¯¹å€¼ç±»å‹è¿›è¡Œå¤åˆ¶æ“ä½œä¼šå¯¹å€¼è¿›è¡Œä¸€ä»½æ‹·è´ï¼Œè€Œå¯¹å¼•ç”¨ç±»å‹å¤åˆ¶ï¼Œåˆ™ä¼šè¿›è¡Œåœ°å€çš„æ‹·è´ï¼Œæœ€ç»ˆä¸¤ä¸ªå˜é‡æŒ‡å‘åŒä¸€ä»½æ•°æ®ã€‚å¯¹äºå¼•ç”¨ç±»å‹ï¼Œä¼šå¯¼è‡´a bæŒ‡å‘åŒä¸€ä»½æ•°æ®ï¼Œæ­¤æ—¶å¦‚æœå¯¹å…¶ä¸­ä¸€ä¸ªè¿›è¡Œä¿®æ”¹ï¼Œå°±ä¼šå½±å“åˆ°å¦å¤–ä¸€ä¸ªï¼Œæœ‰æ—¶å€™è¿™å¯èƒ½ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç»“æœã€‚ æµ…æ‹·è´1234567891011121314151617181920212223// å®ç°ä¸€ä¸ªæµ…æ‹·è´ï¼Œå°±æ˜¯éå†æºå¯¹è±¡ï¼Œç„¶ååœ¨å°†å¯¹è±¡çš„å±æ€§çš„å±æ€§å€¼éƒ½æ”¾åˆ°ä¸€ä¸ªæ–°å¯¹è±¡é‡Œå°±okäº†// æ–¹æ³•1ï¼šéå†function copy(obj) &#123; if (!obj || typeof obj !== 'object') return var newObj = obj.constructor === Array ? [] : &#123;&#125; for (var key in obj) &#123; newObj[key] = obj[key] &#125; return newObj&#125;var a = &#123;b: 'bb', c: 'cc', d: &#123;e: 'ee'&#125;&#125;var b = copy(a)console.log(b) // &#123; b: 'bb', c: 'cc', d: &#123; e: 'ee' &#125; &#125;// æ–¹æ³•2ï¼šåŸç”Ÿæ–¹æ³• Object.assignvar a = &#123;a : 'old', b : &#123; c : 'old'&#125;&#125;var b = Object.assign(&#123;&#125;, a)b.a = 'new'b.b.c = 'new'console.log(a) // &#123; a: 'old', b: &#123; c: 'new' &#125; &#125;console.log(b) // &#123; a: 'new', b: &#123; c: 'new' &#125; &#125; æ·±æ‹·è´123456789101112131415161718192021222324252627282930313233343536373839404142// æ–¹æ³•1ï¼šè½¬ JSON å†è½¬å›æ¥var obj1 = &#123;a: &#123;name: 'å°çº¢'&#125;, b: 2&#125;var obj2 = JSON.parse(JSON.stringify(obj1))obj1.a.name = 'è¢«ä¿®æ”¹äº†'obj2 //&#123;"a":&#123;"name":"å°çº¢"&#125;,"b":2&#125; ã€Š---æ²¡æœ‰è¢«ä¿®æ”¹// JSONæ–¹æ³•çš„ç¼ºç‚¹ï¼š// ä¸èƒ½å¤åˆ¶ functionã€æ­£åˆ™ã€Symbol// å¾ªç¯å¼•ç”¨æŠ¥é”™// ç›¸åŒçš„å¼•ç”¨ä¼šè¢«é‡å¤å¤åˆ¶// æ–¹æ³•2ï¼šé€’å½’çš„æ–¹æ³•function copy(obj) &#123; // é€’å½’é€€å‡ºæ¡ä»¶ // æ‹·è´å¯¹è±¡ä¸å­˜åœ¨æˆ–ä¸æ˜¯æ•°ç»„æˆ–ä¸æ˜¯å¯¹è±¡ if (!obj || typeof obj !== 'object') return obj var newObj = obj.constructor === Array ? [] : &#123;&#125; for (var key in obj) &#123; if (obj.hasOwnProperty(key)) &#123; // é¿å…ç›¸äº’å¼•ç”¨å¯¹è±¡å¯¼è‡´æ­»å¾ªç¯ï¼Œå¦‚ obj.a = objï¼ˆå…¶å®ä¸‹é¢ä¸‰è¡Œä¸å†™ä¹Ÿæ²¡äº‹å„¿ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æŠŠ obj.a è®¾ä¸º undefinedï¼‰ if (obj[key] === obj) &#123; continue &#125; // å¦‚æœæ˜¯æ•°ç»„æˆ–è€…å¯¹è±¡ if (typeof obj[key] === 'object') &#123; // é€’å½’ newObj[key] = copy(obj[key]) &#125; else &#123; // å¦åˆ™ç›´æ¥è¿”å› newObj[key] = obj[key] &#125; &#125; &#125; return newObj&#125;var old = &#123; a: 'old', b: &#123; c: 'old' &#125; &#125;var newObj = copy(old)newObj.b.c = 'new'console.log(old) // &#123; a: 'old', b: &#123; c: 'old' &#125; &#125;console.log(newObj) // &#123; a: 'old', b: &#123; c: 'new' &#125; &#125; å‚è€ƒï¼š æµ…æ¢jsæ·±æ‹·è´å’Œæµ…æ‹·è´ æ·±æ‹·è´çš„ç»ˆææ¢ç´¢ æ‹“å±•ï¼šç¼–ç¨‹é¢˜ï¼Œå†™ä¸ªç¨‹åºæŠŠ entry è½¬æ¢æˆå¦‚ä¸‹å¯¹è±¡1234567891011121314151617181920var entry = &#123; a: &#123; b: &#123; c: &#123; dd: 'abcdd' &#125; &#125;, d: &#123; xx: 'adxx' &#125;, e: 'ae' &#125;&#125;// è¦æ±‚è½¬æ¢æˆå¦‚ä¸‹å¯¹è±¡var output = &#123;'a.b.c.dd': 'abcdd','a.d.xx': 'adxx','a.e': 'ae'&#125; è§£ç­”ï¼š 12345678910111213141516function fn(obj, parentKey = "", result = &#123;&#125;) &#123; for (const key in obj) &#123; if (obj.hasOwnProperty(key)) &#123; const ele = obj[key]; const keyName = `$&#123;parentKey&#125;$&#123;key&#125;` if (typeof ele === 'object' &amp;&amp; !Array.isArray(ele)) &#123; fn(ele, keyName+'.', result) &#125; else &#123; result[keyName] = ele &#125; &#125; &#125; return result&#125;console.log(fn(entry)) JavaScript ä¸­ï¼Œæœ‰ä¸€ä¸ªå‡½æ•°ï¼Œæ‰§è¡Œæ—¶å¯¹è±¡æŸ¥æ‰¾æ—¶ï¼Œæ°¸è¿œä¸ä¼šå»æŸ¥æ‰¾åŸå‹ï¼Œè¿™ä¸ªå‡½æ•°æ˜¯ï¼ŸhasOwnProperty hasOwnProperty è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼ŒæŒ‡å‡ºä¸€ä¸ªå¯¹è±¡æ˜¯å¦å…·æœ‰æŒ‡å®šåç§°çš„å±æ€§ã€‚æ­¤æ–¹æ³•ä¸ä¼šæ£€æŸ¥è¯¥å¯¹è±¡çš„åŸå‹é“¾ä¸­æ˜¯å¦å…·æœ‰è¯¥å±æ€§ï¼›è¯¥å±æ€§å¿…é¡»æ˜¯å¯¹è±¡æœ¬èº«çš„ä¸€ä¸ªæˆå‘˜ã€‚ ä½¿ç”¨æ–¹æ³•ï¼š object.hasOwnProperty(proName) å…¶ä¸­å‚æ•° object æ˜¯å¿…é€‰é¡¹ï¼Œä¸€ä¸ªå¯¹è±¡çš„å®ä¾‹ï¼›proName æ˜¯å¿…é€‰é¡¹ã€‚ä¸€ä¸ªå±æ€§åç§°çš„å­—ç¬¦ä¸²å€¼ã€‚ å¦‚æœ object å…·æœ‰æŒ‡å®šåç§°çš„å±æ€§ï¼Œé‚£ä¹ˆ JavaScript ä¸­ hasOwnProperty å‡½æ•°æ–¹æ³•è¿”å› trueï¼Œåä¹‹åˆ™è¿”å› falseã€‚ instanceof çš„å®ç°åŸç† æ€è·¯ï¼šåªè¦å³è¾¹å˜é‡çš„ prototype åœ¨å·¦è¾¹å˜é‡çš„åŸå‹é“¾ä¸Šå³å¯ã€‚ 12345678910111213function myInstanceOf(leftValue, rightValue) &#123; let rightProto = rightValue.prototype // å–å³è¡¨è¾¾å¼çš„ prototype å€¼ leftValue = leftValue.__proto__ // å–å·¦è¡¨è¾¾å¼çš„ __proto__ å€¼ while (true) &#123; if (leftValue === null) &#123; return false &#125; if (leftValue === rightProto) &#123; return true &#125; leftValue = leftValue.__proto__ &#125;&#125; å‚è€ƒï¼šæµ…è°ˆ instanceof å’Œ typeof çš„å®ç°åŸç† è¦æ±‚è®¾è®¡ LazyMan ç±»ï¼Œå®ç°ä»¥ä¸‹åŠŸèƒ½123456789101112131415161718192021LazyMan('Tony');// Hi I am TonyLazyMan('Tony').sleep(10).eat('lunch');// Hi I am Tony// ç­‰å¾…äº†10ç§’...// I am eating lunchLazyMan('Tony').eat('lunch').sleep(10).eat('dinner');// Hi I am Tony// I am eating lunch// ç­‰å¾…äº†10ç§’...// I am eating dinerLazyMan('Tony').eat('lunch').eat('dinner').sleepFirst(5).sleep(10).eat('junk food');// Hi I am Tony// ç­‰å¾…äº†5ç§’...// I am eating lunch// I am eating dinner// ç­‰å¾…äº†10ç§’...// I am eating junk food ç­”æ¡ˆï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243class LazyManClass &#123; constructor (name) &#123; this.name = name this.task = [] console.log('Hi I am', name) setTimeout(() =&gt; &#123; this.next() &#125;, 0) &#125; eat (str) &#123; this.task.push(() =&gt; &#123; console.log('I am eating', str) this.next() &#125;) return this &#125; sleep (n) &#123; this.task.push(() =&gt; &#123; setTimeout(() =&gt; &#123; console.log('ç­‰å¾…äº†' + n + 's') this.next() &#125;, n * 1000) &#125;) return this &#125; sleepFirst (n) &#123; this.task.unshift(() =&gt; &#123; setTimeout(() =&gt; &#123; console.log('ç­‰å¾…äº†' + n + 's') this.next() &#125;, n * 1000) &#125;) return this &#125; next () &#123; let fn = this.task.shift() fn &amp;&amp; fn() &#125;&#125;;let LazyMan = function (name) &#123; return new LazyManClass(name)&#125;; è§£æï¼š è¿™é“é¢˜çš„å…³é”®ç‚¹æœ‰å¦‚ä¸‹å‡ ä¸ªï¼š é“¾å¼è°ƒç”¨ï¼Œé€šè¿‡è¿”å› this å®ç° å†…éƒ¨éœ€è¦ç»´æŠ¤ä¸€ä¸ª taskList ï¼Œæ ¹æ®ä¸åŒé€»è¾‘ï¼Œå‘ taskList ä¸­push ã€shiftã€unshift æ‰§è¡Œå‡½æ•° æ¯æ‰§è¡Œä¸€ä¸ªtaskï¼Œéœ€è¦ç»§ç»­æ‰§è¡Œåç»­ taskï¼Œè¿™é€šè¿‡ next å‡½æ•°å®ç°ã€‚ é¢˜ç›®æ¥æºï¼šDaily-Interview-Question ç¬¬56é¢˜ å®ç°ä¸€ä¸ª new12345678910111213141516function _new(fn, ...args) &#123; const obj = Object.create(fn.prototype) const ret = fn.apply(obj, args) return ret instanceof Object ? ret : obj&#125;// æµ‹è¯•function Person(name, age) &#123; this.name = name this.age = age this.sayHi = function() &#123;&#125;&#125;Person.prototype.run = function() &#123;&#125;console.log(_new(Person, 'Lance', 19))console.log(new Person('Jerry', 20)) å®ç°ä¸€ä¸ªå•ä¾‹1234567891011121314151617181920212223242526272829303132333435363738// ES5function Person(name, age) &#123; this.name = name; this.age = age;&#125;let Singleton = function(Fn) &#123; let _instance = null; Singleton = function(...args) &#123; if (_instance) return _instance; return (_instance = new Fn(...args)); &#125;; return Singleton;&#125;;var peopleSingleton = Singleton(Person);var ming = new peopleSingleton("ming", 18);var fang = new peopleSingleton("fang", 28);console.log(ming, fang);// ES6class People &#123; constructor(name, age) &#123; if (typeof People.instance === 'object') &#123; return People.instance &#125; People.instance = this this.name = name this.age = age return this &#125;&#125;var ming = new People('ming', 20)var fang = new People('fang', 19)console.log(ming, fang) ES6å®ç°ä¸€ä¸ª sleep å‡½æ•°æ¯”å¦‚ sleep(1000) æ„å‘³ç€ç­‰å¾…1000æ¯«ç§’ï¼Œå¯ä» Promiseã€Generatorã€Async/Await ç­‰è§’åº¦å®ç°ã€‚ 123456789101112131415161718192021222324252627// Promiseconst sleep = delay =&gt; new Promise(resolve =&gt; setTimeout(resolve, delay))sleep(1000).then(() =&gt; console.log('Done'))// Generatorfunction* sleepGenerator(delay) &#123; yield new Promise(resolve =&gt; setTimeout(resolve, delay))&#125;sleepGenerator(1000).next().value.then(() =&gt; console.log('Done'))// async / awaitconst sleep = delay =&gt; new Promise(resolve =&gt; setTimeout(resolve, delay))async function output() &#123; await sleep(1000) console.log('Done')&#125;output()// ES5function sleep(cb, delay) &#123; if (typeof cb === 'function') setTimeout(cb, delay)&#125;function output() &#123; console.log('Done')&#125;sleep(output, 1000) Promise å’Œ setTimeout çš„åŒºåˆ«ï¼ŸPromise æ˜¯å¾®ä»»åŠ¡ï¼ŒsetTimeout æ˜¯å®ä»»åŠ¡ï¼ŒåŒä¸€ä¸ªäº‹ä»¶å¾ªç¯ä¸­ï¼Œpromise.then æ€»æ˜¯å…ˆäº setTimeout æ‰§è¡Œã€‚ Promise æ„é€ å‡½æ•°æ˜¯åŒæ­¥è¿˜æ˜¯å¼‚æ­¥æ‰§è¡Œï¼Ÿthen å‘¢ï¼ŸPromise å¦‚ä½•å®ç° then å¤„ç†ï¼ŸPromise çš„æ„é€ å‡½æ•°æ˜¯åŒæ­¥æ‰§è¡Œçš„ï¼›then ä¸­çš„æ–¹æ³•æ˜¯å¼‚æ­¥æ‰§è¡Œçš„ã€‚ Promise å®ç° then å¤„ç†ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102const PENDING = "pending";const FULFILLED = "fulfilled";const REJECTED = "rejected";function Promise(executor) &#123; let self = this; self.status = PENDING; //æˆåŠŸçš„å›è°ƒ self.onFulfilled = []; //å¤±è´¥çš„å›è°ƒ self.onRejected = []; //PromiseA+ 2.1 function resolve(value) &#123; if(self.status === PENDING) &#123; self.status = FULFILLED; self.value = value; //PromiseA+ 2.2.6.1 self.onFulfilled.forEach(fn =&gt; fn()); &#125; &#125; function reject(reason) &#123; if(self.status === PENDING) &#123; self.status = REJECTED; self.reason = reason; //PromiseA+ 2.2.6.2 self.onRejected.forEach(fn =&gt; fn()); &#125; &#125; try &#123; executor(resolve, reject); &#125; catch (e) &#123; reject(e); &#125;&#125;Promise.prototype.then = function (onFulfilled, onRejected) &#123; //PromiseA+ 2.2.1 / PromiseA+ 2.2.5 / PromiseA+ 2.2.7.3 / PromiseA+ 2.2.7.4 onFulfilled = typeof onFulfilled === "function" ? onFulfilled : value =&gt; value; onRejected = typeof onRejected === "function" ? onRejected : reason =&gt; &#123;throw reason&#125;; let self = this; //PromiseA+ 2.2.7 let promise2 = new Promise((resolve, reject) =&gt; &#123; if(self.status === FULFILLED) &#123; //PromiseA+ 2.2.2 //PromiseA+ 2.2.4 --- setTimeout setTimeout(() =&gt; &#123; try &#123; //PromiseA+ 2.2.7.1 let x = onFulfilled(self.value); resolvePromise(promise2, x, resolve, reject); &#125; catch (e) &#123; //PromiseA+ 2.2.7.2 reject(e); &#125; &#125;); &#125;else if (self.status === REJECTED) &#123; //PromiseA+ 2.2.3 setTimeout(() =&gt; &#123; try &#123; let x = onRejected(self.reason); resolvePromise(promise2, x, resolve, reject); &#125; catch (e) &#123; reject(e); &#125; &#125;); &#125;else if (self.status === PENDING) &#123; self.onFulfilled.push(() =&gt; &#123; setTimeout(() =&gt; &#123; try &#123; let x = onFulfilled(self.value); resolvePromise(promise2, x, resolve, reject); &#125; catch (e) &#123; reject(e); &#125; &#125;); &#125;); self.onRejected.push(() =&gt; &#123; setTimeout(() =&gt; &#123; try &#123; let x = onRejected(self.reason); resolvePromise(promise2, x, resolve, reject); &#125; catch (e) &#123; reject(e); &#125; &#125;); &#125;); &#125; &#125;); return promise2;&#125; é¦–å…ˆï¼Œéœ€è¦çŸ¥é“ Promise.all() çš„åŠŸèƒ½ï¼š å¦‚æœä¼ å…¥çš„å‚æ•°æ˜¯ä¸€ä¸ªç©ºçš„å¯è¿­ä»£å¯¹è±¡ï¼Œé‚£ä¹ˆæ­¤promise å¯¹è±¡å›è°ƒå®Œæˆï¼ˆresolveï¼‰ï¼Œåªæœ‰æ­¤æƒ…å†µï¼Œæ˜¯åŒæ­¥æ‰§è¡Œçš„ï¼Œå…¶å®ƒéƒ½æ˜¯å¼‚æ­¥è¿”å›çš„ã€‚ å¦‚æœä¼ å…¥çš„å‚æ•°ä¸åŒ…å«ä»»ä½• promiseï¼Œåˆ™è¿”å›ä¸€ä¸ªå¼‚æ­¥å®Œæˆã€‚promises ä¸­æ‰€æœ‰çš„ promise éƒ½â€œå®Œæˆâ€æ—¶æˆ–å‚æ•°ä¸­ä¸åŒ…å« promise æ—¶å›è°ƒå®Œæˆã€‚ å¦‚æœå‚æ•°ä¸­æœ‰ä¸€ä¸ª promise å¤±è´¥ï¼Œé‚£ä¹ˆ Promise.all è¿”å›çš„ promise å¯¹è±¡å¤±è´¥ã€‚ åœ¨ä»»ä½•æƒ…å†µä¸‹ï¼ŒPromise.all è¿”å›çš„ promise çš„å®ŒæˆçŠ¶æ€çš„ç»“æœéƒ½æ˜¯ä¸€ä¸ªæ•°ç»„ã€‚ 12345678910111213141516171819202122232425Promise.all = function (promises) &#123; return new Promise((resolve, reject) =&gt; &#123; let index = 0; let result = []; if(promises.length === 0) &#123; resolve(result); &#125;else &#123; function processValue(i, data) &#123; result[i] = data; if(++index === promises.length) &#123; esolve(result); &#125; &#125; for(let i = 0; i &lt; promises.length; i++) &#123; //promises[i] å¯èƒ½æ˜¯æ™®é€šå€¼ Promise.resolve(promises[i]).then((data) =&gt; &#123; processValue(i, data); &#125;, (err) =&gt; &#123; reject(err); return; &#125;); &#125; &#125; &#125;);&#125; å®ç°ä¸€ä¸ªåŸºæœ¬çš„ Promise12345678910111213141516171819202122232425262728293031323334353637383940// æœªæ·»åŠ å¼‚æ­¥å¤„ç†ç­‰å…¶ä»–è¾¹ç•Œæƒ…å†µ// â‘ è‡ªåŠ¨æ‰§è¡Œå‡½æ•°ï¼Œâ‘¡ä¸‰ä¸ªçŠ¶æ€ï¼Œâ‘¢thenclass Promise &#123; constructor (fn) &#123; // ä¸‰ä¸ªçŠ¶æ€ this.state = 'pending' this.value = undefined this.reason = undefined let resolve = value =&gt; &#123; if (this.state === 'pending') &#123; this.state = 'fulfilled' this.value = value &#125; &#125; let reject = value =&gt; &#123; if (this.state === 'pending') &#123; this.state = 'rejected' this.reason = value &#125; &#125; // è‡ªåŠ¨æ‰§è¡Œå‡½æ•° try &#123; fn(resolve, reject) &#125; catch (e) &#123; reject(e) &#125; &#125; // then then(onFulfilled, onRejected) &#123; switch (this.state) &#123; case 'fulfilled': onFulfilled() break case 'rejected': onRejected() break default: &#125; &#125;&#125; å¦‚ä½•å®ç° Promise.prototype.finally() ï¼Ÿä¸ç®¡æˆåŠŸè¿˜æ˜¯å¤±è´¥ï¼Œéƒ½ä¼šèµ°åˆ° finally ä¸­,å¹¶ä¸” finally ä¹‹åï¼Œè¿˜å¯ä»¥ç»§ç»­ thenã€‚å¹¶ä¸”ä¼šå°†å€¼åŸå°ä¸åŠ¨çš„ä¼ é€’ç»™åé¢çš„ thenã€‚ 1234567891011Promise.prototype.finally = function (callback) &#123; return this.then((value) =&gt; &#123; return Promise.resolve(callback()).then(() =&gt; &#123; return value; &#125;); &#125;, (err) =&gt; &#123; return Promise.resolve(callback()).then(() =&gt; &#123; throw err; &#125;); &#125;);&#125; é¢˜ç›®æ¥æºï¼š2019 å‰ç«¯é¢è¯• | â€œHTML + CSS + JSâ€ä¸“é¢˜ã€Œã€ŠES6 é€Ÿå­¦ï¼šâ‘¤ Promise å¯¹è±¡ã€‹[ç¼–å·ï¼šes6_05]ã€ Event Loop &amp; setTimeoutsetTimeout çš„æœºåˆ¶ç­‰åˆ°å½“å‰è„šæœ¬çš„åŒæ­¥ä»»åŠ¡å’Œ â€œä»»åŠ¡é˜Ÿåˆ—â€ ä¸­å·²æœ‰çš„äº‹ä»¶ï¼Œå…¨éƒ¨å¤„ç†å®Œä»¥åï¼Œæ‰ä¼šæ‰§è¡Œ setTimeout æŒ‡å®šçš„ä»»åŠ¡ã€‚ å‚è€ƒï¼šJavaScript è¿è¡Œæœºåˆ¶è¯¦è§£ï¼šå†è°ˆEvent Loop ä½¿ç”¨setTimeoutæ¨¡æ‹ŸsetInterval12345// å¯é¿å…setIntervalå› æ‰§è¡Œæ—¶é—´å¯¼è‡´çš„é—´éš”æ‰§è¡Œæ—¶é—´ä¸ä¸€è‡´setTimeout (function () &#123; // do something setTimeout (arguments.callee, 500)&#125;, 500) Event Loopæœ‰å…³ Event Loop ç›¸å…³çš„æ¦‚å¿µå’Œé¢è¯•é¢˜å¯å‚è€ƒæˆ‘çš„åšå®¢ï¼šEvent Loop å­¦ä¹ ç¬”è®° è‡ªæˆ‘æµ‹éªŒä¸Šé¢ä¸¤ç¯‡æ–‡ç« é˜…è¯»å®Œæ¯•åå¯ä»¥è‡ªæˆ‘æµ‹éªŒä¸‹ï¼š 12345678910111213141516171819202122232425//è¯·å†™å‡ºè¾“å‡ºå†…å®¹async function async1() &#123; console.log('async1 start'); await async2(); console.log('async1 end');&#125;async function async2() &#123; console.log('async2');&#125;console.log('script start');setTimeout(function() &#123; console.log('setTimeout');&#125;, 0)async1();new Promise(function(resolve) &#123; console.log('promise1'); resolve();&#125;).then(function() &#123; console.log('promise2');&#125;);console.log('script end'); é¢˜ç›®å‡ºå¤„å’Œç­”æ¡ˆå‚è€ƒï¼šä»ä¸€é“é¢˜æµ…è¯´ JavaScript çš„äº‹ä»¶å¾ªç¯ DOMgetElementsByClassName å’Œ querySelectorAll çš„åŒºåˆ« å‚æ•°ä¸Šï¼šquerySelectorAll æ–¹æ³•æ¥æ”¶çš„å‚æ•°æ˜¯ä¸€ä¸ª CSS é€‰æ‹©ç¬¦ã€‚è€Œ getElementsBy ç³»åˆ—æ¥æ”¶çš„å‚æ•°åªèƒ½æ˜¯å•ä¸€çš„ classNameã€tagName å’Œ name 123var c1 = document.querySelectorAll('.b1 .c')var c2 = document.getElementsByClassName('c')var c3 = document.getElementsByClassName('b2')[0].getElementsByClassName('c') è¿”å›å€¼ä¸Šï¼šquerySelectorAll è¿”å›çš„æ˜¯ä¸€ä¸ª Static Node Listï¼Œè€Œ getElementsBy ç³»åˆ—çš„è¿”å›çš„æ˜¯ä¸€ä¸ª Live Node List å‚è€ƒï¼š querySelectorAll æ–¹æ³•ç›¸æ¯” getElementsBy ç³»åˆ—æ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ é™æ€NodeList å’Œ åŠ¨æ€NodeListçš„åŒºåˆ« åŸç”Ÿ JS æ·»åŠ ç±» element.setAttribute(â€œclassâ€, â€˜Lanceâ€™) element.className = â€œlance awesomeâ€ è¿½åŠ ç±»ï¼šelement.setAttribute(â€œclassâ€, element.getAttribute(â€œclassâ€) + â€œ â€œ + â€œlanceâ€) ç¼–å†™ä¸€ä¸ªå¯æ‹–æ‹½çš„ div HTML 1&lt;div id="sw"&gt;&lt;/div&gt; CSS 1#sw &#123; position: absolute; width: 100px; height: 100px; background-color: yellow; &#125; JS 12345678910111213141516171819202122232425var flag = falsevar position = nullvar sw = document.querySelector("#sw")sw.addEventListener("mousedown", function (e) &#123; flag = true position = [e.clientX, e.clientY] console.log(e.clientX, e.clientY)&#125;)// è¿™é‡Œç›‘å¬ document ï¼Œå¦‚æœç›‘å¬ sw åˆ™ä¼šæœ‰å¿«é€Ÿæ‹–åŠ¨å¯¼è‡´é¼ æ ‡ã€Œè„±ç¦»ã€ div çš„ bugdocument.addEventListener("mousemove", function (e) &#123; if (!flag) return var x = e.clientX var y = e.clientY var moveX = x - position[0] var moveY = y - position[1] var left = parseInt(sw.style.left || 0) var top = parseInt(sw.style.top || 0) // æ³¨æ„ style.left å¸¦ px å•ä½ sw.style.left = left + moveX + 'px' sw.style.top = top + moveY + 'px' position = [x, y]&#125;)document.addEventListener("mouseup", function() &#123; flag = false&#125;) é¢„æµ‹æ‰§è¡Œç»“æœä¸‹é¢ä»£ç æ‰“å°ç»“æœæ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆ?12345var b = 10;(function b() &#123; b = 20; console.log(b)&#125;)() ç­”æ¡ˆï¼š éä¸¥æ ¼æ¨¡å¼ï¼š[Function b] ä¸¥æ ¼æ¨¡å¼ï¼šUncaught TypeError: Assignment to constant variable è§£æï¼š 12345678910var b = 10;(function b() &#123; // å†…éƒ¨ä½œç”¨åŸŸï¼Œä¼šå…ˆå»æŸ¥æ‰¾æ˜¯æœ‰å·²æœ‰å˜é‡bçš„å£°æ˜ï¼Œæœ‰å°±ç›´æ¥èµ‹å€¼20ï¼Œç¡®å®æœ‰äº†å‘€ã€‚å‘ç°äº†å…·åå‡½æ•° function b()&#123;&#125;ï¼Œæ‹¿æ­¤båšèµ‹å€¼ï¼› // IIFEçš„å‡½æ•°æ— æ³•è¿›è¡Œèµ‹å€¼ï¼ˆå†…éƒ¨æœºåˆ¶ï¼Œç±»ä¼¼constå®šä¹‰çš„å¸¸é‡ï¼‰ï¼Œæ‰€ä»¥æ— æ•ˆã€‚ // ï¼ˆè¿™é‡Œè¯´çš„â€œå†…éƒ¨æœºåˆ¶â€ï¼Œæƒ³ææ¸…æ¥šï¼Œéœ€è¦å»æŸ¥é˜…ä¸€äº›èµ„æ–™ï¼Œå¼„æ˜ç™½IIFEåœ¨JSå¼•æ“çš„å·¥ä½œæ–¹å¼ï¼Œå †æ ˆå­˜å‚¨IIFEçš„æ–¹å¼ç­‰ï¼‰ b = 20; console.log(b); // [Function b] console.log(window.b); // 10ï¼Œä¸æ˜¯20&#125;)();// ä¸¥æ ¼æ¨¡å¼ä¸‹èƒ½çœ‹åˆ°é”™è¯¯ï¼šUncaught TypeError: Assignment to constant variable å…¶ä»–æƒ…å†µä¾‹å­ï¼š æœ‰windowï¼š 123456var b = 10;(function b() &#123; window.b = 20; console.log(b); // [Function b] console.log(window.b); // 20æ˜¯å¿…ç„¶çš„&#125;)(); æœ‰var: 123456var b = 10;(function b() &#123; var b = 20; // IIFEå†…éƒ¨å˜é‡ console.log(b); // 20 console.log(window.b); // 10 &#125;)(); è§£ææ¥æº â† è¾“å‡ºä»¥ä¸‹ä»£ç æ‰§è¡Œçš„ç»“æœå¹¶è§£é‡Šä¸ºä»€ä¹ˆ12345678910var obj = &#123; '2': 3, '3': 4, 'length': 2, 'splice': Array.prototype.splice, 'push': Array.prototype.push&#125;obj.push(1)obj.push(2)console.log(obj) ç»“æœï¼š è§£æå‚è€ƒï¼š ç»“æœæœ€åå˜ä¸ºä¸€ä¸ªç¨€ç–æ•°ç»„[,,1,2]ã€‚å› ä¸ºåœ¨å¯¹è±¡ä¸­åŠ å…¥spliceå±æ€§æ–¹æ³•ï¼Œå’Œlengthå±æ€§åã€‚è¿™ä¸ªå¯¹è±¡å˜æˆä¸€ä¸ªç±»æ•°ç»„ã€‚å±æ€§åç§°å¯è½¬æ¢ä¸ºæ•°å­—æ—¶ï¼Œä¼šæ˜ å°„æˆä¸ºç´¢å¼•ä¸‹æ ‡ã€‚æ‰€ä»¥å¯¹è±¡å®é™…å¯è¿™æ ·æè¿°ï¼š[,,3,4],ç„¶åç»§ç»­æ‰§è¡Œlength å±æ€§å¤åˆ¶ï¼Œlength åŸæ¥å€¼ä¸º4ï¼Œlengthï¼š2 è¯­å¥å°†æ•°ç»„æˆªæ–­æˆä¸ºé•¿åº¦ä¸º2çš„æ•°ç»„ã€‚æ­¤æ—¶æ•°ç»„ä¸º[,,]ã€‚æ¥ç€pushï¼ˆ1ï¼‰ã€push (2)ã€‚æ•°ç»„è¿½åŠ ä¸¤ä¸ªå€¼ï¼Œ[,,1,2]ã€‚å°èœçœ‹æ³•ï¼Œæœ‰é”™æœ›æŒ‡æ­£ï¼ï¼ï¼ å‚è€ƒæ¥æºï¼š Daily-Interview-Question ç¬¬ 46 é¢˜ å°èœè§£æ è¾“å‡ºä»¥ä¸‹ä»£ç çš„æ‰§è¡Œç»“æœå¹¶è§£é‡Šä¸ºä»€ä¹ˆ123456var a = &#123;n: 1&#125;;var b = a;a.x = a = &#123;n: 2&#125;;console.log(a.x)console.log(b.x) ç­”æ¡ˆï¼š 12a.x // --&gt; undefinedb.x // --&gt; &#123;n: 2&#125; è§£æï¼š 1ã€ä¼˜å…ˆçº§.çš„ä¼˜å…ˆçº§é«˜äº=ï¼Œæ‰€ä»¥å…ˆæ‰§è¡Œa.xï¼Œå †å†…å­˜ä¸­çš„{n: 1}å°±ä¼šå˜æˆ{n: 1, x: undefined}ï¼Œæ”¹å˜ä¹‹åç›¸åº”çš„b.xä¹Ÿå˜åŒ–äº†ï¼Œå› ä¸ºæŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚ 2ã€èµ‹å€¼æ“ä½œæ˜¯ä»å³åˆ°å·¦ï¼Œæ‰€ä»¥å…ˆæ‰§è¡Œa = {n: 2}ï¼Œaçš„å¼•ç”¨å°±è¢«æ”¹å˜äº†ï¼Œç„¶åè¿™ä¸ªè¿”å›å€¼åˆèµ‹å€¼ç»™äº†a.xï¼Œéœ€è¦æ³¨æ„çš„æ˜¯è¿™æ—¶å€™a.xæ˜¯ç¬¬ä¸€æ­¥ä¸­çš„{n: 1, x: undefined}é‚£ä¸ªå¯¹è±¡ï¼Œå…¶å®å°±æ˜¯b.xï¼Œç›¸å½“äºb.x = {n: 2} é¢˜ç›®æ¥æºï¼šDaily-Interview-Question ç¬¬53é¢˜ è¾“å‡ºä»¥ä¸‹ä»£ç è¿è¡Œç»“æœ12345678910111213141516171819// example 1var a=&#123;&#125;, b='123', c=123; a[b]='b';a[c]='c'; console.log(a[b]);---------------------// example 2var a=&#123;&#125;, b=Symbol('123'), c=Symbol('123'); a[b]='b';a[c]='c'; console.log(a[b]);---------------------// example 3var a=&#123;&#125;, b=&#123;key:'123'&#125;, c=&#123;key:'456'&#125;; a[b]='b';a[c]='c'; console.log(a[b]); åˆ†æï¼šè¿™é¢˜è€ƒå¯Ÿçš„æ˜¯å¯¹è±¡çš„é”®åçš„è½¬æ¢ã€‚ å¯¹è±¡çš„é”®ååªèƒ½æ˜¯å­—ç¬¦ä¸²å’Œ Symbol ç±»å‹ã€‚ å…¶ä»–ç±»å‹çš„é”®åä¼šè¢«è½¬æ¢æˆå­—ç¬¦ä¸²ç±»å‹ã€‚ å¯¹è±¡è½¬å­—ç¬¦ä¸²é»˜è®¤ä¼šè°ƒç”¨ toString æ–¹æ³•ã€‚ è§£ç­”ï¼š 123456789// example 1var a=&#123;&#125;, b='123', c=123;a[b]='b';// c çš„é”®åä¼šè¢«è½¬æ¢æˆå­—ç¬¦ä¸²'123'ï¼Œè¿™é‡Œä¼šæŠŠ b è¦†ç›–æ‰ã€‚a[c]='c'; // è¾“å‡º cconsole.log(a[b]); 1234567891011// example 2var a=&#123;&#125;, b=Symbol('123'), c=Symbol('123'); // b æ˜¯ Symbol ç±»å‹ï¼Œä¸éœ€è¦è½¬æ¢ã€‚a[b]='b';// c æ˜¯ Symbol ç±»å‹ï¼Œä¸éœ€è¦è½¬æ¢ã€‚ä»»ä½•ä¸€ä¸ª Symbol ç±»å‹çš„å€¼éƒ½æ˜¯ä¸ç›¸ç­‰çš„ï¼Œæ‰€ä»¥ä¸ä¼šè¦†ç›–æ‰ bã€‚a[c]='c';// è¾“å‡º bconsole.log(a[b]); 12345678910111213// example 3var a=&#123;&#125;, b=&#123;key:'123'&#125;, c=&#123;key:'456'&#125;; // b ä¸æ˜¯å­—ç¬¦ä¸²ä¹Ÿä¸æ˜¯ Symbol ç±»å‹ï¼Œéœ€è¦è½¬æ¢æˆå­—ç¬¦ä¸²ã€‚// å¯¹è±¡ç±»å‹ä¼šè°ƒç”¨ toString æ–¹æ³•è½¬æ¢æˆå­—ç¬¦ä¸² [object Object]ã€‚a[b]='b';// c ä¸æ˜¯å­—ç¬¦ä¸²ä¹Ÿä¸æ˜¯ Symbol ç±»å‹ï¼Œéœ€è¦è½¬æ¢æˆå­—ç¬¦ä¸²ã€‚// å¯¹è±¡ç±»å‹ä¼šè°ƒç”¨ toString æ–¹æ³•è½¬æ¢æˆå­—ç¬¦ä¸² [object Object]ã€‚è¿™é‡Œä¼šæŠŠ b è¦†ç›–æ‰ã€‚a[c]='c'; // è¾“å‡º cconsole.log(a[b]); é¢˜ç›®æ¥æºï¼šDaily-Interview-Question ç¬¬76é¢˜ è¯·å†™å‡ºå¦‚ä¸‹ä»£ç çš„æ‰“å°ç»“æœ123456789101112131415161718function Foo() &#123; Foo.a = function() &#123; console.log(1) &#125; this.a = function() &#123; console.log(2) &#125;&#125;Foo.prototype.a = function() &#123; console.log(3)&#125;Foo.a = function() &#123; console.log(4)&#125;Foo.a();let obj = new Foo();obj.a();Foo.a(); è§£ç­”ï¼š 12345678910111213141516171819202122232425262728293031323334353637function Foo() &#123; Foo.a = function() &#123; console.log(1) &#125; this.a = function() &#123; console.log(2) &#125;&#125;// ä»¥ä¸Šåªæ˜¯ Foo çš„æ„å»ºæ–¹æ³•ï¼Œæ²¡æœ‰äº§ç”Ÿå®ä¾‹ï¼Œæ­¤åˆ»ä¹Ÿæ²¡æœ‰æ‰§è¡ŒFoo.prototype.a = function() &#123; console.log(3)&#125;// ç°åœ¨åœ¨ Foo ä¸ŠæŒ‚è½½äº†åŸå‹æ–¹æ³• a ï¼Œæ–¹æ³•è¾“å‡ºå€¼ä¸º 3Foo.a = function() &#123; console.log(4)&#125;// ç°åœ¨åœ¨ Foo ä¸ŠæŒ‚è½½äº†ç›´æ¥æ–¹æ³• a ï¼Œè¾“å‡ºå€¼ä¸º 4Foo.a();// ç«‹åˆ»æ‰§è¡Œäº† Foo ä¸Šçš„ a æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯åˆšåˆšå®šä¹‰çš„ï¼Œæ‰€ä»¥// # è¾“å‡º 4let obj = new Foo();/* è¿™é‡Œè°ƒç”¨äº† Foo çš„æ„å»ºæ–¹æ³•ã€‚Foo çš„æ„å»ºæ–¹æ³•ä¸»è¦åšäº†ä¸¤ä»¶äº‹ï¼š1. å°†å…¨å±€çš„ Foo ä¸Šçš„ç›´æ¥æ–¹æ³• a æ›¿æ¢ä¸ºä¸€ä¸ªè¾“å‡º 1 çš„æ–¹æ³•ã€‚2. åœ¨æ–°å¯¹è±¡ä¸ŠæŒ‚è½½ç›´æ¥æ–¹æ³• a ï¼Œè¾“å‡ºå€¼ä¸º 2ã€‚*/obj.a();// å› ä¸ºæœ‰ç›´æ¥æ–¹æ³• a ï¼Œä¸éœ€è¦å»è®¿é—®åŸå‹é“¾ï¼Œæ‰€ä»¥ä½¿ç”¨çš„æ˜¯æ„å»ºæ–¹æ³•é‡Œæ‰€å®šä¹‰çš„ this.aï¼Œ// # è¾“å‡º 2Foo.a();// æ„å»ºæ–¹æ³•é‡Œå·²ç»æ›¿æ¢äº†å…¨å±€ Foo ä¸Šçš„ a æ–¹æ³•ï¼Œæ‰€ä»¥// # è¾“å‡º 1 é¢˜ç›®æ¥æºï¼šDaily-Interview-Question ç¬¬100é¢˜ åˆ†åˆ«å†™å‡ºå¦‚ä¸‹ä»£ç çš„è¿”å›å€¼12String('11') == new String('11');String('11') === new String('11'); è§£æï¼š è¿”å› true å’Œ falsenew String() è¿”å›çš„æ˜¯å¯¹è±¡== çš„æ—¶å€™ï¼Œå®é™…è¿è¡Œçš„æ˜¯ï¼šString(&#39;11&#39;) == new String(&#39;11&#39;).toString(); è¾“å‡ºä»¥ä¸‹ä»£ç è¿è¡Œç»“æœ12345671 + "1"2 * "2"[1, 2] + [2, 1]"a" + + "b" è§£æï¼š 1 + â€œ1â€ åŠ æ€§æ“ä½œç¬¦ï¼šå¦‚æœåªæœ‰ä¸€ä¸ªæ“ä½œæ•°æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™å°†å¦ä¸€ä¸ªæ“ä½œæ•°è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œç„¶åå†å°†ä¸¤ä¸ªå­—ç¬¦ä¸²æ‹¼æ¥èµ·æ¥ æ‰€ä»¥å€¼ä¸ºï¼šâ€œ11â€ 2 * â€œ2â€ ä¹˜æ€§æ“ä½œç¬¦ï¼šå¦‚æœæœ‰ä¸€ä¸ªæ“ä½œæ•°ä¸æ˜¯æ•°å€¼ï¼Œåˆ™åœ¨åå°è°ƒç”¨ Number()å°†å…¶è½¬æ¢ä¸ºæ•°å€¼ [1, 2] + [2, 1] Javascriptä¸­æ‰€æœ‰å¯¹è±¡åŸºæœ¬éƒ½æ˜¯å…ˆè°ƒç”¨valueOfæ–¹æ³•ï¼Œå¦‚æœä¸æ˜¯æ•°å€¼ï¼Œå†è°ƒç”¨toStringæ–¹æ³•ã€‚ æ‰€ä»¥ä¸¤ä¸ªæ•°ç»„å¯¹è±¡çš„toStringæ–¹æ³•ç›¸åŠ ï¼Œå€¼ä¸ºï¼šâ€1,22,1â€ â€œaâ€ + + â€œbâ€ åè¾¹çš„â€œ+â€å°†ä½œä¸ºä¸€å…ƒæ“ä½œç¬¦ï¼Œå¦‚æœæ“ä½œæ•°æ˜¯å­—ç¬¦ä¸²ï¼Œå°†è°ƒç”¨Numberæ–¹æ³•å°†è¯¥æ“ä½œæ•°è½¬ä¸ºæ•°å€¼ï¼Œå¦‚æœæ“ä½œæ•°æ— æ³•è½¬ä¸ºæ•°å€¼ï¼Œåˆ™ä¸ºNaNã€‚ æ‰€ä»¥å€¼ä¸ºï¼šâ€aNaNâ€ ä»¥ä¸Šå‡å‚è€ƒï¼šã€ŠJavascripté«˜çº§ç¨‹åºè®¾è®¡ã€‹ é¢˜ç›®æ¥æºï¼šDaily-Interview-Question ç¬¬116é¢˜ ä¸‹æ–¹jsæ‰§è¡Œåçš„æ‰“å°å€¼ä¸ºï¼Ÿ12345678910function demo() &#123; this.length = 10; var fn = function() &#123; console.log(this.length); // è¾“å‡ºå¤šå°‘ï¼Ÿ &#125; arr = [fn, 'hello layui']; fn.length = 100; arr[0]();&#125;demo() ç­”æ¡ˆï¼š2 è§£æï¼šthisæŒ‡å‘é—®é¢˜ä¸€èˆ¬çœ‹è°åœ¨è°ƒç”¨å°±OKäº†ï¼Œåœ¨ä¸Šè¿°å‡½æ•°ä¸­ï¼Œfnçš„æ‹¥æœ‰è€…æ˜¯arrå¹¶ä¸”ä¹Ÿæ˜¯å®ƒè°ƒç”¨çš„ï¼Œæ‰€ä»¥thisæŒ‡å‘arrï¼Œarrä¸­æœ‰ä¸¤ä¸ªæˆå‘˜ï¼Œlengthä¸º2ã€‚ å»¶ä¼¸123function fn() &#123;&#125;fn.length = 2console.log(fn.length) // length ä¸ºå¤šå°‘ï¼Ÿ ç­”æ¡ˆï¼š0 è§£æï¼šlength æ˜¯jså‡½æ•°å¯¹è±¡çš„ä¸€ä¸ªå±æ€§å€¼ï¼Œè¯¥å€¼æ˜¯æŒ‡ â€œè¯¥å‡½æ•°æœ‰å¤šå°‘ä¸ªå¿…é¡»è¦ä¼ å…¥çš„å‚æ•°â€ï¼Œå³å½¢å‚çš„ä¸ªæ•°ã€‚å½¢å‚çš„æ•°é‡ä¸åŒ…æ‹¬å‰©ä½™å‚æ•°ä¸ªæ•°ï¼Œä»…åŒ…æ‹¬ â€œç¬¬ä¸€ä¸ªå…·æœ‰é»˜è®¤å€¼ä¹‹å‰çš„å‚æ•°ä¸ªæ•°â€ï¼Œç„¶è€Œfnä¸éœ€è¦ä¼ é€’å‚æ•°ï¼Œlengthä¸º0ã€‚ æ‹“å±•é˜…è¯»ï¼šJS ä¸­å‡½æ•°çš„ length å±æ€§ ç®—æ³•é¢˜æˆ‘é¢çš„éƒ½ä¸æ˜¯ä»€ä¹ˆå¤§å…¬å¸ï¼Œæ‰€ä»¥å¾ˆå°‘è¢«é—®åˆ°ç®—æ³•ï¼Œä¸è¿‡å¯¹äºå‰ç«¯æ¥è¯´ï¼Œäº†è§£ä¸€äº›åŸºæœ¬çš„ç®—æ³•è¿˜æ˜¯å¾ˆæœ‰å¿…è¦çš„ï¼Œèµ·ç æœ€å¸¸è§çš„æ’åºç®—æ³•å¾—æŒæ¡ï¼Œä¾‹å¦‚å†’æ³¡å’Œå¿«æ’ã€‚è¿™éƒ¨åˆ†å†…å®¹å¯å‚è€ƒæˆ‘çš„åšå®¢ï¼š å¸¸è§æ’åºç®—æ³• ä½¿ç”¨é€’å½’å®Œæˆ 1 åˆ° 100 çš„ç´¯åŠ ï¼Ÿ123456function fn(num) &#123; if(num === 1) return 1 return num + fn(num - 1)&#125;console.log(fn(100)) æ­£åˆ™å¯¹æ­£åˆ™ä¸å¤ªç†Ÿç»ƒçš„åŒå­¦ï¼Œåœ¨è¿™å„¿æˆ‘åˆ†äº«æ˜é‡‘çš„ä¸€ç¯‡æ•™ç¨‹ã€‚è¿™ç¯‡æ•™ç¨‹å¯¹æˆ‘æ¥è¯´çœŸçš„æ˜¯å—ç›ŠåŒªæµ…ï¼Œå¸Œæœ›ä¹Ÿèƒ½å¸®åŠ©åˆ°ä½ ï¼š JSæ­£åˆ™è¡¨è¾¾å¼å®Œæ•´æ•™ç¨‹ï¼ˆç•¥é•¿ï¼‰ å†™ä¸€ä¸ªå‡½æ•° isValidUsername(str)ï¼Œåˆ¤æ–­ç”¨æˆ·è¾“å…¥çš„æ˜¯ä¸æ˜¯åˆæ³•çš„ç”¨æˆ·åï¼ˆé•¿åº¦ 6-20 ä¸ªå­—ç¬¦ï¼Œåªèƒ½åŒ…æ‹¬å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ï¼‰ï¼Ÿ123456function isValidUsername(str) &#123; let reg = /^\w&#123;6,20&#125;$/ return reg.test(str)&#125;console.log(isValidUsername('swlance')) å†™ä¸€ä¸ªå‡½æ•° isPhoneNum(str)ï¼Œåˆ¤æ–­ç”¨æˆ·è¾“å…¥çš„æ˜¯ä¸æ˜¯æ‰‹æœºå·ï¼Ÿ12345function isPhoneNum(str) &#123; return /^1[3578]\d&#123;9&#125;$/g.test(str)&#125;console.log(isPhoneNum('13871455497')) å†™ä¸€ä¸ªå‡½æ•° isEmail(str)ï¼Œ åˆ¤æ–­ç”¨æˆ·è¾“å…¥çš„æ˜¯ä¸æ˜¯é‚®ç®±ï¼Ÿï¼ˆe.g. xxx@gmail.com æˆ–è€… xxx@swlance.com.cnï¼‰12345function isEmail(str) &#123; return /^\w+@\w+(\.\w+)&#123;1,2&#125;$/.test(str)&#125;console.log(isEmail('xxx@swlance.com.cn')) å†™ä¸€ä¸ªå‡½æ•° trim(str)ï¼Œå»é™¤å­—ç¬¦ä¸²ä¸¤è¾¹çš„ç©ºç™½å­—ç¬¦ï¼Ÿ12345function trim(str) &#123; return str.replace(/^\s+|\s+$/g, '')&#125;console.log(trim(' xxxswlance.cn ')) ä¸Šè¿°æ­£åˆ™é¢˜ç›®æ¥æºï¼š2019 å‰ç«¯é¢è¯• | â€œHTML + CSS + JSâ€ä¸“é¢˜ ã€Œã€ŠJS æä¾›çš„å¯¹è±¡ï¼šâ‘¡ æ­£åˆ™è¡¨è¾¾å¼ã€‹[ç¼–å·ï¼šjs_17]ã€ è½¬åŒ–ä¸ºé©¼å³°å‘½å12var s1 = "get-element-by-id"// è½¬åŒ–ä¸º getElementById 1234function fn(str) &#123; return str.replace(/-\w/g, x =&gt; x.slice(1).toUpperCase())&#125;console.log(fn(s1)) åœºæ™¯é¢˜æ•°å­¦é€»è¾‘æŸæœè”¬å¹³å°å•†å“è®¾ç½®ä¸è®¢å•åº”ä»˜æ¬¾çš„è®¡ç®—è§„åˆ™è¯´æ˜å¦‚ä¸‹ï¼š A.å•†å“å¯è¢«è®¾ç½®ä¸ºä¸å‚ä¸å…¶ä»–ä¼˜æƒ æ´»åŠ¨ï¼Œå³ä¸å‚ä¸ä¼šå‘˜æŠ˜æ‰£ã€æ»¡å‡æ´»åŠ¨B.ä¼šå‘˜ä»·å•†å“ä¸å‚ä¸å…¶ä»–ä¼˜æƒ æ´»åŠ¨ï¼Œå³ä¸å‚ä¸ä¼šå‘˜æŠ˜æ‰£ã€æ»¡å‡æ´»åŠ¨C.ç”¨æˆ·ç§¯åˆ†å¯æŠµæ‰£ï¼Œç§¯åˆ†æŠµæ‰£è§„åˆ™ä¸º100ç§¯åˆ†å¯æŠµæ‰£0.5å…ƒD.è®¢å•è®¡ç®—è§„åˆ™ä¸ºï¼š Step 1ï¼šè´­ç‰©è½¦ä¸­çš„å•†å“åˆ†åˆ«è®¡ç®—å‚ä¸ä¼˜æƒ éƒ¨åˆ†çš„å•†å“æ€»ä»·ä¸ä¸å‚ä¸ä¼˜æƒ çš„å•†å“æ€»ä»·ï¼› Step 2ï¼šå‚ä¸ä¼˜æƒ çš„å•†å“æ€»ä»·å¯å‚ä¸æ»¡å‡æ´»åŠ¨ Step 3ï¼šä¸Šä¸€æ­¥å¤„ç†ä¹‹åï¼Œå‚ä¸ä¼˜æƒ çš„å•†å“æ€»ä»·å¯å‚ä¸ä¼šå‘˜æŠ˜æ‰£ Step 4ï¼šæ‰€æœ‰å•†å“æ€»ä»·ï¼Œæ‰£å‡æ‰ç§¯åˆ†å¯æŠµæ‰£çš„éƒ¨åˆ†å¾—åˆ°è®¢å•åº”æ”¯ä»˜é‡‘é¢ è¯¥æœè”¬å¹³å°æœ‰ä¸€ä¸ªå•†æˆ·Aï¼Œåœ¨åå°åˆ›å»ºäº†ä¸€ä¸ªå•†å“fruit_aï¼Œå®šä»·ä¸º10å…ƒ/KGã€‚ç”¨æˆ·è´­ä¹°3KGå•†å“ï¼Œé—®ä¸‹åˆ—å„ç‹¬ç«‹åœºæ™¯ä¸‹ï¼Œåº”ä»˜æ¬¾å‡ ä½•ï¼Ÿ[éœ€è¦å†™å‡ºç»“æœä¸è®¡ç®—å¼ï¼Œå¦‚ä¸‹æ‰€ç¤º] Eg. å•†å“è®¾ç½®äº†é˜¶æ¢¯ä»·ï¼Œ&gt;=3KGï¼Œä»·æ ¼ä¸º8å…ƒ/KGï¼›åº”ä»˜æ¬¾24=8*3å…ƒ 2.1 ç”¨æˆ·æœ‰500ç§¯åˆ†ï¼Œåº—é“ºç§¯åˆ†å¯æŠµæ‰£ï¼ŒæŠµæ‰£è§„åˆ™ä¸º100ç§¯åˆ†å¯æŠµæ‰£0.5å…ƒï¼›åº—é“ºè®¾ç½®æœ‰æ»¡å‡æ´»åŠ¨ï¼Œæ»¡20å…ƒå‡3å…ƒï¼›å•†å“è®¾ç½®é˜¶æ¢¯ä»·ï¼Œã€‹=3KGï¼Œä»·æ ¼ä¸º8å…ƒ/KGï¼Œåˆ™ç”¨æˆ·åº”ä»˜æ¬¾ä¸º____å…ƒã€‚ï¼ˆ5.0åˆ†ï¼‰ 2.2 ç”¨æˆ·æœ‰500ç§¯åˆ†ï¼Œåº—é“ºç§¯åˆ†å¯æŠµæ‰£ï¼ŒæŠµæ‰£è§„åˆ™ä¸º100ç§¯åˆ†å¯æŠµ0.5å…ƒï¼›å•†å“è®¾ç½®ä¼šå‘˜ä»·8å…ƒ/KGï¼Œä½¿ç”¨ä¼šå‘˜ä»·å¿…é¡»ä½¿ç”¨ä½™é¢æ”¯ä»˜ï¼›åº—é“ºè®¾ç½®æœ‰æ»¡å‡æ´»åŠ¨ï¼Œæ»¡20å…ƒå‡3å…ƒï¼›ç”¨æˆ·è‹¥å®ç”¨ä½™é¢æ”¯ä»˜åº”ä»˜æ¬¾ä¸ºå…ƒã€‚è‹¥ä½¿ç”¨åœ¨çº¿æ”¯ä»˜ï¼Œåˆ™åº”ä»˜æ¬¾ä¸ºå…ƒï¼›ï¼ˆ8.0å…ƒï¼‰ 2.3 ç”¨æˆ·æœ‰500ç§¯åˆ†ï¼Œåº—é“ºç§¯åˆ†ä¸å¯æŠµæ‰£ï¼ŒæŠµæ‰£è§„åˆ™ä¸º100ç§¯åˆ†å¯æŠµ0.5å…ƒï¼›åº—é“ºæœ‰å¼€å¯ä¼šå‘˜æŠ˜æ‰£ï¼Œä¼šå‘˜æŠ˜æ‰£ä¸º8.5æŠ˜ï¼Œä½¿ç”¨ä¼šå‘˜æŠ˜æ‰£å¿…é¡»ä½¿ç”¨ä½™é¢æ”¯ä»˜ï¼›åº—é“ºè®¾ç½®æœ‰æ»¡å‡æ´»åŠ¨ï¼Œæ»¡20å…ƒå‡3å…ƒï¼›ç”¨æˆ·è‹¥ä½¿ç”¨ä½™é¢æ”¯ä»˜åº”ä»˜æ¬¾ä¸ºå…ƒï¼Œè‹¥ä½¿ç”¨åœ¨çº¿æ”¯ä»˜ï¼Œåˆ™åº”ä»˜æ¬¾ä¸ºå…ƒ;(8.0åˆ†) å‚è€ƒç­”æ¡ˆï¼š 2.18Ã—3-3-500/100Ã—0.5=18.5å…ƒ 2.28Ã—3-500/100Ã—0.5=21.5å…ƒ10Ã—3-3-500/100Ã—0.5=24.5å…ƒ 2.3ï¼ˆ10Ã—3-3ï¼‰Ã—0.85=22.95å…ƒ10Ã—3-3=27å…ƒ éå¸¸è§„é¢˜[â€˜1â€™, â€˜2â€™, â€˜3â€™].map(parseInt)çš„ç»“æœæ­£ç¡®ç­”æ¡ˆï¼š[1, NaN, NaN] ç­”æ¡ˆè§£æï¼š[â€˜1â€™, â€˜2â€™, â€˜3â€™].map(parseInt) what &amp; why ? å…¶å®ƒä¿®æ”¹ä»¥ä¸‹ print å‡½æ•°ï¼Œä½¿ä¹‹è¾“å‡º 0 åˆ° 99ï¼Œæˆ–è€… 99 åˆ° 012345678function print(n)&#123; setTimeout(() =&gt; &#123; console.log(n); &#125;, Math.floor(Math.random() * 1000));&#125;for(var i = 0; i &lt; 100; i++)&#123; print(i);&#125; è§£ç­”ï¼š 1234567891011121314151617181920212223242526function print0(n)&#123; setTimeout(() =&gt; &#123; console.log(n); &#125;, 0, Math.floor(Math.random() * 1000));//å…³é—­å»¶è¿Ÿ&#125;function print1(n) &#123; setTimeout( (() =&gt; &#123; console.log(n); &#125;)(), Math.floor(Math.random() * 1000) //è‡ªæ‰§è¡Œ );&#125;function print2(n) &#123; setTimeout(() =&gt; &#123; console.log(--i); &#125;, Math.floor(Math.random() * 1000)); //å…¨å±€i&#125;function print3(n) &#123; // setTimeout(() =&gt; &#123; console.log(n); //&#125;, Math.floor(Math.random() * 1000)); //æ³¨é‡Š&#125; é¢˜ç›®æ¥æºï¼šDaily-Interview-Question ç¬¬101é¢˜]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>é¢è¯•</category>
      </categories>
      <tags>
        <tag>é¢è¯•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CSSçŸ¥è¯†ç‚¹ï¼ˆé¢è¯•ç³»åˆ—ï¼‰]]></title>
    <url>%2Fposts%2F49170%2F</url>
    <content type="text"><![CDATA[ç›’æ¨¡å‹æ ‡å‡†ç›’æ¨¡å‹ï¼ˆW3Cæ ‡å‡†ï¼‰ï¼š ä¸€ä¸ªå—çš„æ€»å®½åº¦ = å†…å®¹å®½åº¦ + margin(å·¦å³) + padding(å·¦å³) + border(å·¦å³) æ€ªå¼‚ç›’æ¨¡å‹ï¼ˆIEæ ‡å‡†ï¼‰ï¼š ä¸€ä¸ªå—çš„æ€»å®½åº¦ = widthï¼ˆåŒ…å« padding å’Œ borderï¼‰ + margin(å·¦å³) æ€ªå¼‚ç›’æ¨¡å‹è§¦å‘æ¡ä»¶å¦‚æœ html æ–‡ä»¶æœ€é¡¶éƒ¨ doctype ç¼ºå¤±ï¼Œåˆ™åœ¨ ie6ã€7ã€8 å°†ä¼šè§¦å‘æ€ªå¼‚æ¨¡å¼(quirks); é€šè¿‡cssæ¥è®¾ç½®ç›’æ¨¡å‹123box-sizing: content-box; /* æ ‡å‡†æ¨¡å‹ */ border-box; /* IEæ¨¡å‹ */ inherit; /* ä»çˆ¶å…ƒç´ ç»§æ‰¿ */ åº”ç”¨åœºæ™¯ æ€ªå¼‚ç›’æ¨¡å‹ï¼ˆborder-boxï¼‰ æ¯”å¦‚æˆ‘ä»¬æƒ³åšä¸€ä¸ªå†…è¾¹è· 10px ï¼Œè¾¹æ¡†ä¸º 2px ï¼Œæœ€ç»ˆåŒ…æ‹¬è¾¹æ¡†å®½åº¦ä¸º 100px çš„ div ï¼Œä¹‹å‰çš„åšæ³•æ˜¯å…ˆç®—å‡ºå†…å®¹å®½ width ã€‚ä½†æœ‰ç‚¹ç¹çï¼Œéœ€è¦äººç®—ã€‚æ­¤æ—¶æˆ‘ä»¬å¯ä»¥æŠŠ div çš„ box-sizing è®¾ç½®ä¸º border-box ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥æŠŠ width è®¾ç½®ä¸º 100px ï¼Œå…¶ä½™çš„ padding å’Œ border æŒ‰ç…§ç»™å®šå¥½çš„å€¼ä¸€ä¸€å¡«å…¥ï¼Œå°±å¯ä»¥å®Œæˆè¿™ä¸€åˆ‡å·¥ä½œï¼Œçœå»äº†äººä¸ºçš„è®¡ç®—å†…å®¹å®½ content çš„è¿‡ç¨‹ï¼Œå‡å°‘è®¡ç®—é‡çš„åŒæ—¶å‡å°‘äº†é”™è¯¯ç‡ã€‚ CSSé€‰æ‹©ç¬¦æœ‰å“ªäº›ï¼Ÿå“ªäº›å±æ€§å¯ä»¥ç»§æ‰¿ï¼Ÿ idé€‰æ‹©å™¨ï¼ˆ #my-id ï¼‰ ç±»é€‰æ‹©å™¨ï¼ˆ .my-class-name ï¼‰ æ ‡ç­¾é€‰æ‹©å™¨ï¼ˆ div, h1, p ï¼‰ ç›¸é‚»é€‰æ‹©å™¨ï¼ˆ h1 + p ç´§è´´åœ¨ h1 åé¢çš„ç¬¬ä¸€ä¸ª p æ ‡ç­¾ã€‚åŒçº§æ ‡ç­¾ï¼Œä¹‹é—´ä¸èƒ½æœ‰å…¶ä»–æ ‡ç­¾ ï¼‰ å­ä»£é€‰æ‹©å™¨ï¼ˆ ul &gt; li ul æ ‡ç­¾ä¸‹çš„ä¸‹ä¸€ä¸ªå±‚çº§çš„ li ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰ ï¼‰ åä»£é€‰æ‹©å™¨ï¼ˆ li a ï¼‰ é€šé…ç¬¦é€‰æ‹©å™¨ï¼ˆ * ï¼‰ å±æ€§é€‰æ‹©å™¨ï¼ˆ a[rel = â€œexternalâ€] ï¼‰ ä¼ªç±»é€‰æ‹©å™¨ï¼ˆ a:hover, li:nth-child ï¼‰ å¯ç»§æ‰¿å±æ€§font-size font-family color, UL LI DL DD DT; ä¸å¯ç»§æ‰¿å±æ€§border padding margin width height CSSä¼˜å…ˆçº§ç®—æ³•å¦‚ä½•è®¡ç®—ï¼Ÿ å†™åœ¨åé¢çš„è¦†ç›–å†™åœ¨å‰é¢çš„ æè¿°è¶Šå…·ä½“ä¼˜å…ˆçº§è¶Šé«˜ (div , div[class=â€™restartâ€™]) åŒæƒé‡ è¡Œå†…æ ·å¼ &gt; å†…åµŒæ ·å¼ &gt; å¤–éƒ¨æ ·å¼ !important ä¼˜å…ˆçº§æœ€é«˜ CSS3æ–°å¢ä¼ªç±»æœ‰é‚£äº›ï¼Ÿ p:first-of-type å±äºå…¶çˆ¶å…ƒç´ çš„ç‰¹å®šç±»å‹é¦–ä¸ªå­å…ƒç´  ç­‰åŒäº :nth-of-type(1) p:last-of-type å±äºå…¶çˆ¶å…ƒç´ çš„ç‰¹å®šç±»å‹çš„æœ€åä¸€ä¸ªå­å…ƒç´  ç­‰åŒäº :nth-last-of-type(1) ::after åœ¨å…ƒç´ ä¹‹å‰æ·»åŠ å†…å®¹,ä¹Ÿå¯ä»¥ç”¨æ¥åšæ¸…é™¤æµ®åŠ¨ã€‚ ::before åœ¨å…ƒç´ ä¹‹åæ·»åŠ å†…å®¹ :enabled/:disabled æ§åˆ¶è¡¨å•æ§ä»¶çš„ç¦ç”¨çŠ¶æ€ã€‚ :checked å•é€‰æ¡†æˆ–å¤é€‰æ¡†è¢«é€‰ä¸­ã€‚ display:noneã€visibilityï¼šhiddenå’Œopacity: 0çš„åŒºåˆ«ï¼Ÿ displayï¼šnone ï¼ˆä¸å ç©ºé—´ï¼Œä¸èƒ½ç‚¹å‡»ï¼‰ï¼ˆå›æµ+é‡ç»˜ï¼‰ visibilityï¼šhidden ï¼ˆå æ®ç©ºé—´ï¼Œä¸å¯ç‚¹å‡»ï¼‰ï¼ˆé‡ç»˜ï¼‰ opacity: 0ï¼ˆå æ®ç©ºé—´ï¼Œå¯ä»¥ç‚¹å‡»ï¼‰ï¼ˆé‡å»ºå›¾å±‚ï¼Œæ€§èƒ½è¾ƒé«˜ï¼‰ æ›´å¤šï¼šåˆ†ææ¯”è¾ƒ opacity: 0ã€visibility: hiddenã€display: none ä¼˜åŠ£å’Œé€‚ç”¨åœºæ™¯ position è·Ÿ display ã€float è¿™äº›ç‰¹æ€§ç›¸äº’å åŠ åä¼šæ€ä¹ˆæ ·ï¼Ÿ position å±æ€§è§„å®šå…ƒç´ çš„å®šä½ç±»å‹ display å±æ€§è§„å®šå…ƒç´ åº”è¯¥ç”Ÿæˆçš„æ¡†çš„ç±»å‹ float å±æ€§æ˜¯ä¸€ç§å¸ƒå±€æ–¹å¼ï¼Œå®šä¹‰å…ƒç´ åœ¨å“ªä¸ªæ–¹å‘æµ®åŠ¨ã€‚ ä¼˜å…ˆçº§æœºåˆ¶ï¼špositionï¼šabsolute/fixed ä¼˜å…ˆçº§æœ€é«˜ï¼Œæœ‰ä»–ä»¬åœ¨æ—¶ï¼Œfloat ä¸èµ·ä½œç”¨ï¼Œdisplay å€¼éœ€è¦è°ƒæ•´ã€‚float æˆ–è€… absolute å®šä½çš„å…ƒç´ ï¼Œåªèƒ½æ˜¯å—å…ƒç´ æˆ–è¡¨æ ¼ã€‚ è®²ä¸€è®² position å±æ€§ä¸­çš„å„ç§å€¼ å€¼ æ˜¯å¦è„±æ ‡å æœ‰ä½ç½® å¯ä½¿ç”¨è¾¹åç§» æè¿° static ä¸è„±æ ‡ï¼Œæ­£å¸¸æ¨¡å¼ ä¸å¯ä»¥ è‡ªåŠ¨ï¼ˆæ²¡æœ‰ï¼‰å®šä½ï¼ˆé»˜è®¤å®šä½æ–¹å¼ï¼‰ relative(è‡ªæ‹) ä¸è„±æ ‡ï¼Œå æœ‰ä½ç½® å¯ä»¥ ç›¸å¯¹å®šä½ï¼Œç›¸å¯¹äºå…¶åŸæ–‡æ¡£æµçš„ä½ç½®è¿›è¡Œå®šä½ absolute(æ‹¼çˆ¹) å®Œå…¨è„±æ ‡ï¼Œä¸å ä½ç½® å¯ä»¥ ç»å¯¹å®šä½ï¼Œç›¸å¯¹äºå…¶ä¸Šä¸€ä¸ªå·²ç»å®šä½ï¼ˆä¸ä¸ºstaticï¼‰çš„çˆ¶å…ƒç´ è¿›è¡Œå®šä½ fixed(æµè§ˆå™¨) å®Œå…¨è„±æ ‡ï¼Œä¸å ä½ç½® å¯ä»¥ å›ºå®šå®šä½ï¼Œç›¸å¯¹äºæµè§ˆå™¨çª—å£è¿›è¡Œå®šä½ï¼ˆè€IEä¸æ”¯æŒï¼‰ inherit è§„å®šä»çˆ¶å…ƒç´ ç»§æ‰¿ position å±æ€§çš„å€¼ CSS3 æœ‰å“ªäº›æ–°ç‰¹æ€§ï¼Ÿè¿‡æ¸¡12345678910111213/* è¯­æ³• */transition: CSSå±æ€§ï¼Œè¿‡æ¸¡æ—¶é—´ï¼Œæ•ˆæœæ›²çº¿ï¼ˆé»˜è®¤easeï¼‰ï¼Œå»¶è¿Ÿæ—¶é—´ï¼ˆé»˜è®¤0ï¼‰/* demo1 *//*å®½åº¦ä»åŸå§‹å€¼åˆ°åˆ¶å®šå€¼çš„ä¸€ä¸ªè¿‡æ¸¡ï¼Œè¿åŠ¨æ›²çº¿ease,è¿åŠ¨æ—¶é—´0.5ç§’ï¼Œ0.2ç§’åæ‰§è¡Œè¿‡æ¸¡*/transition: width .5s ease .2s/* demo2 *//* åˆ†å¼€å†™ */transition-property: width;transition-duration: 1s;transition-timing-function: linear;transition-delay: 2s; åŠ¨ç”»1234567891011121314151617181920212223242526/* è¯­æ³• */animationï¼šåŠ¨ç”»åç§°ï¼ŒåŠ¨ç”»æ—¶é—´ï¼Œè¿åŠ¨æ›²çº¿ï¼ˆé»˜è®¤easeï¼‰ï¼ŒåŠ¨ç”»å»¶è¿Ÿï¼ˆé»˜è®¤0ï¼‰ï¼Œæ’­æ”¾æ¬¡æ•°ï¼ˆé»˜è®¤1ï¼‰ï¼Œæ˜¯å¦åå‘æ’­æ”¾åŠ¨ç”»ï¼ˆé»˜è®¤normalï¼‰ï¼Œæ˜¯å¦æš‚åœåŠ¨ç”»ï¼ˆé»˜è®¤runningï¼‰/* demo1 *//* æ‰§è¡Œä¸€æ¬¡logo2-lineåŠ¨ç”»ï¼Œè¿åŠ¨æ—¶é—´2ç§’ï¼Œè¿åŠ¨æ›²çº¿ä¸º linear */animation: logo2-line 2s linear;/* demo2 *//* 2ç§’åå¼€å§‹æ‰§è¡Œä¸€æ¬¡ logo2-line åŠ¨ç”»ï¼Œè¿åŠ¨æ—¶é—´2ç§’ï¼Œè¿åŠ¨æ›²çº¿ä¸º linear */animation: logo2-line 2s linear 2s;/* demo3 *//*æ— é™æ‰§è¡Œ logo2-line åŠ¨ç”»ï¼Œæ¯æ¬¡è¿åŠ¨æ—¶é—´2ç§’ï¼Œè¿åŠ¨æ›²çº¿ä¸º linearï¼Œå¹¶ä¸”æ‰§è¡Œåå‘åŠ¨ç”»*/animation: logo2-line 2s linear alternate infinite;è¿˜æœ‰ä¸€ä¸ªé‡è¦å±æ€§ï¼šç”¨æ¥æŒ‡å®šåœ¨åŠ¨ç”»æ‰§è¡Œä¹‹å‰å’Œä¹‹åå¦‚ä½•ç»™åŠ¨ç”»çš„ç›®æ ‡åº”ç”¨æ ·å¼ã€‚animation-fill-mode: none | forwards | backwards | both;/*åŠ¨ç”»åˆ†ä¸º åˆå§‹çŠ¶æ€ ç­‰å¾…æœŸ åŠ¨ç”»æ‰§è¡ŒæœŸ å®ŒæˆæœŸ å››ä¸ªé˜¶æ®µã€‚- none è¡¨ç¤º ç­‰å¾…æœŸå’Œå®ŒæˆæœŸï¼Œå…ƒç´ æ ·å¼éƒ½ä¸ºåˆå§‹çŠ¶æ€æ ·å¼ï¼Œä¸å—åŠ¨ç”»å®šä¹‰ï¼ˆ@keyframesï¼‰çš„å½±å“- forwards è¡¨ç¤ºç­‰å¾…æœŸä¿æŒåˆå§‹æ ·å¼ï¼Œå®ŒæˆæœŸé—´ä¿æŒæœ€åä¸€å¸§æ ·å¼- backwards è¡¨ç¤ºç­‰å¾…æœŸä¸ºç¬¬ä¸€å¸§æ ·å¼ï¼Œå®ŒæˆæœŸè·³è½¬ä¸ºåˆå§‹æ ·å¼- both è¡¨ç¤º ç­‰å¾…æœŸæ ·å¼ä¸ºç¬¬ä¸€å¸§æ ·å¼ï¼Œå®ŒæˆæœŸä¿æŒæœ€åä¸€å¸§æ ·å¼*/ å‚è€ƒï¼šå¦‚ä½•ç†è§£animation-fill-modeåŠå…¶ä½¿ç”¨ï¼Ÿ å½¢çŠ¶è½¬æ¢transform: é€‚ç”¨äº2Dæˆ–3Dè½¬æ¢çš„å…ƒç´  (3dçœ‹è¿™é‡Œ)transform-origin: è½¬æ¢å…ƒç´ çš„ä½ç½®ï¼ˆå›´ç»•é‚£ä¸ªç‚¹è¿›è¡Œè½¬æ¢,é»˜è®¤ä¸­å¿ƒï¼‰ã€‚é»˜è®¤ x, y, z ï¼š 50%, 50%, 0 å¯¹åº” left, top ç¼©æ”¾ scale ä½ç§» translate æ—‹è½¬ rotate å€¾æ–œ skew 12345transform: rotate(30deg);transform: translate(30px, 30px);transform: scale(.8);transform: skew(10deg, 10deg);transform-origin: left top; /* å·¦ä¸Šï¼ˆé»˜è®¤ä¸­å¿ƒï¼‰ã€æ”¹å˜å…ƒç´ å˜å½¢çš„åŸç‚¹ã€‘ */ èµ„æºå¯¹ transition ã€animation å’Œ transform è¿™å—å„¿å†…å®¹ä¸ç†Ÿçš„åŒå­¦å¯ä»¥å‚è€ƒæˆ‘çš„åšå®¢ç®€å•ä¸Šæ‰‹æ•™ç¨‹ï¼ŒåŸºæœ¬ä¸Šæ¯ä¸ªå±æ€§éƒ½æœ‰ç›¸åº”çš„ demo å±•ç¤ºï¼šLanceçš„ä¸ªäººåšå®¢-cssåˆ†ç±» å¦å¤–ï¼Œä¸Šé¢çš„çŸ¥è¯†ç‚¹å‚è€ƒäºä¸‹æ–¹èµ„æºï¼Œå¯è‡ªå–ï¼š ä¸ªäººæ€»ç»“ï¼ˆcss3æ–°ç‰¹æ€§ï¼‰ cubic-bezierè´å¡å°”åœ¨çº¿é¢„è§ˆ transition-timing-function | cssreference Understanding The CSS3 transition-timing-function Property ç¿»è¯‘ | æ·±å…¥ç†è§£CSSæ—¶åºå‡½æ•° css3åŠ¨ç”»è¯¦è§£ã€æ¨èã€‘ é€‰æ‹©å™¨å±æ€§é€‰æ‹©å™¨ div[index] { background: red } è¡¨ç¤º div ä¸‹é¢å¸¦ index å±æ€§çš„èƒŒæ™¯ä¸ºçº¢è‰² div[index=a] { background: red } è¡¨ç¤º div ä¸‹é¢çš„è‡ªå®šä¹‰å±æ€§ index=a çš„ div çš„é¢œè‰²å˜æˆçº¢è‰²ã€‚ div[index~=a] { background: red } åªè¦ div ä¸­ index å±æ€§å¸¦ a è¿™ä¸ªå•è¯çš„å°±ç”Ÿæ•ˆã€‚[aè¿™ä¸ªå•è¯å¿…é¡»ç‹¬ç«‹å­˜åœ¨] p[class~=â€™lanceâ€™] åªä¼šåŒ¹é…åˆ° class=â€xxx lanceâ€ï¼Œè€Œä¸ä¼šåŒ¹é… class=â€xxlancexxâ€ div[index*=a] { background: red } åªè¦ div é‡Œé¢çš„ index å±æ€§å¸¦ a å­—æ¯çš„å°±ç”Ÿæ•ˆã€‚ div[index^=a] { background: red } ä»¥ a å¼€å¤´çš„ div[index$=a] { background: red } ä»¥ a ç»“å°¾ div[index|=a] { background:red } åªè¦ä»¥ a- å¼€å¤´çš„ å½“éœ€è¦å¤šä¸ªçš„æ—¶å€™ï¼š div[key1=value1][key2=value2][key3=value3]â€¦. { background:red } ç»“æ„æ€§ä¼ªç±»é€‰æ‹©å™¨å‰æï¼šå‡å¦‚ div æ˜¯ä¸‹é¢ p æ ‡ç­¾çš„çˆ¶å…ƒç´  p:nth-child(n) div ä¸‹ç±»å‹ä¸º p çš„ç¬¬ n ä¸ªå­å…ƒç´ ï¼Œä¸‹æ ‡ä» 1 å¼€å§‹ï¼ï¼ :nth-child(odd) å¥‡æ•° :nth-child(even) å¶æ•° p:nth-last-child(n) ä»å€’æ•°ï¼Œdiv ä¸‹ç±»å‹ä¸º p çš„ç¬¬ n ä¸ªå­å…ƒç´  p:last-child div ä¸‹æœ€åä¸€ä¸ªå­å…ƒç´ å¦‚æœæ˜¯ p ï¼Œåˆ™ç”Ÿæ•ˆï¼Œå¦åˆ™ä¸ç”Ÿæ•ˆ p:first-child div ä¸‹ç¬¬ä¸€ä¸ªå­å…ƒç´ å¦‚æœæ˜¯ p ï¼Œåˆ™ç”Ÿæ•ˆï¼Œå¦åˆ™ä¸ç”Ÿæ•ˆã€css2çš„ã€‘ p:first-of-type div ä¸‹ç¬¬ä¸€ä¸ªç±»å‹ä¸º p çš„å­å…ƒç´ ã€ä¸éœ€è¦ p æ˜¯è¿™ä¸ª div ä¸‹çš„ç¬¬ä¸€ä¸ªå­å…ƒç´ ã€‘ p:last-of-type div ä¸‹æœ€åä¸€ä¸ªç±»å‹ä¸º p çš„å­å…ƒç´  å‚è€ƒï¼šcssé€‰æ‹©å™¨ä¸­:first-childä¸:first-of-typeçš„åŒºåˆ« ä¼ªå…ƒç´ é€‰æ‹©å™¨ ::first-letter æ–‡æœ¬çš„ç¬¬ä¸€ä¸ªå•è¯æˆ–å­—ï¼ˆå¦‚ä¸­æ–‡ã€æ—¥æ–‡ã€éŸ©æ–‡ç­‰ï¼‰ ::first-line æ–‡æœ¬ç¬¬ä¸€è¡Œï¼› ::selection å¯æ”¹å˜é€‰ä¸­æ–‡æœ¬çš„æ ·å¼ï¼› ::before å’Œ ::after åœ¨å…ƒç´ å†…éƒ¨çš„å¼€å§‹ç«ç»“æŸä¸ºæ­¢åˆ›å»ºä¸€ä¸ªå…ƒç´ ï¼Œè¯¥å…ƒç´ ä¸ºè¡Œå†…å…ƒç´ ï¼Œå¿…é¡»ç»“åˆ content å±æ€§ä½¿ç”¨ div::before { content: â€˜å¼€å§‹â€™ } ç›®æ ‡ä¼ªç±»é€‰æ‹©å™¨:target ç›®æ ‡ä¼ªç±»é€‰æ‹©å™¨ï¼Œ : é€‰æ‹©å™¨å¯ç”¨äºé€‰å–å½“å‰æ´»åŠ¨çš„ç›®æ ‡å…ƒç´  1234:target &#123; color: red; font-size: 30px;&#125; é˜´å½±12/* xåç§»é‡ | yåç§»é‡ | é˜´å½±æ¨¡ç³ŠåŠå¾„ | é˜´å½±æ‰©æ•£åŠå¾„ | é˜´å½±é¢œè‰² */box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, 0.2); è¾¹æ¡† è¾¹æ¡†å›¾ç‰‡ border-image 1border-image: image-source image-height image-width image-repeat åœ†è§’è¾¹æ¡† border-radius 1border-radius: å·¦ä¸Šè§’ï¼Œå³ä¸Šè§’ï¼Œå³ä¸‹è§’ï¼Œå·¦ä¸‹è§’ CSSå¼¹æ€§å¸ƒå±€ï¼ˆflexï¼‰Flexå®¹å™¨å±æ€§1234567891011121314151617ä¸»è½´æ–¹å‘ï¼šæ°´å¹³æ’åˆ—ï¼ˆé»˜è®¤ï¼‰ | æ°´å¹³åå‘æ’åˆ— | å‚ç›´æ’åˆ— | å‚ç›´åå‘æ’åˆ—flex-direction: row | row-reverse | column | column-reverse;æ¢è¡Œï¼šä¸æ¢è¡Œï¼ˆé»˜è®¤ï¼‰ | æ¢è¡Œ | åå‘æ¢è¡Œ(ç¬¬ä¸€è¡Œåœ¨æœ€åé¢)flex-wrap: nowrap | wrap | wrap-reverse;flex-directionå±æ€§å’Œflex-wrapå±æ€§çš„ç®€å†™å½¢å¼ï¼Œé»˜è®¤å€¼ä¸ºrow nowrapflex-flow: &lt;flex-direction&gt; || &lt;flex-wrap&gt;;ä¸»è½´å¯¹é½æ–¹å¼ï¼šèµ·ç‚¹å¯¹é½ï¼ˆé»˜è®¤ï¼‰ | ç»ˆç‚¹å¯¹é½ | å±…ä¸­å¯¹é½ | ä¸¤ç«¯å¯¹é½ | åˆ†æ•£å¯¹é½justify-content: flex-start | flex-end | center | space-between | space-around;äº¤å‰è½´å¯¹é½æ–¹å¼ï¼šæ‹‰ä¼¸å¯¹é½ï¼ˆé»˜è®¤ï¼‰ | èµ·ç‚¹å¯¹é½ | ç»ˆç‚¹å¯¹é½ | å±…ä¸­å¯¹é½ | ç¬¬ä¸€è¡Œæ–‡å­—çš„åŸºçº¿å¯¹é½align-items: stretch | flex-start | flex-end | center | baseline;å¤šæ ¹è½´çº¿å¯¹é½æ–¹å¼ï¼šæ‹‰ä¼¸å¯¹é½ï¼ˆé»˜è®¤ï¼‰ | èµ·ç‚¹å¯¹é½ | ç»ˆç‚¹å¯¹é½ | å±…ä¸­å¯¹é½ | ä¸¤ç«¯å¯¹é½ | åˆ†æ•£å¯¹é½align-content: stretch | flex-start | flex-end | center | space-between | space-around; Flexé¡¹ç›®å±æ€§123456789101112131415161718é¡ºåºï¼šæ•°å€¼è¶Šå°è¶Šé å‰ï¼Œé»˜è®¤ä¸º0order: &lt;number&gt;;æ”¾å¤§æ¯”ä¾‹ï¼šé»˜è®¤ä¸º0ï¼Œå¦‚æœæœ‰å‰©ä½™ç©ºé—´ä¹Ÿä¸æ”¾å¤§ï¼Œå€¼ä¸º1åˆ™æ”¾å¤§ï¼Œ2æ˜¯1çš„åŒå€å¤§å°ï¼Œä»¥æ­¤ç±»æ¨flex-grow: &lt;number&gt;;ç¼©å°æ¯”ä¾‹ï¼šé»˜è®¤ä¸º1ï¼Œå¦‚æœç©ºé—´ä¸è¶³åˆ™ä¼šç¼©å°ï¼Œå€¼ä¸º0ä¸ç¼©å°flex-shrink: &lt;number&gt;;é¡¹ç›®è‡ªèº«å¤§å°ï¼šé»˜è®¤autoï¼Œä¸ºåŸæ¥çš„å¤§å°ï¼Œå¯è®¾ç½®å›ºå®šå€¼ 50px/50%flex-basis: &lt;length&gt; | auto;flex-grow, flex-shrink å’Œ flex-basis çš„ç®€å†™ï¼Œé»˜è®¤å€¼ä¸º0 1 autoä¸¤ä¸ªå¿«æ·å€¼ï¼šauto (1 1 auto) å’Œ none (0 0 auto)flex:none | [ &lt;'flex-grow'&gt; &lt;'flex-shrink'&gt;? || &lt;'flex-basis'&gt; ]é¡¹ç›®è‡ªèº«å¯¹é½ï¼šç»§æ‰¿çˆ¶å…ƒç´ ï¼ˆé»˜è®¤ï¼‰ | èµ·ç‚¹å¯¹é½ | ç»ˆç‚¹å¯¹é½ | å±…ä¸­å¯¹é½ | åŸºçº¿å¯¹é½ | æ‹‰ä¼¸å¯¹é½align-self: auto | flex-start | flex-end | center | baseline | stretch; åº”ç”¨å·¦å³åˆ†æ ã€ä¸Šä¸‹åˆ†æ ã€‚ï¼ˆæ£€éªŒä¸‹è‡ªå·±å¦‚ä½•å®Œæˆä¸‹åˆ—å¸ƒå±€ï¼‰ å¯¹ flex ä¸ç†Ÿæ‚‰çš„åŒå­¦å¯ä»¥å‚è€ƒä¸‹é¢ç½‘ç«™è¿›è¡Œå­¦ä¹ ï¼š 30 åˆ†é’Ÿå­¦ä¼š Flex å¸ƒå±€ flexç½‘é¡µå¸ƒå±€é¦–é€‰æ–¹æ¡ˆ çµæ´»åº”ç”¨ flex å¼¹æ€§å¸ƒå±€å¿«é€Ÿæ„å»º web ç»“æ„ ä¸æ„¿æ„çœ‹é•¿ç¯‡å¤§è®ºçš„å¯ä»¥é€šè¿‡è¿™ä¸ªå¡”é˜²æ¸¸æˆæ¥å­¦ä¹ ï¼šFlexbox Defense li ä¸ li ä¹‹é—´æœ‰çœ‹ä¸è§çš„ç©ºç™½é—´éš”æ˜¯ä»€ä¹ˆåŸå› å¼•èµ·çš„ï¼Ÿæœ‰ä»€ä¹ˆè§£å†³åŠæ³•ï¼Ÿåœºæ™¯ æœ‰æ—¶ï¼Œåœ¨å†™é¡µé¢çš„æ—¶å€™ï¼Œä¼šéœ€è¦å°† è¿™ä¸ªå—çŠ¶å…ƒç´ æ¨ªæ’æ˜¾ç¤ºï¼Œæ­¤æ—¶å°±éœ€è¦å°† display å±æ€§è®¾ç½®ä¸º inline-block ï¼Œæ­¤æ—¶é—®é¢˜å‡ºç°äº†ï¼Œåœ¨ä¸¤ä¸ª å…ƒç´ ä¹‹é—´ä¼šå‡ºç°å¤§çº¦ 8px å·¦å³çš„ç©ºç™½é—´éš™ åŸå› æµè§ˆå™¨çš„é»˜è®¤è¡Œä¸ºæ˜¯æŠŠ inline å…ƒç´ é—´çš„ç©ºç™½å­—ç¬¦ï¼ˆç©ºæ ¼æ¢è¡Œ tab ï¼‰æ¸²æŸ“æˆä¸€ä¸ªç©ºæ ¼ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ä¸Šé¢çš„ä»£ç  æ¢è¡Œåä¼šäº§ç”Ÿæ¢è¡Œå­—ç¬¦ï¼Œè€Œå®ƒä¼šå˜æˆä¸€ä¸ªç©ºæ ¼ï¼Œå½“ç„¶ç©ºæ ¼å°±å ç”¨ä¸€ä¸ªå­—ç¬¦çš„å®½åº¦ã€‚ è§£å†³ç»™ ul æ ‡ç­¾è®¾ç½® font-size: 0; å¹¶ä¸º li å…ƒç´ é‡æ–°è®¾ç½® font-size: xxpx; BFC(å—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ï¼šblock formatting context)ç†è§£BFC å°±æ˜¯é¡µé¢ä¸Šçš„ä¸€ä¸ªéš”ç¦»çš„ç‹¬ç«‹å®¹å™¨ï¼Œå®¹å™¨é‡Œé¢çš„å­å…ƒç´ ä¸ä¼šå½±å“åˆ°å¤–é¢çš„å…ƒç´ ã€‚åä¹‹ä¹Ÿå¦‚æ­¤ã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™äº›ç‰¹æ€§è§£å†³ç‰¹å®šç¯å¢ƒä¸‹çš„å¸ƒå±€é—®é¢˜ã€‚ å¸¸è§ BFC åº”ç”¨æ¸…é™¤å…ƒç´ å†…éƒ¨æµ®åŠ¨ è®¡ç®—BFCçš„é«˜åº¦æ—¶ï¼Œè‡ªç„¶ä¹Ÿä¼šæ£€æµ‹æµ®åŠ¨æˆ–è€…å®šä½çš„ç›’å­é«˜åº¦ã€‚ åªè¦æŠŠçˆ¶å…ƒç´ è®¾ä¸º BFC å°±å¯ä»¥æ¸…ç†å­å…ƒç´ çš„æµ®åŠ¨äº†ï¼Œæœ€å¸¸è§çš„ç”¨æ³•å°±æ˜¯åœ¨çˆ¶å…ƒç´ ä¸Šè®¾ç½® overflow: hidden æ ·å¼ï¼Œå¯¹äº IE6 åŠ ä¸Š zoom: 1 å°±å¯ä»¥äº†ã€‚ è§£å†³å¤–è¾¹è·åˆå¹¶é—®é¢˜ ç›’å­å‚ç›´æ–¹å‘çš„è·ç¦»ç”± margin å†³å®šã€‚å±äºåŒä¸€ä¸ª BFC çš„ä¸¤ä¸ªç›¸é‚»ç›’å­çš„ margin ä¼šå‘ç”Ÿé‡å  å±äºåŒä¸€ä¸ª BFC çš„ä¸¤ä¸ªç›¸é‚»ç›’å­çš„ margin ä¼šå‘ç”Ÿé‡å ï¼Œé‚£ä¹ˆæˆ‘ä»¬åˆ›å»ºä¸å±äºåŒä¸€ä¸ª BFC ï¼Œå°±ä¸ä¼šå‘ç”Ÿ margin é‡å äº†ã€‚ 1234567&lt;div class="container4 green" style="height: 500px;"&gt; &lt;!-- ç»™å…¶ä¸­ä¸€ä¸ª div å¤–é¢åŒ…ä¸€ä¸ª div ï¼Œç„¶åé€šè¿‡è§¦å‘å¤–é¢è¿™ä¸ª div çš„ BFC ï¼Œå°±å¯ä»¥é˜»æ­¢è¿™ä¸¤ä¸ª div çš„ margin é‡å  --&gt; &lt;div style="overflow: hidden;"&gt; &lt;div class="blue w100 h100" style="margin-bottom: 20px;"&gt;&lt;/div&gt; &lt;/div&gt; &lt;div class="red w200 h200" style="margin-top: 20px;"&gt;&lt;/div&gt;&lt;/div&gt; ä¸¤æ å¸ƒå±€ï¼Œå®ç°å·¦å®šå®½+å³å®½è‡ªé€‚åº” æ™®é€šæµä½“å…ƒç´ BFCåï¼Œä¸ºäº†å’Œæµ®åŠ¨å…ƒç´ ä¸äº§ç”Ÿä»»ä½•äº¤é›†ï¼Œé¡ºç€æµ®åŠ¨è¾¹ç¼˜å½¢æˆè‡ªå·±çš„å°é—­ä¸Šä¸‹æ–‡ 12345&lt;div class="container" style="height: 300px; background-color: red;"&gt; &lt;div style="width: 100px; height: 100px; float: left; background-color: blue;"&gt;&lt;/div&gt; &lt;div style="overflow: hidden; background-color: green;"&gt;æˆ‘æ˜¯å³è¾¹å†…å®¹æˆ‘æ˜¯å³è¾¹å†…å®¹æˆ‘æ˜¯å³è¾¹å†…å®¹æˆ‘æ˜¯å³è¾¹å†…å®¹æˆ‘æ˜¯å³è¾¹å†…å®¹æˆ‘æ˜¯å³è¾¹å†…å®¹æˆ‘æ˜¯å³è¾¹å†…å®¹æˆ‘æ˜¯å³è¾¹å†…å®¹æˆ‘æ˜¯å³è¾¹å†…å®¹æˆ‘æ˜¯å³è¾¹å†…å®¹æˆ‘æ˜¯å³è¾¹å†…å®¹æˆ‘æ˜¯å³è¾¹å†…å®¹æˆ‘æ˜¯å³è¾¹å†…å®¹æˆ‘æ˜¯å³è¾¹å†…å®¹æˆ‘æ˜¯å³è¾¹å†…å®¹æˆ‘æ˜¯å³è¾¹å†…å®¹æˆ‘æ˜¯å³è¾¹å†…å®¹æˆ‘æ˜¯å³è¾¹å†…å®¹æˆ‘æ˜¯å³è¾¹å†…å®¹æˆ‘æ˜¯å³è¾¹å†…å®¹æˆ‘æ˜¯å³è¾¹å†…å®¹æˆ‘æ˜¯å³è¾¹å†…å®¹æˆ‘æ˜¯å³è¾¹å†…å®¹æˆ‘æ˜¯å³è¾¹å†…å®¹æˆ‘æ˜¯å³è¾¹å†…å®¹æˆ‘æ˜¯å³è¾¹å†…å®¹æˆ‘æ˜¯å³è¾¹å†…å®¹æˆ‘æ˜¯å³è¾¹å†…å®¹æˆ‘æ˜¯å³è¾¹å†…å®¹æˆ‘æ˜¯å³è¾¹å†…å®¹&lt;/div&gt; &lt;!-- ç»™å³ä¾§divæ·»åŠ  overflow: hiddenå³å¯ --&gt;&lt;/div&gt; æ³¨æ„ï¼šè®¾ç½®æµ®åŠ¨åï¼Œdiv ä¼šè¢« float è¦†ç›–ï¼Œè€Œæ–‡æœ¬å´ä¸ä¼šè¢« float è¦†ç›–ï¼Œæ˜¯å› ä¸º float å½“åˆè®¾è®¡çš„æ—¶å€™å°±æ˜¯ä¸ºäº†ä½¿æ–‡æœ¬å›´ç»•åœ¨æµ®åŠ¨å¯¹è±¡çš„å‘¨å›´ã€‚ å‚è€ƒ: [å¸ƒå±€æ¦‚å¿µ] å…³äºCSS-BFCæ·±å…¥ç†è§£ è¯·è§£é‡Šä¸€ä¸‹ä¸ºä»€ä¹ˆéœ€è¦æ¸…é™¤æµ®åŠ¨ï¼Ÿæ¸…é™¤æµ®åŠ¨çš„æ–¹å¼æµ®åŠ¨æœ¬è´¨æ˜¯ç”¨æ¥åšä¸€äº›æ–‡å­—æ··æ’æ•ˆæœçš„ï¼Œä½†æ˜¯è¢«æˆ‘ä»¬æ‹¿æ¥åšå¸ƒå±€ç”¨ï¼Œåˆ™ä¼šæœ‰å¾ˆå¤šçš„é—®é¢˜å‡ºç°ã€‚ ç”±äºæµ®åŠ¨å…ƒç´ ä¸å†å ç”¨åŸæ–‡æ¡£æµçš„ä½ç½®ï¼Œæ‰€ä»¥å®ƒä¼šå¯¹åé¢çš„å…ƒç´ æ’ç‰ˆäº§ç”Ÿå½±å“ï¼Œä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œæ­¤æ—¶å°±éœ€è¦åœ¨è¯¥å…ƒç´ ä¸­æ¸…é™¤æµ®åŠ¨ã€‚å‡†ç¡®åœ°è¯´ï¼Œå¹¶ä¸æ˜¯æ¸…é™¤æµ®åŠ¨ï¼Œè€Œæ˜¯æ¸…é™¤æµ®åŠ¨åé€ æˆçš„å½±å“ æœ¬è´¨æ¸…é™¤æµ®åŠ¨ä¸»è¦ä¸ºäº†è§£å†³çˆ¶çº§å…ƒç´ å› ä¸ºå­çº§æµ®åŠ¨å¼•èµ·å†…éƒ¨é«˜åº¦ä¸º 0 çš„é—®é¢˜ã€‚ å¦‚ä½•æ¸…é™¤è®¾ç½®ä¸€ä¸ª clearfix ç±»ï¼Œåœ¨å‡ºç°æµ®åŠ¨é—®é¢˜çš„çˆ¶å…ƒç´ ä¸Šæ·»åŠ æ­¤ç±»å³å¯ï¼š 12345678910.clearfix::after &#123; content: ""; display: block; clear: both; height: 0; visibility: hidden;&#125;.clearfix &#123; *zoom: 1;&#125; ä»€ä¹ˆæ˜¯å¤–è¾¹è·åˆå¹¶ï¼Ÿå¤–è¾¹è·åˆå¹¶æŒ‡çš„æ˜¯ï¼Œå½“ä¸¤ä¸ªå‚ç›´å¤–è¾¹è·ç›¸é‡æ—¶ï¼Œå®ƒä»¬å°†å½¢æˆä¸€ä¸ªå¤–è¾¹è·ã€‚ åˆå¹¶åçš„å¤–è¾¹è·çš„é«˜åº¦ç­‰äºä¸¤ä¸ªå‘ç”Ÿåˆå¹¶çš„å¤–è¾¹è·çš„é«˜åº¦ä¸­çš„è¾ƒå¤§è€…ã€‚ å½“ä¸€ä¸ªå…ƒç´ å‡ºç°åœ¨å¦ä¸€ä¸ªå…ƒç´ ä¸Šé¢æ—¶ï¼Œç¬¬ä¸€ä¸ªå…ƒç´ çš„ä¸‹å¤–è¾¹è·ä¸ç¬¬äºŒä¸ªå…ƒç´ çš„ä¸Šå¤–è¾¹è·ä¼šå‘ç”Ÿåˆå¹¶ï¼š å½“ä¸€ä¸ªå…ƒç´ åŒ…å«åœ¨å¦ä¸€ä¸ªå…ƒç´ ä¸­æ—¶ï¼ˆå‡è®¾æ²¡æœ‰å†…è¾¹è·æˆ–è¾¹æ¡†æŠŠå¤–è¾¹è·åˆ†éš”å¼€ï¼‰ï¼Œå®ƒä»¬çš„ä¸Šå’Œ/æˆ–ä¸‹å¤–è¾¹è·ä¹Ÿä¼šå‘ç”Ÿåˆå¹¶ï¼š å°½ç®¡çœ‹ä¸Šå»æœ‰äº›å¥‡æ€ªï¼Œä½†æ˜¯å¤–è¾¹è·ç”šè‡³å¯ä»¥ä¸è‡ªèº«å‘ç”Ÿåˆå¹¶ã€‚ å‡è®¾æœ‰ä¸€ä¸ªç©ºå…ƒç´ ï¼Œå®ƒæœ‰å¤–è¾¹è·ï¼Œä½†æ˜¯ æ²¡æœ‰è¾¹æ¡†æˆ–å¡«å…… ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¸Šå¤–è¾¹è·ä¸ä¸‹å¤–è¾¹è·å°±ç¢°åˆ°äº†ä¸€èµ·ï¼Œå®ƒä»¬ä¼šå‘ç”Ÿåˆå¹¶ï¼š å¦‚æœè¿™ä¸ªå¤–è¾¹è·é‡åˆ°å¦ä¸€ä¸ªå…ƒç´ çš„å¤–è¾¹è·ï¼Œå®ƒè¿˜ä¼šå‘ç”Ÿåˆå¹¶ï¼š æ³¨é‡Šï¼šåªæœ‰æ™®é€šæ–‡æ¡£æµä¸­å—æ¡†çš„å‚ç›´å¤–è¾¹è·æ‰ä¼šå‘ç”Ÿå¤–è¾¹è·åˆå¹¶ã€‚è¡Œå†…æ¡†ã€æµ®åŠ¨æ¡†æˆ–ç»å¯¹å®šä½ä¹‹é—´çš„å¤–è¾¹è·ä¸ä¼šåˆå¹¶ã€‚ æµè§ˆå™¨æ˜¯æ€æ ·è§£æCSSé€‰æ‹©å™¨çš„ï¼Ÿä»å³å‘å·¦çš„ï¼Œè¿™æ ·ä¼šæé«˜æŸ¥æ‰¾é€‰æ‹©å™¨æ‰€å¯¹åº”çš„å…ƒç´ çš„æ•ˆç‡ æ ·å¼ç³»ç»Ÿä»å…³é”®é€‰æ‹©å™¨å¼€å§‹åŒ¹é…ï¼Œç„¶åå·¦ç§»æŸ¥æ‰¾è§„åˆ™é€‰æ‹©å™¨çš„ç¥–å…ˆå…ƒç´ ã€‚ åªè¦é€‰æ‹©å™¨çš„å­æ ‘ä¸€ç›´åœ¨å·¥ä½œï¼Œæ ·å¼ç³»ç»Ÿå°±ä¼šæŒç»­å·¦ç§»ï¼Œç›´åˆ°å’Œè§„åˆ™åŒ¹é…ï¼Œæˆ–è€…æ˜¯å› ä¸ºä¸åŒ¹é…è€Œæ”¾å¼ƒè¯¥è§„åˆ™ã€‚ æŠ½ç¦»æ ·å¼æ¨¡å—æ€ä¹ˆå†™ï¼Œè¯´å‡ºæ€è·¯ï¼Œæœ‰æ— å®è·µç»éªŒï¼Ÿæˆ‘ä»¬æŒ‰ç…§ CSS çš„æ€§è´¨å’Œç”¨é€”ï¼Œå°† CSS æ–‡ä»¶åˆ†æˆ ã€Œå…¬å…±å‹æ ·å¼ã€ã€ã€Œç‰¹æ®Šå‹æ ·å¼ã€ã€ã€Œçš®è‚¤å‹æ ·å¼ã€ï¼Œå¹¶ä»¥æ­¤é¡ºåºå¼•ç”¨ï¼ˆæŒ‰éœ€æ±‚å†³å®šæ˜¯å¦æ·»åŠ ç‰ˆæœ¬å·ï¼‰ã€‚ å…¬å…±å‹æ ·å¼ï¼šåŒ…æ‹¬äº†ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼šâ€œæ ‡ç­¾çš„é‡ç½®å’Œè®¾ç½®é»˜è®¤å€¼â€ã€â€œç»Ÿä¸€è°ƒç”¨èƒŒæ™¯å›¾å’Œæ¸…é™¤æµ®åŠ¨æˆ–å…¶ä»–éœ€ç»Ÿä¸€å¤„ç†çš„é•¿æ ·å¼â€ã€â€œç½‘ç«™é€šç”¨å¸ƒå±€â€ã€â€œé€šç”¨æ¨¡å—å’Œå…¶æ‰©å±•â€ã€â€œå…ƒä»¶å’Œå…¶æ‰©å±•â€ã€â€œåŠŸèƒ½ç±»æ ·å¼â€ã€â€œçš®è‚¤ç±»æ ·å¼â€ã€‚ ç‰¹æ®Šå‹æ ·å¼ï¼šå½“æŸä¸ªæ ç›®æˆ–é¡µé¢çš„æ ·å¼ä¸ç½‘ç«™æ•´ä½“å·®å¼‚è¾ƒå¤§æˆ–è€…ç»´æŠ¤ç‡è¾ƒé«˜æ—¶ï¼Œå¯ä»¥ç‹¬ç«‹å¼•ç”¨ä¸€ä¸ªæ ·å¼ï¼šâ€œç‰¹æ®Šçš„å¸ƒå±€ã€æ¨¡å—å’Œå…ƒä»¶åŠæ‰©å±•â€ã€â€œç‰¹æ®Šçš„åŠŸèƒ½ã€é¢œè‰²å’ŒèƒŒæ™¯â€ï¼Œä¹Ÿå¯ä»¥æ˜¯æŸä¸ªå¤§å‹æ§ä»¶æˆ–æ¨¡å—çš„ç‹¬ç«‹æ ·å¼ã€‚ çš®è‚¤å‹æ ·å¼ï¼šå¦‚æœäº§å“éœ€è¦æ¢è‚¤åŠŸèƒ½ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦å°†é¢œè‰²ã€èƒŒæ™¯ç­‰æŠ½ç¦»å‡ºæ¥æ”¾åœ¨è¿™é‡Œã€‚ å‚è€ƒï¼šCSSè§„èŒƒ - åˆ†ç±»æ–¹æ³• å…ƒç´ ç«–å‘çš„ç™¾åˆ†æ¯”è®¾å®šæ˜¯ç›¸å¯¹äºçˆ¶å®¹å™¨çš„é«˜åº¦å—ï¼Ÿ å¯¹äº height å±æ€§æ¥è¯´æ˜¯çš„ã€‚ å¯¹äº margin-top/bottom(padding-top/bottom) æ¥è®²ä¸æ˜¯ï¼Œè€Œæ˜¯ç›¸å¯¹äºå®¹å™¨çš„å®½åº¦è®¡ç®—çš„ ä»€ä¹ˆæ˜¯å“åº”å¼è®¾è®¡ï¼Ÿå“åº”å¼è®¾è®¡çš„åŸºæœ¬åŸç†æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å…¼å®¹ä½ç‰ˆæœ¬çš„IEï¼Ÿå“åº”å¼ç½‘ç«™è®¾è®¡ï¼ˆResponsive Web designï¼‰æ˜¯ä¸€ä¸ªç½‘ç«™èƒ½å¤Ÿå…¼å®¹å¤šä¸ªç»ˆç«¯ï¼Œè€Œä¸æ˜¯ä¸ºæ¯ä¸€ä¸ªç»ˆç«¯åšä¸€ä¸ªç‰¹å®šçš„ç‰ˆæœ¬ã€‚åŸºæœ¬åŸç†æ˜¯é€šè¿‡åª’ä½“æŸ¥è¯¢æ£€æµ‹ä¸åŒçš„è®¾å¤‡å±å¹•å°ºå¯¸åšå¤„ç†ã€‚ 1234567@media screen and (max-width: 990px) &#123; .container&#123; background: orange; &#125;&#125;/* &lt;head&gt;é‡Œè¾¹ &lt;link rel=â€stylesheetâ€ href=â€xxx.cssâ€ media=â€only screen and (max-width:480px)â€&gt; */ é¡µé¢å¤´éƒ¨å¿…é¡»æœ‰ meta å£°æ˜çš„ viewport ï¼š 1&lt;meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"&gt; å…¼å®¹ ie6-8 æ–¹æ¡ˆï¼šä½¿ç”¨ respond.js æ’ä»¶ï¼š 123&lt;!--[if lte IE 8]&gt;&lt;script src="https://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"&gt;&lt;/script&gt;&lt;![endif]--&gt; å“åº”å¼å’Œè‡ªé€‚åº”è®¾è®¡çš„åŒºåˆ«å…¶å® RWD å’Œ AWD éƒ½æ˜¯å“åº”å¼è®¾è®¡ï¼Œä»å¤–è§‚ä¸Šå¾ˆéš¾åˆ†è¾¨ï¼Œä½†ä»–ä»¬è‡ªå·±è¿è¡Œæœºç†ä¸åŒï¼Œ RWD æ˜¯ä¸»åŠ¨å¼çš„å“åº”è®¾è®¡ï¼ŒAWD æ˜¯è¢«åŠ¨å¼çš„å“åº”å¼è®¾è®¡ã€‚ RWD ä¸ç®¡ç”¨æˆ·ä½¿ç”¨çš„æ˜¯ä»€ä¹ˆè®¾å¤‡éƒ½æ˜¯åœ¨æœåŠ¡å™¨æŠŠæ•°æ®æ¨é€åˆ°æµè§ˆå™¨åï¼Œè„šæœ¬æˆ– CSS è‡ªè¡Œä¾¦æµ‹å±å¹•å¤§å°åæ‰§è¡Œå¯¹åº”çš„æ ·å¼è¡¨å†…å®¹ï¼Œå¹¶ä¸”ä¸€ç›´é€šè¿‡æœ¬åœ°è„šæœ¬åœ¨ç›‘å¬å±å¹•å¤§å°çš„å˜åŒ–ï¼Œéšæ—¶åšå‡ºæ ·å¼å“åº”çš„å˜åŒ–ï¼Œæ‰€ä»¥æ˜¯ä¸»åŠ¨çš„ã€‚ AWD æ˜¯ç”¨æˆ·é€šè¿‡æµè§ˆå™¨å‘é€è¯·æ±‚åï¼ŒæœåŠ¡å™¨æ ¹æ®è¯·æ±‚ä¸­ç”¨æˆ·è®¾å¤‡ä¿¡æ¯ï¼ˆrequest headers çš„ user-agentï¼‰åšå‡ºåˆ¤æ–­ï¼Œè°ƒç”¨å·²ç»åœ¨æœåŠ¡å™¨é‡Œå‡†å¤‡å¥½çš„ï¼Œé€‚åº”å¯¹åº”è®¾å¤‡æ ·å¼æ–‡ä»¶+HTMLå†…å®¹+JSï¼Œè¿”å›ç»™æµè§ˆå™¨ä»¥è¿™ç§æ–¹å¼å“åº”ä¸åŒè®¾å¤‡ã€‚ 1234567var deviceAgent = request.headers["user-agent"].toLowerCase();var agentID = deviceAgent.match(/(iphone|ipod|ipad|android)/);if (agentID) &#123; console.log("æ‰‹æœºè®¿é—®");&#125; else &#123; console.log("ç”µè„‘è®¿é—®");&#125; ä½ å¯¹ line-height æ˜¯å¦‚ä½•ç†è§£çš„ï¼Ÿå¦‚ä½•å•è¡Œæ–‡æœ¬å‚ç›´å±…ä¸­ï¼Ÿå¤šè¡Œæ–‡æœ¬å‘¢ï¼Ÿè¡Œé«˜æ˜¯æŒ‡ä¸€è¡Œæ–‡å­—çš„é«˜åº¦ï¼Œå…·ä½“è¯´æ˜¯ä¸¤è¡Œæ–‡å­—é—´åŸºçº¿çš„è·ç¦»ã€‚CSS ä¸­èµ·é«˜åº¦ä½œç”¨çš„æ˜¯ height å’Œ line-height ï¼Œæ²¡æœ‰å®šä¹‰ height å±æ€§ï¼Œæœ€ç»ˆå…¶è¡¨ç°ä½œç”¨ä¸€å®šæ˜¯ line-height ã€‚ å•è¡Œæ–‡æœ¬å‚ç›´å±…ä¸­ï¼šï¼ˆè¡Œé«˜ == å…ƒç´ é«˜åº¦ï¼‰12height:40px;line-height:40px; /* è¡Œé«˜==é«˜ */ å¤šè¡Œæ–‡æœ¬å‚ç›´å±…ä¸­ï¼šï¼ˆçˆ¶å®¹å™¨tableï¼Œå­å®¹å™¨table-cell+vertical-align:middleï¼‰12345678910111213141516&lt;div&gt; &lt;span&gt; å•Šå®æ‰“å®å¤§è‹æ‰“å•Šå®æ‰“å®å¤§å¸ˆå¤§å¸ˆçš„å•Šå®æ‰“å®å¤§è‹æ‰“ &lt;/span&gt;&lt;/div&gt;div &#123; width: 300px; height: 200px; display: table; background-color: pink;&#125;span &#123; display: table-cell; vertical-align: middle;&#125; è®¾ç½®å…ƒç´ æµ®åŠ¨åï¼Œè¯¥å…ƒç´ çš„displayå€¼æ˜¯å¤šå°‘ï¼Ÿè‡ªåŠ¨å˜æˆäº† display: block è®©é¡µé¢é‡Œçš„å­—ä½“å˜æ¸…æ™°ï¼Œå˜ç»†ç”¨ CSS æ€ä¹ˆåšï¼Ÿ1-webkit-font-smoothing: antialiased; overflow: scroll æ—¶ä¸èƒ½å¹³æ»‘æ»šåŠ¨çš„é—®é¢˜æ€ä¹ˆå¤„ç†ï¼Ÿä¸€ä¸ª div ä½¿ç”¨äº† overflow:scroll; ï¼Œåœ¨ç§»åŠ¨ç«¯å¯ä»¥æ»šåŠ¨ï¼Œä½†æ˜¯æ— æ³•å¹³æ»‘æ»šåŠ¨ï¼ˆå°±åƒæµè§ˆç½‘é¡µé‚£æ ·ï¼‰ å¼€å¯æ»šåŠ¨ç¡¬ä»¶åŠ é€Ÿï¼š 1-webkit-overflow-scrolling: touch; ä»€ä¹ˆæ˜¯ CSS é¢„å¤„ç†å™¨ / åå¤„ç†å™¨ï¼ŸCSS é¢„å¤„ç†å™¨CSS é¢„å¤„ç†å™¨å®šä¹‰äº†ä¸€ç§æ–°çš„è¯­è¨€ï¼Œå…¶åŸºæœ¬æ€æƒ³æ˜¯ï¼Œç”¨ä¸€ç§ä¸“é—¨çš„ç¼–ç¨‹è¯­è¨€ï¼Œä¸º CSS å¢åŠ äº†ä¸€äº›ç¼–ç¨‹çš„ç‰¹æ€§ï¼Œå°† CSS ä½œä¸ºç›®æ ‡ç”Ÿæˆæ–‡ä»¶ï¼Œç„¶åå¼€å‘è€…å°±åªè¦ä½¿ç”¨è¿™ç§è¯­è¨€è¿›è¡Œç¼–ç å·¥ä½œã€‚é€šä¿—çš„è¯´ï¼ŒCSS é¢„å¤„ç†å™¨ç”¨ä¸€ç§ä¸“é—¨çš„ç¼–ç¨‹è¯­è¨€ï¼Œè¿›è¡Œ Web é¡µé¢æ ·å¼è®¾è®¡ï¼Œç„¶åå†ç¼–è¯‘æˆæ­£å¸¸çš„ CSS æ–‡ä»¶ Sassï¼ˆSCSSï¼‰ã€LESS CSS åå¤„ç†å™¨CSS åå¤„ç†å™¨ æ˜¯å¯¹ CSS è¿›è¡Œå¤„ç†ï¼Œå¹¶æœ€ç»ˆç”Ÿæˆ CSS çš„ é¢„å¤„ç†å™¨ï¼Œå®ƒå±äºå¹¿ä¹‰ä¸Šçš„ CSS é¢„å¤„ç†å™¨ã€‚ æˆ‘ä»¬å¾ˆä¹…ä»¥å‰å°±åœ¨ç”¨ CSS åå¤„ç†å™¨ äº†ï¼Œæœ€å…¸å‹çš„ä¾‹å­æ˜¯ CSS å‹ç¼©å·¥å…·ï¼ˆå¦‚ clean-cssï¼‰ï¼Œåªä¸è¿‡ä»¥å‰æ²¡å•ç‹¬æ‹¿å‡ºæ¥è¯´è¿‡ã€‚è¿˜æœ‰æœ€è¿‘æ¯”è¾ƒç«çš„ Autoprefixerï¼Œä»¥ Can I Use ä¸Šçš„ æµè§ˆå™¨æ”¯æŒæ•°æ® ä¸ºåŸºç¡€ï¼Œè‡ªåŠ¨å¤„ç†å…¼å®¹æ€§é—®é¢˜ã€‚ Reworkã€PostCSS å‚è€ƒï¼šCSSé¢„å¤„ç†å™¨å’Œåå¤„ç†å™¨ å›¾ç‰‡ä¸ºä»€ä¹ˆæœ‰å·¦å³ä¸Šä¸‹é—´éš™,æ€ä¹ˆå»é™¤ï¼šåŸå› ï¼š å·¦å³ï¼šå› ä¸º img æ˜¯ inline-block è¡Œå†…å…ƒç´ ï¼Œè¡Œå†…å…ƒç´ ä¹‹é—´æœ‰ã€æ¢è¡Œï¼ˆå›è½¦ï¼‰ï¼Œç©ºæ ¼ï¼Œtabã€æ—¶ä¼šäº§ç”Ÿå·¦å³é—´éš™ ä¸Šä¸‹ï¼šè¡Œå†…å…ƒç´ é»˜è®¤ä¸çˆ¶å®¹å™¨åŸºçº¿å¯¹é½ï¼Œè€ŒåŸºçº¿ä¸çˆ¶å®¹å™¨åº•éƒ¨æœ‰ä¸€å®šé—´éš™ï¼Œæ‰€ä»¥ä¸Šä¸‹å›¾ç‰‡é—´æœ‰é—´éš™ è§£å†³åŠæ³•ï¼š ç§»é™¤ä¸Šä¸‹é—´éš™ï¼š img æœ¬èº«è®¾ç½® display: block; çˆ¶å…ƒç´ è®¾ç½® font-size: 0; ï¼ˆåŸºçº¿ä¸å­—ä½“å¤§å°æœ‰å…³ï¼Œå­—ä½“ä¸ºé›¶ï¼ŒåŸºçº¿é—´å°±æ²¡è·ç¦»äº†ï¼‰ imgæœ¬èº«è®¾ç½® vertical-align: bottom;ï¼ˆè®© inline-block çš„ img ä¸æ¯è¡Œçš„åº•éƒ¨å¯¹é½ï¼‰ ç§»é™¤å·¦å³é—´è·ï¼š è¡Œå†…å…ƒç´ é—´ä¸è¦æœ‰æ¢è¡Œï¼Œè¿æˆä¸€è¡Œå†™æ¶ˆé™¤é—´éš™ ç¬¬ä¸€è¡Œç»“å°¾å†™ä¸Š &lt;!-- ï¼Œç¬¬äºŒè¡Œå¼€å¤´è·Ÿä¸Š --&gt; ã€‚å³åˆ©ç”¨æ³¨é‡Šæ¶ˆé™¤é—´è· çˆ¶å…ƒç´  font-size è®¾ç½® 0]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>é¢è¯•</category>
      </categories>
      <tags>
        <tag>é¢è¯•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HTMLçŸ¥è¯†ç‚¹ï¼ˆé¢è¯•ç³»åˆ—ï¼‰]]></title>
    <url>%2Fposts%2F13781%2F</url>
    <content type="text"><![CDATA[ä½ å¯¹è¯­ä¹‰åŒ–çš„ç†è§£ç”¨æ­£ç¡®çš„æ ‡ç­¾åšæ­£ç¡®çš„äº‹æƒ… åˆ©äºå¼€å‘ï¼šä½¿ä»£ç ç»“æ„æ¸…æ™°ï¼Œå¯è¯»æ€§é«˜ï¼Œæ–¹ä¾¿ç»´æŠ¤ åˆ©äºSEOï¼šæ–¹ä¾¿çˆ¬è™«æ ¹æ®è¯­ä¹‰æ ‡ç­¾ç¡®å®šé¡µé¢ç»“æ„å’Œå…³é”®å­—çš„æƒé‡ ä½ åœ¨å¹³å¸¸å·¥ä½œä¸­ä½¿ç”¨è¿‡å“ªäº›è¯­ä¹‰æ ‡ç­¾ï¼Ÿheader, nav, aside, main, section, article, footer, canvas, video, audio ä½ è¯´ä½ ç”¨è¿‡canvas/video/audioï¼Œä½ æ˜¯æ€ä¹ˆç”¨å®ƒä»¬çš„ï¼Ÿ ç”»å¸ƒï¼šcanvas 123456789101112131415&lt;body&gt; &lt;canvas width="500" height="500"&gt;&lt;/canvas&gt; &lt;script&gt; var canvas = document.querySelector("canvas") &lt;!-- è·å–ä¸Šä¸‹æ–‡ --&gt; var ctx = canvas.getContext("2d") ctx.beginPath() &lt;!-- è®¾ç½®å›¾å½¢è½®å»“çš„é¢œè‰² --&gt; ctx.strokeStyle = "red" &lt;!-- ç»˜åˆ¶ç›´çº¿ --&gt; ctx.moveTo(10, 20) ctx.lineTo(100, 200) ctx.stroke() &lt;/script&gt; &lt;/body&gt; åª’ä½“å…ƒç´ ï¼švideo å’Œ audio 12&lt;video src="è§†é¢‘èµ„æºè·¯å¾„" poster="æµ·æŠ¥èµ„æºè·¯å¾„" controls autoplay&gt;&lt;audio src="éŸ³é¢‘èµ„æºè·¯å¾„" controls autoplay loop&gt; è§£é‡Šä¸‹ç§»åŠ¨ç«¯ä¸ºä»€ä¹ˆè¦æ·»åŠ  meta viewport ï¼Œæ€ä¹ˆå†™ï¼Ÿä½œç”¨ï¼š é˜²æ­¢é¡µé¢åœ¨ç§»åŠ¨ç«¯å¯ä»¥ç¼©æ”¾ã€‚ å†™æ³•ï¼š 1&lt;meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"&gt; è§£é‡Šï¼š ä½¿ç”¨ viewport æ¥æ§åˆ¶æµè§ˆå™¨è§†å£çš„å®½åº¦å’Œç¼©æ”¾æ¯”ä¾‹ æ·»åŠ  width=device-width ä»¥ä¾¿è®©è§†å£çš„å®½åº¦ä¸è®¾å¤‡ä¸€è‡´ æ·»åŠ  initial-scale=1.0 è®¾ç½®åˆå§‹ç¼©æ”¾æ¯”ä¾‹ä¸º1.0 æ·»åŠ  user-scalable=no ä½¿å¾—ç”¨æˆ·ä¸èƒ½æ”¾å¤§æˆ–ç¼©å°ç½‘é¡µ æ·»åŠ  minimum-scale=1.0, maximum-scale=1.0 æ˜¯ä¸ºäº†å…¼å®¹ iOS10 ä¸æ”¯æŒ user-scalable å¯¼è‡´ç”¨æˆ·ä»å¯ç¼©æ”¾ å‚è€ƒé˜…è¯»ï¼š åœ¨ç§»åŠ¨æµè§ˆå™¨ä¸­ä½¿ç”¨viewportå…ƒæ ‡ç­¾æ§åˆ¶å¸ƒå±€ HTML å…·æœ‰è§†å£å…ƒæ ‡è®° ç§»åŠ¨ç«¯webå¼€å‘â€”â€”è§†å£ å…³äºå›¾ç‰‡ï¼Œä½ äº†è§£å“ªäº›å½¢å¼ï¼Œä½ è§‰å¾—å“ªç§åœºåˆç”¨å“ªç§ï¼Ÿå®ƒä»¬ä¼˜åŠ£å¦‚ä½•ï¼Ÿç„¶åè¿™äº›å›¾ç‰‡çš„åº”ç”¨åœºæ™¯èƒ½è¯´è¯´ä¸ï¼Ÿ æ ¼å¼ ç‰¹ç‚¹ ä½¿ç”¨åœºæ™¯ JPG/JPEG æœ‰æŸå‹ç¼© ä½“ç§¯å° ä¸æ”¯æŒé€æ˜ 1. å¤§çš„èƒŒæ™¯å›¾ï¼› 2. è½®æ’­å›¾ï¼› 3. Banner å›¾ PNG æ— æŸå‹ç¼© è´¨é‡é«˜ ä½“ç§¯å¤§ æ”¯æŒé€æ˜ 1. å° Logoï¼› 2. é€æ˜èƒŒæ™¯ GIF æ”¯æŒåŠ¨ç”» åŠ¨æ€å›¾ç‰‡ SVG æ–‡æœ¬æ–‡ä»¶ ä½“ç§¯å° ä¸å¤±çœŸ å…¼å®¹æ€§å¥½ èƒ½é€‚åº”ä¸åŒè®¾å¤‡ä¸”ç”»è´¨ä¸èƒ½æŸåçš„å›¾ç‰‡ Base64 æ–‡æœ¬æ–‡ä»¶ ä¾èµ–ç¼–ç  å°å›¾æ ‡è§£å†³æ–¹æ¡ˆ å¤§å°ä¸è¶…è¿‡ 2KBï¼Œä¸”æ›´æ–°ç‡ä½çš„å›¾ç‰‡ webp ç»†èŠ‚ä¸°å¯Œ æ”¯æŒé€æ˜ æ”¯æŒåŠ¨ç”» å…¼å®¹æ€§å·® Chrome UC ç­‰æµè§ˆå™¨æ”¯æŒï¼Œå±€é™æ€§å¤§ï¼Œä¸€èˆ¬ä¸è€ƒè™‘ é›ªç¢§å›¾ ä¸€æ¬¡åŠ è½½å¤šå¤„ä½¿ç”¨ å°å›¾å¤ªå¤šçš„æ—¶å€™ï¼Œé›†ä¸­æˆä¸€å¼ å›¾ç‰‡å‡å°‘ HTTP è¯·æ±‚ æ›´å¤šé˜…è¯»ï¼šé¢è¯•çŸ¥è¯†ç‚¹ - å›¾ç‰‡]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>é¢è¯•</category>
      </categories>
      <tags>
        <tag>é¢è¯•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JSçŸ¥è¯†ç‚¹ï¼ˆé¢è¯•ç³»åˆ—ï¼‰]]></title>
    <url>%2Fposts%2F31920%2F</url>
    <content type="text"><![CDATA[JSç±»å‹stringï¼Œnumberï¼Œbooleanï¼Œundefinedï¼Œnullï¼Œsymbolï¼Œobject å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹çš„åŒºåˆ«ä¸¤ç§ç±»å‹çš„åŒºåˆ«æ˜¯ï¼šå­˜å‚¨ä½ç½®ä¸åŒï¼› å€¼ç±»å‹å­˜å‚¨åœ¨æ ˆï¼ˆstackï¼‰ä¸­ï¼Œå ç©ºé—´å°ã€å¤§å°å›ºå®šï¼Œå±äºè¢«é¢‘ç¹ä½¿ç”¨æ•°æ®ï¼Œæ‰€ä»¥æ”¾å…¥æ ˆä¸­å­˜å‚¨ï¼› å¼•ç”¨ç±»å‹å­˜å‚¨åœ¨å †ï¼ˆheapï¼‰ä¸­,å æ®ç©ºé—´å¤§ã€å¤§å°ä¸å›ºå®šã€‚å¦‚æœå­˜åœ¨æ ˆä¸­ï¼Œå½±å“ç¨‹åºè¿è¡Œæ€§èƒ½ï¼›å¼•ç”¨ç±»å‹åœ¨æ ˆä¸­å­˜å‚¨äº†æŒ‡é’ˆï¼Œè¯¥æŒ‡é’ˆæŒ‡å‘å †ä¸­è¯¥å®ä½“çš„èµ·å§‹åœ°å€ã€‚å½“è§£é‡Šå™¨å¯»æ‰¾å¼•ç”¨å€¼æ—¶ï¼Œä¼šé¦–å…ˆæ£€ç´¢å…¶åœ¨æ ˆä¸­çš„åœ°å€ï¼Œå–å¾—åœ°å€åä»å †ä¸­è·å¾—å®ä½“ã€‚ JSçš„ç±»å‹æ£€æµ‹ typeof ï¼ˆåˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯ä»€ä¹ˆç±»å‹ï¼‰undefined object function boolean string number symbol instanceof ï¼ˆåˆ¤æ–­å½“å‰å¯¹è±¡æ˜¯ä¸æ˜¯æŸä¸ªç±»å‹ï¼‰ 1234567891011121314&lt;!-- è¦æ£€æµ‹çš„å¯¹è±¡ instanceof æŸä¸ªæ„é€ å‡½æ•° --&gt;function Car(make, model, year) &#123; this.make = make; this.model = model;&#125;var auto = new Car('Honda', 'Accord');console.log(auto instanceof Car);// expected output: trueconsole.log(auto instanceof Object);// expected output: true Object.prototype.toString.call()ï¼ˆæ£€æµ‹ä¸€ä¸ªå¯¹è±¡çš„ç±»å‹ï¼‰ 1console.log(Object.prototype.toString.call("Lance"));//[object String] === å’Œ == çš„åŒºåˆ«== åœ¨å…è®¸å¼ºåˆ¶è½¬æ¢çš„æ¡ä»¶ä¸‹æ£€æŸ¥å€¼çš„ç­‰ä»·æ€§ï¼Œè€Œ === æ˜¯åœ¨ä¸å…è®¸å¼ºåˆ¶è½¬æ¢çš„æ¡ä»¶ä¸‹æ£€æŸ¥å€¼çš„ç­‰ä»·æ€§ï¼› å› æ­¤ === å¸¸è¢«ç§°ä¸ºã€Œä¸¥æ ¼ç­‰ä»·ã€ã€‚ï¼ˆâ€55â€ == 55 true, â€œ55â€ === 55 falseã€‚p.s. æŠŠå­—ç¬¦ä¸²è½¬ä¸ºæ•°å€¼ï¼‰ å“ªäº›é boolean å€¼è¢«å¼ºåˆ¶è½¬æ¢ä¸ºä¸€ä¸ª boolean æ—¶ï¼Œå®ƒæ˜¯ false ï¼Ÿ &quot;&quot;ï¼ˆç©ºå­—ç¬¦ä¸²ï¼‰ 0, -0, NaN ï¼ˆéæ³•çš„ number ï¼‰ null, undefined nullï¼Œundefined çš„åŒºåˆ«ï¼Ÿ null è¡¨ç¤ºä¸€ä¸ªå¯¹è±¡æ˜¯ã€Œæ²¡æœ‰å€¼ã€çš„å€¼ï¼Œä¹Ÿå°±æ˜¯å€¼ä¸º â€œç©ºâ€ï¼› undefined è¡¨ç¤ºä¸€ä¸ªå˜é‡å£°æ˜äº†æ²¡æœ‰åˆå§‹åŒ–(èµ‹å€¼)ï¼› undefined çš„ç±»å‹ï¼ˆtypeofï¼‰æ˜¯ undefined ï¼› null çš„ç±»å‹ï¼ˆtypeofï¼‰æ˜¯ object ï¼› JavaScript å°†æœªèµ‹å€¼çš„å˜é‡é»˜è®¤å€¼è®¾ä¸ºundefinedï¼› JavaScript ä»æ¥ä¸ä¼šå°†å˜é‡è®¾ä¸º null ã€‚å®ƒæ˜¯ç”¨æ¥è®©ç¨‹åºå‘˜è¡¨æ˜æŸä¸ªç”¨ var å£°æ˜çš„å˜é‡æ—¶æ²¡æœ‰å€¼çš„ã€‚ åœ¨éªŒè¯ null æ—¶ï¼Œä¸€å®šè¦ä½¿ç”¨ === ï¼Œå› ä¸º == æ— æ³•åˆ†åˆ« null å’Œ undefined 12null == undefined // truenull === undefined // false DOMDOM æ“ä½œâ€”â€”æ€æ ·æ·»åŠ ã€ç§»é™¤ã€ç§»åŠ¨ã€å¤åˆ¶ã€åˆ›å»ºå’ŒæŸ¥æ‰¾èŠ‚ç‚¹ï¼Ÿ1234567891011121314ï¼ˆ1ï¼‰åˆ›å»ºæ–°èŠ‚ç‚¹ createDocumentFragment() //åˆ›å»ºä¸€ä¸ªDOMç‰‡æ®µ createElement() //åˆ›å»ºä¸€ä¸ªå…·ä½“çš„å…ƒç´  createTextNode() //åˆ›å»ºä¸€ä¸ªæ–‡æœ¬èŠ‚ç‚¹ï¼ˆ2ï¼‰æ·»åŠ ã€ç§»é™¤ã€æ›¿æ¢ã€æ’å…¥ appendChild() removeChild() replaceChild() insertBefore() //åœ¨å·²æœ‰çš„å­èŠ‚ç‚¹å‰æ’å…¥ä¸€ä¸ªæ–°çš„å­èŠ‚ç‚¹ï¼ˆ3ï¼‰æŸ¥æ‰¾ querySelector("ul") / querySelectorAll("ul li") // æŸ¥æ‰¾å•ä¸ªå…ƒç´  / å¤šä¸ªå…ƒç´  getElementsByTagName("div") getElementsByClassName() getElementById() DOMæ•°æ“ä½œ123456789101112131415161718192021// æ·»åŠ æ–°èŠ‚ç‚¹var p1 = document.createElement('p')p1.innerHTML = 'this is p1'div1.appendChild(p1) // æ·»åŠ æ–°åˆ›å»ºçš„å…ƒç´ // ç§»åŠ¨å·²æœ‰èŠ‚ç‚¹ã€‚æ³¨æ„ï¼Œè¿™é‡Œæ˜¯â€œç§»åŠ¨â€ï¼Œå¹¶ä¸æ˜¯æ‹·è´var p2 = document.getElementById('p2')div1.appendChild(p2)// è·å–çˆ¶å…ƒç´ var div1 = document.getElementById('div1')var parent = div1.parentElement// è·å–å­å…ƒç´ var div1 = document.getElementById('div1')var child = div1.childNodes// åˆ é™¤èŠ‚ç‚¹var div1 = document.getElementById('div1')var child = div1.childNodesdiv1.removeChild(child[0]) offsetWidth/offsetHeightï¼ŒclientWidth/clientHeight ä¸ scrollWidth/scrollHeight çš„åŒºåˆ« offsetWidth/offsetHeight è¿”å›å€¼åŒ…å« content + padding + borderï¼Œæ•ˆæœä¸ e.getBoundingClientRect() ç›¸åŒï¼› clientWidth/clientHeight è¿”å›å€¼åªåŒ…å« content + paddingï¼Œå¦‚æœæœ‰æ»šåŠ¨æ¡ï¼Œä¹Ÿä¸åŒ…å«æ»šåŠ¨æ¡ï¼› scrollWidth/scrollHeight è¿”å›å€¼åŒ…å« content + padding + æº¢å‡ºå†…å®¹çš„å°ºå¯¸ã€‚ ä»€ä¹ˆæ˜¯ Virtual DOMï¼Œä¸ºä½•è¦ç”¨ Virtual DOMï¼ŸVirtual DOM çš„æ¦‚å¿µæœ‰å¾ˆå¤šè§£é‡Šï¼Œåˆ†åˆ«æ˜¯ï¼šä¸€ä¸ªå¯¹è±¡ï¼Œä¸¤ä¸ªå‰æï¼Œä¸‰ä¸ªæ­¥éª¤ã€‚ ä¸€ä¸ªå¯¹è±¡æŒ‡çš„æ˜¯ Virtual DOM æ˜¯ä¸€ä¸ªåŸºæœ¬çš„ JavaScript å¯¹è±¡ï¼Œä¹Ÿæ˜¯æ•´ä¸ª Virtual DOM æ ‘çš„åŸºæœ¬ã€‚ ä¸¤ä¸ªå‰æåˆ†åˆ«æ˜¯ JavaScript å¾ˆå¿«å’Œç›´æ¥æ“ä½œ DOM å¾ˆæ…¢ï¼Œè¿™æ˜¯ Virtual DOM å¾—ä»¥å®ç°çš„ä¸¤ä¸ªåŸºæœ¬å‰æã€‚ å¾—ç›Šäº V8 å¼•æ“çš„å‡ºç°ï¼Œè®© JavaScript å¯ä»¥é«˜æ•ˆåœ°è¿è¡Œï¼Œåœ¨æ€§èƒ½ä¸Šæœ‰äº†æå¤§çš„æé«˜ã€‚ ç›´æ¥æ“ä½œ DOM çš„ä½æ•ˆå’Œ JavaScript çš„é«˜æ•ˆç›¸å¯¹æ¯”ï¼Œä¸º Virtual DOM çš„äº§ç”Ÿæä¾›äº†å¤§å‰æã€‚ ä¸‰ä¸ªæ­¥éª¤æŒ‡çš„æ˜¯ Virtual DOM çš„ä¸‰ä¸ªé‡è¦æ­¥éª¤ï¼Œåˆ†åˆ«æ˜¯ï¼šç”Ÿæˆ Virtual DOM æ ‘ã€å¯¹æ¯”ä¸¤æ£µæ ‘çš„å·®å¼‚ã€æ›´æ–°è§†å›¾ã€‚ 1.ç”Ÿæˆ Virtual DOM æ ‘ï¼š DOM æ˜¯å‰ç«¯å·¥ç¨‹å¸ˆæœ€å¸¸æ¥è§¦çš„å†…å®¹ä¹‹ä¸€ï¼Œä¸€ä¸ª DOM èŠ‚ç‚¹åŒ…å«äº†å¾ˆå¤šçš„å†…å®¹ï¼Œä½†æ˜¯æŠ½è±¡å‡ºä¸€ä¸ª DOM èŠ‚ç‚¹å´åªéœ€è¦ä¸‰éƒ¨åˆ†ï¼šèŠ‚ç‚¹ç±»å‹ï¼ŒèŠ‚ç‚¹å±æ€§ã€å­èŠ‚ç‚¹ã€‚æ‰€ä»¥å›´ç»•è¿™ä¸‰ä¸ªéƒ¨åˆ†ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ JavaScript ç®€å•åœ°å®ç°ä¸€æ£µ DOM æ ‘ï¼Œç„¶åç»™èŠ‚ç‚¹å®ç°æ¸²æŸ“æ–¹æ³•ï¼Œå°±å¯ä»¥å®ç°è™šæ‹ŸèŠ‚ç‚¹åˆ°çœŸå® DOM çš„è½¬åŒ–ã€‚ 2.å¯¹æ¯”ä¸¤æ£µæ ‘çš„å·®å¼‚ï¼š æ¯”è¾ƒä¸¤æ£µ DOM æ ‘çš„å·®å¼‚æ˜¯ Virtual DOM ç®—æ³•æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬å¸¸è¯´çš„çš„ Virtual DOM çš„ diff ç®—æ³•ã€‚åœ¨æ¯”è¾ƒçš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬åªæ¯”è¾ƒåŒçº§çš„èŠ‚ç‚¹ï¼ŒéåŒçº§çš„èŠ‚ç‚¹ä¸åœ¨æˆ‘ä»¬çš„æ¯”è¾ƒèŒƒå›´å†…ï¼Œè¿™æ ·æ—¢å¯ä»¥æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ï¼Œåˆå¯ä»¥ç®€åŒ–ç®—æ³•å®ç°ã€‚ æ¯”è¾ƒâ€œæ ‘â€çš„å·®å¼‚ï¼Œé¦–å…ˆæ˜¯è¦å¯¹æ ‘è¿›è¡Œéå†ï¼Œå¸¸ç”¨çš„æœ‰ä¸¤ç§éå†ç®—æ³•ï¼Œåˆ†åˆ«æ˜¯æ·±åº¦ä¼˜å…ˆéå†å’Œå¹¿åº¦ä¼˜å…ˆéå†ï¼Œä¸€èˆ¬çš„ diff ç®—æ³•ä¸­éƒ½é‡‡ç”¨çš„æ˜¯æ·±åº¦ä¼˜å…ˆéå†ã€‚å¯¹æ–°æ—§ä¸¤æ£µæ ‘è¿›è¡Œä¸€æ¬¡æ·±åº¦ä¼˜å…ˆçš„éå†ï¼Œè¿™æ ·æ¯ä¸ªèŠ‚ç‚¹éƒ½ä¼šæœ‰ä¸€ä¸ªå”¯ä¸€çš„æ ‡è®°ã€‚åœ¨éå†çš„æ—¶å€™ï¼Œæ¯éå†åˆ°ä¸€ä¸ªèŠ‚ç‚¹å°±æŠŠè¯¥èŠ‚ç‚¹å’Œæ–°çš„æ ‘çš„åŒä¸€ä¸ªä½ç½®çš„èŠ‚ç‚¹è¿›è¡Œå¯¹æ¯”ï¼Œå¦‚æœæœ‰å·®å¼‚çš„è¯å°±è®°å½•åˆ°ä¸€ä¸ªå¯¹è±¡é‡Œé¢ã€‚ ä¾‹å¦‚ï¼Œä¸Šé¢çš„ div å’Œæ–°çš„ div æœ‰å·®å¼‚ï¼Œå½“å‰çš„æ ‡è®°æ˜¯ 0ï¼Œé‚£ä¹ˆï¼špatches[0] = [{difference}, {difference}, â€¦]ã€‚åŒç† p æ˜¯ patches[1]ï¼Œul æ˜¯ patches[3]ï¼Œä»¥æ­¤ç±»æ¨ã€‚è¿™æ ·å½“éå†å®Œæ•´æ£µæ ‘çš„æ—¶å€™ï¼Œå°±å¯ä»¥è·å¾—ä¸€ä¸ªå®Œæ•´çš„å·®å¼‚å¯¹è±¡ã€‚ åœ¨è¿™ä¸ªå·®å¼‚å¯¹è±¡ä¸­è®°å½•äº†æœ‰æ”¹å˜çš„èŠ‚ç‚¹ï¼Œæ¯ä¸€ä¸ªå‘ç”Ÿæ”¹å˜çš„å†…å®¹ä¹Ÿä¸å°½ç›¸åŒï¼Œä½†ä¹Ÿæ˜¯æœ‰è¿¹å¯å¾ªï¼Œå¸¸è§çš„å·®å¼‚åŒ…æ‹¬å››ç§ï¼Œåˆ†åˆ«æ˜¯ï¼š æ›¿æ¢èŠ‚ç‚¹ å¢åŠ /åˆ é™¤å­èŠ‚ç‚¹ ä¿®æ”¹èŠ‚ç‚¹å±æ€§ æ”¹å˜æ–‡æœ¬å†…å®¹ å¯¹è±¡çš„åŸç”Ÿæ–¹æ³•Object.assign()copy å¯¹è±¡çš„å¯æšä¸¾å±æ€§ è¯­æ³•ï¼šObject.assign(target, â€¦sources) å‚æ•°ï¼šç›®æ ‡å¯¹è±¡, â€¦æºå¯¹è±¡ è¿”å›å€¼ï¼šç›®æ ‡å¯¹è±¡ 123const obj = &#123; a: 1 &#125;;const copy = Object.assign(&#123;&#125;, obj);console.log(copy); // &#123; a: 1 &#125; Object.create()åˆ›å»ºæ–°å¯¹è±¡ è¯­æ³•ï¼šObject.create(proto, [ propertiesObject ]) å‚æ•°ï¼šæ–°åˆ›å»ºå¯¹è±¡çš„åŸå‹å¯¹è±¡, ç”¨äºæŒ‡å®šåˆ›å»ºå¯¹è±¡çš„ä¸€äº›å±æ€§ï¼Œï¼ˆegï¼šæ˜¯å¦å¯è¯»ã€æ˜¯å¦å¯å†™ï¼Œæ˜¯å¦å¯ä»¥æšä¸¾etcï¼‰ Object.is()ç”¨æ¥åˆ¤æ–­ä¸¤ä¸ªå€¼æ˜¯å¦æ˜¯åŒä¸€ä¸ªå€¼ 123456789101112131415Object.is('haorooms', 'haorooms'); // trueObject.is(window, window); // trueObject.is('foo', 'bar'); // falseObject.is([], []); // falsevar test = &#123; a: 1 &#125;;Object.is(test, test); // trueObject.is(null, null); // true// ç‰¹ä¾‹Object.is(0, -0); // falseObject.is(-0, -0); // trueObject.is(NaN, 0/0); // true Object.keys / Object.valuesè¿”å›ç»™å®šå¯¹è±¡çš„è‡ªèº«å¯æšä¸¾å±æ€§ / å€¼ çš„æ•°ç»„ï¼Œæ•°ç»„ä¸­å±æ€§åçš„æ’åˆ—é¡ºåºå’Œä½¿ç”¨ forâ€¦in å¾ªç¯éå†è¯¥å¯¹è±¡æ—¶è¿”å›çš„é¡ºåºä¸€è‡´ 1234567891011121314// simple arrayvar arr = ['a', 'b', 'c'];console.log(Object.keys(arr)); // console: ['0', '1', '2']// array like objectvar obj = &#123; 0: 'a', 1: 'b', 2: 'c' &#125;;console.log(Object.keys(obj)); // console: ['0', '1', '2']var obj = &#123; foo: 'bar', baz: 42 &#125;;console.log(Object.values(obj)); // ['bar', 42]// array like objectvar obj = &#123; 0: 'a', 1: 'b', 2: 'c' &#125;;console.log(Object.values(obj)); // ['a', 'b', 'c'] Object.entries()**Object.entries()** æ–¹æ³•è¿”å›å¯¹è±¡è‡ªèº«å¯æšä¸¾å±æ€§çš„é”®å€¼å¯¹æ•°ç»„ï¼Œå…¶æ’åˆ—ä¸ä½¿ç”¨ for...in å¾ªç¯éå†è¯¥å¯¹è±¡æ—¶è¿”å›çš„é¡ºåºä¸€è‡´ï¼ˆåŒºåˆ«åœ¨äº for-in å¾ªç¯ä¹Ÿæšä¸¾åŸå‹é“¾ä¸­çš„å±æ€§ï¼‰ã€‚ 12345678const obj = &#123; foo: 'bar', baz: 42 &#125;;console.log(Object.entries(obj)); // [ ['foo', 'bar'], ['baz', 42] ]// iterate through key-value gracefullyconst obj = &#123; a: 5, b: 7, c: 9 &#125;;for (const [key, value] of Object.entries(obj)) &#123; console.log(`$&#123;key&#125; $&#123;value&#125;`); // "a 5", "b 7", "c 9"&#125; æ•°ç»„æ•°ç»„çš„éå†æ–¹æ³• æ ‡å‡†forå¾ªç¯ forEach((å½“å‰å€¼, å½“å‰ç´¢å¼•,å½“å‰æ•°ç»„)=&gt;{}) æ— æ³•ä¸­é€”é€€å‡ºå¾ªç¯ï¼Œåªèƒ½ç”¨ return é€€å‡ºæœ¬æ¬¡å›è°ƒï¼Œè¿›è¡Œä¸‹ä¸€æ¬¡å›è°ƒã€‚ å®ƒæ€»æ˜¯è¿”å› undefined å€¼,å³ä½¿ä½  return äº†ä¸€ä¸ªå€¼ã€‚ for-inï¼ˆä¸æ¨èï¼‰ä¼šæŠŠç»§æ‰¿é“¾çš„å¯¹è±¡å±æ€§éƒ½ä¼šéå†ä¸€éï¼Œè€Œä¸”æ•°ç»„éå†ä¸ä¸€å®šæŒ‰æ¬¡åº for-in å¾ªç¯è¿”å›çš„æ˜¯æ‰€æœ‰èƒ½é€šè¿‡å¯¹è±¡è®¿é—®çš„ã€å¯æšä¸¾çš„å±æ€§ã€‚ for (variable of iterable)ï¼ˆES6ï¼‰å¯è¿­ä»£ Array ï¼ŒMapï¼ŒSetï¼ŒString ç­‰ï¼ˆè¿­ä»£çš„æ˜¯å€¼ value ï¼‰ åœ¨ for-of ä¸­å¦‚æœéå†ä¸­é€”è¦é€€å‡ºï¼Œå¯ä»¥ä½¿ç”¨ break é€€å‡ºå¾ªç¯ã€‚ ES5 map (ä¸æ”¹å˜åŸæ•°ç»„) ä¼šç»™åŸæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æŒ‰é¡ºåºè°ƒç”¨ä¸€æ¬¡ callback å‡½æ•° reduce (ä¸æ”¹å˜åŸæ•°ç»„) æ•°ç»„ä¸­çš„å‰é¡¹å’Œåé¡¹åšæŸç§è®¡ç®—,å¹¶ç´¯è®¡æœ€ç»ˆå€¼ã€‚ 12345678// arr.reduce(function(total, currentValue, currentIndex, arr), initialValue)// callback å‚æ•°// (ç´¯ç§¯å™¨, å½“å‰å…ƒç´ , å½“å‰å…ƒç´ ç´¢å¼•, å½“å‰æ•°ç»„)// initialValue:æŒ‡å®šç¬¬ä¸€æ¬¡å›è°ƒ çš„ç¬¬ä¸€ä¸ªå‚æ•°var wallets = [4, 7.8, 3]var totalMoney = wallets.reduce(function (countedMoney, curMoney) &#123; return countedMoney + curMoney;&#125;, 0) filterï¼ˆä¸æ”¹å˜åŸæ•°ç»„ï¼‰ 1234var arr = [2, 3, 4, 5, 6]var morearr = arr.filter(function (number) &#123; return number &gt; 3&#125;) // [4,5,6] everyï¼ˆä¸æ”¹å˜åŸæ•°ç»„ï¼‰æµ‹è¯•æ•°ç»„çš„æ‰€æœ‰å…ƒç´ æ˜¯å¦éƒ½é€šè¿‡äº†æŒ‡å®šå‡½æ•°çš„æµ‹è¯• å¦‚æœæ•°ç»„ä¸­æ£€æµ‹åˆ°æœ‰ä¸€ä¸ªå…ƒç´ ä¸æ»¡è¶³ï¼Œåˆ™æ•´ä¸ªè¡¨è¾¾å¼è¿”å› false ï¼Œä¸”å‰©ä½™çš„å…ƒç´ ä¸ä¼šå†è¿›è¡Œæ£€æµ‹ã€‚ å¦‚æœæ‰€æœ‰å…ƒç´ éƒ½æ»¡è¶³æ¡ä»¶ï¼Œåˆ™è¿”å› true ã€‚1234var arr = [1,2,3,4,5]var result = arr.every(function (item, index) &#123; return item &gt; 2&#125;) // false someï¼ˆä¸æ”¹å˜åŸæ•°ç»„ï¼‰æµ‹è¯•æ˜¯å¦è‡³å°‘æœ‰ä¸€ä¸ªå…ƒç´ é€šè¿‡ callback ä¸­çš„æ¡ä»¶.å¯¹äºæ”¾åœ¨ç©ºæ•°ç»„ä¸Šçš„ä»»ä½•æ¡ä»¶ï¼Œæ­¤æ–¹æ³•è¿”å› false ã€‚ å¦‚æœæœ‰ä¸€ä¸ªå…ƒç´ æ»¡è¶³æ¡ä»¶ï¼Œåˆ™è¡¨è¾¾å¼è¿”å› true , å‰©ä½™çš„å…ƒç´ ä¸ä¼šå†æ‰§è¡Œæ£€æµ‹ã€‚ å¦‚æœæ²¡æœ‰æ»¡è¶³æ¡ä»¶çš„å…ƒç´ ï¼Œåˆ™è¿”å› false ã€‚12345678// some(callback, thisArg)// callback:// (å½“å‰å…ƒç´ , å½“å‰ç´¢å¼•, è°ƒç”¨someçš„æ•°ç»„)var arr = [1,2,3,4,5]var result = arr.some(function (item,index) &#123; return item &gt; 3&#125;) // true ES6 find() &amp; findIndex() æ ¹æ®æ¡ä»¶æ‰¾åˆ°æ•°ç»„æˆå‘˜ find() å®šä¹‰ï¼šç”¨äºæ‰¾å‡ºç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„æ•°ç»„æˆå‘˜ï¼Œå¹¶è¿”å›è¯¥æˆå‘˜ï¼Œå¦‚æœæ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„æˆå‘˜ï¼Œåˆ™è¿”å› undefined ã€‚ findIndex() å®šä¹‰ï¼šè¿”å›ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„æ•°ç»„æˆå‘˜çš„ä½ç½®ï¼Œå¦‚æœæ‰€æœ‰æˆå‘˜éƒ½ä¸ç¬¦åˆæ¡ä»¶ï¼Œåˆ™è¿”å› -1 ã€‚ 1234567891011121314&lt;!-- è¯­æ³• --&gt;let new_array = arr.find(function(currentValue, index, arr), thisArg)let new_array = arr.findIndex(function(currentValue, index, arr), thisArg)&lt;!-- è¿™ä¸¤ä¸ªæ–¹æ³•éƒ½å¯ä»¥è¯†åˆ«NaN,å¼¥è¡¥äº†indexOfçš„ä¸è¶³ --&gt;&lt;!-- find --&gt;let a = [1, 4, -5, 10].find((n) =&gt; n &lt; 0);&lt;!-- è¿”å›å…ƒç´ -5 --&gt;let b = [1, 4, -5, 10,NaN].find((n) =&gt; Object.is(NaN, n));&lt;!-- è¿”å›å…ƒç´ NaN --&gt;&lt;!-- findIndex --&gt;let a = [1, 4, -5, 10].findIndex((n) =&gt; n &lt; 0);&lt;!-- è¿”å›ç´¢å¼•2 --&gt;let b = [1, 4, -5, 10,NaN].findIndex((n) =&gt; Object.is(NaN, n));&lt;!-- è¿”å›ç´¢å¼•4 --&gt; keys() &amp; values() &amp; entries() éå†é”®åã€éå†é”®å€¼ã€éå†é”®å+é”®å€¼ ä¸‰ä¸ªæ–¹æ³•éƒ½è¿”å›ä¸€ä¸ªæ–°çš„ Array Iterator å¯¹è±¡ï¼Œå¯¹è±¡æ ¹æ®æ–¹æ³•ä¸åŒåŒ…å«ä¸åŒçš„å€¼ã€‚ 1234567891011121314151617181920// è¯­æ³•array.keys() array.values() array.entries()for (let index of ['a', 'b'].keys()) &#123; console.log(index);&#125;// 0// 1for (let elem of ['a', 'b'].values()) &#123; console.log(elem);&#125;// 'a'// 'b'for (let [index, elem] of ['a', 'b'].entries()) &#123; console.log(index, elem);&#125;// 0 "a"// 1 "b" for in å’Œ for of åŒºåˆ«12345678910111213141516171819Object.prototype.objCustom = function() &#123;&#125;;Array.prototype.arrCustom = function() &#123;&#125;;let iterable = [3, 5, 7];iterable.foo = 'hello';for (let i in iterable) &#123; &lt;-- å¾ªç¯çš„æ˜¯ç´¢å¼• console.log(i); // æ‰“å° 0, 1, 2, "foo", "arrCustom", "objCustom"&#125;for (let i in iterable) &#123; if (iterable.hasOwnProperty(i)) &#123; console.log(i); // æ‰“å° 0, 1, 2, "foo" &#125;&#125;for (let i of iterable) &#123; &lt;-- è¿­ä»£çš„æ˜¯å€¼ console.log(i); // æ‰“å° 3, 5, 7&#125; å‚è€ƒï¼šJavaScript æ•°ç»„éå†æ–¹æ³•çš„å¯¹æ¯” JSæ•°ç»„æœ‰å“ªäº›æ–¹æ³•æ”¹å˜åŸæ•°ç»„çš„æ–¹æ³•ï¼ˆ9ä¸ªï¼‰splice() æ·»åŠ  / åˆ é™¤æ•°ç»„å…ƒç´  splice() æ–¹æ³•å‘/ä»æ•°ç»„ä¸­æ·»åŠ /åˆ é™¤é¡¹ç›®ï¼Œç„¶åè¿”å›è¢«åˆ é™¤çš„é¡¹ç›® array.splice(index,howmany,item1,â€¦..,itemX) indexï¼šå¿…éœ€ã€‚æ•´æ•°ï¼Œè§„å®šæ·»åŠ /åˆ é™¤é¡¹ç›®çš„ä½ç½®ï¼Œä½¿ç”¨è´Ÿæ•°å¯ä»æ•°ç»„ç»“å°¾å¤„è§„å®šä½ç½®ã€‚ howmanyï¼šå¯é€‰ã€‚è¦åˆ é™¤çš„é¡¹ç›®æ•°é‡ã€‚å¦‚æœè®¾ç½®ä¸º 0ï¼Œåˆ™ä¸ä¼šåˆ é™¤é¡¹ç›®ã€‚ item1, â€¦, itemXï¼š å¯é€‰ã€‚å‘æ•°ç»„æ·»åŠ çš„æ–°é¡¹ç›®ã€‚ è¿”å›å€¼: å¦‚æœæœ‰å…ƒç´ è¢«åˆ é™¤,è¿”å›åŒ…å«è¢«åˆ é™¤é¡¹ç›®çš„æ–°æ•°ç»„ã€‚ åˆ é™¤å…ƒç´  1234567// ä»æ•°ç»„ä¸‹æ ‡0å¼€å§‹ï¼Œåˆ é™¤3ä¸ªå…ƒç´ let a = [1, 2, 3, 4, 5, 6, 7]let item = a.splice(0, 3) // [1,2,3]console.log(a) // [4,5,6,7]// ä»æœ€åä¸€ä¸ªå…ƒç´ å¼€å§‹åˆ é™¤3ä¸ªå…ƒç´ ï¼Œå› ä¸ºæœ€åä¸€ä¸ªå…ƒç´ ï¼Œæ‰€ä»¥åªåˆ é™¤äº†7let item = a.splice(-1, 3) // [7] åˆ é™¤å¹¶æ·»åŠ  123456789// ä»æ•°ç»„ä¸‹æ ‡0å¼€å§‹ï¼Œåˆ é™¤3ä¸ªå…ƒç´ ï¼Œå¹¶æ·»åŠ å…ƒç´ 'æ·»åŠ 'let a = [1, 2, 3, 4, 5, 6, 7]let item = a.splice(0,3,'æ·»åŠ ') // [1,2,3]console.log(a) // ['æ·»åŠ ',4,5,6,7]// ä»æ•°ç»„æœ€åç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹ï¼Œåˆ é™¤3ä¸ªå…ƒç´ ï¼Œå¹¶æ·»åŠ ä¸¤ä¸ªå…ƒç´ 'æ·»åŠ 1'ã€'æ·»åŠ 2'let b = [1, 2, 3, 4, 5, 6, 7]let item = b.splice(-2,3,'æ·»åŠ 1','æ·»åŠ 2') // [6,7]console.log(b) // [1,2,3,4,5,'æ·»åŠ 1','æ·»åŠ 2'] ä¸åˆ é™¤åªæ·»åŠ  1234567let a = [1, 2, 3, 4, 5, 6, 7]let item = a.splice(0,0,'æ·»åŠ 1','æ·»åŠ 2') // [] æ²¡æœ‰åˆ é™¤å…ƒç´ ï¼Œè¿”å›ç©ºæ•°ç»„console.log(a) // ['æ·»åŠ 1','æ·»åŠ 2',1,2,3,4,5,6,7]let b = [1, 2, 3, 4, 5, 6, 7]let item = b.splice(-1,0,'æ·»åŠ 1','æ·»åŠ 2') // [] æ²¡æœ‰åˆ é™¤å…ƒç´ ï¼Œè¿”å›ç©ºæ•°ç»„console.log(b) // [1,2,3,4,5,6,'æ·»åŠ 1','æ·»åŠ 2',7] åœ¨æœ€åä¸€ä¸ªå…ƒç´ çš„å‰é¢æ·»åŠ ä¸¤ä¸ªå…ƒç´  sort() æ•°ç»„æ’åº å®šä¹‰: sort() æ–¹æ³•å¯¹æ•°ç»„å…ƒç´ è¿›è¡Œæ’åºï¼Œå¹¶è¿”å›è¿™ä¸ªæ•°ç»„ã€‚ å‚æ•°å¯é€‰: è§„å®šæ’åºé¡ºåºçš„æ¯”è¾ƒå‡½æ•°ã€‚ é»˜è®¤æƒ…å†µä¸‹ sort() æ–¹æ³•æ²¡æœ‰ä¼ æ¯”è¾ƒå‡½æ•°çš„è¯ï¼Œé»˜è®¤æŒ‰å­—æ¯å‡åºï¼Œå¦‚æœä¸æ˜¯å…ƒç´ ä¸æ˜¯å­—ç¬¦ä¸²çš„è¯ï¼Œä¼šè°ƒç”¨ toString() æ–¹æ³•å°†å…ƒç´ è½¬åŒ–ä¸ºå­—ç¬¦ä¸²çš„ Unicode (ä¸‡å›½ç )ä½ç‚¹ï¼Œç„¶åå†æ¯”è¾ƒå­—ç¬¦ã€‚ ä¸ä¼ å‚ 1234567// å­—ç¬¦ä¸²æ’åˆ— çœ‹èµ·æ¥å¾ˆæ­£å¸¸var a = ["Banana", "Orange", "Apple", "Mango"]a.sort() // ["Apple","Banana","Mango","Orange"]// æ•°å­—æ’åºçš„æ—¶å€™ å› ä¸ºè½¬æ¢æˆUnicodeå­—ç¬¦ä¸²ä¹‹åï¼Œæœ‰äº›æ•°å­—ä¼šæ¯”è¾ƒå¤§ä¼šæ’åœ¨åé¢ è¿™æ˜¾ç„¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„var a = [10, 1, 3, 20,25,8]console.log(a.sort()) // [1,10,20,25,3,8]; æ¯”è¾ƒå‡½æ•°çš„ä¸¤ä¸ªå‚æ•°ï¼š sort çš„æ¯”è¾ƒå‡½æ•°æœ‰ä¸¤ä¸ªé»˜è®¤å‚æ•°ï¼Œè¦åœ¨å‡½æ•°ä¸­æ¥æ”¶è¿™ä¸¤ä¸ªå‚æ•°ï¼Œè¿™ä¸¤ä¸ªå‚æ•°æ˜¯æ•°ç»„ä¸­ä¸¤ä¸ªè¦æ¯”è¾ƒçš„å…ƒç´ ï¼Œé€šå¸¸æˆ‘ä»¬ç”¨ a å’Œ b æ¥æ”¶ä¸¤ä¸ªå°†è¦æ¯”è¾ƒçš„å…ƒç´ ï¼š è‹¥æ¯”è¾ƒå‡½æ•°è¿”å›å€¼ &lt;0 ï¼Œé‚£ä¹ˆ a å°†æ’åˆ° b çš„å‰é¢; è‹¥æ¯”è¾ƒå‡½æ•°è¿”å›å€¼ =0 ï¼Œé‚£ä¹ˆ a å’Œ b ç›¸å¯¹ä½ç½®ä¸å˜ï¼› è‹¥æ¯”è¾ƒå‡½æ•°è¿”å›å€¼ &gt;0 ï¼Œé‚£ä¹ˆ b æ’åœ¨ a å°†çš„å‰é¢ï¼› æ•°å­—å‡é™åº 12345678910var array = [10, 1, 3, 4, 20, 4, 25, 8]; array.sort(function(a,b)&#123; return a-b;&#125;);console.log(array); // [1,3,4,4,8,10,20,25];array.sort(function(a,b)&#123; return b-a;&#125;);console.log(array); // [25,20,10,8,4,4,3,1]; pop() åˆ é™¤ä¸€ä¸ªæ•°ç»„ä¸­çš„æœ€åçš„ä¸€ä¸ªå…ƒç´  å®šä¹‰: pop() æ–¹æ³•åˆ é™¤ä¸€ä¸ªæ•°ç»„ä¸­çš„æœ€åçš„ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶ä¸”è¿”å›è¿™ä¸ªå…ƒç´ ã€‚ 123let a = [1,2,3]let item = a.pop() // 3console.log(a) // [1,2] shift() åˆ é™¤æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´  å®šä¹‰: shift()æ–¹æ³•åˆ é™¤æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›è¿™ä¸ªå…ƒç´ ã€‚ 123let a = [1,2,3]let item = a.shift() // 1console.log(a) // [2,3] push() å‘æ•°ç»„çš„æœ«å°¾æ·»åŠ å…ƒç´  å®šä¹‰ï¼špush() æ–¹æ³•å¯å‘æ•°ç»„çš„æœ«å°¾æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›æ–°çš„é•¿åº¦ã€‚ å‚æ•°: item1, item2, â€¦, itemX ,è¦æ·»åŠ åˆ°æ•°ç»„æœ«å°¾çš„å…ƒç´  123let a = [1,2,3]let item = a.push('æœ«å°¾', '233') // 5console.log(a) // [1,2,3,'æœ«å°¾', '233'] unshift() å®šä¹‰ï¼šunshift() æ–¹æ³•å¯å‘æ•°ç»„çš„å¼€å¤´æ·»åŠ ä¸€ä¸ªæˆ–æ›´å¤šå…ƒç´ ï¼Œå¹¶è¿”å›æ–°çš„é•¿åº¦ã€‚ å‚æ•°: item1, item2, â€¦, itemX ,è¦æ·»åŠ åˆ°æ•°ç»„å¼€å¤´çš„å…ƒç´  123let a = [1, 2, 3]let item = a.unshift('å¼€å¤´', 'å¼€å¤´2') // 5console.log(a) // [ 'å¼€å¤´', 'å¼€å¤´2', 1, 2, 3 ] reverse() é¢ å€’æ•°ç»„ä¸­å…ƒç´ çš„é¡ºåº å®šä¹‰: reverse() æ–¹æ³•ç”¨äºé¢ å€’æ•°ç»„ä¸­å…ƒç´ çš„é¡ºåºã€‚ 123let a = [1,2,3]a.reverse()console.log(a) // [3,2,1] ä¸æ”¹å˜åŸæ•°ç»„çš„æ–¹æ³•ï¼ˆ8ä¸ªï¼‰slice() æµ…æ‹·è´æ•°ç»„çš„å…ƒç´  å®šä¹‰ï¼š æ–¹æ³•è¿”å›ä¸€ä¸ªä»å¼€å§‹åˆ°ç»“æŸï¼ˆä¸åŒ…æ‹¬ç»“æŸï¼‰é€‰æ‹©çš„æ•°ç»„çš„ä¸€éƒ¨åˆ†æµ…æ‹·è´åˆ°ä¸€ä¸ªæ–°æ•°ç»„å¯¹è±¡ï¼Œä¸”åŸæ•°ç»„ä¸ä¼šè¢«ä¿®æ”¹ã€‚ è¯­æ³•ï¼šarray.slice(begin, end); 12345678910111213let a= ['hello','world']let b=a.slice(0,1) // ['hello']// æ–°æ•°ç»„æ˜¯æµ…æ‹·è´çš„ï¼Œå…ƒç´ æ˜¯ç®€å•æ•°æ®ç±»å‹ï¼Œæ”¹å˜ä¹‹åä¸ä¼šäº’ç›¸å¹²æ‰°ã€‚// å¦‚æœæ˜¯å¤æ‚æ•°æ®ç±»å‹(å¯¹è±¡,æ•°ç»„)çš„è¯ï¼Œæ”¹å˜å…¶ä¸­ä¸€ä¸ªï¼Œå¦å¤–ä¸€ä¸ªä¹Ÿä¼šæ”¹å˜ã€‚a[0] = 'æ”¹å˜åŸæ•°ç»„'console.log(a,b) // ['æ”¹å˜åŸæ•°ç»„','world'] ['hello']let a = [&#123;name:'OBKoro1'&#125;]let b = a.slice()console.log(b,a) // [&#123;"name":"OBKoro1"&#125;] [&#123;"name":"OBKoro1"&#125;]// a[0].name='æ”¹å˜åŸæ•°ç»„'// console.log(b,a) // [&#123;"name":"æ”¹å˜åŸæ•°ç»„"&#125;] [&#123;"name":"æ”¹å˜åŸæ•°ç»„"&#125;] join() æ•°ç»„è½¬å­—ç¬¦ä¸² å®šä¹‰: join() æ–¹æ³•ç”¨äºæŠŠæ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ é€šè¿‡æŒ‡å®šçš„åˆ†éš”ç¬¦è¿›è¡Œåˆ†éš”æ”¾å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¿”å›ç”Ÿæˆçš„å­—ç¬¦ä¸²ã€‚ è¯­æ³•: array.join(str) 12345678910111213let a = ['hello','world']let str = a.join() // 'hello,world'let str2 = a.join('+') // 'hello+world'let a = [['OBKoro1','23'],'test']let str1 = a.join() // OBKoro1,23,testlet b = [&#123;name:'OBKoro1',age:'23'&#125;,'test']let str2 = b.join() // [object Object],test// å¯¹è±¡è½¬å­—ç¬¦ä¸²æ¨èJSON.stringify(obj)// ç»“è®ºï¼š// join()/toString() æ–¹æ³•åœ¨æ•°ç»„å…ƒç´ æ˜¯æ•°ç»„çš„æ—¶å€™ï¼Œä¼šå°†é‡Œé¢çš„æ•°ç»„ä¹Ÿè°ƒç”¨ join()/toString() ,// å¦‚æœæ˜¯å¯¹è±¡çš„è¯ï¼Œå¯¹è±¡ä¼šè¢«è½¬ä¸º [object Object] å­—ç¬¦ä¸²ã€‚ toLocaleString() æ•°ç»„è½¬å­—ç¬¦ä¸² å®šä¹‰: è¿”å›ä¸€ä¸ªè¡¨ç¤ºæ•°ç»„å…ƒç´ çš„å­—ç¬¦ä¸²ã€‚è¯¥å­—ç¬¦ä¸²ç”±æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ çš„ toLocaleString() è¿”å›å€¼ç»è°ƒç”¨ join() æ–¹æ³•è¿æ¥ï¼ˆç”±é€—å·éš”å¼€ï¼‰ç»„æˆã€‚ 12345678910111213let a = [&#123; name: 'OBKoro1'&#125;, 23, 'abcd', new Date()]console.log(a.join(","))console.log(a.toString())console.log(a.toLocaleString('en-us'))console.log(a.toLocaleString('zh-cn'))[object Object],23,abcd,Tue Feb 26 2019 11:47:03 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)[object Object],23,abcd,Tue Feb 26 2019 11:47:03 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)[object Object],23,abcd,2/26/2019, 11:47:03 AM[object Object],23,abcd,2019/2/26 ä¸Šåˆ11:47:03 concat åˆå¹¶æ•°ç»„ å®šä¹‰ï¼š æ–¹æ³•ç”¨äºåˆå¹¶ä¸¤ä¸ªæˆ–å¤šä¸ªæ•°ç»„ï¼Œè¿”å›ä¸€ä¸ªæ–°æ•°ç»„ã€‚ è¯­æ³•ï¼švar newArr =oldArray.concat(arrayX,arrayX,â€¦â€¦,arrayX) å‚æ•°ï¼šarrayXï¼ˆå¿…é¡»ï¼‰ï¼šè¯¥å‚æ•°å¯ä»¥æ˜¯å…·ä½“çš„å€¼ï¼Œä¹Ÿå¯ä»¥æ˜¯æ•°ç»„å¯¹è±¡ã€‚å¯ä»¥æ˜¯ä»»æ„å¤šä¸ªã€‚ 1234567891011121314let a = [1, 2, 3]let b = [4, 5, 6]//è¿æ¥ä¸¤ä¸ªæ•°ç»„let newVal = a.concat(b) // [1,2,3,4,5,6]// è¿æ¥ä¸‰ä¸ªæ•°ç»„let c = [7, 8, 9]let newVal2 = a.concat(b, c) // [1,2,3,4,5,6,7,8,9]// æ·»åŠ å…ƒç´ let newVal3 = a.concat('æ·»åŠ å…ƒç´ ',b, c,'å†åŠ ä¸€ä¸ª')// [1,2,3,"æ·»åŠ å…ƒç´ ",4,5,6,7,8,9,"å†åŠ ä¸€ä¸ª"]// åˆå¹¶åµŒå¥—æ•°ç»„ ä¼šæµ…æ‹·è´åµŒå¥—æ•°ç»„let d = [1,2 ]let f = [3,[4]]let newVal4 = d.concat(f) // [1,2,3,[4]] ES6æ‰©å±•è¿ç®—ç¬¦ ... åˆå¹¶æ•°ç»„123let a = [2, 3, 4, 5]let b = [ 4,...a, 4, 4]console.log(a,b) // [2, 3, 4, 5] [4,2,3,4,5,4,4] indexOf() æŸ¥æ‰¾æ•°ç»„æ˜¯å¦å­˜åœ¨æŸä¸ªå…ƒç´ ï¼Œè¿”å›ä¸‹æ ‡ å®šä¹‰: è¿”å›åœ¨æ•°ç»„ä¸­å¯ä»¥æ‰¾åˆ°ä¸€ä¸ªç»™å®šå…ƒç´ çš„ç¬¬ä¸€ä¸ªç´¢å¼•ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¿”å›-1ã€‚ p.s. å­—ç¬¦ä¸²ä¹Ÿæœ‰æ­¤æ–¹æ³•ï¼Œè¦æ³¨æ„å½“ â€˜lanceâ€™.indexOf(â€˜â€™) ä¸€ä¸ªç©ºå­—ç¬¦ä¸²æ—¶ï¼Œè¿”å›0è€Œä¸æ˜¯-1 è¯­æ³•ï¼šarray.indexOf(searchElement,fromIndex) å‚æ•°ï¼š searchElement (å¿…é¡»):è¢«æŸ¥æ‰¾çš„å…ƒç´  fromIndex (å¯é€‰):å¼€å§‹æŸ¥æ‰¾çš„ä½ç½®(ä¸èƒ½å¤§äºç­‰äºæ•°ç»„çš„é•¿åº¦ï¼Œè¿”å›-1)ï¼Œæ¥å—è´Ÿå€¼ï¼Œé»˜è®¤å€¼ä¸º0ã€‚ ä¸¥æ ¼ç›¸ç­‰çš„æœç´¢: æ•°ç»„çš„ indexOf æœç´¢è·Ÿå­—ç¬¦ä¸²çš„indexOfä¸ä¸€æ ·,æ•°ç»„çš„indexOfä½¿ç”¨ä¸¥æ ¼ç›¸ç­‰===æœç´¢å…ƒç´ ï¼Œå³æ•°ç»„å…ƒç´ è¦å®Œå…¨åŒ¹é…æ‰èƒ½æœç´¢æˆåŠŸã€‚ æ³¨æ„ï¼šindexOf() ä¸èƒ½è¯†åˆ«NaN 1234let a=['å•¦å•¦',2,4,24,NaN]console.log(a.indexOf('å•¦')) // -1console.log(a.indexOf('NaN')) // -1console.log(a.indexOf('å•¦å•¦')) // 0 lastIndexOf() æŸ¥æ‰¾æŒ‡å®šå…ƒç´ åœ¨æ•°ç»„ä¸­çš„æœ€åä¸€ä¸ªä½ç½® å®šä¹‰: æ–¹æ³•è¿”å›æŒ‡å®šå…ƒç´ ,åœ¨æ•°ç»„ä¸­çš„æœ€åä¸€ä¸ªçš„ç´¢å¼•ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è¿”å› -1ã€‚ï¼ˆä»æ•°ç»„åé¢å¾€å‰æŸ¥æ‰¾ï¼‰ è¯­æ³•ï¼šarr.lastIndexOf(searchElement,fromIndex) å‚æ•°: searchElement(å¿…é¡»): è¢«æŸ¥æ‰¾çš„å…ƒç´  fromIndex(å¯é€‰): é€†å‘æŸ¥æ‰¾å¼€å§‹ä½ç½®ï¼Œé»˜è®¤å€¼æ•°ç»„çš„ é•¿åº¦-1ï¼Œå³æŸ¥æ‰¾æ•´ä¸ªæ•°ç»„ã€‚ å…³äºfromIndexæœ‰ä¸‰ä¸ªè§„åˆ™: æ­£å€¼ã€‚å¦‚æœè¯¥å€¼å¤§äºæˆ–ç­‰äºæ•°ç»„çš„é•¿åº¦ï¼Œåˆ™æ•´ä¸ªæ•°ç»„ä¼šè¢«æŸ¥æ‰¾ã€‚ è´Ÿå€¼ã€‚å°†å…¶è§†ä¸ºä»æ•°ç»„æœ«å°¾å‘å‰çš„åç§»ã€‚(æ¯”å¦‚-2ï¼Œä»æ•°ç»„æœ€åç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹å¾€å‰æŸ¥æ‰¾) è´Ÿå€¼ã€‚å…¶ç»å¯¹å€¼å¤§äºæ•°ç»„é•¿åº¦ï¼Œåˆ™æ–¹æ³•è¿”å› -1ï¼Œå³æ•°ç»„ä¸ä¼šè¢«æŸ¥æ‰¾ã€‚ 12345let a = ['OB',4,'Koro1',1,2,'Koro1',3,4,5,'Koro1'] // æ•°ç»„é•¿åº¦ä¸º10// let b=a.lastIndexOf('Koro1',4) // ä»ä¸‹æ ‡4å¼€å§‹å¾€å‰æ‰¾ è¿”å›ä¸‹æ ‡2// let b=a.lastIndexOf('Koro1',100) // å¤§äºæˆ–æ•°ç»„çš„é•¿åº¦ æŸ¥æ‰¾æ•´ä¸ªæ•°ç»„ è¿”å›9// let b=a.lastIndexOf('Koro1',-11) // -1 æ•°ç»„ä¸ä¼šè¢«æŸ¥æ‰¾let b = a.lastIndexOf('Koro1',-9) // ä»ç¬¬äºŒä¸ªå…ƒç´ 4å¾€å‰æŸ¥æ‰¾ï¼Œæ²¡æœ‰æ‰¾åˆ° è¿”å›-1 ES7 includes() æŸ¥æ‰¾æ•°ç»„æ˜¯å¦åŒ…å«æŸä¸ªå…ƒç´  è¿”å›å¸ƒå°” å®šä¹‰ï¼š è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæŸä¸ªæ•°ç»„æ˜¯å¦åŒ…å«ç»™å®šçš„å€¼ è¯­æ³•ï¼šarray.includes(searchElement,fromIndex=0) å‚æ•°ï¼š searchElement (å¿…é¡»):è¢«æŸ¥æ‰¾çš„å…ƒç´  fromIndex (å¯é€‰):é»˜è®¤å€¼ä¸º 0 ï¼Œå‚æ•°è¡¨ç¤ºæœç´¢çš„èµ·å§‹ä½ç½®ï¼Œæ¥å—è´Ÿå€¼ã€‚æ­£å€¼è¶…è¿‡æ•°ç»„é•¿åº¦ï¼Œæ•°ç»„ä¸ä¼šè¢«æœç´¢ï¼Œè¿”å› false ã€‚è´Ÿå€¼ç»å¯¹å€¼è¶…è¿‡é•¿æ•°ç»„åº¦ï¼Œé‡ç½®ä» 0 å¼€å§‹æœç´¢ã€‚ includes æ–¹æ³•æ˜¯ä¸ºäº†å¼¥è¡¥ indexOf æ–¹æ³•çš„ç¼ºé™·è€Œå‡ºç°çš„: indexOf æ–¹æ³•ä¸èƒ½è¯†åˆ« NaN indexOf æ–¹æ³•æ£€æŸ¥æ˜¯å¦åŒ…å«æŸä¸ªå€¼ä¸å¤Ÿè¯­ä¹‰åŒ–ï¼Œéœ€è¦åˆ¤æ–­æ˜¯å¦ä¸ç­‰äº -1 ï¼Œè¡¨è¾¾ä¸å¤Ÿç›´è§‚ 12345let a = ['OB','Koro1',1,NaN]// let b=a.includes(NaN) // true è¯†åˆ«NaN// let b=a.includes('Koro1',100) // false è¶…è¿‡æ•°ç»„é•¿åº¦ ä¸æœç´¢// let b=a.includes('Koro1',-3) // true ä»å€’æ•°ç¬¬ä¸‰ä¸ªå…ƒç´ å¼€å§‹æœç´¢// let b=a.includes('Koro1',-100) // true è´Ÿå€¼ç»å¯¹å€¼è¶…è¿‡æ•°ç»„é•¿åº¦ï¼Œæœç´¢æ•´ä¸ªæ•°ç»„ å‚è€ƒï¼šjs æ•°ç»„è¯¦ç»†æ“ä½œæ–¹æ³•åŠè§£æåˆé›† å­—ç¬¦ä¸²å­—ç¬¦ä¸²çš„æ–¹æ³•charAt è¿”å›å­—ç¬¦ä¸²å­—ç¬¦ ä»ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­è¿”å›æŒ‡å®šå­—ç¬¦å¦‚æœæŒ‡å®šçš„ index å€¼è¶…å‡ºäº†è¯¥èŒƒå›´ï¼Œåˆ™è¿”å›ä¸€ä¸ªç©ºå­—ç¬¦ä¸² 12var anyString = "Brave new world"console.log(anyString.charAt(0)) // B substring è¿”å›å­—ç¬¦ä¸²å­é›† è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²åœ¨å¼€å§‹ç´¢å¼•åˆ°ç»“æŸç´¢å¼•ä¹‹é—´çš„ä¸€ä¸ªå­é›†, æˆ–ä»å¼€å§‹ç´¢å¼•ç›´åˆ°å­—ç¬¦ä¸²çš„æœ«å°¾çš„ä¸€ä¸ªå­é›†ã€‚ å¦‚æœ indexStart ç­‰äº indexEndï¼Œsubstring è¿”å›ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ã€‚ å¦‚æœçœç•¥ indexEndï¼Œsubstring æå–å­—ç¬¦ä¸€ç›´åˆ°å­—ç¬¦ä¸²æœ«å°¾ã€‚ å¦‚æœä»»ä¸€å‚æ•°å°äº 0 æˆ–ä¸º NaNï¼Œåˆ™è¢«å½“ä½œ 0ã€‚ å¦‚æœä»»ä¸€å‚æ•°å¤§äº stringName.lengthï¼Œåˆ™è¢«å½“ä½œ stringName.lengthã€‚ å¦‚æœ indexStart å¤§äº indexEndï¼Œåˆ™ substring çš„æ‰§è¡Œæ•ˆæœå°±åƒä¸¤ä¸ªå‚æ•°è°ƒæ¢äº†ä¸€æ ·ã€‚è§ä¸‹é¢çš„ä¾‹å­ã€‚ 12345678var anyString = "Mozilla"// è¾“å‡º "Moz"console.log(anyString.substring(0,3))console.log(anyString.substring(3,0))console.log(anyString.substring(3,-3))console.log(anyString.substring(3,NaN))console.log(anyString.substring(-2,3))console.log(anyString.substring(NaN,3)) replace æ›¿æ¢å­—ç¬¦ä¸² è¿”å›ä¸€ä¸ªç”±æ›¿æ¢å€¼ï¼ˆreplacementï¼‰æ›¿æ¢ä¸€äº›æˆ–æ‰€æœ‰åŒ¹é…çš„æ¨¡å¼ï¼ˆpatternï¼‰åçš„æ–°å­—ç¬¦ä¸²ã€‚æ¨¡å¼å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–è€…ä¸€ä¸ª æ­£åˆ™è¡¨è¾¾å¼ ï¼Œæ›¿æ¢å€¼å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–è€…ä¸€ä¸ªæ¯æ¬¡åŒ¹é…éƒ½è¦è°ƒç”¨çš„å›è°ƒå‡½æ•°ã€‚ toLowerCase / toUpperCase è½¬æ¢å­—æ¯å¤§å°å†™å­—æ¯è½¬ä¸ºå…¨å°å†™æˆ–å…¨å¤§å†™ includes includes() è¿”å›å¸ƒå°”å€¼ï¼šè¡¨ç¤ºæ˜¯å¦æ‰¾åˆ°äº†å‚æ•°å­—ç¬¦ã€‚ 12let str = "qdywxs"console.log(str.includes("y")) //--&gt;true repeat è·å–å­—ç¬¦ä¸²é‡å¤ n æ¬¡ã€‚ 12let s = "qdywxs"console.log(s.repeat(3)) //--&gt;qdywxsqdywxsqdywxs startsWith è¿”å›å¸ƒå°”å€¼ï¼šè¡¨ç¤ºå‚æ•°å­—ç¬¦ä¸²æ˜¯å¦åœ¨æºå­—ç¬¦ä¸²çš„å¤´éƒ¨ã€‚ 12console.log("swlance".startsWith("s")); //--&gt;trueconsole.log("swlance".startsWith("l")); //--&gt;false endsWith è¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå‚æ•°å­—ç¬¦ä¸²æ˜¯å¦åœ¨æºå­—ç¬¦ä¸²çš„å°¾éƒ¨ã€‚ 12console.log("swlance".endsWith("e")); //--&gt;trueconsole.log("swlance".endsWith("o")); //--&gt;false ä»€ä¹ˆæ˜¯ JavaScript ä½œç”¨é“¾åŸŸï¼Ÿå…¨å±€å‡½æ•°æ— æ³•æŸ¥çœ‹å±€éƒ¨å‡½æ•°çš„å†…éƒ¨ç»†èŠ‚ï¼Œä½†å±€éƒ¨å‡½æ•°å¯ä»¥æŸ¥çœ‹å…¶ä¸Šå±‚çš„å‡½æ•°ç»†èŠ‚ï¼Œç›´è‡³å…¨å±€ç»†èŠ‚ã€‚ å½“éœ€è¦ä»å±€éƒ¨å‡½æ•°æŸ¥æ‰¾æŸä¸€å±æ€§æˆ–æ–¹æ³•æ—¶ï¼Œå¦‚æœå½“å‰ä½œç”¨åŸŸæ²¡æœ‰æ‰¾åˆ°ï¼Œå°±ä¼šä¸Šæº¯åˆ°ä¸Šå±‚ä½œç”¨åŸŸæŸ¥æ‰¾ï¼Œ ç›´è‡³å…¨å±€å‡½æ•°ï¼Œè¿™ç§ç»„ç»‡å½¢å¼å°±æ˜¯ä½œç”¨åŸŸé“¾ã€‚ é—­åŒ…ä»€ä¹ˆæ˜¯é—­åŒ…/å¯¹é—­åŒ…çš„ç†è§£å‡½æ•°ä¸­æœ‰å¦ä¸€ä¸ªå‡½æ•°æˆ–æœ‰å¦ä¸€ä¸ªå¯¹è±¡ï¼Œé‡Œé¢çš„å‡½æ•°æˆ–è€…æ˜¯å¯¹è±¡éƒ½å¯ä»¥ä½¿ç”¨å¤–é¢å‡½æ•°ä¸­å®šä¹‰çš„å˜é‡æˆ–è€…å‚æ•°ï¼Œæ­¤æ—¶å½¢æˆé—­åŒ…ã€‚ YouDontKnowJSå¯¹é—­åŒ…çš„è§£é‡Š â€”â€” é—­åŒ…å°±æ˜¯å‡½æ•°èƒ½å¤Ÿè®°ä½å¹¶è®¿é—®å®ƒçš„è¯æ³•ä½œç”¨åŸŸï¼Œå³ä½¿å½“è¿™ä¸ªå‡½æ•°åœ¨å®ƒçš„è¯æ³•ä½œç”¨åŸŸä¹‹å¤–æ‰§è¡Œæ—¶ã€‚ç”±äºè¿™ä¸ªæ€§è´¨ï¼Œé—­åŒ…è®©æˆ‘ä»¬èƒ½å¤Ÿä»ä¸€ä¸ªå‡½æ•°å†…éƒ¨è®¿é—®å…¶å¤–éƒ¨å‡½æ•°çš„ä½œç”¨åŸŸ é—­åŒ…å°±æ˜¯èƒ½å¤Ÿè¯»å–å…¶ä»–å‡½æ•°å†…éƒ¨å˜é‡çš„å‡½æ•°ã€‚å¯ä»¥ç®€å•ç†è§£æˆâ€œå®šä¹‰åœ¨ä¸€ä¸ªå‡½æ•°å†…éƒ¨çš„å‡½æ•°â€ é—­åŒ…çš„ç”¨é€” ä¿å­˜ï¼šç¼“å­˜æ•°æ®ï¼Œå»¶é•¿ä½œç”¨åŸŸé“¾ ä¿æŠ¤ï¼šå½¢æˆç§æœ‰ä½œç”¨åŸŸï¼Œä¿æŠ¤é‡Œé¢ç§æœ‰å˜é‡ä¸å—å¤–ç•Œå¹²æ‰°ï¼Œé¿å…å…¨å±€æ±¡æŸ“ ç¼ºç‚¹ï¼šè€—å†…å­˜ï¼Œè€—æ€§èƒ½ï¼Œå‡½æ•°ä¸­çš„å˜é‡ä¸èƒ½åŠæ—¶é‡Šæ”¾ å¦‚ä½•ä½¿ç”¨é—­åŒ…è¦ä½¿ç”¨é—­åŒ…ï¼Œåªéœ€è¦ç®€å•åœ°å°†ä¸€ä¸ªå‡½æ•°å®šä¹‰åœ¨å¦ä¸€ä¸ªå‡½æ•°å†…éƒ¨ï¼Œå¹¶å°†å®ƒæš´éœ²å‡ºæ¥ã€‚è¦æš´éœ²ä¸€ä¸ªå‡½æ•°ï¼Œå¯ä»¥å°†å®ƒè¿”å›æˆ–è€…ä¼ ç»™å…¶ä»–å‡½æ•°ã€‚ å†…éƒ¨å‡½æ•°å°†èƒ½å¤Ÿè®¿é—®åˆ°å¤–éƒ¨å‡½æ•°ä½œç”¨åŸŸä¸­çš„å˜é‡ï¼Œå³ä½¿å¤–éƒ¨å‡½æ•°å·²ç»æ‰§è¡Œå®Œæ¯•ã€‚ æƒ³è¦ç¼“å­˜æ•°æ®çš„æ—¶å€™å°±ç”¨é—­åŒ…ï¼ŒæŠŠæƒ³è¦ç¼“å­˜çš„æ•°æ®æ”¾åœ¨å¤–å±‚å‡½æ•°å’Œå†…å±‚å‡½æ•°çš„ä¸­é—´ä½ç½®ã€‚ é—­åŒ…åº”ç”¨åœºæ™¯li èŠ‚ç‚¹çš„ onclick äº‹ä»¶éƒ½èƒ½æ­£ç¡®çš„å¼¹å‡ºå½“å‰è¢«ç‚¹å‡»çš„ li ç´¢å¼•1234567891011121314151617&lt;ul id="testUL"&gt; &lt;li&gt; index = 0&lt;/li&gt; &lt;li&gt; index = 1&lt;/li&gt; &lt;li&gt; index = 2&lt;/li&gt; &lt;li&gt; index = 3&lt;/li&gt;&lt;/ul&gt;&lt;script type="text/javascript"&gt; var nodes = document.getElementsByTagName("li") for (var i = 0; i &lt; nodes.length; i += 1) &#123; nodes[i].onclick = (function (i) &#123; return function () &#123; // &lt;----é‡ç‚¹æ˜¯æ­¤å¤„è¿”å›äº†ä¸ªä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°èƒ½è®¿é—® // ç«‹å³æ‰§è¡Œå‡½æ•°ä½œç”¨åŸŸå†…çš„iè¿™ä¸ªå˜é‡ï¼Œå½¢æˆé—­åŒ… console.log(i) &#125; //ä¸ç”¨é—­åŒ…çš„è¯ï¼Œå€¼æ¯æ¬¡éƒ½æ˜¯4 &#125;)(i) &#125;&lt;/script&gt; ç”¨é—­åŒ…æ¨¡æ‹Ÿç§æœ‰æ–¹æ³•ä½¿ç”¨é—­åŒ…å®šä¹‰èƒ½è®¿é—®ç§æœ‰å‡½æ•°å’Œç§æœ‰å˜é‡çš„å…¬æœ‰å‡½æ•°ï¼ˆä¹Ÿå«åšæ¨¡å—æ¨¡å¼ï¼‰ 123456789101112131415161718192021222324var counter = (function() &#123; var privateCounter = 0 function changeBy(val) &#123; privateCounter += val &#125; return &#123; increment: function() &#123; changeBy(1) &#125;, decrement: function() &#123; changeBy(-1) &#125;, value: function() &#123; return privateCounter; &#125; &#125;&#125;)() // ç«‹å³æ‰§è¡Œå‡½æ•°console.log(counter.value()) // logs 0counter.increment()counter.increment()console.log(counter.value()) // logs 2counter.decrement()console.log(counter.value()) // logs 1 ç¯å¢ƒä¸­åŒ…å«ä¸¤ä¸ªç§æœ‰é¡¹ï¼šåä¸º privateCounter çš„å˜é‡å’Œåä¸º changeBy çš„å‡½æ•°ã€‚ å®ƒä¿©éƒ½æ— æ³•åœ¨åŒ¿åå‡½æ•°å¤–éƒ¨ç›´æ¥è®¿é—®ã€‚å¿…é¡»é€šè¿‡åŒ¿ååŒ…è£…å™¨è¿”å›çš„å¯¹è±¡çš„ä¸‰ä¸ªå…¬å…±å‡½æ•°è®¿é—®ã€‚ è§£å†³ å¾ªç¯+é—­åŒ… é—®é¢˜ç›´æ¥ ç‚¹å‡»æ­¤å¤„ æŸ¥çœ‹ thiså¯¹ this çš„ç†è§£ this æ€»æ˜¯æŒ‡å‘å‡½æ•°çš„ç›´æ¥è°ƒç”¨è€…ï¼ˆè€Œéé—´æ¥è°ƒç”¨è€…ï¼‰ å¦‚æœæœ‰ new å…³é”®å­—ï¼Œthis æŒ‡å‘ new å‡ºæ¥çš„é‚£ä¸ªå¯¹è±¡ åœ¨äº‹ä»¶ä¸­ï¼Œthis æŒ‡å‘è§¦å‘è¿™ä¸ªäº‹ä»¶çš„å¯¹è±¡ï¼Œç‰¹æ®Šçš„æ˜¯ï¼ŒIE ä¸­çš„ attachEvent ä¸­çš„ this æ€»æ˜¯æŒ‡å‘å…¨å±€å¯¹è±¡ window é‡è¦ï¼š æ™®é€šå‡½æ•°çš„ this æŒ‡å‘æ˜¯åœ¨å‡½æ•°çš„æ‰§è¡ŒæœŸé—´ç»‘å®šçš„ ç®­å¤´å‡½æ•°çš„ this æŒ‡å‘æ˜¯åœ¨å‡½æ•°åˆ›å»ºæœŸé—´å°±ç»‘å®šå¥½äº†çš„ï¼ŒæŒ‡å‘çš„æ˜¯åˆ›å»ºè¯¥ç®­å¤´å‡½æ•°æ‰€åœ¨çš„ä½œç”¨åŸŸå¯¹è±¡ ä¸€èˆ¬ä¸åœ¨äº‹ä»¶ï¼ˆæ¯”å¦‚ onclick ï¼‰ä¸Šä¼ é€’ç®­å¤´å‡½æ•°ï¼Œä½¿ç”¨ function å°±å¥½ åˆ¤å®š this æ‘˜è‡ª YouDontKnowJS ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰ç…§ä¼˜å…ˆé¡ºåºæ¥æ€»ç»“ä¸€ä¸‹ä»å‡½æ•°è°ƒç”¨çš„è°ƒç”¨ç‚¹æ¥åˆ¤å®š this çš„è§„åˆ™äº†ã€‚æŒ‰ç…§è¿™ä¸ªé¡ºåºæ¥é—®é—®é¢˜ï¼Œç„¶ååœ¨ç¬¬ä¸€ä¸ªè§„åˆ™é€‚ç”¨çš„åœ°æ–¹åœä¸‹ã€‚ å‡½æ•°æ˜¯é€šè¿‡ new è¢«è°ƒç”¨çš„å—ï¼ˆnew ç»‘å®šï¼‰ï¼Ÿå¦‚æœæ˜¯ï¼Œthis å°±æ˜¯æ–°æ„å»ºçš„å¯¹è±¡ã€‚var bar = new foo() å‡½æ•°æ˜¯é€šè¿‡ call æˆ– apply è¢«è°ƒç”¨ï¼ˆæ˜ç¡®ç»‘å®šï¼‰ï¼Œç”šè‡³æ˜¯éšè—åœ¨ bind ç¡¬ç»‘å®š ä¹‹ä¸­å—ï¼Ÿå¦‚æœæ˜¯ï¼Œthis å°±æ˜¯é‚£ä¸ªè¢«æ˜ç¡®æŒ‡å®šçš„å¯¹è±¡ã€‚var bar = foo.call( obj2 ) å‡½æ•°æ˜¯é€šè¿‡ç¯å¢ƒå¯¹è±¡ï¼ˆä¹Ÿç§°ä¸ºæ‹¥æœ‰è€…æˆ–å®¹å™¨å¯¹è±¡ï¼‰è¢«è°ƒç”¨çš„å—ï¼ˆéšå«ç»‘å®šï¼‰ï¼Ÿå¦‚æœæ˜¯ï¼Œthis å°±æ˜¯é‚£ä¸ªç¯å¢ƒå¯¹è±¡ã€‚var bar = obj1.foo() å¦åˆ™ï¼Œä½¿ç”¨é»˜è®¤çš„ thisï¼ˆé»˜è®¤ç»‘å®šï¼‰ã€‚å¦‚æœåœ¨ strict mode ä¸‹ï¼Œå°±æ˜¯ undefinedï¼Œå¦åˆ™æ˜¯ global å¯¹è±¡ã€‚var bar = foo() ä»¥ä¸Šï¼Œå°±æ˜¯ç†è§£å¯¹äºæ™®é€šçš„å‡½æ•°è°ƒç”¨æ¥è¯´çš„ this ç»‘å®šè§„åˆ™ æ‰€éœ€çš„å…¨éƒ¨ã€‚æ˜¯çš„â€¦â€¦å‡ ä¹æ˜¯å…¨éƒ¨ã€‚ apply, call, bind çš„åŒºåˆ« apply, call, bind æœ¬èº«å­˜åœ¨äºå¤§ Function æ„é€ å‡½æ•°çš„ prototype ä¸­ æ‰€æœ‰çš„å‡½æ•°éƒ½æ˜¯å¤§ Function çš„å®ä¾‹å¯¹è±¡ apply, call, bind æ–¹æ³•éƒ½å¯ä»¥æ”¹å˜ this çš„æŒ‡å‘ apply(å¯¹è±¡, [å‚æ•°1, å‚æ•°2, é¤æ•°3, â€¦]) call(å¯¹è±¡, å‚æ•°1, å‚æ•°2, é¤æ•°3,â€¦) bind(å¯¹è±¡,å‚æ•°1, å‚æ•°2, é¤æ•°3,â€¦) å‡½æ•°åç§°.bind()â€”-&gt;è¿”å›å€¼æ˜¯å¤åˆ¶ä¹‹åçš„è¿™ä¸ªå‡½æ•° åŒºåˆ« applyï¼Œcall æ˜¯è°ƒç”¨çš„æ—¶å€™æ”¹å˜ this æŒ‡å‘ï¼Œç„¶åè¿”å›å‡½æ•°æ‰§è¡Œçš„ç»“æœã€‚ å‚æ•°è¾ƒå¤šæ—¶ç”¨ apply ï¼Œå‚æ•°è¾ƒå°‘æ—¶ç”¨ call bind æ˜¯å¤åˆ¶ä¸€ä»½å‡½æ•°å¹¶è¿”å›ï¼Œå¹¶ä¸”è¿™ä¸ªå‡½æ•°çš„ this æŒ‡å‘å˜æˆäº†ä¼ å…¥çš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚ JavaScript åŸå‹ä»€ä¹ˆæ˜¯åŸå‹ å®ä¾‹å¯¹è±¡ä¸­æœ‰ä¸ªå±æ€§ __proto__ ï¼Œæ˜¯ä¸ªå¯¹è±¡ï¼Œå«åŸå‹ï¼Œä¸æ˜¯æ ‡å‡†çš„å±æ€§ï¼Œæµè§ˆå™¨ä½¿ç”¨çš„â€”â€“&gt;å¯ä»¥å«åŸå‹å¯¹è±¡ æ„é€ å‡½æ•°ä¸­æœ‰ä¸€ä¸ªå±æ€§ prototype ï¼Œä¹Ÿæ˜¯ä¸ªå¯¹è±¡ï¼Œå«åŸå‹ï¼Œæ˜¯æ ‡å‡†å±æ€§ï¼Œç¨‹åºå‘˜ä½¿ç”¨â€”&gt;å¯ä»¥å«åŸå‹å¯¹è±¡ å®ä¾‹å¯¹è±¡çš„ __proto__ å’Œæ„é€ å‡½æ•°ä¸­çš„ prototype ç›¸ç­‰â€”&gt; true åˆå› ä¸ºå®ä¾‹å¯¹è±¡æ˜¯é€šè¿‡æ„é€ å‡½æ•°æ¥åˆ›å»ºçš„ï¼Œæ„é€ å‡½æ•°ä¸­æœ‰åŸå‹å¯¹è±¡prototype å®ä¾‹å¯¹è±¡çš„ __proto__ æŒ‡å‘äº†æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ prototype æ¯ä¸ªå¯¹è±¡éƒ½ä¼šåœ¨å…¶å†…éƒ¨åˆå§‹åŒ–ä¸€ä¸ªå±æ€§ï¼Œå°±æ˜¯ prototypeï¼ˆåŸå‹ï¼‰ã€‚åŸå‹å°±æ˜¯ __proto__ï¼ˆIE8ä¸æ”¯æŒï¼Œéæ ‡å‡†å±æ€§ï¼‰ æˆ–è€…æ˜¯ prototype ï¼Œéƒ½æ˜¯åŸå‹å¯¹è±¡ã€‚ ä½œç”¨ å…±äº«æ•°æ®ï¼Œç›®çš„æ˜¯ï¼šèŠ‚çœå†…å­˜ç©ºé—´ å®ç°ç»§æ‰¿ï¼Œç›®çš„æ˜¯ï¼šèŠ‚çœå†…å­˜ç©ºé—´ åŸå‹é“¾ä»€ä¹ˆæ˜¯åŸå‹é“¾ç²¾ç®€ç‰ˆ åŸå‹é“¾æ˜¯ä¸€ç§å…³ç³»ï¼Œå®ä¾‹å¯¹è±¡å’ŒåŸå‹å¯¹è±¡ä¹‹é—´çš„å…³ç³»ï¼Œå…³ç³»æ˜¯é€šè¿‡åŸå‹ï¼ˆprotoï¼‰æ¥è”ç³»çš„ã€‚ è¯¦ç»†ç‰ˆ æ¯ä¸ªå¯¹è±¡éƒ½ä¼šåœ¨å…¶å†…éƒ¨åˆå§‹åŒ–ä¸€ä¸ªå±æ€§ prototypeï¼ˆåŸå‹ï¼‰ï¼Œå½“æˆ‘ä»¬è®¿é—®ä¸€ä¸ªå¯¹è±¡çš„å±æ€§æ—¶ï¼Œ å¦‚æœè¿™ä¸ªå¯¹è±¡å†…éƒ¨ä¸å­˜åœ¨è¿™ä¸ªå±æ€§ï¼Œé‚£ä¹ˆä»–å°±ä¼šå» prototype é‡Œæ‰¾è¿™ä¸ªå±æ€§ï¼Œè¿™ä¸ª prototype åˆä¼šæœ‰è‡ªå·±çš„ prototype ï¼Œäºæ˜¯å°±è¿™æ ·ä¸€ç›´æ‰¾ä¸‹å»ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å¹³æ—¶æ‰€è¯´çš„åŸå‹é“¾çš„æ¦‚å¿µã€‚ åŸå‹å’ŒåŸå‹é“¾ åŸå‹é“¾æœ€ç»ˆæŒ‡å‘ åˆ†åˆ«ä½¿ç”¨åŸå‹é“¾å’Œ class çš„æ–¹å¼å®ç°ç»§æ‰¿1. ç»„åˆç»§æ‰¿ï¼ˆåŸå‹é“¾ + å€Ÿç”¨æ„é€ å‡½æ•°ï¼‰ã€ä¸æ¨èã€‘123456789101112131415161718192021function Person(name, age) &#123; this.name = name this.age = age&#125;Person.prototype.sayHi=function () &#123;&#125;function Student(name, age, weight) &#123; // å€Ÿç”¨æ„é€ å‡½æ•° Person.call(this, name, age) this.weight = weight&#125;// æ”¹å˜åŸå‹æŒ‡å‘----ç»§æ‰¿// æˆ‘ä»¬è®© Student.prototype æŒ‡å‘ä¸€ä¸ª Person çš„å®ä¾‹å¯¹è±¡// è¿™ä¸ªå¯¹è±¡çš„ __proto__ æŒ‡å‘çš„æ˜¯ Person.prototype// æ‰€ä»¥æˆ‘ä»¬å°±å¯ä»¥å€ŸåŠ©è¿™ä¸ªå®ä¾‹å¯¹è±¡æ‹¿åˆ° sayHi æ–¹æ³•ï¼Œå®ç°ç»§æ‰¿Student.prototype = new Person()Student.prototype.eat = function () &#123;&#125;var stu = new Student("Lance", 20, 120)var stu2 = new Student("Will", 200 , 110)// å±æ€§å’Œæ–¹æ³•éƒ½è¢«ç»§æ‰¿äº† ç”±ä¸Šé¢æ–¹æ¡ˆå¼•å‡ºçš„é—®é¢˜ï¼š ä¸ºä»€ä¹ˆä¸èƒ½ Student.prototype = Person.prototypeå¯¹è±¡çš„èµ‹å€¼åªæ˜¯å¼•ç”¨çš„èµ‹å€¼, ä¸Šé¢ä¸¤è€…éƒ½æŒ‡å‘åŒä¸€ä¸ªå†…å­˜åœ°å€ï¼Œåªè¦éšä¾¿é€šè¿‡ 1 ä¸ªé€”å¾„å°±èƒ½ä¿®æ”¹è¯¥å†…å­˜åœ°å€çš„å¯¹è±¡ï¼Œè¿™æ ·å­ç±»å°±æ— æ³•å•ç‹¬æ‰©å±•æ–¹æ³•ï¼Œå› ä¸ºä¼šå½±å“çˆ¶ç±»ã€‚ å•çº¯çš„åŸå‹é“¾ç»§æ‰¿æœ‰ä»€ä¹ˆç¼ºé™·è™½ç„¶æ”¹å˜äº†åŸå‹çš„æŒ‡å‘ï¼Œä½†å±æ€§åœ¨åˆå§‹åŒ–çš„æ—¶å€™å°±å·²ç»å›ºå®šäº†ã€Student.prototype = new Person(â€œå°æ˜â€, 29, 90)ã€‘ï¼Œå¦‚æœæ˜¯å¤šä¸ªå¯¹è±¡å®ä¾‹åŒ–ï¼Œé‚£ä¹ˆæ¯ä¸ªå®ä¾‹å¯¹è±¡çš„å±æ€§çš„åˆå§‹å€¼å°±éƒ½æ˜¯ä¸€æ ·çš„ã€‚æ¢å¥è¯è¯´ï¼Œæ— æ³•å‘çˆ¶ç±»ä¼ é€’å‚æ•°ã€‚ å•çº¯çš„å€Ÿç”¨æ„é€ å‡½æ•°ç»§æ‰¿æœ‰ä»€ä¹ˆç¼ºé™·åªèƒ½ç»§æ‰¿çˆ¶ç±»æ„é€ å‡½æ•°é‡Œé¢çš„å±æ€§å’Œæ–¹æ³•ã€Person.call(this, name, age)ã€‘ï¼Œä½†çˆ¶ç±»çš„ prototypeï¼ˆåŸå‹ï¼‰ä¸Šçš„å±æ€§å’Œæ–¹æ³•ä¸èƒ½ç»§æ‰¿ã€‚ ç»„åˆç»§æ‰¿çš„ç¼ºç‚¹è°ƒç”¨äº†ä¸¤æ¬¡çˆ¶ç±»çš„æ„é€ å‡½æ•°ã€‚ç¬¬ä¸€æ¬¡ç»™å­ç±»çš„åŸå‹æ·»åŠ äº†çˆ¶ç±»æ„é€ å‡½æ•°ä¸­çš„å±æ€§æ–¹æ³•ï¼Œç¬¬äºŒæ¬¡åˆç»™å­ç±»çš„æ„é€ å‡½æ•°æ·»åŠ äº†çˆ¶ç±»çš„æ„é€ å‡½æ•°çš„å±æ€§æ–¹æ³•ï¼Œä»è€Œè¦†ç›–äº†å­ç±»åŸå‹ä¸­çš„åŒåå‚æ•°ã€‚è¿™ç§è¢«è¦†ç›–çš„æƒ…å†µé€ æˆäº†æ€§èƒ½ä¸Šçš„æµªè´¹ï¼š 123456789101112function SuperType() &#123; this.name = 'parent' this.arr = [1, 2, 3]&#125;SuperType.prototype.say = function() &#123;&#125;function SubType() &#123; SuperType.call(this) // ç¬¬äºŒæ¬¡è°ƒç”¨SuperType&#125;SubType.prototype = new SuperType() // ç¬¬ä¸€æ¬¡è°ƒç”¨SuperType 2. å¯„ç”Ÿç»„åˆç»§æ‰¿ã€æ¨èã€‘1234567891011121314151617181920212223function Person(name, age) &#123; this.name = name this.age = age this.sayHi = function() &#123;&#125;&#125;Person.prototype.eat = function() &#123;&#125;function Student(name, age, weight) &#123; Person.call(this, name, age) this.weight = weight this.study = function() &#123;&#125;&#125;var F = function ()&#123;&#125;// æ ¸å¿ƒï¼šå› ä¸ºæ˜¯å¯¹çˆ¶ç±»åŸå‹çš„å¤åˆ¶ï¼Œæ‰€ä»¥ä¸åŒ…å«çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œä¹Ÿå°±ä¸ä¼šè°ƒç”¨ä¸¤æ¬¡çˆ¶ç±»çš„æ„é€ å‡½æ•°é€ æˆæµªè´¹F.prototype = Person.prototype // åˆ›å»ºäº†çˆ¶ç±»åŸå‹çš„æµ…å¤åˆ¶Student.prototype = new F();// ä¸Šé¢ä¸‰æ®µjsä»£ç ä¹Ÿå¯ä»¥ç”¨ Student.prototype = Object.create(Person.prototype) ä»£æ›¿Student.prototype.constructor = Student // ä¿®æ­£åŸå‹çš„æ„é€ å‡½æ•°var stu1 = new Student("Lance", 19, 120)console.dir(stu1) 3. class å®ç°ç»§æ‰¿1234567891011121314151617181920212223class Person &#123; constructor(name, age) &#123; this.name = name this.age = age // ç±»æœ¬èº«çš„æ–¹æ³• this.sayHi = function() &#123;&#125; &#125; // è¿™é‡Œçš„ eat ç›¸å½“äº prototype ä¸­çš„ eat eat() &#123;&#125;&#125;// å…³é”®ç‚¹ï¼šextends superclass Student extends Person &#123; constructor(name, age, weight) &#123; super(name, age) this.weight = weight this.study = function() &#123;&#125; &#125; run() &#123;&#125;&#125;var stu = new Student("Jerry", 20, 100)console.dir(stu) åŸå‹é“¾ï¼Œproto å’Œ prototype çš„åŒºåˆ«å¯¹è±¡æ‹¥æœ‰ __proto__ å±æ€§ï¼Œå‡½æ•°æ‹¥æœ‰ prototype å±æ€§ã€‚æŸä¸ªå®ä¾‹å¯¹è±¡çš„ __proto__ æŒ‡å‘æ„é€ å®ƒçš„æ„é€ å‡½æ•°çš„ prototype å±æ€§ã€‚æ‰€ä»¥ï¼šå®ä¾‹å¯¹è±¡çš„ __proto__ æŒ‡å‘äº†æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ prototypeï¼š 1234567// æ„é€ å‡½æ•°function B(b) &#123; this.b = b&#125;// å®ä¾‹å¯¹è±¡var b = new B('lc')b.__proto__ === B.prototype // true å‚è€ƒï¼šå½»åº•ç†è§£ä»€ä¹ˆæ˜¯åŸå‹é“¾ï¼Œprototypeå’Œprotoçš„åŒºåˆ«ã€‚ å¯¹è±¡ å‡½æ•°ï¼ˆåŒ…æ‹¬æ„é€ å‡½æ•°ï¼‰æ˜¯å¯¹è±¡ å¯¹è±¡ä¸ä¸€å®šæ˜¯å‡½æ•° å¯¹è±¡æœ‰ __proto__ å‡½æ•°æœ‰ prototype åˆ›å»ºå¯¹è±¡çš„ä¸‰ç§æ–¹å¼å­—é¢é‡çš„æ–¹å¼12345var obj = &#123; name: "Lance", age: 20, sayHi: function()&#123;&#125;&#125; è°ƒç”¨ç³»ç»Ÿçš„æ„é€ å‡½æ•°1234var obj = new Object()obj.name = 'Lance'obj.age = 20obj.sayHi = function()&#123;&#125; è‡ªå®šä¹‰æ„é€ å‡½æ•°12345function Person(name, age) &#123; this.name = name this.age = age this.sayHi = function()&#123;&#125;&#125; new æ“ä½œç¬¦å…·ä½“å¹²äº†ä»€ä¹ˆå‘¢ï¼Ÿ åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œå¦‚ï¼švar obj = {}; æ–°å¯¹è±¡çš„ __proto__ å±æ€§æŒ‡å‘æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ã€‚ å°†æ„é€ å‡½æ•°çš„ä½œç”¨åŸŸèµ‹å€¼ç»™æ–°å¯¹è±¡ã€‚ï¼ˆä¹Ÿæ‰€ä»¥thiså¯¹è±¡æŒ‡å‘æ–°å¯¹è±¡ï¼‰ æ‰§è¡Œæ„é€ å‡½æ•°å†…éƒ¨çš„ä»£ç ï¼Œå°†å±æ€§æ·»åŠ ç»™objä¸­çš„thiså¯¹è±¡ã€‚ è¿”å›æ–°å¯¹è±¡objã€‚ 12345function _new(fn, ...args) &#123; const obj = Object.create(fn.prototype) const ret = fn.apply(obj, args) return ret instanceof Object ? ret : obj&#125; é€šè¿‡ new çš„æ–¹å¼åˆ›å»ºå¯¹è±¡å’Œé€šè¿‡å­—é¢é‡åˆ›å»ºæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ å­—é¢é‡åˆ›å»ºå¯¹è±¡ï¼Œä¸ä¼šè°ƒç”¨ Object æ„é€ å‡½æ•°, ç®€æ´ä¸”æ€§èƒ½æ›´å¥½; new Object() æ–¹å¼åˆ›å»ºå¯¹è±¡æœ¬è´¨ä¸Šæ˜¯æ–¹æ³•è°ƒç”¨ï¼Œæ¶‰åŠåˆ°åœ¨ proto é“¾ä¸­éå†è¯¥æ–¹æ³•ï¼Œå½“æ‰¾åˆ°è¯¥æ–¹æ³•åï¼Œåˆä¼šç”Ÿäº§æ–¹æ³•è°ƒç”¨å¿…é¡»çš„ å †æ ˆä¿¡æ¯ï¼Œæ–¹æ³•è°ƒç”¨ç»“æŸåï¼Œè¿˜è¦é‡Šæ”¾è¯¥å †æ ˆï¼Œæ€§èƒ½ä¸å¦‚å­—é¢é‡çš„æ–¹å¼ äº‹ä»¶ä»€ä¹ˆæ˜¯äº‹ä»¶ï¼ŒIEä¸ç«ç‹çš„äº‹ä»¶æœºåˆ¶æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ å¦‚ä½•é˜»æ­¢å†’æ³¡ï¼Ÿ æˆ‘ä»¬åœ¨ç½‘é¡µä¸­çš„æŸä¸ªæ“ä½œï¼ˆæœ‰çš„æ“ä½œå¯¹åº”å¤šä¸ªäº‹ä»¶ï¼‰ã€‚ä¾‹å¦‚ï¼šå½“æˆ‘ä»¬ç‚¹å‡»ä¸€ä¸ªæŒ‰é’®å°±ä¼šäº§ç”Ÿä¸€ä¸ªäº‹ä»¶ã€‚æ˜¯å¯ä»¥è¢« JavaScript ä¾¦æµ‹åˆ°çš„è¡Œä¸ºã€‚ äº‹ä»¶å¤„ç†æœºåˆ¶ï¼šIE9ä»¥ä¸‹åªæ”¯æŒäº‹ä»¶å†’æ³¡ã€Firefoxã€Chromeç­‰åˆ™åŒæ—¶æ”¯æŒä¸¤ç§äº‹ä»¶æ¨¡å‹ï¼Œä¹Ÿå°±æ˜¯ï¼šæ•è·å‹äº‹ä»¶å’Œå†’æ³¡å‹äº‹ä»¶ã€‚ ev.stopPropagation();ï¼ˆæ—§ ie çš„æ–¹æ³• ev.cancelBubble = trueï¼‰ äº‹ä»¶æµ ä»€ä¹ˆæ˜¯DOMäº‹ä»¶æ¨¡å‹ä¸»è¦æœ‰ä¸‰ç§ DOM äº‹ä»¶æ¨¡å‹ï¼š äº‹ä»¶å†’æ³¡ï¼šå…ƒç´ å…ˆç›‘å¬åˆ°è¿™ä¸ªäº‹ä»¶ï¼Œå¾€å¤–ä¼ æ’­ï¼› äº‹ä»¶æ•è·ï¼šDocument æœ€å…ˆç›‘å¬åˆ°è¿™ä¸ªäº‹ä»¶ï¼› DOM äº‹ä»¶æµï¼šå…ˆæ•è·ï¼Œå†å†’æ³¡ã€‚å…è®¸åœ¨æŸäº›åœ°æ–¹ç›‘å¬äº‹ä»¶ï¼Œå‡è®¾åœ¨æŸä¸ªå…ƒç´ ä¸¤é˜¶æ®µéƒ½ç»‘å®šä¸€ä¸ªäº‹ä»¶ç›‘å¬å™¨ï¼Œçœ‹ä½ æ˜¯å†³å®šåœ¨å·¦è¾¹æ•è·é˜¶æ®µç›‘å¬ï¼Œè¿˜æ˜¯å³è¾¹å†’æ³¡é˜¶æ®µç›‘å¬ï¼Œå“ªä¸€è¾¹æœ‰å“åº”ï¼Œå“ªä¸€è¾¹äº‹ä»¶å°±è¢«è§¦å‘ã€‚å³å¯ä»¥åœ¨ä»»ä¸€é˜¶æ®µã€ä»»æ„æ—¶æœºç›‘å¬äº‹ä»¶ã€‚ äº‹ä»¶ç»‘å®šçš„ä¸‰ç§æ–¹å¼1234567891011121314151617// ã€ DOM0 çº§äº‹ä»¶ ã€‘// ç¬¬ä¸€ç§ï¼šä½œä¸ºå±æ€§ï¼Œå†™åœ¨æ ‡ç­¾ä¸Š// &lt;div onclick="fun();"&gt;click&lt;/div&gt; â† ç»‘å®šåœ¨äº‹ä»¶å†’æ³¡é˜¶æ®µ// ç¬¬äºŒç§ï¼Œä½¿ç”¨ onclickdocument.getElementById("xxx").onclick = function()&#123;&#125; // â† ç»‘å®šåœ¨äº‹ä»¶å†’æ³¡é˜¶æ®µ// ã€ DOM2 çº§äº‹ä»¶ ã€‘// ç¬¬ä¸‰ç§ï¼šä½¿ç”¨æ¨èçš„æ ‡å‡†æ¨¡å¼document.getElementById("xxx").addEventListener("click", function(e)&#123;&#125;, false)// ç¬¬ä¸‰ç§å¯ä»¥æ”¹å˜äº‹ä»¶ç»‘å®šçš„é˜¶æ®µ// ---&gt; ä¸º false æ—¶ï¼Œç»‘å®šåœ¨äº‹ä»¶å†’æ³¡é˜¶æ®µï¼ˆé»˜è®¤ä¸‹æ˜¯ç»‘å®šåœ¨å†’æ³¡é˜¶æ®µï¼‰// ---&gt; ä¸º true æ—¶ï¼Œç»‘å®šåœ¨æ•è·é˜¶æ®µ// å¦‚æœç»‘å®šåœ¨æ•è·é˜¶æ®µï¼Œç›‘å¬å‡½æ•°å°±åªåœ¨æ•è·é˜¶æ®µè§¦å‘// å¦‚æœç»‘å®šåœ¨å†’æ³¡é˜¶æ®µï¼Œç›‘å¬å‡½æ•°åªåœ¨å†’æ³¡é˜¶æ®µè§¦å‘ã€‚ DOM2 äº‹ä»¶ä¼ æ’­æœºåˆ¶DOM ä½œä¸ºäº‹ä»¶å¤„ç†çš„ä¸€ä¸ªåŸºæœ¬æ ‡å‡†ï¼ŒDOM2 çº§äº‹ä»¶ä¸º DOM äº‹ä»¶çš„å‡çº§ï¼› DOM2 çº§äº‹ä»¶å®šä¹‰ç”¨äºå¤„ç†æŒ‡å®šå’Œåˆ é™¤äº‹ä»¶å¤„ç†ç¨‹åºçš„æ“ä½œï¼š addEventListener removeEventListener æ‰€æœ‰çš„ DOM èŠ‚ç‚¹éƒ½åŒ…å«è¿™ä¸¤ä¸ªæ–¹æ³•ï¼Œå¹¶ä¸”å®ƒä»¬éƒ½æ¥å—ä¸‰ä¸ªå‚æ•°ï¼š äº‹ä»¶ç±»å‹ï¼› äº‹ä»¶å¤„ç†æ–¹æ³•ï¼› å¸ƒå°”å‚æ•°ã€‚å¦‚æœæ˜¯ true è¡¨ç¤ºåœ¨æ•è·é˜¶æ®µè°ƒç”¨äº‹ä»¶å¤„ç†ç¨‹åºï¼›å¦‚æœæ˜¯ falseï¼Œåˆ™æ˜¯åœ¨äº‹ä»¶å†’æ³¡é˜¶æ®µå¤„ç†ã€‚ äº‹ä»¶çš„æ‰§è¡Œé¡ºåº æ— è®ºæ˜¯å“ªç§ç»‘å®šæ–¹å¼ï¼Œå¯¹äºåŒä¸€ä¸ªç»‘å®šå…ƒç´ ï¼Œéƒ½æ˜¯éµå¾ªå…ˆç»‘å®šçš„å…ˆæ‰§è¡ŒåŸåˆ™ã€‚ å¦‚æœæ˜¯ä»¥ onclick çš„æ–¹å¼ç»‘å®šçš„ï¼Œå¦‚æœå¯¹åŒä¸€ä¸ªå…ƒç´ é‡å¤ç»‘å®šçš„è¯ï¼Œåé¢çš„ä¼šè¦†ç›–å‰é¢çš„ã€‚ä½†æ˜¯å¦‚æœæ˜¯ä»¥ addEventListener æ–¹å¼ç»‘å®šçš„è¯ï¼ŒåŒä¸€ä¸ªå…ƒç´ ç»‘å®šå¤šå°‘æ¬¡ï¼Œå°±ä¼šæ‰§è¡Œå¤šå°‘æ¬¡ã€‚ å¦‚æœåœ¨ DOM ä¸­ç›´æ¥ä½¿ç”¨ onclick ï¼Œåˆ™ onclick çš„ç»‘å®šæ˜¯æ—©äº addEventListener çš„ã€‚ æˆ‘ä»¬ç»™ä¸€ä¸ª dom åŒæ—¶ç»‘å®šä¸¤ä¸ªç‚¹å‡»äº‹ä»¶ï¼Œä¸€ä¸ªç”¨æ•è·ï¼Œä¸€ä¸ªç”¨å†’æ³¡ã€‚ä¼šæ‰§è¡Œå‡ æ¬¡äº‹ä»¶ï¼Œä¼šå…ˆæ‰§è¡Œå†’æ³¡è¿˜æ˜¯æ•è·ï¼Ÿä¼šæ‰§è¡Œä¸¤æ¬¡äº‹ä»¶ï¼ŒæŒ‰ä»£ç æ‰§è¡Œé¡ºåºæ¥ è§„å¾‹ï¼šç»‘å®šåœ¨è¢«ç‚¹å‡»å…ƒç´ çš„äº‹ä»¶æ˜¯æŒ‰ç…§ä»£ç é¡ºåºå‘ç”Ÿï¼Œå…¶ä»–å…ƒç´ é€šè¿‡å†’æ³¡æˆ–è€…æ•è·â€œæ„ŸçŸ¥â€çš„äº‹ä»¶ï¼ŒæŒ‰ç…§W3Cçš„æ ‡å‡†ï¼Œå…ˆå‘ç”Ÿæ•è·äº‹ä»¶ï¼Œåå‘ç”Ÿå†’æ³¡äº‹ä»¶ã€‚æ‰€æœ‰äº‹ä»¶çš„é¡ºåºæ˜¯ï¼šå…¶ä»–å…ƒç´ æ•è·é˜¶æ®µäº‹ä»¶ -&gt; æœ¬å…ƒç´ ä»£ç é¡ºåºäº‹ä»¶ -&gt; å…¶ä»–å…ƒç´ å†’æ³¡é˜¶æ®µäº‹ä»¶ äº‹ä»¶å§”æ‰˜ç»‘å®šåœ¨çˆ¶çº§å…ƒç´ ï¼Œåˆ©ç”¨äº‹ä»¶å†’æ³¡å»è§¦å‘çˆ¶çº§äº‹ä»¶å¤„ç†å‡½æ•°çš„ä¸€ç§æŠ€å·§ã€‚ å®ç°ä¸€ä¸ªäº‹ä»¶å§”æ‰˜123456789101112131415161718192021222324252627282930313233var ul = document.querySelector('ul')function listen(element, eventType, targetElement, fn) &#123; element.addEventListener(eventType, function(e) &#123; // å…ˆæ‹¿åˆ°å½“å‰äº‹ä»¶çš„ç›´æ¥è§¦å‘å¯¹è±¡ var curTarget = e.target // çœ‹å®ƒæ˜¯ä¸æ˜¯ä½¿ç”¨è€…ç›‘å¬çš„ç›®æ ‡å¯¹è±¡ç±»å‹ // ä¸€æ—¦å‘ç°ä¸æ˜¯ï¼Œå°±æ‰§è¡Œå¾ªç¯ while(!curTarget.matches(targetElement)) &#123; // å…ˆçœ‹çœ‹å½“å‰å¯¹è±¡æ˜¯ä¸æ˜¯å’Œçˆ¶å…ƒç´ ç›¸åŒ // ç›¸åŒåˆ™æŠŠå½“å‰å¯¹è±¡ç½®ä¸ºç©ºï¼Œä¸”ä¸æ‰§è¡Œå›è°ƒ if (curTarget === element) &#123; curTarget = null break &#125; // ä¸ç›¸åŒåˆ™æŠŠå½“å‰å¯¹è±¡è®¾ç½®æˆè‡ªå·±çš„çˆ¶å¯¹è±¡ curTarget = curTarget.parentNode &#125; // æ˜¯ï¼Œåˆ™å…ˆçœ‹å½“å‰å¯¹è±¡æœ‰æ²¡æœ‰å€¼ï¼Œæœ‰å€¼åˆ™æ‰§è¡Œå›è°ƒå‡½æ•° curTarget &amp;&amp; fn(e, curTarget, e) &#125;)&#125;listen(ul, 'click', 'li', function(event, el) &#123; console.log(event, el)&#125;);// jquery ä½¿ç”¨æ–¹å¼$("ul").on("click", "li", function(e) &#123; console.log($(e.target).html());&#125;);// è¿™ä¸ª on äº‹ä»¶æ˜¯ç»‘å®šåœ¨ ul ä¸Šé¢çš„ï¼Œli æ˜¯ç›®æ ‡å…ƒç´ ï¼Œ// on äº‹ä»¶å†…éƒ¨æ˜¯é€šè¿‡ e.target æ¥åˆ¤æ–­ç‚¹å‡»å…ƒç´ æ˜¯ä¸æ˜¯ li çš„ è§£é‡Šä»¥ä¸‹æ¦‚å¿µï¼šäº‹ä»¶ä¼ æ’­æœºåˆ¶ã€é˜»æ­¢ä¼ æ’­ã€å–æ¶ˆé»˜è®¤äº‹ä»¶ã€äº‹ä»¶ä»£ç†ï¼Ÿ1. äº‹ä»¶ä¼ æ’­æœºåˆ¶ä¸»è¦æœ‰ä¸‰ç§ï¼š äº‹ä»¶å†’æ³¡ï¼šäº‹ä»¶å¼€å§‹æ—¶ç”±æœ€å…·ä½“çš„å…ƒç´ æ¥æ”¶ï¼Œç„¶åé€çº§å‘ä¸Šä¼ æ’­åˆ°è¾ƒä¸ºä¸å…·ä½“çš„å…ƒç´ ï¼ˆä»å°åˆ°å¤§ï¼‰ï¼› äº‹ä»¶æ•è·ï¼šä¸å¤ªå…·ä½“çš„èŠ‚ç‚¹æ›´æ—©æ¥æ”¶äº‹ä»¶ï¼Œè€Œæœ€å…·ä½“çš„å…ƒç´ æœ€åæ¥æ”¶äº‹ä»¶ï¼Œå’Œäº‹ä»¶å†’æ³¡ç›¸åï¼ˆä»å¤§åˆ°å°ï¼‰ï¼› DOMäº‹ä»¶æµï¼šDOM2 çº§äº‹ä»¶è§„å®šäº‹ä»¶æµåŒ…æ‹¬ä¸‰ä¸ªé˜¶æ®µï¼Œäº‹ä»¶æ•è·é˜¶æ®µï¼Œå¤„äºç›®æ ‡é˜¶æ®µï¼Œäº‹ä»¶å†’æ³¡é˜¶æ®µï¼Œé¦–å…ˆå‘ç”Ÿçš„æ˜¯äº‹ä»¶æ•è·ï¼Œä¸ºæˆªå–äº‹ä»¶æä¾›æœºä¼šï¼Œç„¶åæ˜¯å®é™…ç›®æ ‡æ¥æ”¶äº‹ä»¶ï¼Œæœ€åæ˜¯å†’æ³¡é˜¶æ®µï¼ˆæ ‡å‡†æµè§ˆå™¨ç°åœ¨éƒ½ä½¿ç”¨ DOM äº‹ä»¶æµï¼ŒIE ä¸æ”¯æŒäº‹ä»¶æµï¼Œåªæ”¯æŒäº‹ä»¶å†’æ³¡ï¼‰ã€‚ 2. é˜»æ­¢ä¼ æ’­ stopPropagation() å–æ¶ˆäº‹ä»¶è¿›ä¸€æ­¥æ•è·æˆ–å†’æ³¡ã€‚ 3. å–æ¶ˆé»˜è®¤äº‹ä»¶ preventDefault() å–æ¶ˆäº‹ä»¶é»˜è®¤è¡Œä¸ºã€‚ 4. äº‹ä»¶ä»£ç† é€šè¿‡äº‹ä»¶å†’æ³¡ï¼ˆæˆ–è€…äº‹ä»¶æ•è·ï¼‰ç»™çˆ¶å…ƒç´ æ·»åŠ äº‹ä»¶ç›‘å¬ï¼Œe.target æŒ‡å‘å¼•å‘è§¦å‘äº‹ä»¶çš„å…ƒç´ ã€‚ ä»€ä¹ˆæ˜¯èŠ‚æµå’Œé˜²æŠ–ä»‹ç» debounceï¼ˆé˜²æŠ–ï¼‰çš„ä½œç”¨æ˜¯åœ¨è®©åœ¨ç”¨æˆ·åŠ¨ä½œåœæ­¢åå»¶è¿Ÿx mså†æ‰§è¡Œå›è°ƒ throttleï¼ˆèŠ‚æµï¼‰çš„ä½œç”¨æ˜¯åœ¨ç”¨æˆ·åŠ¨ä½œæ—¶æ¯éš”ä¸€å®šæ—¶é—´ï¼ˆå¦‚200msï¼‰æ‰§è¡Œä¸€æ¬¡å›è°ƒ èŠ‚æµé˜²æŠ–ä½œç”¨ debounce åº”ç”¨åœ¨æœç´¢æ¡†çš„å³æ—¶æœç´¢ï¼ˆinput äº‹ä»¶ï¼‰ï¼Œé¿å…ç”¨æˆ·ç‹‚æŒ‰é”®ç›˜å¯¼è‡´çš„é¢‘ç¹è¯·æ±‚ throttle åº”ç”¨åœ¨ç›‘å¬ resize æ”¹å˜å¸ƒå±€æˆ– onscroll æ»šåŠ¨ é˜²æŠ–ï¼š 123456789101112131415161718192021// &lt;input type="text" oninput="change()"&gt;// é˜²æŠ–ï¼ˆä¸€æ®µæ—¶é—´ä¼šç­‰ï¼Œç„¶åå¸¦ç€ä¸€èµ·åšäº†ï¼‰function debounce(fn, delay) &#123; let timer = null return function() &#123; const context = this, args = arguments if (timer) &#123; window.clearTimeout(timer) &#125; timer = setTimeout(() =&gt; &#123; fn.apply(context, args) timer = null &#125;, delay) &#125;&#125;var change = debounce(function() &#123; var input = document.querySelector("input") console.log(input.value)&#125;, 1000) èŠ‚æµï¼š 1234567891011121314151617181920// &lt;div class="sw"&gt;23333&lt;/div&gt;// èŠ‚æµï¼ˆä¸€æ®µæ—¶é—´æ‰§è¡Œä¸€æ¬¡ä¹‹åï¼Œå°±ä¸æ‰§è¡Œç¬¬äºŒæ¬¡ï¼‰function throttle(fn, delay) &#123; let canUse = true return function() &#123; var context = this, args = arguments if (canUse) &#123; fn.apply(context, args) canUse = false setTimeout(()=&gt;canUse = true, delay) &#125; &#125;&#125;var sw = document.querySelector(".sw")sw.addEventListener("click", throttle(function(e) &#123; console.log(e)&#125;, 1000)) å‚è€ƒï¼š åœ¨Reactã€Vueå’Œå°ç¨‹åºä¸­ä½¿ç”¨å‡½æ•°èŠ‚æµå’Œå‡½æ•°é˜²æŠ– å‡½æ•°é˜²æŠ–ä¸å‡½æ•°èŠ‚æµ JSäº‹ä»¶ä¸­é˜²æŠ–debounceå’ŒèŠ‚æµthrottleæ¦‚å¿µåŸç†çš„å­¦ä¹  mouseover å’Œ mouseenter çš„åŒºåˆ« mouseoverï¼šä¸è®ºé¼ æ ‡æŒ‡é’ˆç©¿è¿‡è¢«é€‰å…ƒç´ æˆ–å…¶å­å…ƒç´ ï¼Œéƒ½ä¼šè§¦å‘ mouseover äº‹ä»¶ã€‚æ”¯æŒäº‹ä»¶å†’æ³¡ã€‚ç›¸å¯¹åº” mouseout äº‹ä»¶ã€‚ mouseenterï¼šåªæœ‰åœ¨é¼ æ ‡æŒ‡é’ˆç©¿è¿‡è¢«é€‰å…ƒç´ æ—¶ï¼Œæ‰ä¼šè§¦å‘ mouseenter äº‹ä»¶ã€‚ä¸æ”¯æŒäº‹ä»¶å†’æ³¡ã€‚ç›¸å¯¹åº” mouseleave äº‹ä»¶ã€‚ å‚è€ƒï¼šJavaScriptä¸­çš„ mouseover ä¸ mouseenter ï¼Œmouseout å’Œ mouseleave çš„åŒºåˆ« window.onload å’Œ document.onDOMContentLoaded æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ123456789//å½“é¡µé¢æ‰€æœ‰èµ„æºåŠ è½½å®Œæˆï¼Œåˆ™è§¦å‘ï¼ˆæ¶‰åŠåˆ°æ‰€æœ‰èµ„æºï¼Œæ‰€ä»¥è§¦å‘æ—¶æœºè¾ƒæ™šï¼‰ã€‚window.onload = function() &#123; console.log("window loaded");&#125;;//DOM ç»“æ„è§£æå®Œæˆï¼ˆå¹¶ä¸æ˜¯é¡µé¢ä¸Šèµ„æºåŠ è½½å®Œæˆï¼Œè€Œæ˜¯ dom ç»“æ„æ¸²æŸ“å®Œæˆï¼‰ã€‚document.addEventListener("DOMContentLoaded", function() &#123; console.log("DOMContentLoaded");&#125;); ES6ç›¸å…³ES6 ç”¨åˆ°è¿‡å—ï¼Œæ–°å¢äº†å“ªäº›ä¸œè¥¿ï¼Œä½ ç”¨åˆ°è¿‡ä»€ä¹ˆï¼Ÿ let å’Œ const æ¨¡æ¿å­—ç¬¦ä¸² ç®­å¤´å‡½æ•°ï¼ˆè‡ªå·±æ²¡æœ‰ this ï¼Œä»è‡ªå·±çš„ä½œç”¨åŸŸé“¾çš„ä¸Šä¸€å±‚ç»§æ‰¿ this ï¼‰ for-ofï¼ˆç”¨æ¥éå†æ•°æ®â€”ä¾‹å¦‚æ•°ç»„ä¸­çš„å€¼ï¼‰e.g. Arrayï¼ŒStringï¼ŒSetï¼ŒMap arguments å¯¹è±¡å¯è¢«ä¸å®šå‚æ•°å’Œé»˜è®¤å‚æ•°å®Œç¾ä»£æ›¿ Promise æ•°ç»„çš„æ‹“å±• æ•°ç»„.find((item,index,arr) =&gt; {æ¡ä»¶}) è¿”å›æ»¡è¶³æ¡ä»¶çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼ã€‚å¦åˆ™è¿”å› undefined æ•°ç»„.findIndex((item,index,arr)=&gt;{â€¦}) è¿”å›æ»¡è¶³æ¡ä»¶çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•å€¼ã€‚å¦åˆ™è¿”å› -1 æ•°ç»„.includes(æ•°æ®,[searchIndex]) åˆ¤æ–­æ•°æ®æ˜¯å¦åœ¨æ•°ç»„ä¸­,ç¬¬äºŒä¸ªå‚æ•°(å¯é€‰å‚æ•°)ä¸ºä»æŒ‡å®šç´¢å¼•å¤„(åŒ…å«ç´¢å¼•å¤„çš„å€¼)å¼€å§‹æœç´¢ è¿”å›å¸ƒå°”å€¼(es7æ—¶åŠ å…¥) æ‰©å±•è¿ç®—ç¬¦ â€¦ å¼•å…¥ module æ¨¡å—çš„æ¦‚å¿µ const å’Œ let åŒºåˆ« let å®šä¹‰å˜é‡å¯ä»¥åªå£°æ˜ä¸èµ‹å€¼ const å®šä¹‰å¸¸é‡å£°æ˜æ—¶å¿…é¡»èµ‹å€¼ï¼Œä¸€æ—¦å®šä¹‰ä¸å¯è½»æ˜“æ”¹å˜å€¼ å…±åŒç‚¹è§£å†³ var æ²¡æœ‰å—ä½œç”¨åŸŸã€å˜é‡æå‡ã€å¯ä»¥é‡å¤å£°æ˜çš„é—®é¢˜ã€‚let å’Œ const æœ‰è‡ªå·±çš„å—ä½œç”¨åŸŸï¼Œä¸å­˜åœ¨å˜é‡æå‡é—®é¢˜ï¼ŒåŒä¸€å—ä½œç”¨åŸŸä¸­ä¸å¯é‡å¤å£°æ˜ï¼ˆä¼šæŠ¥é”™ï¼‰ let var åŒºåˆ« var æœ‰å˜é‡æå‡ï¼Œlet æ²¡æœ‰ let çš„ä½œç”¨åŸŸæ˜¯å—ï¼Œè€Œ var çš„ä½œç”¨åŸŸæ˜¯å‡½æ•° 12345678910111213var a = 5var b = 10if (a === 5) &#123;let a = 4 // The scope is inside the if-blockvar b = 1 // The scope is inside the functionconsole.log(a) // 4console.log(b) // 1&#125;console.log(a) // 5console.log(b) // 1 let æœ‰æš‚æ—¶æ€§æ­»åŒºï¼Œåªè¦ let/const å£°æ˜çš„å˜é‡ï¼Œåœ¨æœªå£°æ˜ä¹‹å‰ä½¿ç”¨æˆ–è€…èµ‹å€¼éƒ½ä¼šæŠ¥é”™ï¼ˆReferenceErrorï¼‰ let ä¸èƒ½é‡å¤å®šä¹‰ å¯ä»¥æ”¹å˜ const å®šä¹‰çš„æŸä¸ªå¯¹è±¡çš„å±æ€§å—å¯ä»¥ï¼Œå› ä¸ºå¯¹è±¡æ˜¯å¤æ‚ç±»å‹ï¼Œconst å­˜å‚¨çš„æ˜¯å¼•ç”¨ï¼Œæ‰€ä»¥æ”¹å˜å¯¹è±¡çš„æˆå‘˜ä¸ä¼šæŠ¥é”™ï¼Œä½†ä¸å»ºè®®è¿™æ ·åšã€‚ ç®­å¤´å‡½æ•°ï¼ˆ this æŒ‡å‘ï¼‰ ç®­å¤´å‡½æ•°ï¼Œæœ¬è´¨ä¸Šï¼Œå°±æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•° ç®­å¤´å‡½æ•°æ— æ³•é€šè¿‡ callã€applyã€bind æ¥æ‰‹åŠ¨æ”¹å˜å†…éƒ¨ this æŒ‡å‘ ç®­å¤´å‡½æ•°ï¼šè‡ªåŠ¨ .bind(this) ä¹Ÿå°±æ˜¯è¯´ç®­å¤´å‡½æ•°ä¸­çš„ this æŒ‡å‘ä¸å…¶æ‰€åœ¨ä½œç”¨åŸŸçš„ this æŒ‡å‘ç›¸åŒ æ€»ç»“ï¼š ç®­å¤´å‡½æ•°ä¸ä¼šåˆ›å»ºè‡ªå·±çš„ this ï¼Œå®ƒåªä¼šä»è‡ªå·±çš„ä½œç”¨åŸŸé“¾çš„ ä¸Šä¸€å±‚ç»§æ‰¿ this 1234567891011121314151617181920212223function Person() &#123; // Person() æ„é€ å‡½æ•°å®šä¹‰ `this` ä½œä¸ºå®ƒè‡ªå·±çš„å®ä¾‹. this.age = 0 setInterval(function growUp() &#123; // åœ¨éä¸¥æ ¼æ¨¡å¼, growUp() å‡½æ•°å®šä¹‰ `this`ä½œä¸ºå…¨å±€å¯¹è±¡, // ä¸åœ¨ Person() æ„é€ å‡½æ•°ä¸­å®šä¹‰çš„ `this`å¹¶ä¸ç›¸åŒ. this.age++ &#125;, 1000)&#125;var p = new Person()// ä½¿ç”¨ç®­å¤´å‡½æ•°function Person() &#123; this.age = 0 setInterval(() =&gt; &#123; this.age++ // |this| æ­£ç¡®åœ°æŒ‡å‘ p å®ä¾‹ &#125;, 1000)&#125;var p = new Person() ç®­å¤´å‡½æ•°ä¸æ™®é€šå‡½æ•°çš„åŒºåˆ« ç®­å¤´å‡½æ•°æ˜¯åŒ¿åå‡½æ•°ï¼Œä¸èƒ½ä½œä¸ºæ„é€ å‡½æ•°ï¼Œä¸èƒ½ä½¿ç”¨ newã€‚ 1234var B = () =&gt; &#123; value:1;&#125;var b = new B(); //--&gt;TypeError: B is not a constructor ç®­å¤´å‡½æ•°ä¸ç»‘å®š argumentsï¼Œå–è€Œä»£ä¹‹ç”¨ rest å‚æ•° â€¦ è§£å†³ã€‚ 123456789101112131415function A(a) &#123; console.log(arguments);&#125;var B = (b) =&gt; &#123; console.log(arguments);&#125;//...c å³ä¸º rest å‚æ•°var C = (...c) =&gt; &#123; console.log(c);&#125;A(1); //--&gt;[object Arguments] &#123;0: 1&#125;B(2); //--&gt;ReferenceError: arguments is not definedC(3); //--&gt;[3] ç®­å¤´å‡½æ•°ä¸ç»‘å®š thisï¼Œä¼šæ•è·å…¶æ‰€åœ¨çš„ä¸Šä¸‹æ–‡çš„ this å€¼ï¼Œä½œä¸ºè‡ªå·±çš„ this å€¼ã€‚ 12345678910111213var obj = &#123; a: 10, b: function() &#123; console.log(this.a); &#125;, c: function() &#123; return () =&gt; &#123; console.log(this.a); &#125; &#125;&#125;obj.b(); //--&gt;10obj.c()(); //--&gt;10 ç®­å¤´å‡½æ•°é€šè¿‡ call() æˆ– apply() æ–¹æ³•è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œåªä¼ å…¥äº†ä¸€ä¸ªå‚æ•°ï¼Œå¯¹ this å¹¶æ²¡æœ‰å½±å“ã€‚ 123456789101112131415var obj = &#123; a: 10, b: function(n) &#123; var f = (v) =&gt; v + this.a; return f(n); &#125;, c: function(n) &#123; var f = (v) =&gt; v + this.a; var m = &#123;a:20&#125;; return f.call(m,n); &#125;&#125;console.log(obj.b(1)); //--&gt;11console.log(obj.c(1)); //--&gt;11 ç®­å¤´å‡½æ•°æ²¡æœ‰åŸå‹å±æ€§ã€‚ 12345678var a = () =&gt; &#123; return 1;&#125;function b() &#123; return 2;&#125;console.log(a.prototype); //--&gt;undefinedconsole.log(b.prototype); //--&gt;object&#123;...&#125; ç®­å¤´å‡½æ•°ä¸èƒ½å½“åš Generator å‡½æ•°,ä¸èƒ½ä½¿ç”¨ yield å…³é”®å­—ã€‚ç®­å¤´å‡½æ•°ä¸èƒ½æ¢è¡Œã€‚ 12var a = () =&gt; 1; //--&gt;SyntaxError: Unexpected token =&gt; Set å’Œ Mapæ¦‚å¿µ Set æ˜¯æœ‰åºåˆ—è¡¨ï¼Œç±»ä¼¼äºæ•°ç»„ï¼Œä½†æ˜¯æ²¡æœ‰é‡å¤å€¼ Map æ˜¯å­˜å‚¨è®¸å¤šé”®å€¼å¯¹çš„æœ‰åºåˆ—è¡¨ï¼Œkey å’Œ value æ”¯æŒæ‰€æœ‰æ•°æ®ç±»å‹ ç›¸åŒç‚¹ éƒ½æ˜¯æœ‰åºåˆ—è¡¨ Set å€¼ä¸é‡å¤ï¼›Map é”®ä¸é‡å¤ ç”¨æ³• SET å±æ€§ï¼š Set.prototype.constructorï¼šæ„é€ å‡½æ•°ï¼Œé»˜è®¤å°±æ˜¯ Set å‡½æ•° Set.prototype.sizeï¼šè¿”å›å®ä¾‹çš„æˆå‘˜æ€»æ•° æ“ä½œæ–¹æ³•ï¼š add(value)ï¼šæ·»åŠ ä¸€ä¸ªå€¼ï¼Œè¿”å›Setç»“æ„æœ¬èº« delete(value)ï¼šåˆ é™¤æŸä¸ªå€¼ï¼Œè¿”å›å¸ƒå°”å€¼ has(value)ï¼šè¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦æ˜¯æˆå‘˜ clear()ï¼šæ¸…é™¤æ‰€æœ‰æˆå‘˜ï¼Œæ— è¿”å›å€¼ éå†æ–¹æ³•ï¼ˆ key() å’Œ values() è¡Œä¸ºæ˜¯ä¸€è‡´çš„ã€‚ï¼‰ keys()ï¼šè¿”å›é”®åçš„éå†å™¨ï¼ˆä»€ä¹ˆæ˜¯éå†å™¨ï¼ŸIteratorï¼‰ values()ï¼šè¿”å›é”®å€¼çš„éå†å™¨ entries()ï¼šè¿”å›é”®å€¼å¯¹çš„éå†å™¨ forEach()ï¼šä½¿ç”¨å›è°ƒå‡½æ•°éå†æ¯ä¸ªæˆå‘˜ MAP å±æ€§ size ï¼šè¿”å› Map ç»“æ„çš„æˆå‘˜æ€»æ•°ã€‚ æ“ä½œæ–¹æ³• set(key, value): set æ–¹æ³•è®¾ç½®é”®å key å¯¹åº”çš„é”®å€¼ä¸º value ï¼Œç„¶åè¿”å›æ•´ä¸ª Map ç»“æ„ã€‚ get(key) ï¼šget æ–¹æ³•è¯»å– key å¯¹åº”çš„é”®å€¼ï¼Œå¦‚æœæ‰¾ä¸åˆ° key ï¼Œè¿”å› undefined ã€‚ has(key)ï¼šhas æ–¹æ³•è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæŸä¸ªé”®æ˜¯å¦åœ¨å½“å‰ Map å¯¹è±¡ä¹‹ä¸­ã€‚ delete(key)ï¼šdelete æ–¹æ³•åˆ é™¤æŸä¸ªé”®ï¼Œè¿”å› true ã€‚å¦‚æœåˆ é™¤å¤±è´¥ï¼Œè¿”å› false ã€‚ clear()ï¼šclearæ–¹æ³•æ¸…é™¤æ‰€æœ‰æˆå‘˜ï¼Œæ²¡æœ‰è¿”å›å€¼ã€‚ éå†æ–¹æ³• keys()ï¼šè¿”å›é”®åçš„éå†å™¨ã€‚ values()ï¼šè¿”å›é”®å€¼çš„éå†å™¨ã€‚ entries()ï¼šè¿”å›æ‰€æœ‰æˆå‘˜çš„éå†å™¨ã€‚ forEach()ï¼šéå† Map çš„æ‰€æœ‰æˆå‘˜ã€‚ ç”¨é€”Set é›†åˆå¯ä»¥ç”¨æ¥è¿‡æ»¤æ•°ç»„ä¸­é‡å¤çš„å…ƒç´ ï¼Œåªèƒ½é€šè¿‡ has æ–¹æ³•æ£€æµ‹æŒ‡å®šçš„å€¼æ˜¯å¦å­˜åœ¨ï¼Œæˆ–è€…æ˜¯é€šè¿‡ forEach å¤„ç†æ¯ä¸ªå€¼ã€‚ Map é›†åˆé€šè¿‡ set() æ·»åŠ é”®å€¼å¯¹ï¼Œé€šè¿‡ get() è·å–é”®å€¼ï¼Œå„ç§æ–¹æ³•çš„ä½¿ç”¨æŸ¥çœ‹æ–‡ç« æ•™ç¨‹ï¼Œä½ å¯ä»¥æŠŠå®ƒçœ‹æˆæ˜¯æ¯” Object æ›´åŠ å¼ºå¤§çš„å¯¹è±¡ã€‚ Set ä¸ æ•°ç»„ çš„åŒºåˆ«setä¸å¯é‡å¤ï¼Œarrayå¯é‡å¤ Map ä¸ å¯¹è±¡ çš„åŒºåˆ« Object çš„é”®åªèƒ½æ˜¯å­—ç¬¦ä¸²æˆ–è€… symbol ï¼ŒMap çš„é”®å¯ä»¥æ˜¯ä»»æ„ç±»å‹çš„å€¼ï¼ˆåŒ…æ‹¬å¯¹è±¡ï¼‰ Map å¯ä»¥é€šè¿‡ size è·å–å…ƒç´ ä¸ªæ•°ï¼Œå¯¹è±¡å¾—éå†ã€‚ Map æ˜¯æœ‰åºçš„ï¼ˆæ ¹æ®ç”¨æˆ·æ’å…¥çš„é¡ºåºè¿›è¡Œæ’åºï¼‰ï¼Œå¯¹è±¡æ’åºæœ‰è‡ªå·±è§„åˆ™ï¼ˆæ¯”å¦‚å…ˆæ’æ•°å­—å¼€å¤´çš„ key ï¼Œå†åˆ°å­—ç¬¦ä¸²ï¼‰ Map å¯ç›´æ¥è¿›è¡Œè¿­ä»£ï¼Œè€Œ Object çš„è¿­ä»£éœ€è¦å…ˆè·å–å®ƒçš„é”®æ•°ç»„ï¼Œç„¶åå†è¿›è¡Œè¿­ä»£ã€‚ 12345678910111213141516var map = new Map()map.set("name", "Lance")map.set("age", 18)var per = &#123; name: 'Jerry', age: 19&#125;for (const attr of map.values()) &#123; console.log(attr)&#125; // Lance 18for (const attr of Object.keys(per)) &#123; console.log(per[attr])&#125; // Jerry 19 Promisepromise æ˜¯ä»€ä¹ˆPromise æ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œæ¯”ä¼ ç»Ÿçš„å¼‚æ­¥è§£å†³æ–¹æ¡ˆã€å›è°ƒå‡½æ•°ã€‘å’Œã€äº‹ä»¶ã€‘æ›´åˆç†ã€æ›´å¼ºå¤§ã€‚ è¯ç”Ÿçš„åŸå› å¼‚æ­¥ç½‘ç»œè¯·æ±‚çš„å›è°ƒåœ°ç‹±ï¼Œè€Œä¸”æˆ‘ä»¬è¿˜å¾—å¯¹æ¯æ¬¡è¯·æ±‚çš„ç»“æœè¿›è¡Œä¸€äº›å¤„ç†ï¼Œä»£ç ä¼šæ›´åŠ è‡ƒè‚¿ã€‚ promise ä½¿ç”¨åœºæ™¯æœ‰å“ªäº› ajaxè¯·æ±‚å¾—åˆ°è¿”å›å€¼çš„æ—¶é—´ä¸åŒ,æœ‰äº† callback çš„å›è°ƒç»“æœä¹‹åæ‰èƒ½çŸ¥é“æ¥ä¸‹æ¥åº”è¯¥åšä»€ä¹ˆ node ä¸­è¯»å–æ–‡ä»¶ ä¸‰ç§çŠ¶æ€ pending: åˆå§‹çŠ¶æ€ï¼Œæ—¢ä¸æ˜¯æˆåŠŸï¼Œä¹Ÿä¸æ˜¯å¤±è´¥çŠ¶æ€ã€‚ fulfilled: æ„å‘³ç€æ“ä½œæˆåŠŸå®Œæˆã€‚ rejected: æ„å‘³ç€æ“ä½œå¤±è´¥ã€‚ ä¼˜ç¼ºç‚¹Promise çš„ä¼˜ç‚¹: ä¸€æ—¦çŠ¶æ€æ”¹å˜ï¼Œå°±ä¸ä¼šå†å˜ï¼Œä»»ä½•æ—¶å€™éƒ½å¯ä»¥å¾—åˆ°è¿™ä¸ªç»“æœï¼› å¯ä»¥å°†å¼‚æ­¥æ“ä½œä»¥åŒæ­¥æ“ä½œçš„æµç¨‹è¡¨è¾¾å‡ºæ¥ï¼Œé¿å…äº†å±‚å±‚åµŒå¥—çš„å›è°ƒå‡½æ•°ã€‚ Promise çš„ç¼ºç‚¹: æ— æ³•å–æ¶ˆ Promiseï¼Œé”™è¯¯éœ€è¦é€šè¿‡å›è°ƒå‡½æ•°æ¥æ•è·ï¼› å½“å¤„äº pending çŠ¶æ€æ—¶ï¼Œæ— æ³•å¾—çŸ¥ç›®å‰è¿›å±•åˆ°å“ªä¸€ä¸ªé˜¶æ®µã€‚ åŸºæœ¬ç”¨æ³•12345678910111213//defined Promise async functionfunction asyncFun() &#123; return new Promise((resolve, reject) =&gt; &#123; if(resolve) &#123; resolve(/*resolve parameter*/) &#125;else&#123; reject(new Error(/*Error*/)) &#125; &#125;)&#125;//use Promise&amp;thenasyncFun().then(/*function*/).then(/*function*/)... promise ç‰¹æ€§å‚è€ƒï¼šå…«æ®µä»£ç å½»åº•æŒæ¡ Promise promise é‡Œé¢ return ä¸€ä¸ª stringï¼Œå’Œåœ¨ resolve ä¸€ä¸ª string çš„åŒºåˆ«return ä¸€ä¸ª string åç»­çš„ then ä¸ä¼šæ‰§è¡Œ; resolve ä¸€ä¸ª string ä¼šè¿”å›ä¸€ä¸ª promise å¯¹è±¡ï¼Œå¯¹è±¡çš„å€¼æ˜¯è¿™ä¸ª string åœ¨ then é‡Œé¢ throw ä¸€ä¸ª errorï¼Œæ€ä¹ˆæ•æ‰1234567891011121314151617181920212223242526272829303132333435363738394041424344454647// throw è¿™ä¸ª error åï¼Œåœ¨ç´§æŒ¨çš„ä¸‹ä¸€ä¸ª then ä¸­æ·»åŠ ä¸¤ä¸ªå›è°ƒæ–¹æ³•ï¼ˆ resolve çš„ï¼Œå’Œ reject ï¼‰ã€‚// ç„¶ååœ¨ç¬¬äºŒä¸ª reject æ–¹æ³•ä¸­å¯ä»¥æ•è·new Promise(function (resolve, reject) &#123; return resolve("è¿”å›Promise") &#125;) .then(data =&gt; &#123; console.log("ç¬¬ä¸€ä¸ªthen") throw new Error("æˆ‘æ˜¯é”™è¯¯") &#125;) .then(resolve =&gt; &#123; console.log("æˆåŠŸ") console.log(resolve) &#125;, err =&gt; &#123; console.log("ç´§æŒ¨çš„å¤±è´¥") console.log(err) &#125;) .catch(err =&gt; &#123; console.log("catché”™è¯¯") console.log(err) &#125;);// 123// ç¬¬ä¸€ä¸ªthen// ç´§æŒ¨çš„å¤±è´¥// Error: æˆ‘æ˜¯é”™è¯¯// at Promise.then.data (&lt;anonymous&gt;:6:15)// åœ¨ then çš„é“¾å¼è°ƒç”¨åæ·»åŠ ä¸€ä¸ª catch æ¥æ•è·new Promise(function (resolve, reject) &#123; return resolve("è¿”å›Promise")&#125;).then(data =&gt; &#123; console.log("ç¬¬ä¸€ä¸ªthen") throw new Error("æˆ‘æ˜¯é”™è¯¯")&#125;).then(err =&gt; &#123; console.log("thené”™è¯¯") console.log(err)&#125;).catch(err =&gt; &#123; console.log("catché”™è¯¯") console.log(err)&#125;)console.log("123")// 123// ç¬¬ä¸€ä¸ª then// catch é”™è¯¯// Error: æˆ‘æ˜¯é”™è¯¯// at Promise.then.data ä½¿ç”¨ Promise å°è£…ä¸€ä¸ª url1234567891011121314151617var url = ''var getJSON = url =&gt; new Promise((resolve, reject) =&gt; &#123; var xhr = new XMLHttpRequest() xhr.open('GET', url) xhr.send(null) xhr.onreadystatechange = () =&gt; &#123; if (xhr.readyState === 4) &#123; // &lt;= è¯·æ±‚å·²å®Œæˆï¼Œä¸”å“åº”å·²å°±ç»ª if (xhr.status === 200) &#123; // &lt;= çŠ¶æ€OK resolve(JSON.parse(xhr.responseText)) &#125; else &#123; reject(new Error("è¯·æ±‚å¤±è´¥")) &#125; &#125; &#125;&#125;)getJSON(url).then(res =&gt; console.log(res)) åœ¨ Promise é“¾å¼è°ƒç”¨ä¸­ï¼Œæ€æ ·æ‰èƒ½ä¿è¯ä¸Šä¸€ä¸ª promise å‡ºç°æŠ¥é”™ä¸ä¼šå½±å“åˆ°åç»­ .then çš„æ­£å¸¸æ‰§è¡Œä¸ºäº†ä¸å½±å“åç»­ .then çš„æ‰§è¡Œï¼Œéœ€è¦åœ¨æ¯ä¸€ä¸ª then ä¸­æŒ‡å®šå¤±è´¥çš„å›è°ƒ 1234567891011121314let asyncFunc = () =&gt; new Promise(resolve =&gt; &#123; resolve("123") // 123, äºŒæ¥¼ // throw new Error("å‡ºé”™äº†") // Error: å‡ºé”™äº†, äºŒæ¥¼&#125;);asyncFunc().then(res =&gt; &#123; console.log(res) return Promise.resolve("äºŒæ¥¼")&#125;, err =&gt; &#123; // &lt;====== æŒ‡å®šå¤±è´¥çš„å›è°ƒ console.log(err) return Promise.resolve("äºŒæ¥¼")&#125;).then(res =&gt; &#123; console.log(res)&#125;) Promise æ„é€ å‡½æ•°æ˜¯åŒæ­¥æ‰§è¡Œè¿˜æ˜¯å¼‚æ­¥æ‰§è¡Œï¼Œé‚£ä¹ˆ then æ–¹æ³•å‘¢ï¼Ÿ1Promise newçš„æ—¶å€™ä¼šç«‹å³æ‰§è¡Œé‡Œé¢çš„ä»£ç  thenæ˜¯å¾®ä»»åŠ¡ ä¼šåœ¨æœ¬æ¬¡ä»»åŠ¡æ‰§è¡Œå®Œçš„æ—¶å€™æ‰§è¡Œ setTimeoutæ˜¯å®ä»»åŠ¡ ä¼šåœ¨ä¸‹æ¬¡ä»»åŠ¡æ‰§è¡Œçš„æ—¶å€™æ‰§è¡Œ Async / Awaitæ˜¯ä»€ä¹ˆ async ç”¨äºå£°æ˜ä¸€ä¸ªå¼‚æ­¥çš„ function await ç”¨äºç­‰å¾…ä¸€ä¸ªå¼‚æ­¥æ–¹æ³•æ‰§è¡Œå®Œæˆ Asyncasync å‡½æ•°ä¼šè¿”å›ä¸€ä¸ª Promise å¯¹è±¡ï¼Œå¦‚æœåœ¨å‡½æ•°ä¸­ return ä¸€ä¸ªç›´æ¥é‡ï¼Œasync ä¼šæŠŠè¿™ä¸ªç›´æ¥é‡é€šè¿‡ Promise.resolve() å°è£…æˆ Promise å¯¹è±¡ã€‚ Awaitawait æ˜¯åœ¨ç­‰å¾…ä¸€ä¸ª async å‡½æ•°å®Œæˆã€‚ä¸è¿‡æŒ‰ è¯­æ³•è¯´æ˜ ï¼Œawait ç­‰å¾…çš„æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè¿™ä¸ªè¡¨è¾¾å¼çš„è®¡ç®—ç»“æœæ˜¯ Promise å¯¹è±¡æˆ–è€…å…¶å®ƒå€¼ 123456789101112131415function getSomething() &#123; return "something"&#125;function testAsync() &#123; return Promise.resolve("hello async")&#125;async function test() &#123; const v1 = await getSomething() const v2 = await testAsync() console.log(v1, v2)&#125;test() ä¼˜åŠ¿è®©ä»£ç æ›´æ˜“è¯» å‡è®¾ä¸€ä¸ªä¸šåŠ¡ï¼Œåˆ†å¤šä¸ªæ­¥éª¤å®Œæˆï¼Œæ¯ä¸ªæ­¥éª¤éƒ½æ˜¯å¼‚æ­¥çš„ï¼Œè€Œä¸”ä¾èµ–äºä¸Šä¸€ä¸ªæ­¥éª¤çš„ç»“æœã€‚ ä¼ ç»Ÿ promise ï¼Œé“¾å¼è°ƒç”¨ then ä¸€ä¸ªæ¥ä¸€ä¸ª æ”¹ç”¨ async/await åå°±åƒåŒæ­¥ä»£ç ä¸€æ · 123456789101112131415161718192021222324252627function doIt() &#123; console.time("doIt") const time1 = 300 step1(time1) .then(time2 =&gt; step2(time2)) .then(time3 =&gt; step3(time3)) .then(result =&gt; &#123; console.log(`result is $&#123;result&#125;`) console.timeEnd("doIt") &#125;);&#125;doIt()// =======async function doIt() &#123; console.time("doIt"); const time1 = 300 const time2 = await step1(time1) const time3 = await step2(time2) const result = await step3(time3) console.log(`result is $&#123;result&#125;`) console.timeEnd("doIt")&#125;doIt() å‚è€ƒï¼šç†è§£ JavaScript çš„ async/await è§£æ„èµ‹å€¼æ•°ç»„ç”¨æ³•12345678910111213141516171819202122// å‰åçš„å½¢å¼å¿…é¡»å®Œå…¨ä¸€è‡´ æ‰å¯ä»¥å®Œæˆç»“æ„èµ‹å€¼let [foo, [[bar], baz]] = [1, [[2], 3]]foo // 1bar // 2baz // 3let [ , , third] = ["foo", "bar", "baz"]third // "baz"let [x, , y] = [1, 2, 3]x // 1y // 3let [head, ...tail] = [1, 2, 3, 4]head // 1tail // [2, 3, 4]let [x, y, ...z] = ['a']x // "a"y // undefinedz // []// å¦‚æœè§£æ„ä¸æˆåŠŸï¼Œå˜é‡çš„å€¼å°±ç­‰äºundefinedã€‚ å¯¹è±¡ç”¨æ³•12345678910// å¯¹è±¡çš„å±æ€§æ²¡æœ‰æ¬¡åºï¼Œå˜é‡å¿…é¡»ä¸å±æ€§åŒåï¼Œæ‰èƒ½å–åˆ°æ­£ç¡®çš„å€¼ã€‚&#123;name, age&#125; = &#123;name:'wang',age: 18&#125;name // wangage // 18// æ”¯æŒåˆ«å&#123;name:nname, age&#125; = &#123;name:'wang',age: 18&#125;name // '' å–åˆ«åæ—¶åŸåå°±ä¼šä¸ºç©ºå­—ç¬¦ä¸²nname // wangage // 18 â€¦è¿ç®—ç¬¦12345678[a, ...b] = [1, 2, 3, 4, 5]a // 1b // [2,3,4,5]var app = (...sum) =&gt; &#123;sum.forEach(item =&gt; console.log(item))&#125;app(1,2,3,4) // 1,2,3,4// æ­¤è¿ç®—ç¬¦æˆ–å¾—å€¼ä¸ºæ•°ç»„å½¢å¼ ä¸»è¦ç”¨äºæ›¿ä»£å‡½æ•°ä¸­çš„ arguments(ä¼ªæ•°ç»„) å±æ€§// è¿™æ ·å¯ä»¥éå¸¸æ–¹ä¾¿çš„éå†è·å–åˆ°çš„æœªçŸ¥ä¸ªæ•°çš„å®å‚ å‡½æ•°ä¸­çš„ restï¼ˆå‰©ä½™ï¼‰å‚æ•° å‰©ä½™å‚æ•°è¯­æ³•å…è®¸æˆ‘ä»¬å°†ä¸€ä¸ªä¸å®šæ•°é‡çš„å‚æ•°è¡¨ç¤ºä¸ºä¸€ä¸ªæ•°ç»„ã€‚ â€”â€”&gt; MDN - å‰©ä½™å‚æ•° 123456789101112131415161718192021function sum(...theArgs) &#123; return theArgs.reduce((previous, current) =&gt; &#123; return previous + current &#125;);&#125;console.log(sum(1, 2, 3))// expected output: 6console.log(sum(1, 2, 3, 4))// expected output: 10// ä¸‹ä¾‹ä¸­ï¼Œå‰©ä½™å‚æ•°åŒ…å«äº†ä»ç¬¬äºŒä¸ªåˆ°æœ€åçš„æ‰€æœ‰å®å‚ï¼Œç„¶åç”¨ç¬¬ä¸€ä¸ªå®å‚ä¾æ¬¡ä¹˜ä»¥å®ƒä»¬function multiply(multiplier, ...theArgs) &#123; return theArgs.map(function (element) &#123; return multiplier * element &#125;);&#125;var arr = multiply(2, 1, 2, 3)console.log(arr) // [2, 4, 6] å‰©ä½™å‚æ•°å’Œ arguments å¯¹è±¡çš„åŒºåˆ«å‰©ä½™å‚æ•°å’Œ arguments å¯¹è±¡ä¹‹é—´çš„åŒºåˆ«ä¸»è¦æœ‰ä¸‰ä¸ªï¼š å‰©ä½™å‚æ•°åªåŒ…å«é‚£äº›æ²¡æœ‰å¯¹åº”å½¢å‚çš„å®å‚ï¼Œè€Œ arguments å¯¹è±¡åŒ…å«äº†ä¼ ç»™å‡½æ•°çš„æ‰€æœ‰å®å‚ã€‚ arguments å¯¹è±¡ä¸æ˜¯ä¸€ä¸ªçœŸæ­£çš„æ•°ç»„ï¼Œè€Œå‰©ä½™å‚æ•°æ˜¯çœŸæ­£çš„ Array å®ä¾‹ï¼Œä¹Ÿå°±æ˜¯è¯´ä½ èƒ½å¤Ÿåœ¨å®ƒä¸Šé¢ç›´æ¥ä½¿ç”¨æ‰€æœ‰çš„æ•°ç»„æ–¹æ³•ï¼Œæ¯”å¦‚ sortï¼Œmapï¼ŒforEach æˆ– pop ã€‚ arguments å¯¹è±¡è¿˜æœ‰ä¸€äº›é™„åŠ çš„å±æ€§ ï¼ˆå¦‚ callee å±æ€§ï¼‰ã€‚ arguments.callee å±æ€§åŒ…å«å½“å‰æ­£åœ¨æ‰§è¡Œçš„å‡½æ•°ã€‚ æ¨¡å—åŒ–æ¨¡å—åŒ–å‘å±•æ— æ¨¡å—åŒ– â€“&gt; CommonJSè§„èŒƒ â€“&gt; AMDè§„èŒƒ â€“&gt; CMDè§„èŒƒ â€“&gt; ES6æ¨¡å—åŒ– æ— æ¨¡å—åŠ£åŠ¿12345678910&lt;script src="jquery.js"&gt;&lt;/script&gt;&lt;script src="jquery_scroller.js"&gt;&lt;/script&gt;&lt;script src="main.js"&gt;&lt;/script&gt;...ç¼ºç‚¹ï¼šè¢«ä¾èµ–çš„æ”¾åœ¨å‰é¢ï¼Œå¦åˆ™ä½¿ç”¨å°±ä¼šæŠ¥é”™æ±¡æŸ“å…¨å±€ä½œç”¨åŸŸç»´æŠ¤æˆæœ¬é«˜ä¾èµ–å…³ç³»ä¸æ˜æ˜¾ CommonJSè§„èŒƒï¼ˆNodeJSï¼‰1234567891011121314151617// å®šä¹‰æ¨¡å—math.jsvar basicNum = 0function add(a, b) &#123; return a + b&#125;module.exports = &#123; //åœ¨è¿™é‡Œå†™ä¸Šéœ€è¦å‘å¤–æš´éœ²çš„å‡½æ•°ã€å˜é‡ add, basicNum&#125;// å¼•ç”¨è‡ªå®šä¹‰çš„æ¨¡å—æ—¶ï¼Œå‚æ•°åŒ…å«è·¯å¾„ï¼Œå¯çœç•¥.jsvar math = require('./math')math.add(2, 5)// å¼•ç”¨æ ¸å¿ƒæ¨¡å—æ—¶ï¼Œä¸éœ€è¦å¸¦è·¯å¾„var http = require('http')http.createService(...).listen(3000) exports æ˜¯å¯¹ module.exports çš„å¼•ç”¨ã€‚æ¯”å¦‚æˆ‘ä»¬å¯ä»¥è®¤ä¸ºåœ¨ä¸€ä¸ªæ¨¡å—çš„é¡¶éƒ¨æœ‰è¿™å¥ä»£ç ï¼š exports = module.exports æ‰€ä»¥ï¼Œæˆ‘ä»¬ä¸èƒ½ç›´æ¥ç»™ exports èµ‹å€¼: âœ… exports.foo = â€˜barâ€™ âŒ exports = {foo: â€˜barâ€™} //error è¿™ç§æ–¹å¼æ˜¯é”™è¯¯çš„ï¼Œç›¸å½“äºé‡æ–°å®šä¹‰äº† exports ä¼˜ç‚¹ è§£å†³äº†ä¾èµ–ã€å…¨å±€å˜é‡æ±¡æŸ“çš„é—®é¢˜ ç¼ºç‚¹ CommonJS ç”¨åŒæ­¥çš„æ–¹å¼åŠ è½½æ¨¡å—ï¼Œè¿™å¯¹æœåŠ¡å™¨ç«¯ä¸æ˜¯ä¸€ä¸ªé—®é¢˜ï¼Œå› ä¸ºæ‰€æœ‰çš„æ¨¡å—éƒ½å­˜æ”¾åœ¨æœ¬åœ°ç¡¬ç›˜ï¼Œå¯ä»¥åŒæ­¥åŠ è½½å®Œæˆï¼Œç­‰å¾…æ—¶é—´å°±æ˜¯ç¡¬ç›˜çš„è¯»å–æ—¶é—´ã€‚ä½†æ˜¯ï¼Œå¯¹äºæµè§ˆå™¨å´æ˜¯ä¸€ä¸ªå¤§é—®é¢˜ï¼Œå› ä¸ºæ¨¡å—éƒ½æ”¾åœ¨æœåŠ¡å™¨ç«¯ï¼Œç­‰å¾…æ—¶é—´å–å†³äºç½‘é€Ÿçš„å¿«æ…¢ï¼Œå¯èƒ½è¦ç­‰å¾ˆé•¿æ—¶é—´ï¼Œæµè§ˆå™¨å¤„äºâ€å‡æ­»â€çŠ¶æ€ã€‚æ‰€ä»¥ä¸é€‚åˆæµè§ˆå™¨ç«¯æ¨¡å—åŠ è½½ï¼Œæ›´åˆç†çš„æ–¹æ¡ˆæ˜¯ä½¿ç”¨å¼‚æ­¥åŠ è½½ã€‚ AMDè§„èŒƒï¼ˆRequireJSï¼‰AMDè§„èŒƒé‡‡ç”¨å¼‚æ­¥æ–¹å¼åŠ è½½æ¨¡å—ï¼Œæ¨¡å—çš„åŠ è½½ä¸å½±å“å®ƒåé¢è¯­å¥çš„è¿è¡Œã€‚æ‰€æœ‰ä¾èµ–è¿™ä¸ªæ¨¡å—çš„è¯­å¥ï¼Œéƒ½å®šä¹‰åœ¨ä¸€ä¸ªå›è°ƒå‡½æ•°ä¸­ï¼Œç­‰åˆ°åŠ è½½å®Œæˆä¹‹åï¼Œè¿™ä¸ªå›è°ƒå‡½æ•°æ‰ä¼šè¿è¡Œã€‚ 12345678910111213141516/** ç½‘é¡µä¸­å¼•å…¥ require.js åŠ main.js **/&lt;script src="js/require.js" data-main="js/main"&gt;&lt;/script&gt;/** main.js å…¥å£æ–‡ä»¶/ä¸»æ¨¡å— **/// é¦–å…ˆç”¨ config() æŒ‡å®šå„æ¨¡å—è·¯å¾„å’Œå¼•ç”¨årequire.config(&#123; baseUrl: "js/lib", paths: &#123; "jquery": "jquery.min", //å®é™…è·¯å¾„ä¸ºjs/lib/jquery.min.js "underscore": "underscore.min", &#125;&#125;);// æ‰§è¡ŒåŸºæœ¬æ“ä½œrequire(["jquery","underscore"], function($,_)&#123; // some code here&#125;); ä¼˜ç‚¹ é€‚åˆåœ¨æµè§ˆå™¨ç¯å¢ƒä¸­å¼‚æ­¥åŠ è½½æ¨¡å—ã€å¹¶è¡ŒåŠ è½½å¤šä¸ªæ¨¡å— ç¼ºç‚¹ å¿…é¡»è¦æå‰åŠ è½½æ‰€æœ‰çš„ä¾èµ–ï¼Œç„¶åæ‰å¯ä»¥ä½¿ç”¨ï¼Œè€Œä¸æ˜¯éœ€è¦ä½¿ç”¨æ—¶å†åŠ è½½ã€‚ï¼ˆä¸èƒ½æŒ‰éœ€åŠ è½½ï¼‰ CMDï¼ˆSeaJSï¼‰ä¸AMDç±»ä¼¼ï¼Œä¸åŒç‚¹åœ¨äºï¼š AMD æ¨å´‡ä¾èµ–å‰ç½®ã€æå‰æ‰§è¡Œ CMD æ¨å´‡ä¾èµ–å°±è¿‘ã€å»¶è¿Ÿæ‰§è¡Œã€‚ CMD ä¸ AMD åŒºåˆ« 12345678910111213141516171819/** AMDå†™æ³• **/define(["a", "b", "c", "d", "e", "f"], function(a, b, c, d, e, f) &#123; // ç­‰äºåœ¨æœ€å‰é¢å£°æ˜å¹¶åˆå§‹åŒ–äº†è¦ç”¨åˆ°çš„æ‰€æœ‰æ¨¡å— a.doSomething() if (false) &#123; // å³ä¾¿æ²¡ç”¨åˆ°æŸä¸ªæ¨¡å— bï¼Œä½† b è¿˜æ˜¯æå‰æ‰§è¡Œäº† b.doSomething() &#125;&#125;)/** CMDå†™æ³• **/define(function(require, exports, module) &#123; var a = require('./a') //åœ¨éœ€è¦æ—¶ç”³æ˜ a.doSomething() if (false) &#123; var b = require('./b'); b.doSomething() &#125;&#125;) ES6æ¨¡å—åŒ–ES6 åœ¨è¯­è¨€æ ‡å‡†çš„å±‚é¢ä¸Šï¼Œå®ç°äº†æ¨¡å—åŠŸèƒ½ï¼Œè€Œä¸”å®ç°å¾—ç›¸å½“ç®€å•ï¼Œæ—¨åœ¨æˆä¸ºæµè§ˆå™¨å’ŒæœåŠ¡å™¨é€šç”¨çš„æ¨¡å—è§£å†³æ–¹æ¡ˆã€‚å…¶æ¨¡å—åŠŸèƒ½ä¸»è¦ç”±ä¸¤ä¸ªå‘½ä»¤æ„æˆï¼š export å’Œ import ã€‚ export å‘½ä»¤ç”¨äºè§„å®šæ¨¡å—çš„å¯¹å¤–æ¥å£ï¼Œimport å‘½ä»¤ç”¨äºè¾“å…¥å…¶ä»–æ¨¡å—æä¾›çš„åŠŸèƒ½ã€‚ 123456789101112/** å®šä¹‰æ¨¡å— math.js **/var basicNum = 0var add = function (a, b) &#123; return a + b&#125;;export &#123; basicNum, add &#125;/** å¼•ç”¨æ¨¡å— **/import &#123; basicNum, add &#125; from './math'function test(ele) &#123; ele.textContent = add(99 + basicNum)&#125; es6 åœ¨å¯¼å‡ºçš„æ—¶å€™æœ‰ä¸€ä¸ªé»˜è®¤å¯¼å‡ºï¼Œ export default ï¼Œä½¿ç”¨å®ƒå¯¼å‡ºåï¼Œåœ¨ import çš„æ—¶å€™ï¼Œä¸éœ€è¦åŠ ä¸Š {} ï¼Œæ¨¡å—åå­—å¯ä»¥éšæ„èµ·ã€‚è¯¥åå­—å®é™…ä¸Šå°±æ˜¯ä¸ªå¯¹è±¡ï¼ŒåŒ…å«å¯¼å‡ºæ¨¡å—é‡Œé¢çš„å‡½æ•°æˆ–è€…å˜é‡ã€‚ 12345678/** export default **///å®šä¹‰è¾“å‡ºexport default &#123; basicNum, add &#125;//å¼•å…¥import math from './math'function test(ele) &#123; ele.textContent = math.add(99 + math.basicNum)&#125; å‚è€ƒï¼š å‰ç«¯æ¨¡å—åŒ–ï¼šCommonJS,AMD,CMD,ES6 è¿™ä¸€æ¬¡ï¼Œæˆ‘è¦å¼„æ‡‚javascriptçš„æ¨¡å—åŒ– æ¨¡å—åŒ–å¼€å‘æ€ä¹ˆåšï¼Ÿç«‹å³æ‰§è¡Œå‡½æ•°,ä¸æš´éœ²ç§æœ‰æˆå‘˜ 12345678910111213var module1 = (function()&#123; var _count = 0 var m1 = function()&#123; //... &#125; var m2 = function()&#123; //... &#125; return &#123; m1, m2 &#125;&#125;)(); å¼‚æ­¥AjaxAjax æ˜¯ä»€ä¹ˆ? å¦‚ä½•åˆ›å»ºä¸€ä¸ªAjaxï¼Ÿä½¿ç”¨ JavaScript å¼‚æ­¥è·å–æ•°æ®ï¼Œè€Œä¸”é¡µé¢ä¸ä¼šå‘ç”Ÿæ•´é¡µåˆ·æ–°çš„ï¼Œæé«˜äº†ç”¨æˆ·ä½“éªŒã€‚ åˆ›å»º XMLHttpRequest å¯¹è±¡,ä¹Ÿå°±æ˜¯åˆ›å»ºä¸€ä¸ªå¼‚æ­¥è°ƒç”¨å¯¹è±¡ åˆ›å»ºä¸€ä¸ªæ–°çš„ HTTP è¯·æ±‚,å¹¶æŒ‡å®šè¯¥ HTTP è¯·æ±‚çš„æ–¹æ³•ã€URL åŠéªŒè¯ä¿¡æ¯ è®¾ç½®å“åº” HTTP è¯·æ±‚çŠ¶æ€å˜åŒ–çš„å‡½æ•° å‘é€ HTTP è¯·æ±‚ è·å–å¼‚æ­¥è°ƒç”¨è¿”å›çš„æ•°æ® ä½¿ç”¨ JavaScript å’Œ DOM å®ç°å±€éƒ¨åˆ·æ–° 12345678910111213141516171819202122// 1. åˆ›å»ºä¸€ä¸ª XMLHttpRequest ç±»å‹çš„å¯¹è±¡ â€”â€” ç›¸å½“äºæ‰“å¼€äº†ä¸€ä¸ªæµè§ˆå™¨var xhr = new XMLHttpRequest()// 2. æ‰“å¼€ä¸ä¸€ä¸ªç½‘å€ä¹‹é—´çš„è¿æ¥ â€”â€” ç›¸å½“äºåœ¨åœ°å€æ è¾“å…¥è®¿é—®åœ°å€xhr.open('GET', 'news/list?type=gn')// 3. é€šè¿‡è¿æ¥å‘é€ä¸€æ¬¡è¯·æ±‚ â€”â€” ç›¸å½“äºå›è½¦æˆ–è€…ç‚¹å‡»è®¿é—®å‘é€è¯·æ±‚xhr.send(null)// POSTè¯·æ±‚ï¼š// xhr.open('POST', 'login', true)// xhr.send('username=admin&amp;password=admin')// 4. æŒ‡å®š xhr çŠ¶æ€å˜åŒ–äº‹ä»¶å¤„ç†å‡½æ•° â€”â€” ç›¸å½“äºå¤„ç†ç½‘é¡µå‘ˆç°åçš„æ“ä½œxhr.onreadystatechange = function () &#123; // é€šè¿‡ xhr çš„ readyState åˆ¤æ–­æ­¤æ¬¡è¯·æ±‚çš„å“åº”æ˜¯å¦æ¥æ”¶å®Œæˆ // 4ä»£è¡¨done if (this.readyState === 4) &#123; // é€šè¿‡ xhr çš„ responseText è·å–åˆ°å“åº”çš„å“åº”ä½“ console.log(this) &#125;&#125; Ajax åŸç†Ajax çš„åŸç†ç®€å•æ¥è¯´æ˜¯åœ¨ç”¨æˆ·å’ŒæœåŠ¡å™¨ä¹‹é—´åŠ äº†â€”ä¸ªä¸­é—´å±‚ï¼ˆAjax å¼•æ“ï¼‰ï¼Œé€šè¿‡ XMLHttpRequest å¯¹è±¡æ¥å‘æœåŠ¡å™¨å‘å¼‚æ­¥è¯·æ±‚ï¼Œä»æœåŠ¡å™¨è·å¾—æ•°æ®ï¼Œç„¶åç”¨ JavaScript æ¥æ“ä½œ DOM è€Œæ›´æ–°é¡µé¢ã€‚ä½¿ç”¨æˆ·æ“ä½œä¸æœåŠ¡å™¨å“åº”å¼‚æ­¥åŒ–ã€‚è¿™å…¶ä¸­æœ€å…³é”®çš„ä¸€æ­¥å°±æ˜¯ä»æœåŠ¡å™¨è·å¾—è¯·æ±‚æ•°æ® Ajax çš„è¿‡ç¨‹åªæ¶‰åŠ JavaScriptã€XMLHttpRequest å’Œ DOMã€‚XMLHttpRequest æ˜¯ Ajax çš„æ ¸å¿ƒæœºåˆ¶ã€‚ Ajax è§£å†³æµè§ˆå™¨ç¼“å­˜é—®é¢˜ï¼Ÿ åœ¨ajaxå‘é€è¯·æ±‚å‰åŠ ä¸Š anyAjaxObj.setRequestHeader(â€œIf-Modified-Sinceâ€,â€0â€) åœ¨ajaxå‘é€è¯·æ±‚å‰åŠ ä¸Š anyAjaxObj.setRequestHeader(â€œCache-Controlâ€,â€no-cacheâ€) åœ¨URLåé¢åŠ ä¸Šä¸€ä¸ªéšæœºæ•°ï¼š â€œfresh=â€ + Math.random() åœ¨URLåé¢åŠ ä¸Šæ—¶é—´æˆ³ï¼šâ€nowtime=â€ + new Date().getTime() ä»€ä¹ˆæ˜¯åŒæºç­–ç•¥ï¼ŸåŒæºç­–ç•¥æ˜¯æµè§ˆå™¨çš„ä¸€ç§å®‰å…¨ç­–ç•¥ï¼Œæ‰€è°“åŒæºæ˜¯æŒ‡ åŸŸåï¼Œåè®®ï¼Œç«¯å£ å®Œå…¨ç›¸åŒï¼Œåªæœ‰åŒæºçš„åœ°å€æ‰å¯ä»¥ç›¸äº’é€šè¿‡ AJAX çš„æ–¹å¼è¯·æ±‚ã€‚ å¦‚ä½•è§£å†³è·¨åŸŸé—®é¢˜jsonpå€ŸåŠ©äº script æ ‡ç­¾å‘é€è·¨åŸŸè¯·æ±‚çš„æŠ€å·§ åŸç† cssï¼Œscript æ ‡ç­¾å…è®¸è·¨åŸŸã€‚å®¢æˆ·ç«¯å€ŸåŠ© script æ ‡ç­¾è¯·æ±‚æœåŠ¡ç«¯çš„ä¸€ä¸ªåŠ¨æ€ç½‘é¡µï¼ˆphp æ–‡ä»¶ï¼‰ï¼ŒæœåŠ¡ç«¯çš„è¿™ä¸ªåŠ¨æ€ç½‘é¡µè¿”å›ä¸€æ®µå¸¦æœ‰å‡½æ•°è°ƒç”¨çš„ JavaScript å…¨å±€å‡½æ•°è°ƒç”¨çš„è„šæœ¬ï¼Œå°†åŸæœ¬éœ€è¦è¿”å›ç»™å®¢æˆ·ç«¯çš„æ•°æ®ä¼ é€’è¿›å»ã€‚ å®¢æˆ·ç«¯ï¼š foo(â€¦arr) {console.log(arr.join(â€œ,â€))} å®šä¹‰æ–¹æ³•ï¼Œåç§°éšä¾¿ æœåŠ¡ç«¯ä¼šè·å–å‚æ•°å callback çš„å€¼ foo ï¼Œç„¶åæŠŠæ•°æ®æ‰”è¿› foo ä¸­è°ƒç”¨ ä¸€æ—¦æ•°æ®è¿”å›ï¼Œå°±ç›¸å½“äºåœ¨è°ƒç”¨ä¸Šé¢çš„ foo æœåŠ¡ç«¯ï¼š foo([â€˜æˆ‘â€™, â€˜æ˜¯â€™, â€˜ä½ â€™, â€˜åŸâ€™, â€˜æœ¬â€™, â€˜éœ€â€™, â€˜è¦â€™, â€˜çš„â€™, â€˜æ•°â€™, â€˜æ®â€™]) ç‰¹è‰² JSONP éœ€è¦æœåŠ¡ç«¯é…åˆï¼ŒæœåŠ¡ç«¯æŒ‰ç…§å®¢æˆ·ç«¯çš„è¦æ±‚è¿”å›ä¸€æ®µ JavaScript è°ƒç”¨å®¢æˆ·ç«¯çš„å‡½æ•° åªèƒ½å‘é€ GET è¯·æ±‚ CORS è·¨åŸŸèµ„æºå…±äº«æœåŠ¡ç«¯è®¾ç½®ï¼š 12345// æœåŠ¡ç«¯è¯·æ±‚å¤´è®¾ç½®ï¼šå…è®¸è¿œç«¯è®¿é—®header('Accessâ€Controlâ€Allowâ€Origin: *');// è¿™ç§æ–¹æ¡ˆæ— éœ€å®¢æˆ·ç«¯ä½œå‡ºä»»ä½•å˜åŒ–ï¼ˆå®¢æˆ·ç«¯ä¸ç”¨æ”¹ä»£ç ï¼‰ï¼Œåªæ˜¯åœ¨è¢«è¯·æ±‚çš„æœåŠ¡ç«¯å“åº”çš„æ—¶å€™æ·»åŠ ä¸€ä¸ª // Access-Control-Allow-Origin çš„å“åº”å¤´ï¼Œè¡¨ç¤ºè¿™ä¸ªèµ„æºæ˜¯å¦å…è®¸æŒ‡å®šåŸŸè¯·æ±‚ã€‚ å¦‚æœè·¨åŸŸ + å‘é€ cookieï¼š å‰ç«¯ï¼šwithCredentials = true åç«¯ï¼šAccess-Control-Allow-Origin ä¸ä¸º * ï¼Œ(Access-Control-Allow-Credentials, true) å¦‚æœè¿˜éœ€è¦å‘é€ post è¯·æ±‚ï¼š å‰ç«¯ï¼š post:[â€˜Content-Typeâ€™] = â€˜application/x-www-form-urlencodedâ€™; qs.stringify(): å¯¹è±¡åºåˆ—åŒ–æˆURLçš„å½¢å¼ï¼Œä»¥ &amp; è¿›è¡Œæ‹¼æ¥ ä»£ç†é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡å‰ç«¯è®¾ç½®ä»£ç†å®ç°è·¨åŸŸï¼ŒåŸç†æ˜¯åˆ©ç”¨åç«¯ä¸å­˜åœ¨è·¨åŸŸé—®é¢˜ã€‚æ¯”å¦‚å¯ä»¥åœ¨ @vue/cli é¡¹ç›®ä¸­æ–°å»º vue.config.js æ–‡ä»¶æ¥é…ç½®ä»£ç†ã€‚å¦‚æœä½ æƒ³äº†è§£æ›´å¤šè¿™æ–¹é¢çš„è®¾ç½®ï¼Œå¯ä»¥é˜…è¯»æˆ‘çš„è¿™ç¯‡åšå®¢ Axioså¼‚æ­¥è¯·æ±‚è·¨åŸŸè§£å†³æ–¹æ¡ˆ JSON å’Œ JSONP çš„åŒºåˆ«JSON è¿”å›çš„æ˜¯ä¸€ä¸² JSON æ ¼å¼æ•°æ®ï¼›è€Œ JSONP è¿”å›çš„æ˜¯è„šæœ¬ä»£ç ï¼ˆåŒ…å«ä¸€ä¸ªå‡½æ•°è°ƒç”¨ï¼‰ã€‚ JSONP çš„å…¨åå«åš JSON with paddingï¼Œå°±æ˜¯æŠŠ JSON å¯¹è±¡ç”¨ç¬¦åˆ JS è¯­æ³•çš„å½¢å¼åŒ…è£¹èµ·æ¥ä»¥ä½¿å…¶ä»–çš„ç½‘ç«™å¯ä»¥è¯·æ±‚åˆ°ï¼Œä¹Ÿå°±æ˜¯å°† JSON å°è£…æˆ JS æ–‡ä»¶ä¼ è¿‡å»ã€‚ defer å’Œ async çš„åŒºåˆ« ä¸¤è€…éƒ½æ˜¯å¼‚æ­¥åŠ è½½ï¼Œä½† defer æ˜¯æŒ‰ç…§åŠ è½½é¡ºåºæ‰§è¡Œè„šæœ¬çš„ï¼›async åˆ™æ˜¯æ— åºåŠ è½½è„šæœ¬ï¼Œä¾‹å¦‚a.jså†™åœ¨b.jså‰é¢ï¼Œä½†å¦‚æœb.jså…ˆåŠ è½½å®Œï¼Œåˆ™ç«‹å³æ‰§è¡Œï¼Œä¸ä¼šç­‰a.jsçš„åŠ è½½ã€‚ å‚è€ƒï¼šhttps://segmentfault.com/q/1010000000640869 preload å’Œ prefetch çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿå¯¹å½“å‰é¡µé¢éœ€è¦çš„èµ„æºï¼Œä½¿ç”¨ preload è¿›è¡Œé¢„åŠ è½½ï¼Œå¯¹å…¶å®ƒé¡µé¢éœ€è¦çš„èµ„æºè¿›è¡Œ prefetch ç©ºé—²åŠ è½½ã€‚ 123456&lt;!-- å¯¹sty1e.cs5å’Œ index.jsè¿›è¡Œpre1oadé¢„åŠ è½½ --&gt;&lt;link rel="preload" href="style.css" as="style"&gt;&lt;link rel="preload" href="index.js" as="script"&gt;&lt;!--å¯¹èµ„æºè¿›è¡Œ prefetché¢„åŠ è½½--&gt;&lt;link rel="prefetch" href="next.css"&gt;&lt;link rel="prefetch" href="next.js"&gt; setTimeoutã€setIntervalã€requestAnimationFrame å„æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼ŸsetTimeout å’Œ setInterval éƒ½ä¸ç²¾ç¡®ã€‚å®ƒä»¬çš„å†…åœ¨è¿è¡Œæœºåˆ¶å†³å®šäº†æ—¶é—´é—´éš”å‚æ•°å®é™…ä¸Šåªæ˜¯æŒ‡å®šäº†æŠŠåŠ¨ç”»ä»£ç æ·»åŠ åˆ°æµè§ˆå™¨ UI çº¿ç¨‹é˜Ÿåˆ—ä¸­ä»¥ç­‰å¾…æ‰§è¡Œçš„æ—¶é—´ã€‚å¦‚æœé˜Ÿåˆ—å‰é¢å·²ç»åŠ å…¥äº†å…¶ä»–ä»»åŠ¡ï¼Œé‚£åŠ¨ç”»ä»£ç å°±è¦ç­‰å‰é¢çš„ä»»åŠ¡å®Œæˆåå†æ‰§è¡Œã€‚ requestAnimationFrame é‡‡ç”¨ç³»ç»Ÿæ—¶é—´é—´éš”ï¼Œä¿æŒæœ€ä½³ç»˜åˆ¶æ•ˆç‡ï¼Œä¸ä¼šå› ä¸ºé—´éš”æ—¶é—´è¿‡çŸ­ï¼Œé€ æˆè¿‡åº¦ç»˜åˆ¶ï¼Œå¢åŠ å¼€é”€ï¼›ä¹Ÿä¸ä¼šå› ä¸ºé—´éš”æ—¶é—´å¤ªé•¿ï¼Œä½¿åŠ¨ç”»å¡é¡¿ä¸æµç•…ï¼Œè®©å„ç§ç½‘é¡µåŠ¨ç”»æ•ˆæœèƒ½å¤Ÿæœ‰ä¸€ä¸ªç»Ÿä¸€çš„åˆ·æ–°æœºåˆ¶ï¼Œä»è€ŒèŠ‚çœç³»ç»Ÿèµ„æºï¼Œæé«˜ç³»ç»Ÿæ€§èƒ½ï¼Œæ”¹å–„è§†è§‰æ•ˆæœã€‚ setTimeout å€’è®¡æ—¶ä¸ºä»€ä¹ˆä¼šå‡ºç°è¯¯å·®ï¼ŸsetTimeout() åªæ˜¯å°†äº‹ä»¶æ’å…¥äº†â€œä»»åŠ¡é˜Ÿåˆ—â€ï¼Œå¿…é¡»ç­‰å½“å‰ä»£ç ï¼ˆæ‰§è¡Œæ ˆï¼‰æ‰§è¡Œå®Œï¼Œä¸»çº¿ç¨‹æ‰ä¼šå»æ‰§è¡Œå®ƒæŒ‡å®šçš„å›è°ƒå‡½æ•°ã€‚è¦æ˜¯å½“å‰ä»£ç æ¶ˆè€—æ—¶é—´å¾ˆé•¿ï¼Œä¹Ÿæœ‰å¯èƒ½è¦ç­‰å¾ˆä¹…ï¼Œæ‰€ä»¥å¹¶æ²¡åŠæ³•ä¿è¯å›è°ƒå‡½æ•°ä¸€å®šä¼šåœ¨ setTimeout() æŒ‡å®šçš„æ—¶é—´æ‰§è¡Œã€‚æ‰€ä»¥ï¼Œ setTimeout() çš„ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºçš„æ˜¯æœ€å°‘æ—¶é—´ï¼Œå¹¶éæ˜¯ç¡®åˆ‡æ—¶é—´ã€‚ HTML5 æ ‡å‡†è§„å®šäº† setTimeout() çš„ç¬¬äºŒä¸ªå‚æ•°çš„æœ€å°å€¼ä¸å¾—å°äº 4 æ¯«ç§’ï¼Œå¦‚æœä½äºè¿™ä¸ªå€¼ï¼Œåˆ™é»˜è®¤æ˜¯ 4 æ¯«ç§’ã€‚åœ¨æ­¤ä¹‹å‰ã€‚è€ç‰ˆæœ¬çš„æµè§ˆå™¨éƒ½å°†æœ€çŸ­æ—¶é—´è®¾ä¸º 10 æ¯«ç§’ã€‚å¦å¤–ï¼Œå¯¹äºé‚£äº› DOM çš„å˜åŠ¨ï¼ˆå°¤å…¶æ˜¯æ¶‰åŠé¡µé¢é‡æ–°æ¸²æŸ“çš„éƒ¨åˆ†ï¼‰ï¼Œé€šå¸¸æ˜¯é—´éš” 16 æ¯«ç§’æ‰§è¡Œã€‚è¿™æ—¶ä½¿ç”¨ requestAnimationFrame() çš„æ•ˆæœè¦å¥½äº setTimeout()ã€‚ ç®€å•è§£é‡Šå•çº¿ç¨‹ã€ä»»åŠ¡é˜Ÿåˆ—çš„æ¦‚å¿µï¼Ÿå•çº¿ç¨‹ï¼š JavaScript æ˜¯æµè§ˆå™¨ç”¨æ¥ä¸ç”¨æˆ·è¿›è¡Œäº¤äº’ã€è¿›è¡Œ DOM æ“ä½œçš„ï¼Œè¿™ä¹Ÿä½¿å¾—äº†å®ƒå¿…é¡»æ˜¯å•çº¿ç¨‹è¿™ä¸€ç‰¹æ€§ã€‚ æ‰€è°“å•çº¿ç¨‹ä¹Ÿå°±æ˜¯åªæœ‰ä¸€æ¡çº¿ï¼Œä¸€æ­¥ä¸€æ­¥èµ°ã€‚ ä»»åŠ¡é˜Ÿåˆ—ï¼š ä»»åŠ¡ï¼ˆæ¶ˆæ¯ï¼‰é˜Ÿåˆ—æ˜¯ä¸€ä¸ªå…ˆè¿›å…ˆå‡ºçš„é˜Ÿåˆ—ï¼Œå®ƒé‡Œé¢å­˜æ”¾ç€å„ç§ä»»åŠ¡ï¼ˆæ¶ˆæ¯ï¼‰ã€‚ åœ¨ JavaScript ä¸­ä»»åŠ¡æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯åŒæ­¥ä»»åŠ¡ï¼Œä¸€ç§æ˜¯å¼‚æ­¥ä»»åŠ¡ã€‚ åŒæ­¥ä»»åŠ¡ï¼šå„ä¸ªä»»åŠ¡æŒ‰ç…§æ–‡æ¡£å®šä¹‰çš„é¡ºåºä¸€ä¸€æ¨å…¥â€œæ‰§è¡Œæ ˆâ€ä¸­ï¼Œå½“å‰ä¸€ä¸ªä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œæ‰ä¼šå¼€å§‹æ‰§è¡Œä¸‹ä¸€ä¸ªä»»åŠ¡ã€‚ å¼‚æ­¥ä»»åŠ¡ï¼šå„ä¸ªä»»åŠ¡æ¨å…¥â€œä»»åŠ¡é˜Ÿåˆ—â€ä¸­ï¼Œåªæœ‰åœ¨å½“å‰çš„æ‰€æœ‰åŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œæ‰ä¼šå°†é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡â€œå‡ºé˜Ÿâ€æ‰§è¡Œã€‚ å½“çº¿ç¨‹ä¸­æ²¡æœ‰æ‰§è¡Œä»»ä½•åŒæ­¥ä»£ç çš„å‰æä¸‹æ‰ä¼šæ‰§è¡Œå¼‚æ­¥ä»£ç ã€‚ å…¶å®ƒJSON çš„äº†è§£ä¸€ç§è½»é‡çº§çš„æ•°æ®äº¤æ¢æ ¼å¼ã€‚ å®ƒæ˜¯åŸºäº JavaScript çš„ä¸€ä¸ªå­é›†ã€‚ æ•°æ®æ ¼å¼ç®€å•ã€æ˜“äºè¯»å†™ã€å ç”¨å¸¦å®½å°ã€‚ e.g. {â€œageâ€:â€12â€, â€œnameâ€:â€backâ€} JSONè¯»å†™çš„åŸºæœ¬å°è£…ï¼š 12345678910111213var storage = &#123; set: (key, val) =&gt; &#123; localStorage.setItem(key, JSON.stringify(val)) &#125;, get: key =&gt; &#123; return JSON.parse(localStorage.getItem(key) === null ? '[]' : localStorage.getItem(key)) &#125;, remove: key =&gt; &#123; localStorage.removeItem(key) &#125;&#125;export default storage JSON æ–¹æ³•çš„ç¼ºç‚¹ ä¸èƒ½å¤åˆ¶functionã€æ­£åˆ™ã€Symbol å¾ªç¯å¼•ç”¨æŠ¥é”™ ç›¸åŒçš„å¼•ç”¨ä¼šè¢«é‡å¤å¤åˆ¶ æ¦‚å¿µæ€§é—®é¢˜ä½ ç†è§£çš„é¢å‘å¯¹è±¡ä¸€ç§ç¼–ç¨‹å¼€å‘æ€æƒ³ã€‚æ˜¯è¿‡ç¨‹å¼ä»£ç çš„ä¸€ç§é«˜åº¦å°è£…ï¼Œç›®çš„åœ¨äºæé«˜ä»£ç çš„å¼€å‘æ•ˆç‡å’Œå¯ç»´æŠ¤æ€§ã€‚ ä»€ä¹ˆå«ä¼˜é›…é™çº§å’Œæ¸è¿›å¢å¼ºï¼Ÿ ä¼˜é›…é™çº§ï¼šWeb ç«™ç‚¹åœ¨æ‰€æœ‰æ–°å¼æµè§ˆå™¨ä¸­éƒ½èƒ½æ­£å¸¸å·¥ä½œï¼Œå¦‚æœç”¨æˆ·ä½¿ç”¨çš„æ˜¯è€å¼æµè§ˆå™¨ï¼Œåˆ™ä»£ç ä¼šé’ˆå¯¹æ—§ç‰ˆæœ¬çš„IEè¿›è¡Œé™çº§å¤„ç†äº†,ä½¿ä¹‹åœ¨æ—§å¼æµè§ˆå™¨ä¸Šä»¥æŸç§å½¢å¼é™çº§ä½“éªŒå´ä¸è‡³äºå®Œå…¨ä¸èƒ½ç”¨ã€‚ å¦‚ï¼šborder-shadow æ¸è¿›å¢å¼ºï¼šä»è¢«æ‰€æœ‰æµè§ˆå™¨æ”¯æŒçš„åŸºæœ¬åŠŸèƒ½å¼€å§‹ï¼Œé€æ­¥åœ°æ·»åŠ é‚£äº›åªæœ‰æ–°ç‰ˆæœ¬æµè§ˆå™¨æ‰æ”¯æŒçš„åŠŸèƒ½,å‘é¡µé¢å¢åŠ ä¸å½±å“åŸºç¡€æµè§ˆå™¨çš„é¢å¤–æ ·å¼å’ŒåŠŸèƒ½çš„ã€‚å½“æµè§ˆå™¨æ”¯æŒæ—¶ï¼Œå®ƒä»¬ä¼šè‡ªåŠ¨åœ°å‘ˆç°å‡ºæ¥å¹¶å‘æŒ¥ä½œç”¨ã€‚ å¦‚ï¼šé»˜è®¤ä½¿ç”¨ flash ä¸Šä¼ ï¼Œä½†å¦‚æœæµè§ˆå™¨æ”¯æŒ HTML5 çš„æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½ï¼Œåˆ™ä½¿ç”¨ HTML5 å®ç°æ›´å¥½çš„ä½“éªŒ compose å‡½æ•° âŒå‡½æ•°æŸ¯é‡ŒåŒ– âŒ]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>é¢è¯•</category>
      </categories>
      <tags>
        <tag>é¢è¯•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³äºç§»åŠ¨ç«¯é€‚é…,ä½ å¿…é¡»è¦çŸ¥é“çš„(è½¬è½½)]]></title>
    <url>%2Fposts%2F32377%2F</url>
    <content type="text"><![CDATA[å…³äºç§»åŠ¨ç«¯é€‚é…ï¼Œä½ å¿…é¡»è¦çŸ¥é“çš„è½¬è½½è‡ª ConardLi çš„ å…³äºç§»åŠ¨ç«¯é€‚é…ï¼Œä½ å¿…é¡»è¦çŸ¥é“çš„å¤‡ç”¨åœ°å€ï¼šçŸ¥ä¹ - å…³äºç§»åŠ¨ç«¯é€‚é…ï¼Œä½ å¿…é¡»è¦çŸ¥é“çš„ å¯¼è¯»ç§»åŠ¨ç«¯é€‚é…ï¼Œæ˜¯æˆ‘ä»¬åœ¨å¼€å‘ä¸­ç»å¸¸ä¼šé‡åˆ°çš„ï¼Œè¿™é‡Œé¢å¯èƒ½ä¼šé‡åˆ°éå¸¸å¤šçš„é—®é¢˜ï¼š 1pxé—®é¢˜ UIå›¾å®Œç¾é€‚é…æ–¹æ¡ˆ iPhoneXé€‚é…æ–¹æ¡ˆ æ¨ªå±é€‚é… é«˜æ¸…å±å›¾ç‰‡æ¨¡ç³Šé—®é¢˜ â€¦ ä¸Šé¢è¿™äº›é—®é¢˜å¯èƒ½æˆ‘ä»¬åœ¨å¼€å‘ä¸­å·²ç»çŸ¥é“å¦‚ä½•è§£å†³ï¼Œä½†æ˜¯é—®é¢˜äº§ç”Ÿçš„åŸç†ï¼Œä»¥åŠè§£å†³æ–¹æ¡ˆçš„åŸç†å¯èƒ½ä¼šæ¨¡ç³Šä¸æ¸…ã€‚åœ¨è§£å†³è¿™äº›é—®é¢˜çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¾€å¾€ä¼šé‡åˆ°éå¸¸å¤šçš„æ¦‚å¿µï¼šåƒç´ ã€åˆ†è¾¨ç‡ã€PPIã€DPIã€DPã€DIPã€DPRã€è§†å£ç­‰ç­‰ï¼Œä½ çœŸçš„èƒ½åˆ†æ¸…è¿™äº›æ¦‚å¿µçš„æ„ä¹‰å—ï¼Ÿæœ¬æ–‡å°†ä»ç§»åŠ¨ç«¯é€‚é…çš„åŸºç¡€æ¦‚å¿µå‡ºå‘ï¼Œæ¢ç©¶ç§»åŠ¨ç«¯é€‚é…å„ç§é—®é¢˜çš„è§£å†³æ–¹æ¡ˆå’Œå®ç°åŸç†ã€‚ ä¸€ã€è‹±å¯¸ä¸€èˆ¬ç”¨è‹±å¯¸æè¿°å±å¹•çš„ç‰©ç†å¤§å°ï¼Œå¦‚ç”µè„‘æ˜¾ç¤ºå™¨çš„17ã€22ï¼Œæ‰‹æœºæ˜¾ç¤ºå™¨çš„4.8ã€5.7ç­‰ä½¿ç”¨çš„å•ä½éƒ½æ˜¯è‹±å¯¸ã€‚éœ€è¦æ³¨æ„ï¼Œä¸Šé¢çš„å°ºå¯¸éƒ½æ˜¯å±å¹•å¯¹è§’çº¿çš„é•¿åº¦ï¼šè‹±å¯¸(inch,ç¼©å†™ä¸ºin)åœ¨è·å…°è¯­ä¸­çš„æœ¬æ„æ˜¯å¤§æ‹‡æŒ‡ï¼Œä¸€è‹±å¯¸å°±æ˜¯æŒ‡ç”²åº•éƒ¨æ™®é€šäººæ‹‡æŒ‡çš„å®½åº¦ã€‚è‹±å¯¸å’Œå˜ç±³çš„æ¢ç®—ï¼š1è‹±å¯¸ = 2.54 å˜ç±³ äºŒã€åˆ†è¾¨ç‡ 2.1 åƒç´ åƒç´ å³ä¸€ä¸ªå°æ–¹å—ï¼Œå®ƒå…·æœ‰ç‰¹å®šçš„ä½ç½®å’Œé¢œè‰²ã€‚å›¾ç‰‡ã€ç”µå­å±å¹•ï¼ˆæ‰‹æœºã€ç”µè„‘ï¼‰å°±æ˜¯ç”±æ— æ•°ä¸ªå…·æœ‰ç‰¹å®šé¢œè‰²å’Œç‰¹å®šä½ç½®çš„å°æ–¹å—æ‹¼æ¥è€Œæˆã€‚åƒç´ å¯ä»¥ä½œä¸ºå›¾ç‰‡æˆ–ç”µå­å±å¹•çš„æœ€å°ç»„æˆå•ä½ã€‚ä¸‹é¢æˆ‘ä»¬ä½¿ç”¨sketchæ‰“å¼€ä¸€å¼ å›¾ç‰‡ï¼šå°†è¿™äº›å›¾ç‰‡æ”¾å¤§å³å¯çœ‹åˆ°è¿™äº›åƒç´ ç‚¹ï¼šé€šå¸¸æˆ‘ä»¬æ‰€è¯´çš„åˆ†è¾¨ç‡æœ‰ä¸¤ç§ï¼Œå±å¹•åˆ†è¾¨ç‡å’Œå›¾åƒåˆ†è¾¨ç‡ã€‚ 2.2 å±å¹•åˆ†è¾¨ç‡å±å¹•åˆ†è¾¨ç‡æŒ‡ä¸€ä¸ªå±å¹•å…·ä½“ç”±å¤šå°‘ä¸ªåƒç´ ç‚¹ç»„æˆã€‚ä¸‹é¢æ˜¯appleçš„å®˜ç½‘ä¸Šå¯¹æ‰‹æœºåˆ†è¾¨ç‡çš„æè¿°ï¼šiPhone XS Max å’Œ iPhone SEçš„åˆ†è¾¨ç‡åˆ†åˆ«ä¸º2688 x 1242å’Œ1136 x 640ã€‚è¿™è¡¨ç¤ºæ‰‹æœºåˆ†åˆ«åœ¨å‚ç›´å’Œæ°´å¹³ä¸Šæ‰€å…·æœ‰çš„åƒç´ ç‚¹æ•°ã€‚å½“ç„¶åˆ†è¾¨ç‡é«˜ä¸ä»£è¡¨å±å¹•å°±æ¸…æ™°ï¼Œå±å¹•çš„æ¸…æ™°ç¨‹åº¦è¿˜ä¸å°ºå¯¸æœ‰å…³ã€‚ 2.3 å›¾åƒåˆ†è¾¨ç‡æˆ‘ä»¬é€šå¸¸è¯´çš„å›¾ç‰‡åˆ†è¾¨ç‡å…¶å®æ˜¯æŒ‡å›¾ç‰‡å«æœ‰çš„åƒç´ æ•°ï¼Œæ¯”å¦‚ä¸€å¼ å›¾ç‰‡çš„åˆ†è¾¨ç‡ä¸º800 x 400ã€‚è¿™è¡¨ç¤ºå›¾ç‰‡åˆ†åˆ«åœ¨å‚ç›´å’Œæ°´å¹³ä¸Šæ‰€å…·æœ‰çš„åƒç´ ç‚¹æ•°ä¸º800å’Œ400ã€‚åŒä¸€å°ºå¯¸çš„å›¾ç‰‡ï¼Œåˆ†è¾¨ç‡è¶Šé«˜ï¼Œå›¾ç‰‡è¶Šæ¸…æ™°ã€‚ 2.4 PPIPPI(Pixel Per Inch)ï¼šæ¯è‹±å¯¸åŒ…æ‹¬çš„åƒç´ æ•°ã€‚PPIå¯ä»¥ç”¨äºæè¿°å±å¹•çš„æ¸…æ™°åº¦ä»¥åŠä¸€å¼ å›¾ç‰‡çš„è´¨é‡ã€‚ä½¿ç”¨PPIæè¿°å›¾ç‰‡æ—¶ï¼ŒPPIè¶Šé«˜ï¼Œå›¾ç‰‡è´¨é‡è¶Šé«˜ï¼Œä½¿ç”¨PPIæè¿°å±å¹•æ—¶ï¼ŒPPIè¶Šé«˜ï¼Œå±å¹•è¶Šæ¸…æ™°ã€‚åœ¨ä¸Šé¢æè¿°æ‰‹æœºåˆ†è¾¨ç‡çš„å›¾ç‰‡ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼šiPhone XS Max å’Œ iPhone SEçš„PPIåˆ†åˆ«ä¸º458å’Œ326ï¼Œè¿™è¶³ä»¥è¯æ˜å‰è€…çš„å±å¹•æ›´æ¸…æ™°ã€‚ç”±äºæ‰‹æœºå°ºå¯¸ä¸ºæ‰‹æœºå¯¹è§’çº¿çš„é•¿åº¦ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨å¦‚ä¸‹çš„æ–¹æ³•è®¡ç®—PPI:iPhone 6çš„PPIä¸º ï¼Œé‚£å®ƒæ¯è‹±å¯¸çº¦å«æœ‰326ä¸ªç‰©ç†åƒç´ ç‚¹ã€‚ 2.5 DPIDPI(Dot Per Inch)ï¼šå³æ¯è‹±å¯¸åŒ…æ‹¬çš„ç‚¹æ•°ã€‚è¿™é‡Œçš„ç‚¹æ˜¯ä¸€ä¸ªæŠ½è±¡çš„å•ä½ï¼Œå®ƒå¯ä»¥æ˜¯å±å¹•åƒç´ ç‚¹ã€å›¾ç‰‡åƒç´ ç‚¹ä¹Ÿå¯ä»¥æ˜¯æ‰“å°æœºçš„å¢¨ç‚¹ã€‚å¹³æ—¶ä½ å¯èƒ½ä¼šçœ‹åˆ°ä½¿ç”¨DPIæ¥æè¿°å›¾ç‰‡å’Œå±å¹•ï¼Œè¿™æ—¶çš„DPIåº”è¯¥å’ŒPPIæ˜¯ç­‰ä»·çš„ï¼ŒDPIæœ€å¸¸ç”¨çš„æ˜¯ç”¨äºæè¿°æ‰“å°æœºï¼Œè¡¨ç¤ºæ‰“å°æœºæ¯è‹±å¯¸å¯ä»¥æ‰“å°çš„ç‚¹æ•°ã€‚ä¸€å¼ å›¾ç‰‡åœ¨å±å¹•ä¸Šæ˜¾ç¤ºæ—¶ï¼Œå®ƒçš„åƒç´ ç‚¹æ•°æ˜¯è§„åˆ™æ’åˆ—çš„ï¼Œæ¯ä¸ªåƒç´ ç‚¹éƒ½æœ‰ç‰¹å®šçš„ä½ç½®å’Œé¢œè‰²ã€‚å½“ä½¿ç”¨æ‰“å°æœºè¿›è¡Œæ‰“å°æ—¶ï¼Œæ‰“å°æœºå¯èƒ½ä¸ä¼šè§„åˆ™çš„å°†è¿™äº›ç‚¹æ‰“å°å‡ºæ¥ï¼Œè€Œæ˜¯ä½¿ç”¨ä¸€ä¸ªä¸ªæ‰“å°ç‚¹æ¥å‘ˆç°è¿™å¼ å›¾åƒï¼Œè¿™äº›æ‰“å°ç‚¹ä¹‹é—´ä¼šæœ‰ä¸€å®šçš„ç©ºéš™ï¼Œè¿™å°±æ˜¯DPIæ‰€æè¿°çš„ï¼šæ‰“å°ç‚¹çš„å¯†åº¦ã€‚åœ¨ä¸Šé¢çš„å›¾åƒä¸­æˆ‘ä»¬å¯ä»¥æ¸…æ™°çš„çœ‹åˆ°ï¼Œæ‰“å°æœºæ˜¯å¦‚ä½•ä½¿ç”¨å¢¨ç‚¹æ¥æ‰“å°ä¸€å¼ å›¾åƒã€‚æ‰€ä»¥ï¼Œæ‰“å°æœºçš„DPIè¶Šé«˜ï¼Œæ‰“å°å›¾åƒçš„ç²¾ç»†ç¨‹åº¦å°±è¶Šé«˜ï¼ŒåŒæ—¶è¿™ä¹Ÿä¼šæ¶ˆè€—æ›´å¤šçš„å¢¨ç‚¹å’Œæ—¶é—´ã€‚ ä¸‰ã€è®¾å¤‡ç‹¬ç«‹åƒç´ å®é™…ä¸Šï¼Œä¸Šé¢æˆ‘ä»¬æè¿°çš„åƒç´ éƒ½æ˜¯ç‰©ç†åƒç´ ï¼Œå³è®¾å¤‡ä¸ŠçœŸå®çš„ç‰©ç†å•å…ƒã€‚ä¸‹é¢æˆ‘ä»¬æ¥çœ‹çœ‹è®¾å¤‡ç‹¬ç«‹åƒç´ ç©¶ç«Ÿæ˜¯å¦‚ä½•äº§ç”Ÿçš„ï¼šæ™ºèƒ½æ‰‹æœºå‘å±•éå¸¸ä¹‹å¿«ï¼Œåœ¨å‡ å¹´ä¹‹å‰ï¼Œæˆ‘ä»¬è¿˜ç”¨ç€åˆ†è¾¨ç‡éå¸¸ä½çš„æ‰‹æœºï¼Œæ¯”å¦‚ä¸‹é¢å·¦ä¾§çš„ç™½è‰²æ‰‹æœºï¼Œå®ƒçš„åˆ†è¾¨ç‡æ˜¯320x480ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸Šé¢æµè§ˆæ­£å¸¸çš„æ–‡å­—ã€å›¾ç‰‡ç­‰ç­‰ã€‚ä½†æ˜¯ï¼Œéšç€ç§‘æŠ€çš„å‘å±•ï¼Œä½åˆ†è¾¨ç‡çš„æ‰‹æœºå·²ç»ä¸èƒ½æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚äº†ã€‚å¾ˆå¿«ï¼Œæ›´é«˜åˆ†è¾¨ç‡çš„å±å¹•è¯ç”Ÿäº†ï¼Œæ¯”å¦‚ä¸‹é¢çš„é»‘è‰²æ‰‹æœºï¼Œå®ƒçš„åˆ†è¾¨ç‡æ˜¯640x940ï¼Œæ­£å¥½æ˜¯ç™½è‰²æ‰‹æœºçš„ä¸¤å€ã€‚ç†è®ºä¸Šæ¥è®²ï¼Œåœ¨ç™½è‰²æ‰‹æœºä¸Šç›¸åŒå¤§å°çš„å›¾ç‰‡å’Œæ–‡å­—ï¼Œåœ¨é»‘è‰²æ‰‹æœºä¸Šä¼šè¢«ç¼©æ”¾ä¸€å€ï¼Œå› ä¸ºå®ƒçš„åˆ†è¾¨ç‡æé«˜äº†ä¸€å€ã€‚è¿™æ ·ï¼Œå²‚ä¸æ˜¯åé¢å‡ºç°æ›´é«˜åˆ†è¾¨ç‡çš„æ‰‹æœºï¼Œé¡µé¢å…ƒç´ ä¼šå˜å¾—è¶Šæ¥è¶Šå°å—ï¼Ÿç„¶è€Œï¼Œäº‹å®å¹¶ä¸æ˜¯è¿™æ ·çš„ï¼Œæˆ‘ä»¬ç°åœ¨ä½¿ç”¨çš„æ™ºèƒ½æ‰‹æœºï¼Œä¸ç®¡åˆ†è¾¨ç‡å¤šé«˜ï¼Œä»–ä»¬æ‰€å±•ç¤ºçš„ç•Œé¢æ¯”ä¾‹éƒ½æ˜¯åŸºæœ¬ç±»ä¼¼çš„ã€‚ä¹”å¸ƒæ–¯åœ¨iPhone4çš„å‘å¸ƒä¼šä¸Šé¦–æ¬¡æå‡ºäº†Retina Display(è§†ç½‘è†œå±å¹•)çš„æ¦‚å¿µï¼Œå®ƒæ­£æ˜¯è§£å†³äº†ä¸Šé¢çš„é—®é¢˜ï¼Œè¿™ä¹Ÿä½¿å®ƒæˆä¸ºä¸€æ¬¾è·¨æ—¶ä»£çš„æ‰‹æœºã€‚åœ¨iPhone4ä½¿ç”¨çš„è§†ç½‘è†œå±å¹•ä¸­ï¼ŒæŠŠ2x2ä¸ªåƒç´ å½“1ä¸ªåƒç´ ä½¿ç”¨ï¼Œè¿™æ ·è®©å±å¹•çœ‹èµ·æ¥æ›´ç²¾è‡´ï¼Œä½†æ˜¯å…ƒç´ çš„å¤§å°å´ä¸ä¼šæ”¹å˜ã€‚å¦‚æœé»‘è‰²æ‰‹æœºä½¿ç”¨äº†è§†ç½‘è†œå±å¹•çš„æŠ€æœ¯ï¼Œé‚£ä¹ˆæ˜¾ç¤ºç»“æœåº”è¯¥æ˜¯ä¸‹é¢çš„æƒ…å†µï¼Œæ¯”å¦‚åˆ—è¡¨çš„å®½åº¦ä¸º300ä¸ªåƒç´ ï¼Œé‚£ä¹ˆåœ¨ä¸€æ¡æ°´å¹³çº¿ä¸Šï¼Œç™½è‰²æ‰‹æœºä¼šç”¨300ä¸ªç‰©ç†åƒç´ å»æ¸²æŸ“å®ƒï¼Œè€Œé»‘è‰²æ‰‹æœºå®é™…ä¸Šä¼šç”¨600ä¸ªç‰©ç†åƒç´ å»æ¸²æŸ“å®ƒã€‚æˆ‘ä»¬å¿…é¡»ç”¨ä¸€ç§å•ä½æ¥åŒæ—¶å‘Šè¯‰ä¸åŒåˆ†è¾¨ç‡çš„æ‰‹æœºï¼Œå®ƒä»¬åœ¨ç•Œé¢ä¸Šæ˜¾ç¤ºå…ƒç´ çš„å¤§å°æ˜¯å¤šå°‘ï¼Œè¿™ä¸ªå•ä½å°±æ˜¯è®¾å¤‡ç‹¬ç«‹åƒç´ (Device Independent Pixels)ç®€ç§°DIPæˆ–DPã€‚ä¸Šé¢æˆ‘ä»¬è¯´ï¼Œåˆ—è¡¨çš„å®½åº¦ä¸º300ä¸ªåƒç´ ï¼Œå®é™…ä¸Šæˆ‘ä»¬å¯ä»¥è¯´ï¼šåˆ—è¡¨çš„å®½åº¦ä¸º300ä¸ªè®¾å¤‡ç‹¬ç«‹åƒç´ ã€‚æ‰“å¼€chromeçš„å¼€å‘è€…å·¥å…·ï¼Œæˆ‘ä»¬å¯ä»¥æ¨¡æ‹Ÿå„ä¸ªæ‰‹æœºå‹å·çš„æ˜¾ç¤ºæƒ…å†µï¼Œæ¯ç§å‹å·ä¸Šé¢ä¼šæ˜¾ç¤ºä¸€ä¸ªå°ºå¯¸ï¼Œæ¯”å¦‚iPhone Xæ˜¾ç¤ºçš„å°ºå¯¸æ˜¯375x812ï¼Œå®é™…iPhone Xçš„åˆ†è¾¨ç‡ä¼šæ¯”è¿™é«˜å¾ˆå¤šï¼Œè¿™é‡Œæ˜¾ç¤ºçš„å°±æ˜¯è®¾å¤‡ç‹¬ç«‹åƒç´ ã€‚ 3.1 è®¾å¤‡åƒç´ æ¯”è®¾å¤‡åƒç´ æ¯”device pixel ratioç®€ç§°dprï¼Œå³ç‰©ç†åƒç´ å’Œè®¾å¤‡ç‹¬ç«‹åƒç´ çš„æ¯”å€¼ã€‚åœ¨webä¸­ï¼Œæµè§ˆå™¨ä¸ºæˆ‘ä»¬æä¾›äº†window.devicePixelRatioæ¥å¸®åŠ©æˆ‘ä»¬è·å–dprã€‚åœ¨cssä¸­ï¼Œå¯ä»¥ä½¿ç”¨åª’ä½“æŸ¥è¯¢min-device-pixel-ratioï¼ŒåŒºåˆ†dprï¼š12@media (-webkit-min-device-pixel-ratio: 2),(min-device-pixel-ratio: 2)&#123; &#125;å¤åˆ¶ä»£ç  åœ¨React Nativeä¸­ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨PixelRatio.get()æ¥è·å–DPRã€‚å½“ç„¶ï¼Œä¸Šé¢çš„è§„åˆ™ä¹Ÿæœ‰ä¾‹å¤–ï¼ŒiPhone 6ã€7ã€8 Plusçš„å®é™…ç‰©ç†åƒç´ æ˜¯1080 x 1920ï¼Œåœ¨å¼€å‘è€…å·¥å…·ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼šå®ƒçš„è®¾å¤‡ç‹¬ç«‹åƒç´ æ˜¯414 x 736ï¼Œè®¾å¤‡åƒç´ æ¯”ä¸º3ï¼Œè®¾å¤‡ç‹¬ç«‹åƒç´ å’Œè®¾å¤‡åƒç´ æ¯”çš„ä¹˜ç§¯å¹¶ä¸ç­‰äº1080 x 1920ï¼Œè€Œæ˜¯ç­‰äº1242 x 2208ã€‚å®é™…ä¸Šï¼Œæ‰‹æœºä¼šè‡ªåŠ¨æŠŠ1242 x 2208ä¸ªåƒç´ ç‚¹å¡è¿›1080 * 1920ä¸ªç‰©ç†åƒç´ ç‚¹æ¥æ¸²æŸ“ï¼Œæˆ‘ä»¬ä¸ç”¨å…³å¿ƒè¿™ä¸ªè¿‡ç¨‹ï¼Œè€Œ1242 x 2208è¢«ç§°ä¸ºå±å¹•çš„è®¾è®¡åƒç´ ã€‚æˆ‘ä»¬å¼€å‘è¿‡ç¨‹ä¸­ä¹Ÿæ˜¯ä»¥è¿™ä¸ªè®¾è®¡åƒç´ ä¸ºå‡†ã€‚å®é™…ä¸Šï¼Œä»è‹¹æœæå‡ºè§†ç½‘è†œå±å¹•å¼€å§‹ï¼Œæ‰å‡ºç°è®¾å¤‡åƒç´ æ¯”è¿™ä¸ªæ¦‚å¿µï¼Œå› ä¸ºåœ¨è¿™ä¹‹å‰ï¼Œç§»åŠ¨è®¾å¤‡éƒ½æ˜¯ç›´æ¥ä½¿ç”¨ç‰©ç†åƒç´ æ¥è¿›è¡Œå±•ç¤ºã€‚ç´§æ¥ç€ï¼ŒAndroidåŒæ ·ä½¿ç”¨äº†å…¶ä»–çš„æŠ€æœ¯æ–¹æ¡ˆæ¥å®ç°DPRå¤§äº1çš„å±å¹•ï¼Œä¸è¿‡åŸç†æ˜¯ç±»ä¼¼çš„ã€‚ç”±äºAndroidå±å¹•å°ºå¯¸éå¸¸å¤šã€åˆ†è¾¨ç‡é«˜ä½è·¨åº¦éå¸¸å¤§ï¼Œä¸åƒè‹¹æœåªæœ‰å®ƒè‡ªå·±çš„å‡ æ¬¾å›ºå®šè®¾å¤‡ã€å°ºå¯¸ã€‚æ‰€ä»¥ï¼Œä¸ºäº†ä¿è¯å„ç§è®¾å¤‡çš„æ˜¾ç¤ºæ•ˆæœï¼ŒAndroidæŒ‰ç…§è®¾å¤‡çš„åƒç´ å¯†åº¦å°†è®¾å¤‡åˆ†æˆäº†å‡ ä¸ªåŒºé—´ï¼šå½“ç„¶ï¼Œæ‰€æœ‰çš„Androidè®¾å¤‡ä¸ä¸€å®šä¸¥æ ¼æŒ‰ç…§ä¸Šé¢çš„åˆ†è¾¨ç‡ï¼Œæ¯ä¸ªç±»å‹å¯èƒ½å¯¹åº”å‡ ç§ä¸åŒåˆ†è¾¨ç‡ï¼Œæ‰€ä»¥ï¼Œæ¯ä¸ªAndroidæ‰‹æœºéƒ½èƒ½æ ¹æ®ç»™å®šçš„åŒºé—´èŒƒå›´ï¼Œç¡®å®šè‡ªå·±çš„DPRï¼Œä»è€Œæ‹¥æœ‰ç±»ä¼¼çš„æ˜¾ç¤ºã€‚å½“ç„¶ï¼Œä»…ä»…æ˜¯ç±»ä¼¼ï¼Œç”±äºå„ä¸ªè®¾å¤‡çš„å°ºå¯¸ã€åˆ†è¾¨ç‡ä¸Šçš„å·®å¼‚ï¼Œè®¾å¤‡ç‹¬ç«‹åƒç´ ä¹Ÿä¸ä¼šå®Œå…¨ç›¸ç­‰ï¼Œæ‰€ä»¥å„ç§Androidè®¾å¤‡ä»ç„¶ä¸èƒ½åšåˆ°åœ¨å±•ç¤ºä¸Šå®Œå…¨ç›¸ç­‰ã€‚ 3.2 ç§»åŠ¨ç«¯å¼€å‘åœ¨iOSã€Androidå’ŒReact Nativeå¼€å‘ä¸­æ ·å¼å•ä½å…¶å®éƒ½ä½¿ç”¨çš„æ˜¯è®¾å¤‡ç‹¬ç«‹åƒç´ ã€‚iOSçš„å°ºå¯¸å•ä½ä¸ºptï¼ŒAndroidçš„å°ºå¯¸å•ä½ä¸ºdpï¼ŒReact Nativeä¸­æ²¡æœ‰æŒ‡å®šæ˜ç¡®çš„å•ä½ï¼Œå®ƒä»¬å…¶å®éƒ½æ˜¯è®¾å¤‡ç‹¬ç«‹åƒç´ dpã€‚åœ¨ä½¿ç”¨React Nativeå¼€å‘Appæ—¶ï¼ŒUIç»™æˆ‘ä»¬çš„åŸå‹å›¾ä¸€èˆ¬æ˜¯åŸºäºiphone6çš„åƒç´ ç»™å®šçš„ã€‚ä¸ºäº†é€‚é…æ‰€æœ‰æœºå‹ï¼Œæˆ‘ä»¬åœ¨å†™æ ·å¼æ—¶éœ€è¦æŠŠç‰©ç†åƒç´ è½¬æ¢ä¸ºè®¾å¤‡ç‹¬ç«‹åƒç´ ï¼šä¾‹å¦‚ï¼šå¦‚æœç»™å®šä¸€ä¸ªå…ƒç´ çš„é«˜åº¦ä¸º200px(è¿™é‡Œçš„pxæŒ‡ç‰©ç†åƒç´ ï¼ŒéCSSåƒç´ )ï¼Œiphone6çš„è®¾å¤‡åƒç´ æ¯”ä¸º2ï¼Œæˆ‘ä»¬ç»™å®šçš„heightåº”ä¸º200px/2=100dpã€‚å½“ç„¶ï¼Œæœ€å¥½çš„æ˜¯ï¼Œä½ å¯ä»¥å’Œè®¾è®¡æ²Ÿé€šå¥½ï¼Œæ‰€æœ‰çš„UIå›¾éƒ½æŒ‰ç…§è®¾å¤‡ç‹¬ç«‹åƒç´ æ¥å‡ºã€‚æˆ‘ä»¬è¿˜å¯ä»¥åœ¨ä»£ç (React Native)ä¸­è¿›è¡Œpxå’Œdpçš„è½¬æ¢ï¼š123456789101112131415import &#123;PixelRatio &#125; from &apos;react-native&apos;;const dpr = PixelRatio.get();/** * pxè½¬æ¢ä¸ºdp */export function pxConvertTodp(px) &#123; return px / dpr;&#125;/** * dpè½¬æ¢ä¸ºpx */export function dpConvertTopx(dp) &#123; return PixelRatio.getPixelSizeForLayoutSize(dp);&#125;å¤åˆ¶ä»£ç  3.3 WEBç«¯å¼€å‘åœ¨å†™CSSæ—¶ï¼Œæˆ‘ä»¬ç”¨åˆ°æœ€å¤šçš„å•ä½æ˜¯pxï¼Œå³CSSåƒç´ ï¼Œå½“é¡µé¢ç¼©æ”¾æ¯”ä¾‹ä¸º100%æ—¶ï¼Œä¸€ä¸ªCSSåƒç´ ç­‰äºä¸€ä¸ªè®¾å¤‡ç‹¬ç«‹åƒç´ ã€‚ä½†æ˜¯CSSåƒç´ æ˜¯å¾ˆå®¹æ˜“è¢«æ”¹å˜çš„ï¼Œå½“ç”¨æˆ·å¯¹æµè§ˆå™¨è¿›è¡Œäº†æ”¾å¤§ï¼ŒCSSåƒç´ ä¼šè¢«æ”¾å¤§ï¼Œè¿™æ—¶ä¸€ä¸ªCSSåƒç´ ä¼šè·¨è¶Šæ›´å¤šçš„ç‰©ç†åƒç´ ã€‚é¡µé¢çš„ç¼©æ”¾ç³»æ•° = CSSåƒç´  / è®¾å¤‡ç‹¬ç«‹åƒç´ ã€‚ 3.4 å…³äºå±å¹•è¿™é‡Œå¤šè¯´ä¸¤å¥Retinaå±å¹•ï¼Œå› ä¸ºæˆ‘åœ¨å¾ˆå¤šæ–‡ç« ä¸­çœ‹åˆ°å¯¹Retinaå±å¹•çš„è¯¯è§£ã€‚Retinaå±å¹•åªæ˜¯è‹¹æœæå‡ºçš„ä¸€ä¸ªè¥é”€æœ¯è¯­ï¼š åœ¨æ™®é€šçš„ä½¿ç”¨è·ç¦»ä¸‹ï¼Œäººçš„è‚‰çœ¼æ— æ³•åˆ†è¾¨å•ä¸ªçš„åƒç´ ç‚¹ã€‚ ä¸ºä»€ä¹ˆå¼ºè°ƒæ™®é€šçš„ä½¿ç”¨è·ç¦»ä¸‹å‘¢ï¼Ÿæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å®ƒçš„è®¡ç®—å…¬å¼ï¼šaä»£è¡¨äººçœ¼è§†è§’ï¼Œhä»£è¡¨åƒç´ é—´è·ï¼Œdä»£è¡¨è‚‰çœ¼ä¸å±å¹•çš„è·ç¦»ï¼Œç¬¦åˆä»¥ä¸Šæ¡ä»¶çš„å±å¹•å¯ä»¥ä½¿è‚‰çœ¼çœ‹ä¸è§å•ä¸ªç‰©ç†åƒç´ ç‚¹ã€‚å®ƒä¸èƒ½å•çº¯çš„è¡¨è¾¾åˆ†è¾¨ç‡å’ŒPPIï¼Œåªèƒ½ä¸€ç§è¡¨è¾¾è§†è§‰æ•ˆæœã€‚è®©å¤šä¸ªç‰©ç†åƒç´ æ¸²æŸ“ä¸€ä¸ªç‹¬ç«‹åƒç´ åªæ˜¯Retinaå±å¹•ä¸ºäº†è¾¾åˆ°æ•ˆæœè€Œä½¿ç”¨çš„ä¸€ç§æŠ€æœ¯ã€‚è€Œä¸æ˜¯æ‰€æœ‰DPR &gt; 1çš„å±å¹•å°±æ˜¯Retinaå±å¹•ã€‚æ¯”å¦‚ï¼šç»™ä½ ä¸€å—è¶…å¤§å°ºå¯¸çš„å±å¹•ï¼Œå³ä½¿å®ƒçš„PPIå¾ˆé«˜ï¼ŒDPRä¹Ÿå¾ˆé«˜ï¼Œåœ¨è¿‘è·ç¦»ä½ ä¹Ÿèƒ½çœ‹æ¸…å®ƒçš„åƒç´ ç‚¹ï¼Œè¿™å°±ä¸ç®—Retinaå±å¹•ã€‚æˆ‘ä»¬ç»å¸¸è§åˆ°ç”¨Kå’ŒPè¿™ä¸ªå•ä½æ¥å½¢å®¹å±å¹•ï¼šPä»£è¡¨çš„å°±æ˜¯å±å¹•çºµå‘çš„åƒç´ ä¸ªæ•°ï¼Œ1080På³çºµå‘æœ‰1080ä¸ªåƒç´ ï¼Œåˆ†è¾¨ç‡ä¸º1920X1080çš„å±å¹•å°±å±äº1080På±å¹•ã€‚æˆ‘ä»¬å¹³æ—¶æ‰€è¯´çš„é«˜æ¸…å±å…¶å®å°±æ˜¯å±å¹•çš„ç‰©ç†åˆ†è¾¨ç‡è¾¾åˆ°æˆ–è¶…è¿‡1920X1080çš„å±å¹•ã€‚Kä»£è¡¨å±å¹•æ¨ªå‘æœ‰å‡ ä¸ª1024ä¸ªåƒç´ ï¼Œä¸€èˆ¬æ¥è®²æ¨ªå‘åƒç´ è¶…è¿‡2048å°±å±äº2Kå±ï¼Œæ¨ªå‘åƒç´ è¶…è¿‡4096å°±å±äº4Kå±ã€‚ å››ã€è§†å£è§†å£(viewport)ä»£è¡¨å½“å‰å¯è§çš„è®¡ç®—æœºå›¾å½¢åŒºåŸŸã€‚åœ¨Webæµè§ˆå™¨æœ¯è¯­ä¸­ï¼Œé€šå¸¸ä¸æµè§ˆå™¨çª—å£ç›¸åŒï¼Œä½†ä¸åŒ…æ‹¬æµè§ˆå™¨çš„UIï¼Œ èœå•æ ç­‰â€”â€”å³æŒ‡ä½ æ­£åœ¨æµè§ˆçš„æ–‡æ¡£çš„é‚£ä¸€éƒ¨åˆ†ã€‚ä¸€èˆ¬æˆ‘ä»¬æ‰€è¯´çš„è§†å£å…±åŒ…æ‹¬ä¸‰ç§ï¼šå¸ƒå±€è§†å£ã€è§†è§‰è§†å£å’Œç†æƒ³è§†å£ï¼Œå®ƒä»¬åœ¨å±å¹•é€‚é…ä¸­èµ·ç€éå¸¸é‡è¦çš„ä½œç”¨ã€‚ 4.1 å¸ƒå±€è§†å£å¸ƒå±€è§†å£(layout viewport)ï¼šå½“æˆ‘ä»¬ä»¥ç™¾åˆ†æ¯”æ¥æŒ‡å®šä¸€ä¸ªå…ƒç´ çš„å¤§å°æ—¶ï¼Œå®ƒçš„è®¡ç®—å€¼æ˜¯ç”±è¿™ä¸ªå…ƒç´ çš„åŒ…å«å—è®¡ç®—è€Œæ¥çš„ã€‚å½“è¿™ä¸ªå…ƒç´ æ˜¯æœ€é¡¶çº§çš„å…ƒç´ æ—¶ï¼Œå®ƒå°±æ˜¯åŸºäºå¸ƒå±€è§†å£æ¥è®¡ç®—çš„ã€‚æ‰€ä»¥ï¼Œå¸ƒå±€è§†å£æ˜¯ç½‘é¡µå¸ƒå±€çš„åŸºå‡†çª—å£ï¼Œåœ¨PCæµè§ˆå™¨ä¸Šï¼Œå¸ƒå±€è§†å£å°±ç­‰äºå½“å‰æµè§ˆå™¨çš„çª—å£å¤§å°ï¼ˆä¸åŒ…æ‹¬borders ã€marginsã€æ»šåŠ¨æ¡ï¼‰ã€‚åœ¨ç§»åŠ¨ç«¯ï¼Œå¸ƒå±€è§†å£è¢«èµ‹äºˆä¸€ä¸ªé»˜è®¤å€¼ï¼Œå¤§éƒ¨åˆ†ä¸º980pxï¼Œè¿™ä¿è¯PCçš„ç½‘é¡µå¯ä»¥åœ¨æ‰‹æœºæµè§ˆå™¨ä¸Šå‘ˆç°ï¼Œä½†æ˜¯éå¸¸å°ï¼Œç”¨æˆ·å¯ä»¥æ‰‹åŠ¨å¯¹ç½‘é¡µè¿›è¡Œæ”¾å¤§ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è°ƒç”¨document.documentElement.clientWidth / clientHeightæ¥è·å–å¸ƒå±€è§†å£å¤§å°ã€‚ 4.2 è§†è§‰è§†å£è§†è§‰è§†å£(visual viewport)ï¼šç”¨æˆ·é€šè¿‡å±å¹•çœŸå®çœ‹åˆ°çš„åŒºåŸŸã€‚è§†è§‰è§†å£é»˜è®¤ç­‰äºå½“å‰æµè§ˆå™¨çš„çª—å£å¤§å°ï¼ˆåŒ…æ‹¬æ»šåŠ¨æ¡å®½åº¦ï¼‰ã€‚å½“ç”¨æˆ·å¯¹æµè§ˆå™¨è¿›è¡Œç¼©æ”¾æ—¶ï¼Œä¸ä¼šæ”¹å˜å¸ƒå±€è§†å£çš„å¤§å°ï¼Œæ‰€ä»¥é¡µé¢å¸ƒå±€æ˜¯ä¸å˜çš„ï¼Œä½†æ˜¯ç¼©æ”¾ä¼šæ”¹å˜è§†è§‰è§†å£çš„å¤§å°ã€‚ä¾‹å¦‚ï¼šç”¨æˆ·å°†æµè§ˆå™¨çª—å£æ”¾å¤§äº†200%ï¼Œè¿™æ—¶æµè§ˆå™¨çª—å£ä¸­çš„CSSåƒç´ ä¼šéšç€è§†è§‰è§†å£çš„æ”¾å¤§è€Œæ”¾å¤§ï¼Œè¿™æ—¶ä¸€ä¸ªCSSåƒç´ ä¼šè·¨è¶Šæ›´å¤šçš„ç‰©ç†åƒç´ ã€‚æ‰€ä»¥ï¼Œå¸ƒå±€è§†å£ä¼šé™åˆ¶ä½ çš„CSSå¸ƒå±€è€Œè§†è§‰è§†å£å†³å®šç”¨æˆ·å…·ä½“èƒ½çœ‹åˆ°ä»€ä¹ˆã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è°ƒç”¨window.innerWidth / innerHeightæ¥è·å–è§†è§‰è§†å£å¤§å°ã€‚ 4.3 ç†æƒ³è§†å£å¸ƒå±€è§†å£åœ¨ç§»åŠ¨ç«¯å±•ç¤ºçš„æ•ˆæœå¹¶ä¸æ˜¯ä¸€ä¸ªç†æƒ³çš„æ•ˆæœï¼Œæ‰€ä»¥ç†æƒ³è§†å£(ideal viewport)å°±è¯ç”Ÿäº†ï¼šç½‘ç«™é¡µé¢åœ¨ç§»åŠ¨ç«¯å±•ç¤ºçš„ç†æƒ³å¤§å°ã€‚å¦‚ä¸Šå›¾ï¼Œæˆ‘ä»¬åœ¨æè¿°è®¾å¤‡ç‹¬ç«‹åƒç´ æ—¶æ›¾ä½¿ç”¨è¿‡è¿™å¼ å›¾ï¼Œåœ¨æµè§ˆå™¨è°ƒè¯•ç§»åŠ¨ç«¯æ—¶é¡µé¢ä¸Šç»™å®šçš„åƒç´ å¤§å°å°±æ˜¯ç†æƒ³è§†å£å¤§å°ï¼Œå®ƒçš„å•ä½æ­£æ˜¯è®¾å¤‡ç‹¬ç«‹åƒç´ ã€‚ä¸Šé¢åœ¨ä»‹ç»CSSåƒç´ æ—¶æ›¾ç»æåˆ°é¡µé¢çš„ç¼©æ”¾ç³»æ•° = CSSåƒç´  / è®¾å¤‡ç‹¬ç«‹åƒç´ ï¼Œå®é™…ä¸Šè¯´é¡µé¢çš„ç¼©æ”¾ç³»æ•° = ç†æƒ³è§†å£å®½åº¦ / è§†è§‰è§†å£å®½åº¦æ›´ä¸ºå‡†ç¡®ã€‚æ‰€ä»¥ï¼Œå½“é¡µé¢ç¼©æ”¾æ¯”ä¾‹ä¸º100%æ—¶ï¼ŒCSSåƒç´  = è®¾å¤‡ç‹¬ç«‹åƒç´ ï¼Œç†æƒ³è§†å£ = è§†è§‰è§†å£ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è°ƒç”¨screen.width / heightæ¥è·å–ç†æƒ³è§†å£å¤§å°ã€‚ 4.4 Meta viewport&lt;meta&gt; å…ƒç´ è¡¨ç¤ºé‚£äº›ä¸èƒ½ç”±å…¶å®ƒHTMLå…ƒç›¸å…³å…ƒç´ ä¹‹ä¸€è¡¨ç¤ºçš„ä»»ä½•å…ƒæ•°æ®ä¿¡æ¯ï¼Œå®ƒå¯ä»¥å‘Šè¯‰æµè§ˆå™¨å¦‚ä½•è§£æé¡µé¢ã€‚æˆ‘ä»¬å¯ä»¥å€ŸåŠ©&lt;meta&gt;å…ƒç´ çš„viewportæ¥å¸®åŠ©æˆ‘ä»¬è®¾ç½®è§†å£ã€ç¼©æ”¾ç­‰ï¼Œä»è€Œè®©ç§»åŠ¨ç«¯å¾—åˆ°æ›´å¥½çš„å±•ç¤ºæ•ˆæœã€‚12&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width; initial-scale=1; maximum-scale=1; minimum-scale=1; user-scalable=no;&quot;&gt;å¤åˆ¶ä»£ç  ä¸Šé¢æ˜¯viewportçš„ä¸€ä¸ªé…ç½®ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å®ƒä»¬çš„å…·ä½“å«ä¹‰ï¼š Value å¯èƒ½å€¼ æè¿° width æ­£æ•´æ•°æˆ–device-width ä»¥pixelsï¼ˆåƒç´ ï¼‰ä¸ºå•ä½ï¼Œ å®šä¹‰å¸ƒå±€è§†å£çš„å®½åº¦ã€‚ height æ­£æ•´æ•°æˆ–device-height ä»¥pixelsï¼ˆåƒç´ ï¼‰ä¸ºå•ä½ï¼Œ å®šä¹‰å¸ƒå±€è§†å£çš„é«˜åº¦ã€‚ initial-scale 0.0 - 10.0 å®šä¹‰é¡µé¢åˆå§‹ç¼©æ”¾æ¯”ç‡ã€‚ minimum-scale 0.0 - 10.0 å®šä¹‰ç¼©æ”¾çš„æœ€å°å€¼ï¼›å¿…é¡»å°äºæˆ–ç­‰äºmaximum-scaleçš„å€¼ã€‚ maximum-scale 0.0 - 10.0 å®šä¹‰ç¼©æ”¾çš„æœ€å¤§å€¼ï¼›å¿…é¡»å¤§äºæˆ–ç­‰äºminimum-scaleçš„å€¼ã€‚ user-scalable ä¸€ä¸ªå¸ƒå°”å€¼ï¼ˆyesæˆ–è€…noï¼‰ å¦‚æœè®¾ç½®ä¸º noï¼Œç”¨æˆ·å°†ä¸èƒ½æ”¾å¤§æˆ–ç¼©å°ç½‘é¡µã€‚é»˜è®¤å€¼ä¸º yesã€‚ 4.5 ç§»åŠ¨ç«¯é€‚é…ä¸ºäº†åœ¨ç§»åŠ¨ç«¯è®©é¡µé¢è·å¾—æ›´å¥½çš„æ˜¾ç¤ºæ•ˆæœï¼Œæˆ‘ä»¬å¿…é¡»è®©å¸ƒå±€è§†å£ã€è§†è§‰è§†å£éƒ½å°½å¯èƒ½ç­‰äºç†æƒ³è§†å£ã€‚device-widthå°±ç­‰äºç†æƒ³è§†å£çš„å®½åº¦ï¼Œæ‰€ä»¥è®¾ç½®width=device-widthå°±ç›¸å½“äºè®©å¸ƒå±€è§†å£ç­‰äºç†æƒ³è§†å£ã€‚ç”±äºinitial-scale = ç†æƒ³è§†å£å®½åº¦ / è§†è§‰è§†å£å®½åº¦ï¼Œæ‰€ä»¥æˆ‘ä»¬è®¾ç½®initial-scale=1;å°±ç›¸å½“äºè®©è§†è§‰è§†å£ç­‰äºç†æƒ³è§†å£ã€‚è¿™æ—¶ï¼Œ1ä¸ªCSSåƒç´ å°±ç­‰äº1ä¸ªè®¾å¤‡ç‹¬ç«‹åƒç´ ï¼Œè€Œä¸”æˆ‘ä»¬ä¹Ÿæ˜¯åŸºäºç†æƒ³è§†å£æ¥è¿›è¡Œå¸ƒå±€çš„ï¼Œæ‰€ä»¥å‘ˆç°å‡ºæ¥çš„é¡µé¢å¸ƒå±€åœ¨å„ç§è®¾å¤‡ä¸Šéƒ½èƒ½å¤§è‡´ç›¸ä¼¼ã€‚ 4.6 ç¼©æ”¾ä¸Šé¢æåˆ°widthå¯ä»¥å†³å®šå¸ƒå±€è§†å£çš„å®½åº¦ï¼Œå®é™…ä¸Šå®ƒå¹¶ä¸æ˜¯å¸ƒå±€è§†å£çš„å”¯ä¸€å†³å®šæ€§å› ç´ ï¼Œè®¾ç½®initial-scaleä¹Ÿæœ‰è‚¯èƒ½å½±å“åˆ°å¸ƒå±€è§†å£ï¼Œå› ä¸ºå¸ƒå±€è§†å£å®½åº¦å–çš„æ˜¯widthå’Œè§†è§‰è§†å£å®½åº¦çš„æœ€å¤§å€¼ã€‚ä¾‹å¦‚ï¼šè‹¥æ‰‹æœºçš„ç†æƒ³è§†å£å®½åº¦ä¸º400pxï¼Œè®¾ç½®width=device-widthï¼Œinitial-scale=2ï¼Œæ­¤æ—¶è§†è§‰è§†å£å®½åº¦ = ç†æƒ³è§†å£å®½åº¦ / initial-scaleå³200pxï¼Œå¸ƒå±€è§†å£å–ä¸¤è€…æœ€å¤§å€¼å³device-width 400pxã€‚è‹¥è®¾ç½®width=device-widthï¼Œinitial-scale=0.5ï¼Œæ­¤æ—¶è§†è§‰è§†å£å®½åº¦ = ç†æƒ³è§†å£å®½åº¦ / initial-scaleå³800pxï¼Œå¸ƒå±€è§†å£å–ä¸¤è€…æœ€å¤§å€¼å³800pxã€‚ 4.7 è·å–æµè§ˆå™¨å¤§å°æµè§ˆå™¨ä¸ºæˆ‘ä»¬æä¾›çš„è·å–çª—å£å¤§å°çš„APIæœ‰å¾ˆå¤šï¼Œä¸‹é¢æˆ‘ä»¬å†æ¥å¯¹æ¯”ä¸€ä¸‹ï¼š window.innerHeightï¼šè·å–æµè§ˆå™¨è§†è§‰è§†å£é«˜åº¦ï¼ˆåŒ…æ‹¬å‚ç›´æ»šåŠ¨æ¡ï¼‰ã€‚ window.outerHeightï¼šè·å–æµè§ˆå™¨çª—å£å¤–éƒ¨çš„é«˜åº¦ã€‚è¡¨ç¤ºæ•´ä¸ªæµè§ˆå™¨çª—å£çš„é«˜åº¦ï¼ŒåŒ…æ‹¬ä¾§è¾¹æ ã€çª—å£é•¶è¾¹å’Œè°ƒæ­£çª—å£å¤§å°çš„è¾¹æ¡†ã€‚ window.screen.Heightï¼šè·å–è·å±å¹•å–ç†æƒ³è§†å£é«˜åº¦ï¼Œè¿™ä¸ªæ•°å€¼æ˜¯å›ºå®šçš„ï¼Œè®¾å¤‡çš„åˆ†è¾¨ç‡/è®¾å¤‡åƒç´ æ¯” window.screen.availHeightï¼šæµè§ˆå™¨çª—å£å¯ç”¨çš„é«˜åº¦ã€‚ document.documentElement.clientHeightï¼šè·å–æµè§ˆå™¨å¸ƒå±€è§†å£é«˜åº¦ï¼ŒåŒ…æ‹¬å†…è¾¹è·ï¼Œä½†ä¸åŒ…æ‹¬å‚ç›´æ»šåŠ¨æ¡ã€è¾¹æ¡†å’Œå¤–è¾¹è·ã€‚ document.documentElement.offsetHeightï¼šåŒ…æ‹¬å†…è¾¹è·ã€æ»šåŠ¨æ¡ã€è¾¹æ¡†å’Œå¤–è¾¹è·ã€‚ document.documentElement.scrollHeightï¼šåœ¨ä¸ä½¿ç”¨æ»šåŠ¨æ¡çš„æƒ…å†µä¸‹é€‚åˆè§†å£ä¸­çš„æ‰€æœ‰å†…å®¹æ‰€éœ€çš„æœ€å°å®½åº¦ã€‚æµ‹é‡æ–¹å¼ä¸clientHeightç›¸åŒï¼šå®ƒåŒ…å«å…ƒç´ çš„å†…è¾¹è·ï¼Œä½†ä¸åŒ…æ‹¬è¾¹æ¡†ï¼Œå¤–è¾¹è·æˆ–å‚ç›´æ»šåŠ¨æ¡ã€‚äº”ã€1pxé—®é¢˜ä¸ºäº†é€‚é…å„ç§å±å¹•ï¼Œæˆ‘ä»¬å†™ä»£ç æ—¶ä¸€èˆ¬ä½¿ç”¨è®¾å¤‡ç‹¬ç«‹åƒç´ æ¥å¯¹é¡µé¢è¿›è¡Œå¸ƒå±€ã€‚è€Œåœ¨è®¾å¤‡åƒç´ æ¯”å¤§äº1çš„å±å¹•ä¸Šï¼Œæˆ‘ä»¬å†™çš„1pxå®é™…ä¸Šæ˜¯è¢«å¤šä¸ªç‰©ç†åƒç´ æ¸²æŸ“ï¼Œè¿™å°±ä¼šå‡ºç°1pxåœ¨æœ‰äº›å±å¹•ä¸Šçœ‹èµ·æ¥å¾ˆç²—çš„ç°è±¡ã€‚5.1 border-imageåŸºäºmediaæŸ¥è¯¢åˆ¤æ–­ä¸åŒçš„è®¾å¤‡åƒç´ æ¯”ç»™å®šä¸åŒçš„border-imageï¼š1234567891011.border_1px&#123; border-bottom: 1px solid #000; &#125; @media only screen and (-webkit-min-device-pixel-ratio:2)&#123; .border_1px&#123; border-bottom: none; border-width: 0 0 1px 0; border-image: url(../img/1pxline.png) 0 0 2 0 stretch; &#125; &#125;å¤åˆ¶ä»£ç  5.2 background-imageå’Œborder-imageç±»ä¼¼ï¼Œå‡†å¤‡ä¸€å¼ ç¬¦åˆæ¡ä»¶çš„è¾¹æ¡†èƒŒæ™¯å›¾ï¼Œæ¨¡æ‹Ÿåœ¨èƒŒæ™¯ä¸Šã€‚12345678910.border_1px&#123; border-bottom: 1px solid #000; &#125; @media only screen and (-webkit-min-device-pixel-ratio:2)&#123; .border_1px&#123; background: url(../img/1pxline.png) repeat-x left bottom; background-size: 100% 1px; &#125; &#125;å¤åˆ¶ä»£ç  ä¸Šé¢ä¸¤ç§éƒ½éœ€è¦å•ç‹¬å‡†å¤‡å›¾ç‰‡ï¼Œè€Œä¸”åœ†è§’ä¸æ˜¯å¾ˆå¥½å¤„ç†ï¼Œä½†æ˜¯å¯ä»¥åº”å¯¹å¤§éƒ¨åˆ†åœºæ™¯ã€‚ 5.3 ä¼ªç±» + transformåŸºäºmediaæŸ¥è¯¢åˆ¤æ–­ä¸åŒçš„è®¾å¤‡åƒç´ æ¯”å¯¹çº¿æ¡è¿›è¡Œç¼©æ”¾ï¼š1234567891011121314151617181920.border_1px:before&#123; content: &apos;&apos;; position: absolute; top: 0; height: 1px; width: 100%; background-color: #000; transform-origin: 50% 0%; &#125; @media only screen and (-webkit-min-device-pixel-ratio:2)&#123; .border_1px:before&#123; transform: scaleY(0.5); &#125; &#125; @media only screen and (-webkit-min-device-pixel-ratio:3)&#123; .border_1px:before&#123; transform: scaleY(0.33); &#125; &#125;å¤åˆ¶ä»£ç  è¿™ç§æ–¹å¼å¯ä»¥æ»¡è¶³å„ç§åœºæ™¯ï¼Œå¦‚æœéœ€è¦æ»¡è¶³åœ†è§’ï¼Œåªéœ€è¦ç»™ä¼ªç±»ä¹ŸåŠ ä¸Šborder-radiuså³å¯ã€‚ 5.4 svgä¸Šé¢æˆ‘ä»¬border-imageå’Œbackground-imageéƒ½å¯ä»¥æ¨¡æ‹Ÿ1pxè¾¹æ¡†ï¼Œä½†æ˜¯ä½¿ç”¨çš„éƒ½æ˜¯ä½å›¾ï¼Œè¿˜éœ€è¦å¤–éƒ¨å¼•å…¥ã€‚å€ŸåŠ©PostCSSçš„postcss-write-svgæˆ‘ä»¬èƒ½ç›´æ¥ä½¿ç”¨border-imageå’Œbackground-imageåˆ›å»ºsvgçš„1pxè¾¹æ¡†ï¼š12345678910@svg border_1px &#123; height: 2px; @rect &#123; fill: var(--color, black); width: 100%; height: 50%; &#125; &#125;.example &#123; border: 1px solid transparent; border-image: svg(border_1px param(--color #00b1ff)) 2 2 stretch; &#125;å¤åˆ¶ä»£ç  ç¼–è¯‘åï¼š12.example &#123; border: 1px solid transparent; border-image: url(&quot;data:image/svg+xml;charset=utf-8,%3Csvg xmlns=&apos;http://www.w3.org/2000/svg&apos; height=&apos;2px&apos;%3E%3Crect fill=&apos;%2300b1ff&apos; width=&apos;100%25&apos; height=&apos;50%25&apos;/%3E%3C/svg%3E&quot;) 2 2 stretch; &#125;å¤åˆ¶ä»£ç  ä¸Šé¢çš„æ–¹æ¡ˆæ˜¯å¤§æ¼ åœ¨ä»–çš„æ–‡ç« ä¸­æ¨èä½¿ç”¨çš„ï¼ŒåŸºæœ¬å¯ä»¥æ»¡è¶³æ‰€æœ‰åœºæ™¯ï¼Œè€Œä¸”ä¸éœ€è¦å¤–éƒ¨å¼•å…¥ï¼Œè¿™æ˜¯æˆ‘ä¸ªäººæ¯”è¾ƒå–œæ¬¢çš„ä¸€ç§æ–¹æ¡ˆã€‚ 5.5 è®¾ç½®viewporté€šè¿‡è®¾ç½®ç¼©æ”¾ï¼Œè®©CSSåƒç´ ç­‰äºçœŸæ­£çš„ç‰©ç†åƒç´ ã€‚ä¾‹å¦‚ï¼šå½“è®¾å¤‡åƒç´ æ¯”ä¸º3æ—¶ï¼Œæˆ‘ä»¬å°†é¡µé¢ç¼©æ”¾1/3å€ï¼Œè¿™æ—¶1pxç­‰äºä¸€ä¸ªçœŸæ­£çš„å±å¹•åƒç´ ã€‚123456789const scale = 1 / window.devicePixelRatio; const viewport = document.querySelector(&apos;meta[name=&quot;viewport&quot;]&apos;); if (!viewport) &#123; viewport = document.createElement(&apos;meta&apos;); viewport.setAttribute(&apos;name&apos;, &apos;viewport&apos;); window.document.head.appendChild(viewport); &#125; viewport.setAttribute(&apos;content&apos;, &apos;width=device-width,user-scalable=no,initial-scale=&apos; + scale + &apos;,maximum-scale=&apos; + scale + &apos;,minimum-scale=&apos; + scale);å¤åˆ¶ä»£ç  å®é™…ä¸Šï¼Œä¸Šé¢è¿™ç§æ–¹æ¡ˆæ˜¯æ—©å…ˆflexibleé‡‡ç”¨çš„æ–¹æ¡ˆã€‚å½“ç„¶ï¼Œè¿™æ ·åšæ˜¯è¦ä»˜å‡ºä»£ä»·çš„ï¼Œè¿™æ„å‘³ç€ä½ é¡µé¢ä¸Šæ‰€æœ‰çš„å¸ƒå±€éƒ½è¦æŒ‰ç…§ç‰©ç†åƒç´ æ¥å†™ã€‚è¿™æ˜¾ç„¶æ˜¯ä¸ç°å®çš„ï¼Œè¿™æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©flexibleæˆ–vwã€vhæ¥å¸®åŠ©æˆ‘ä»¬è¿›è¡Œé€‚é…ã€‚ å…­ã€ç§»åŠ¨ç«¯é€‚é…æ–¹æ¡ˆå°½ç®¡æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è®¾å¤‡ç‹¬ç«‹åƒç´ æ¥ä¿è¯å„ä¸ªè®¾å¤‡åœ¨ä¸åŒæ‰‹æœºä¸Šæ˜¾ç¤ºçš„æ•ˆæœç±»ä¼¼ï¼Œä½†è¿™å¹¶ä¸èƒ½ä¿è¯å®ƒä»¬æ˜¾ç¤ºå®Œå…¨ä¸€è‡´ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§æ–¹æ¡ˆæ¥è®©è®¾è®¡ç¨¿å¾—åˆ°æ›´å®Œç¾çš„é€‚é…ã€‚ 6.1 flexibleæ–¹æ¡ˆflexibleæ–¹æ¡ˆæ˜¯é˜¿é‡Œæ—©æœŸå¼€æºçš„ä¸€ä¸ªç§»åŠ¨ç«¯é€‚é…è§£å†³æ–¹æ¡ˆï¼Œå¼•ç”¨flexibleåï¼Œæˆ‘ä»¬åœ¨é¡µé¢ä¸Šç»Ÿä¸€ä½¿ç”¨remæ¥å¸ƒå±€ã€‚å®ƒçš„æ ¸å¿ƒä»£ç éå¸¸ç®€å•ï¼š1234567// set 1rem = viewWidth / 10function setRemUnit () &#123; var rem = docEl.clientWidth / 10 docEl.style.fontSize = rem + &apos;px&apos;&#125;setRemUnit();å¤åˆ¶ä»£ç  rem æ˜¯ç›¸å¯¹äºhtmlèŠ‚ç‚¹çš„font-sizeæ¥åšè®¡ç®—çš„ã€‚æˆ‘ä»¬é€šè¿‡è®¾ç½®document.documentElement.style.fontSizeå°±å¯ä»¥ç»Ÿä¸€æ•´ä¸ªé¡µé¢çš„å¸ƒå±€æ ‡å‡†ã€‚ä¸Šé¢çš„ä»£ç ä¸­ï¼Œå°†htmlèŠ‚ç‚¹çš„font-sizeè®¾ç½®ä¸ºé¡µé¢clientWidth(å¸ƒå±€è§†å£)çš„1/10ï¼Œå³1remå°±ç­‰äºé¡µé¢å¸ƒå±€è§†å£çš„1/10ï¼Œè¿™å°±æ„å‘³ç€æˆ‘ä»¬åé¢ä½¿ç”¨çš„reméƒ½æ˜¯æŒ‰ç…§é¡µé¢æ¯”ä¾‹æ¥è®¡ç®—çš„ã€‚è¿™æ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦å°†UIå‡ºçš„å›¾è½¬æ¢ä¸ºremå³å¯ã€‚ä»¥iPhone6ä¸ºä¾‹ï¼šå¸ƒå±€è§†å£ä¸º375pxï¼Œåˆ™1rem = 37.5pxï¼Œè¿™æ—¶UIç»™å®šä¸€ä¸ªå…ƒç´ çš„å®½ä¸º75pxï¼ˆè®¾å¤‡ç‹¬ç«‹åƒç´ ï¼‰ï¼Œæˆ‘ä»¬åªéœ€è¦å°†å®ƒè®¾ç½®ä¸º75 / 37.5 = 2remã€‚å½“ç„¶ï¼Œæ¯ä¸ªå¸ƒå±€éƒ½è¦è®¡ç®—éå¸¸ç¹çï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©PostCSSçš„px2remæ’ä»¶æ¥å¸®åŠ©æˆ‘ä»¬å®Œæˆè¿™ä¸ªè¿‡ç¨‹ã€‚ä¸‹é¢çš„ä»£ç å¯ä»¥ä¿è¯åœ¨é¡µé¢å¤§å°å˜åŒ–æ—¶ï¼Œå¸ƒå±€å¯ä»¥è‡ªé€‚åº”ï¼Œå½“è§¦å‘äº†windowçš„resizeå’ŒpageShowäº‹ä»¶ä¹‹åè‡ªåŠ¨è°ƒæ•´htmlçš„fontSizeå¤§å°ã€‚1234567// reset rem unit on page resizewindow.addEventListener(&apos;resize&apos;, setRemUnit)window.addEventListener(&apos;pageshow&apos;, function (e) &#123; if (e.persisted) &#123; setRemUnit() &#125;&#125;)å¤åˆ¶ä»£ç  ç”±äºviewportå•ä½å¾—åˆ°ä¼—å¤šæµè§ˆå™¨çš„å…¼å®¹ï¼Œä¸Šé¢è¿™ç§æ–¹æ¡ˆç°åœ¨å·²ç»è¢«å®˜æ–¹å¼ƒç”¨ï¼š lib-flexibleè¿™ä¸ªè¿‡æ¸¡æ–¹æ¡ˆå·²ç»å¯ä»¥æ”¾å¼ƒä½¿ç”¨ï¼Œä¸ç®¡æ˜¯ç°åœ¨çš„ç‰ˆæœ¬è¿˜æ˜¯ä»¥å‰çš„ç‰ˆæœ¬ï¼Œéƒ½å­˜æœ‰ä¸€å®šçš„é—®é¢˜ã€‚å»ºè®®å¤§å®¶å¼€å§‹ä½¿ç”¨viewportæ¥æ›¿ä»£æ­¤æ–¹æ¡ˆã€‚ ä¸‹é¢æˆ‘ä»¬æ¥çœ‹çœ‹ç°åœ¨æœ€æµè¡Œçš„vhã€vwæ–¹æ¡ˆã€‚ 6.2 vhã€vwæ–¹æ¡ˆvhã€vwæ–¹æ¡ˆå³å°†è§†è§‰è§†å£å®½åº¦ window.innerWidthå’Œè§†è§‰è§†å£é«˜åº¦ window.innerHeight ç­‰åˆ†ä¸º 100 ä»½ã€‚ä¸Šé¢çš„flexibleæ–¹æ¡ˆå°±æ˜¯æ¨¡ä»¿è¿™ç§æ–¹æ¡ˆï¼Œå› ä¸ºæ—©äº›æ—¶å€™vwè¿˜æ²¡æœ‰å¾—åˆ°å¾ˆå¥½çš„å…¼å®¹ã€‚ vw(Viewport&#39;s width)ï¼š1vwç­‰äºè§†è§‰è§†å£çš„1% vh(Viewport&#39;s height) :1vh ä¸ºè§†è§‰è§†å£é«˜åº¦çš„1% vmin : vw å’Œ vh ä¸­çš„è¾ƒå°å€¼ vmax : é€‰å– vw å’Œ vh ä¸­çš„è¾ƒå¤§å€¼ å¦‚æœè§†è§‰è§†å£ä¸º375pxï¼Œé‚£ä¹ˆ1vw = 3.75pxï¼Œè¿™æ—¶UIç»™å®šä¸€ä¸ªå…ƒç´ çš„å®½ä¸º75pxï¼ˆè®¾å¤‡ç‹¬ç«‹åƒç´ ï¼‰ï¼Œæˆ‘ä»¬åªéœ€è¦å°†å®ƒè®¾ç½®ä¸º75 / 3.75 = 20vwã€‚è¿™é‡Œçš„æ¯”ä¾‹å…³ç³»æˆ‘ä»¬ä¹Ÿä¸ç”¨è‡ªå·±æ¢ç®—ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨PostCSSçš„ postcss-px-to-viewport æ’ä»¶å¸®æˆ‘ä»¬å®Œæˆè¿™ä¸ªè¿‡ç¨‹ã€‚å†™ä»£ç æ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦æ ¹æ®UIç»™çš„è®¾è®¡å›¾å†™pxå•ä½å³å¯ã€‚å½“ç„¶ï¼Œæ²¡æœ‰ä¸€ç§æ–¹æ¡ˆæ˜¯åå…¨åç¾çš„ï¼ŒvwåŒæ ·æœ‰ä¸€å®šçš„ç¼ºé™·ï¼š pxè½¬æ¢æˆvwä¸ä¸€å®šèƒ½å®Œå…¨æ•´é™¤ï¼Œå› æ­¤æœ‰ä¸€å®šçš„åƒç´ å·®ã€‚ æ¯”å¦‚å½“å®¹å™¨ä½¿ç”¨vwï¼Œmarginé‡‡ç”¨pxæ—¶ï¼Œå¾ˆå®¹æ˜“é€ æˆæ•´ä½“å®½åº¦è¶…è¿‡100vwï¼Œä»è€Œå½±å“å¸ƒå±€æ•ˆæœã€‚å½“ç„¶æˆ‘ä»¬ä¹Ÿæ˜¯å¯ä»¥é¿å…çš„ï¼Œä¾‹å¦‚ä½¿ç”¨paddingä»£æ›¿marginï¼Œç»“åˆcalc()å‡½æ•°ä½¿ç”¨ç­‰ç­‰â€¦ ä¸ƒã€é€‚é…iPhoneXiPhoneXçš„å‡ºç°å°†æ‰‹æœºçš„é¢œå€¼å¸¦ä¸Šäº†ä¸€ä¸ªæ–°çš„é«˜åº¦ï¼Œå®ƒå–æ¶ˆäº†ç‰©ç†æŒ‰é”®ï¼Œæ”¹æˆäº†åº•éƒ¨çš„å°é»‘æ¡ï¼Œä½†æ˜¯è¿™æ ·çš„æ”¹åŠ¨ç»™å¼€å‘è€…é€‚é…ç§»åŠ¨ç«¯åˆå¢åŠ äº†éš¾åº¦ã€‚ 7.1 å®‰å…¨åŒºåŸŸåœ¨iPhoneXå‘å¸ƒåï¼Œè®¸å¤šå‚å•†ç›¸ç»§æ¨å‡ºäº†å…·æœ‰è¾¹ç¼˜å±å¹•çš„æ‰‹æœºã€‚è¿™äº›æ‰‹æœºå’Œæ™®é€šæ‰‹æœºåœ¨å¤–è§‚ä¸Šæ— å¤–ä¹åšäº†ä¸‰ä¸ªæ”¹åŠ¨ï¼šåœ†è§’ï¼ˆcornersï¼‰ã€åˆ˜æµ·ï¼ˆsensor housingï¼‰å’Œå°é»‘æ¡ï¼ˆHome Indicatorï¼‰ã€‚ä¸ºäº†é€‚é…è¿™äº›æ‰‹æœºï¼Œå®‰å…¨åŒºåŸŸè¿™ä¸ªæ¦‚å¿µå˜è¯ç”Ÿäº†ï¼šå®‰å…¨åŒºåŸŸå°±æ˜¯ä¸€ä¸ªä¸å—ä¸Šé¢ä¸‰ä¸ªæ•ˆæœçš„å¯è§†çª—å£èŒƒå›´ã€‚ä¸ºäº†ä¿è¯é¡µé¢çš„æ˜¾ç¤ºæ•ˆæœï¼Œæˆ‘ä»¬å¿…é¡»æŠŠé¡µé¢é™åˆ¶åœ¨å®‰å…¨èŒƒå›´å†…ï¼Œä½†æ˜¯ä¸å½±å“æ•´ä½“æ•ˆæœã€‚ 7.2 viewport-fitviewport-fitæ˜¯ä¸“é—¨ä¸ºäº†é€‚é…iPhoneXè€Œè¯ç”Ÿçš„ä¸€ä¸ªå±æ€§ï¼Œå®ƒç”¨äºé™åˆ¶ç½‘é¡µå¦‚ä½•åœ¨å®‰å…¨åŒºåŸŸå†…è¿›è¡Œå±•ç¤ºã€‚contain: å¯è§†çª—å£å®Œå…¨åŒ…å«ç½‘é¡µå†…å®¹coverï¼šç½‘é¡µå†…å®¹å®Œå…¨è¦†ç›–å¯è§†çª—å£é»˜è®¤æƒ…å†µä¸‹æˆ–è€…è®¾ç½®ä¸ºautoå’Œcontainæ•ˆæœç›¸åŒã€‚ 7.3 envã€constantæˆ‘ä»¬éœ€è¦å°†é¡¶éƒ¨å’Œåº•éƒ¨åˆç†çš„æ‘†æ”¾åœ¨å®‰å…¨åŒºåŸŸå†…ï¼ŒiOS11æ–°å¢äº†ä¸¤ä¸ªCSSå‡½æ•°envã€constantï¼Œç”¨äºè®¾å®šå®‰å…¨åŒºåŸŸä¸è¾¹ç•Œçš„è·ç¦»ã€‚å‡½æ•°å†…éƒ¨å¯ä»¥æ˜¯å››ä¸ªå¸¸é‡ï¼š safe-area-inset-leftï¼šå®‰å…¨åŒºåŸŸè·ç¦»å·¦è¾¹è¾¹ç•Œè·ç¦» safe-area-inset-rightï¼šå®‰å…¨åŒºåŸŸè·ç¦»å³è¾¹è¾¹ç•Œè·ç¦» safe-area-inset-topï¼šå®‰å…¨åŒºåŸŸè·ç¦»é¡¶éƒ¨è¾¹ç•Œè·ç¦» safe-area-inset-bottomï¼šå®‰å…¨åŒºåŸŸè·ç¦»åº•éƒ¨è¾¹ç•Œè·ç¦» æ³¨æ„ï¼šæˆ‘ä»¬å¿…é¡»æŒ‡å®šviweport-fitåæ‰èƒ½ä½¿ç”¨è¿™ä¸¤ä¸ªå‡½æ•°ï¼š12&lt;meta name=&quot;viewport&quot; content=&quot;viewport-fit=cover&quot;&gt;å¤åˆ¶ä»£ç  constantåœ¨iOS &lt; 11.2çš„ç‰ˆæœ¬ä¸­ç”Ÿæ•ˆï¼Œenvåœ¨iOS &gt;= 11.2çš„ç‰ˆæœ¬ä¸­ç”Ÿæ•ˆï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å¾€å¾€è¦åŒæ—¶è®¾ç½®ä»–ä»¬ï¼Œå°†é¡µé¢é™åˆ¶åœ¨å®‰å…¨åŒºåŸŸå†…ï¼š12345body &#123; padding-bottom: constant(safe-area-inset-bottom); padding-bottom: env(safe-area-inset-bottom);&#125;å¤åˆ¶ä»£ç  å½“ä½¿ç”¨åº•éƒ¨å›ºå®šå¯¼èˆªæ æ—¶ï¼Œæˆ‘ä»¬è¦ä¸ºä»–ä»¬è®¾ç½®paddingå€¼ï¼š12345&#123; padding-bottom: constant(safe-area-inset-bottom); padding-bottom: env(safe-area-inset-bottom);&#125;å¤åˆ¶ä»£ç  å…«ã€æ¨ªå±é€‚é…å¾ˆå¤šè§†å£æˆ‘ä»¬è¦å¯¹æ¨ªå±å’Œç«–å±æ˜¾ç¤ºä¸åŒçš„å¸ƒå±€ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æ£€æµ‹åœ¨ä¸åŒçš„åœºæ™¯ä¸‹ç»™å®šä¸åŒçš„æ ·å¼ï¼š 8.1 JavaScriptæ£€æµ‹æ¨ªå±window.orientation:è·å–å±å¹•æ—‹è½¬æ–¹å‘1234567891011window.addEventListener(&quot;resize&quot;, ()=&gt;&#123; if (window.orientation === 180 || window.orientation === 0) &#123; // æ­£å¸¸æ–¹å‘æˆ–å±å¹•æ—‹è½¬180åº¦ console.log(&apos;ç«–å±&apos;); &#125;; if (window.orientation === 90 || window.orientation === -90 )&#123; // å±å¹•é¡ºæ—¶é’Ÿæ—‹è½¬90åº¦æˆ–å±å¹•é€†æ—¶é’ˆæ—‹è½¬90åº¦ console.log(&apos;æ¨ªå±&apos;); &#125;&#125;);å¤åˆ¶ä»£ç  8.2 CSSæ£€æµ‹æ¨ªå±1234567@media screen and (orientation: portrait) &#123; /*ç«–å±...*/&#125;@media screen and (orientation: landscape) &#123; /*æ¨ªå±...*/&#125;å¤åˆ¶ä»£ç  ä¹ã€å›¾ç‰‡æ¨¡ç³Šé—®é¢˜ 9.1 äº§ç”ŸåŸå› æˆ‘ä»¬å¹³æ—¶ä½¿ç”¨çš„å›¾ç‰‡å¤§å¤šæ•°éƒ½å±äºä½å›¾ï¼ˆpngã€jpg...ï¼‰ï¼Œä½å›¾ç”±ä¸€ä¸ªä¸ªåƒç´ ç‚¹æ„æˆçš„ï¼Œæ¯ä¸ªåƒç´ éƒ½å…·æœ‰ç‰¹å®šçš„ä½ç½®å’Œé¢œè‰²å€¼ï¼šç†è®ºä¸Šï¼Œä½å›¾çš„æ¯ä¸ªåƒç´ å¯¹åº”åœ¨å±å¹•ä¸Šä½¿ç”¨ä¸€ä¸ªç‰©ç†åƒç´ æ¥æ¸²æŸ“ï¼Œæ‰èƒ½è¾¾åˆ°æœ€ä½³çš„æ˜¾ç¤ºæ•ˆæœã€‚è€Œåœ¨dpr &gt; 1çš„å±å¹•ä¸Šï¼Œä½å›¾çš„ä¸€ä¸ªåƒç´ å¯èƒ½ç”±å¤šä¸ªç‰©ç†åƒç´ æ¥æ¸²æŸ“ï¼Œç„¶è€Œè¿™äº›ç‰©ç†åƒç´ ç‚¹å¹¶ä¸èƒ½è¢«å‡†ç¡®çš„åˆ†é…ä¸Šå¯¹åº”ä½å›¾åƒç´ çš„é¢œè‰²ï¼Œåªèƒ½å–è¿‘ä¼¼å€¼ï¼Œæ‰€ä»¥ç›¸åŒçš„å›¾ç‰‡åœ¨dpr &gt; 1çš„å±å¹•ä¸Šå°±ä¼šæ¨¡ç³Š: 9.2 è§£å†³æ–¹æ¡ˆä¸ºäº†ä¿è¯å›¾ç‰‡è´¨é‡ï¼Œæˆ‘ä»¬åº”è¯¥å°½å¯èƒ½è®©ä¸€ä¸ªå±å¹•åƒç´ æ¥æ¸²æŸ“ä¸€ä¸ªå›¾ç‰‡åƒç´ ï¼Œæ‰€ä»¥ï¼Œé’ˆå¯¹ä¸åŒDPRçš„å±å¹•ï¼Œæˆ‘ä»¬éœ€è¦å±•ç¤ºä¸åŒåˆ†è¾¨ç‡çš„å›¾ç‰‡ã€‚å¦‚ï¼šåœ¨dpr=2çš„å±å¹•ä¸Šå±•ç¤ºä¸¤å€å›¾(@2x)ï¼Œåœ¨dpr=3çš„å±å¹•ä¸Šå±•ç¤ºä¸‰å€å›¾(@3x)ã€‚ 9.3 mediaæŸ¥è¯¢ä½¿ç”¨mediaæŸ¥è¯¢åˆ¤æ–­ä¸åŒçš„è®¾å¤‡åƒç´ æ¯”æ¥æ˜¾ç¤ºä¸åŒç²¾åº¦çš„å›¾ç‰‡ï¼š1234567891011121314.avatar&#123; background-image: url(conardLi_1x.png); &#125; @media only screen and (-webkit-min-device-pixel-ratio:2)&#123; .avatar&#123; background-image: url(conardLi_2x.png); &#125; &#125; @media only screen and (-webkit-min-device-pixel-ratio:3)&#123; .avatar&#123; background-image: url(conardLi_3x.png); &#125; &#125;å¤åˆ¶ä»£ç  åªé€‚ç”¨äºèƒŒæ™¯å›¾ 9.4 image-setä½¿ç”¨image-setï¼š1234.avatar &#123; background-image: -webkit-image-set( &quot;conardLi_1x.png&quot; 1x, &quot;conardLi_2x.png&quot; 2x );&#125;å¤åˆ¶ä»£ç  åªé€‚ç”¨äºèƒŒæ™¯å›¾ 9.5 srcsetä½¿ç”¨imgæ ‡ç­¾çš„srcsetå±æ€§ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨æ ¹æ®åƒç´ å¯†åº¦åŒ¹é…æœ€ä½³æ˜¾ç¤ºå›¾ç‰‡ï¼š123&lt;img src=&quot;conardLi_1x.png&quot; srcset=&quot; conardLi_2x.png 2x, conardLi_3x.png 3x&quot;&gt;å¤åˆ¶ä»£ç  9.6 JavaScriptæ‹¼æ¥å›¾ç‰‡urlä½¿ç”¨window.devicePixelRatioè·å–è®¾å¤‡åƒç´ æ¯”ï¼Œéå†æ‰€æœ‰å›¾ç‰‡ï¼Œæ›¿æ¢å›¾ç‰‡åœ°å€ï¼š123456const dpr = window.devicePixelRatio;const images = document.querySelectorAll(&apos;img&apos;);images.forEach((img)=&gt;&#123; img.src.replace(&quot;.&quot;, `@$&#123;dpr&#125;x.`);&#125;)å¤åˆ¶ä»£ç  9.7 ä½¿ç”¨svgSVGçš„å…¨ç§°æ˜¯å¯ç¼©æ”¾çŸ¢é‡å›¾ï¼ˆScalable Vector Graphicsï¼‰ã€‚ä¸åŒäºä½å›¾çš„åŸºäºåƒç´ ï¼ŒSVG åˆ™æ˜¯å±äºå¯¹å›¾åƒçš„å½¢çŠ¶æè¿°ï¼Œæ‰€ä»¥å®ƒæœ¬è´¨ä¸Šæ˜¯æ–‡æœ¬æ–‡ä»¶ï¼Œä½“ç§¯è¾ƒå°ï¼Œä¸”ä¸ç®¡æ”¾å¤§å¤šå°‘å€éƒ½ä¸ä¼šå¤±çœŸã€‚é™¤äº†æˆ‘ä»¬æ‰‹åŠ¨åœ¨ä»£ç ä¸­ç»˜åˆ¶svgï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åƒä½¿ç”¨ä½å›¾ä¸€æ ·ä½¿ç”¨svgå›¾ç‰‡ï¼š123456&lt;img src=&quot;conardLi.svg&quot;&gt;&lt;img src=&quot;data:image/svg+xml;base64,[data]&quot;&gt;.avatar &#123; background: url(conardLi.svg);&#125;å¤åˆ¶ä»£ç  å‚è€ƒ 99designs.com/blog/tips/pâ€¦ www.w3cplus.com/css/vw-for-â€¦ aotu.io/notes/2017/â€¦ åˆ†è¾¨ç‡å°ç§‘æ™® å°ç»“å¸Œæœ›ä½ é˜…è¯»æœ¬ç¯‡æ–‡ç« åå¯ä»¥è¾¾åˆ°ä»¥ä¸‹å‡ ç‚¹ï¼š ç†æ¸…ç§»åŠ¨ç«¯é€‚é…å¸¸ç”¨æ¦‚å¿µ ç†è§£ç§»åŠ¨ç«¯é€‚é…é—®é¢˜äº§ç”Ÿçš„åŸç†ï¼Œè‡³å°‘æŒæ¡ä¸€ç§è§£å†³æ–¹æ¡ˆ]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>å¸ƒå±€</tag>
        <tag>æŠ€å·§</tag>
        <tag>è½¬è½½</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç½‘ç«™æ€§èƒ½ä¼˜åŒ–]]></title>
    <url>%2Fposts%2F41624%2F</url>
    <content type="text"><![CDATA[å…³é”®æ¸²æŸ“è·¯å¾„Whatå…³é”®æ¸²æŸ“è·¯å¾„ï¼ˆCritical Rendering Pathï¼‰æŒ‡çš„æ˜¯ï¼šã€Œæµè§ˆå™¨æ‰€ç»å†çš„ä¸€ç³»åˆ—æ­¥éª¤ï¼Œä»è€Œå°† HTMLã€CSS å’Œ JavaScript è½¬æ¢ä¸ºåœ¨å±å¹•ä¸Šå‘ˆç°çš„åƒç´ å†…å®¹ã€æˆ‘ä»¬è¦åšçš„ï¼Œå°±æ˜¯ä¼˜åŒ–å…³é”®æ¸²æŸ“è·¯å¾„ï¼Œè¿™æ ·å°±èƒ½æé«˜ç½‘é¡µå‘ˆç°çš„é€Ÿåº¦ï¼Œä»è€Œä½¿ç”¨æˆ·å’Œè€æ¿æ›´æ»¡æ„ã€‚ ç½‘é¡µç”Ÿæˆè¿‡ç¨‹è¯´ç™½äº†ï¼Œã€Œå…³é”®æ¸²æŸ“è·¯å¾„ã€å³ã€Œç½‘é¡µç”Ÿæˆçš„è¿‡ç¨‹ã€ï¼Œç®€è¦æ¦‚è¿°å°±æ˜¯ï¼š å¤„ç† HTML æ ‡è®°å¹¶æ„å»º DOM æ ‘ å¤„ç† CSS æ ‡è®°å¹¶æ„å»º CSSOM æ ‘ å°† DOM ä¸ CSSOM åˆå¹¶æˆä¸€ä¸ªæ¸²æŸ“æ ‘ æ ¹æ®æ¸²æŸ“æ ‘æ¥å¸ƒå±€ï¼Œä»¥è®¡ç®—æ¯ä¸ªèŠ‚ç‚¹çš„å‡ ä½•ä¿¡æ¯ å°†å„ä¸ªèŠ‚ç‚¹ç»˜åˆ¶åˆ°å±å¹•ä¸Š å°† HTML è½¬ä¸º DOMæ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼ˆDOMï¼‰å­˜å‚¨çš„æ˜¯ã€Œé¡µé¢å†…å®¹ã€åŠæ¯ä¸ªèŠ‚ç‚¹ã€Œå±æ€§æ–¹é¢çš„æ•°æ®ã€ã€‚DOM ä¸­å¯¹è±¡ä¹‹é—´çš„å…³ç³»å±•ç¤ºäº†çˆ¶å­èŠ‚ç‚¹ä»¥åŠå…„å¼ŸèŠ‚ç‚¹ã€‚ æ³¨æ„ï¼šDOM çš„æ„å»ºè¿‡ç¨‹æ˜¯é€æ­¥å®ç°çš„ï¼Œæ„å‘³ç€ä¸€æ—¦è·å¾—äº† HTML å°±å¯ä»¥å¼€å§‹æ„å»º DOM äº†ï¼Œä¸éœ€è¦ç­‰å¾…æ•´ä¸ª HTML é¡µé¢åŠ è½½å®Œæ¯•åå†å»æ„å»º DOM ã€‚ å°† CSS è½¬ä¸º CSSOM åˆå¹¶æ¸²æŸ“æ ‘å®Œæˆäº† DOM æ ‘å’Œ CSSOM æ ‘çš„æ„å»ºä»¥åï¼Œå°±è¦å°†å®ƒä»¬åˆå¹¶æˆä¸€ä¸ªæ¸²æŸ“æ ‘ã€‚ æ³¨æ„ï¼šæŸäº›èŠ‚ç‚¹å¦‚æœé€šè¿‡ CSS éšè—ï¼Œé‚£ä¹ˆåœ¨æ¸²æŸ“æ ‘ä¸­ä¹Ÿä¼šè¢«å¿½ç•¥ï¼Œä¾‹å¦‚æˆ‘ä»¬åœ¨ HTML ä¸­ç¼–å†™çš„ span èŠ‚ç‚¹ï¼Œå®ƒå°±ä¸ä¼šå‡ºç°åœ¨æ¸²æŸ“æ ‘ä¸­ã€‚å› ä¸ºæœ‰ä¸€ä¸ª CSS è§„åˆ™åœ¨ span ä¸Šè®¾ç½®äº† display: none å±æ€§ã€‚ å¸ƒå±€ä¸ç»˜åˆ¶åœ¨æ¸²æŸ“æ ‘æ„å»ºé˜¶æ®µï¼Œæˆ‘ä»¬å·²ç»è®¡ç®—äº†å“ªäº›èŠ‚ç‚¹åº”è¯¥æ˜¯å¯è§çš„ä»¥åŠå®ƒä»¬çš„è®¡ç®—æ ·å¼ï¼Œæ‰€ä»¥åœ¨å¸ƒå±€é˜¶æ®µï¼Œæˆ‘ä»¬å°±éœ€è¦è®¡ç®—å®ƒä»¬åœ¨è®¾å¤‡è§†å£å†…çš„ç¡®åˆ‡ä½ç½®å’Œå¤§å°ã€‚è¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºå¸ƒå±€ï¼Œæˆ–è€…å«åšé‡æ’ã€‚ æœ€åï¼Œæ—¢ç„¶æˆ‘ä»¬çŸ¥é“äº†å“ªäº›èŠ‚ç‚¹å¯è§ã€å®ƒä»¬çš„è®¡ç®—æ ·å¼ä»¥åŠå‡ ä½•ä¿¡æ¯ï¼Œæˆ‘ä»¬ç»ˆäºå¯ä»¥å°†è¿™äº›ä¿¡æ¯ä¼ é€’ç»™æœ€åä¸€ä¸ªé˜¶æ®µï¼šå°†æ¸²æŸ“æ ‘ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹è½¬æ¢æˆå±å¹•ä¸Šçš„å®é™…åƒç´ ã€‚è¿™ä¸€æ­¥é€šå¸¸ç§°ä¸ºâ€œç»˜åˆ¶â€æˆ–â€œæ …æ ¼åŒ–â€ã€‚åˆ°æ­¤ï¼Œæµè§ˆå™¨å¯¹ç½‘é¡µçš„ç¬¬ä¸€æ¬¡ç”Ÿæˆè¿‡ç¨‹å·²ç»ç»“æŸã€‚ è€Œæˆ‘ä»¬çš„å‰ç«¯ç½‘ç«™æ€§èƒ½ä¼˜åŒ–ï¼Œä¹Ÿå°±æ˜¯é’ˆå¯¹æ•´ä¸ªã€Œå…³é”®æ¸²æŸ“è·¯å¾„ã€è€Œè¨€çš„ã€‚åªæœ‰æœ€å¤§é™åº¦çš„ç¼©çŸ­ä¸Šé¢ç¬¬ 1 è‡³ 5 æ­¥è€—è´¹çš„æ€»æ—¶é—´ï¼Œæ‰èƒ½å°½å¿«çš„å°†å†…å®¹æ¸²æŸ“åˆ°å±å¹•ä¸Šï¼Œæ­¤å¤–è¿˜èƒ½ç¼©çŸ­é¦–å±çš„åŠ è½½æ—¶é—´ã€‚ ç½‘é¡µåŠ è½½çš„ä¼˜åŒ–ä¼˜åŒ–DOMå‹ç¼©+åˆ é™¤æ³¨é‡Šä¸ºäº†å°† HTML æ–‡ä»¶å°½å¯èƒ½å¿«çš„ä¼ è¾“ç»™æµè§ˆå™¨ï¼ˆå®¢æˆ·ç«¯ï¼‰ï¼Œæˆ‘ä»¬éœ€è¦å‹ç¼©æ–‡ä»¶çš„å¤§å°ï¼Œä¾‹å¦‚ä¸‹é¢htmlæ–‡ä»¶ï¼š 123456789101112131415161718&lt;html&gt;&lt;head&gt; &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt; &lt;title&gt;Document&lt;/title&gt; &lt;style&gt; /* reset */ * &#123; padding: 0; margin: 0; list-style: none; &#125; &lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;!-- å¤´éƒ¨ --&gt; &lt;header&gt;...&lt;/header&gt; &lt;!-- æ­£æ–‡ --&gt; &lt;main&gt;...&lt;/main&gt; &lt;!-- åº•éƒ¨ --&gt; &lt;footer&gt;...&lt;/footer&gt;&lt;/body&gt;&lt;/html&gt; è¿™æ®µä»£ç åŒ…å«äº†éå¸¸å¤šçš„æ³¨é‡Šï¼Œè¿™äº›æ³¨é‡Šå¯¹å¼€å‘è€…æ¥è¯´å¯èƒ½æœ‰ç”¨ï¼Œç„¶è€Œæµè§ˆå™¨åœ¨é‡åˆ°æ³¨é‡Šæ—¶å´ä¼šå¿½ç•¥å®ƒä»¬çš„ï¼Œæ‰€ä»¥æ ¹æœ¬æ²¡å¿…è¦å±•ç¤ºç»™æµè§ˆå™¨ï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥ç§»é™¤å®ƒä»¬ã€‚å¦å¤–ç©ºæ ¼å’Œæ¢è¡Œä¹Ÿæ˜¯ä¸ªå¤§é—®é¢˜ï¼Œå®ƒä¼šå¢åŠ æˆ‘ä»¬æ–‡ä»¶çš„ä½“ç§¯ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åˆ©ç”¨ä¸€äº›å·¥å…·å»å‹ç¼©å®ƒã€‚ ä¸Šå›¾æ˜¯åœ¨åˆ é™¤æ‰æ‰€æœ‰æ³¨é‡Šï¼Œå¹¶ä½¿ç”¨ åœ¨çº¿JSå‹ç¼©å·¥å…· å‹ç¼©åçš„æ–‡ä»¶å¤§å°å¯¹æ¯”ã€‚å½“ç„¶ï¼Œè¿™ç§ç­–ç•¥åŒæ ·é€‚ç”¨äº CSS æ–‡ä»¶ï¼Œä½ å¯ä»¥ä½¿ç”¨ç±»ä¼¼çš„æ­¥éª¤å¯¹ CSS è¿›è¡Œæ³¨é‡Šçš„åˆ é™¤ä¸å‹ç¼©ã€‚ å¦‚æœä½ ä½¿ç”¨ webpack æ„å»ºä½ çš„åº”ç”¨ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸‹é¢æ’ä»¶æ¥ä¼˜åŒ–htmlã€csså’Œjsï¼š optimize-css-assets-webpack-pluginï¼ˆä¼˜åŒ–cssï¼‰ html-webpack-pluginï¼ˆé…ç½®ä¸ä¼˜åŒ–htmlï¼‰ webpack-parallel-uglify-pluginï¼ˆä¼˜åŒ–jsï¼‰ ä¼˜åŒ– CSSOMCSS åœ¨é»˜è®¤æƒ…å†µä¸‹æ˜¯é˜»å¡æ¸²æŸ“çš„ä¸€ç±»èµ„æºï¼Œä¹Ÿå°±æ˜¯è¯´æµè§ˆå™¨åœ¨ CSSOM æ„å»ºå®Œæˆä»¥å‰æ˜¯ä¸ä¼šæ¸²æŸ“ä»»ä½•å·²å¤„ç†çš„å†…å®¹çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¿…é¡»å¯¹ CSS è¿›è¡Œç²¾ç®€ã€‚ç”±äºæµè§ˆå™¨å¿…é¡»åŒæ—¶å…·æœ‰ DOM ä»¥åŠ CSSOM æ‰èƒ½æ„å»ºæ¸²æŸ“æ ‘ï¼Œæ‰€ä»¥ HTML å’Œ CSS éƒ½æ˜¯é˜»å¡æ¸²æŸ“çš„èµ„æºã€‚åˆšæ‰å·²ç»é’ˆå¯¹ HTML è¿›è¡Œäº†ä¼˜åŒ–ï¼Œç°åœ¨è¯¥è½®åˆ° CSS äº†ã€‚ å‹ç¼©+åˆ é™¤æ³¨é‡Šè¿™ä¸€ç‚¹ä¸å¤šèµ˜è¿°ï¼Œå‚è€ƒä¸Šé¢htmlçš„ä¼˜åŒ–æ­¥éª¤ã€‚ å†…è” CSSå¦‚æœä½ çš„ css æ–‡ä»¶å¾ˆå°ï¼Œå°åˆ°ä»…æœ‰å‡ åç”šè‡³å‡ KBï¼Œé‚£ä¹ˆä½ å®Œå…¨å¯ä»¥å°† css å†…è”è¿› html ï¼Œå› ä¸ºç›¸æ¯”ä½¿ç”¨ link å¤–é“¾è¿˜å¾—å‘ä¸€ä¸ªè¯·æ±‚ï¼Œå†…è”çš„ä»£ä»·è¦å°çš„å¤šå¾—å¤šã€‚ åˆ©ç”¨ Media åª’ä½“æŸ¥è¯¢æœ‰æ—¶å€™ä¸€äº› CSS æ ·å¼åªåœ¨ç‰¹å®šæ¡ä»¶ä¸‹ä½¿ç”¨ï¼Œæ¯”å¦‚æ‰“å°ç½‘é¡µæˆ–è€…ç½‘é¡µåœ¨å¤§å‹æ˜¾ç¤ºå™¨ä¸Šæ˜¾ç¤ºæ—¶ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬çš„ media åª’ä½“æŸ¥è¯¢å°±èƒ½å¤§æ˜¾èº«æ‰‹äº†ï¼Œå®ƒèƒ½è®©è¿™äº›ç‰¹å®šçš„ CSS èµ„æºä¸å»é˜»å¡é¡µé¢çš„æ¸²æŸ“ã€‚ 123&lt;link rel="stylesheet" href="style.css"&gt;&lt;link rel="stylesheet" href="print.css" media="print"&gt;&lt;link rel="stylesheet" href="other.css" media="(min-width: 980px)"&gt; ä¸Šé¢çš„ä¾‹å­åœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸­å¾ˆå¸¸è§ï¼Œç¬¬ä¸€ä¸ªæ ·å¼è¡¨é€‚ç”¨äºæ‰€æœ‰æƒ…å†µï¼Œå®ƒå§‹ç»ˆä¼šé˜»å¡æ¸²æŸ“ã€‚ä½†ç¬¬äºŒä¸ªæ ·å¼è¡¨åˆ™ä¸ç„¶ï¼Œå®ƒåªåœ¨æ‰“å°å†…å®¹æ—¶é€‚ç”¨ï¼Œå› æ­¤åœ¨ç½‘é¡µé¦–æ¬¡åŠ è½½æ—¶ï¼Œè¯¥æ ·å¼è¡¨ä¸éœ€è¦é˜»å¡æ¸²æŸ“ã€‚æœ€åä¸€ä¸ªæ ·å¼è¡¨å£°æ˜åˆ™åªåœ¨ç‰¹å®šç¯å¢ƒä¸‹è¢«æ‰§è¡Œï¼Œä¸€æ—¦ä¸ç¬¦åˆæœ€å°å®½åº¦å¤§äº980pxï¼Œåˆ™å§‹ç»ˆä¸ä¼šè¢«åŠ è½½ï¼Œè¿™æ ·æˆ‘ä»¬å°±åˆå°‘äº†ä¸€ä¸ªä¸é˜»å¡é¡µé¢æ¸²æŸ“çš„ CSS èµ„æºã€‚ æ³¨æ„ï¼š ã€Œé˜»å¡æ¸²æŸ“ã€ä»…æ˜¯æŒ‡æµè§ˆå™¨æ˜¯å¦éœ€è¦æš‚åœç½‘é¡µçš„é¦–æ¬¡æ¸²æŸ“ï¼Œç›´è‡³è¯¥èµ„æºå‡†å¤‡å°±ç»ªã€‚æ— è®ºå“ªä¸€ç§æƒ…å†µï¼Œæµè§ˆå™¨ä»ä¼šä¸‹è½½ CSS èµ„æºï¼Œåªä¸è¿‡ä¸é˜»å¡æ¸²æŸ“çš„èµ„æºä¼˜å…ˆçº§è¾ƒä½ç½¢äº†ã€‚ CSSä¼šé€ æˆé˜»å¡å—ï¼Ÿ css åŠ è½½ä¸ä¼šé˜»å¡ DOM æ ‘çš„è§£æ css åŠ è½½ä¼šé˜»å¡ DOM æ ‘ä¹Ÿå°±æ˜¯é¡µé¢çš„æ¸²æŸ“ css åŠ è½½ä¼šé˜»å¡åé¢ js è¯­å¥çš„æ‰§è¡Œ css åŠ è½½ä¸é˜»å¡å¤–éƒ¨è„šæœ¬çš„åŠ è½½äº†è§£æ›´å¤šï¼šhttps://www.cnblogs.com/chenjg/p/7126822.html ä¼˜åŒ– JavaScripté»˜è®¤æƒ…å†µä¸‹ï¼Œæ— è®ºå†…è”è¿˜æ˜¯å¤–è”ï¼Œæµè§ˆå™¨é‡åˆ°æ–‡æ¡£ä¸­çš„ JavaScript æ—¶éƒ½ä¼šæš‚åœ DOM æ„å»ºï¼Œå¹¶ç«‹å³å¼€å§‹æ‰§è¡Œ JavaScript ï¼Œç­‰åˆ°è„šæœ¬æ‰§è¡Œå®Œæ¯•åï¼Œå†ç»§ç»­æ„å»º DOMã€‚æ‰€ä»¥ä¸ºäº†æé«˜é¡µé¢æ¸²æŸ“é€Ÿåº¦ï¼Œæˆ‘ä»¬å¯ä»¥è®© JavaScript å¼‚æ­¥æ‰§è¡Œã€‚ window.onloadè¿™ç§è§£å†³æ–¹æ¡ˆæ˜¯è®©è„šæœ¬åœ¨ç½‘é¡µåŠ è½½å®Œæ¯•åå†æ‰§è¡Œã€‚å½“ç½‘é¡µåŠ è½½å®Œæ¯•åï¼Œæµè§ˆå™¨ä¼šå‘å‡º onload äº‹ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥å°† JavaScript æ”¾è¿› onload äº‹ä»¶çš„å›è°ƒå‡½æ•°ä¸­ï¼Œè¿™æ ·å½“ onload äº‹ä»¶è¢«è§¦å‘åï¼Œå°±èƒ½æ‰§è¡Œæˆ‘ä»¬çš„è„šæœ¬äº†ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š 1234567891011121314&lt;html&gt; &lt;head&gt; &lt;script&gt; function load() &#123; init() doSomethingElse() &#125; window.onload = load &lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;div&gt;...&lt;/div&gt; &lt;/body&gt;&lt;/html&gt; defer / asyncæˆ‘ä»¬è¿˜å¯ä»¥å‘ script æ ‡ç­¾æ·»åŠ å¼‚æ­¥å…³é”®å­—ï¼Œé‚£æ ·å¯ä»¥è®©æµè§ˆå™¨åœ¨ç­‰å¾…è„šæœ¬æœŸé—´ä¸é˜»æ­¢ DOM ä»¥åŠ CSSOM çš„æ„å»ºã€‚ è€Œå…³äº defer å’Œ async çš„åŒºåˆ«ï¼Œä¸€å›¾èƒœåƒè¨€ï¼š ï¼ˆå‡ºå¤„ï¼šhttps://www.growingwiththeweb.com/2014/02/async-vs-defer-attributes.htmlï¼‰ ç®€å•æ¥è¯´ï¼Œå½“æµè§ˆå™¨é‡åˆ° script è„šæœ¬çš„æ—¶å€™ï¼š &lt;script src=&quot;script.js&quot;&gt;&lt;/script&gt;æ²¡æœ‰ defer æˆ– asyncï¼Œæµè§ˆå™¨ä¼šç«‹å³åŠ è½½å¹¶æ‰§è¡ŒæŒ‡å®šçš„è„šæœ¬ï¼Œâ€œç«‹å³â€æŒ‡çš„æ˜¯åœ¨æ¸²æŸ“è¯¥ script æ ‡ç­¾ä¹‹ä¸‹çš„æ–‡æ¡£å…ƒç´ ä¹‹å‰ï¼Œå³ä¸ç­‰å¾…åç»­è½½å…¥çš„æ–‡æ¡£å…ƒç´ ï¼Œè¯»åˆ°å°±åŠ è½½å¹¶æ‰§è¡Œã€‚ &lt;script async src=&quot;script.js&quot;&gt;&lt;/script&gt;æœ‰ asyncï¼ŒåŠ è½½å’Œæ¸²æŸ“åç»­æ–‡æ¡£å…ƒç´ çš„è¿‡ç¨‹å°†å’Œ script.js çš„åŠ è½½ä¸æ‰§è¡Œå¹¶è¡Œè¿›è¡Œï¼ˆå¼‚æ­¥ï¼‰ã€‚ &lt;script defer src=&quot;myscript.js&quot;&gt;&lt;/script&gt;æœ‰ deferï¼ŒåŠ è½½åç»­æ–‡æ¡£å…ƒç´ çš„è¿‡ç¨‹å°†å’Œ script.js çš„åŠ è½½å¹¶è¡Œè¿›è¡Œï¼ˆå¼‚æ­¥ï¼‰ï¼Œä½†æ˜¯ script.js çš„æ‰§è¡Œè¦åœ¨æ‰€æœ‰å…ƒç´ è§£æå®Œæˆä¹‹åï¼ŒDOMContentLoaded äº‹ä»¶è§¦å‘ä¹‹å‰å®Œæˆã€‚ æ³¨æ„ï¼šHTML5 è§„å®šï¼Œdefer è„šæœ¬æœ€åçš„å»¶è¿Ÿæ‰§è¡Œåº”è¯¥æŒ‰ç…§ä¹¦å†™é¡ºåºæ¥æ‰§è¡Œï¼Œå³ä¸‹é¢ç¤ºä¾‹è„šæœ¬ï¼Œa.js ä¸€å®šåœ¨ b.js å‰é¢æ‰§è¡Œï¼š 1234567&lt;html&gt;&lt;head&gt; &lt;script defer src="./js/a.js"&gt;&lt;/script&gt; &lt;script defer src="./js/b.js"&gt;&lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt; ä½†åœ¨ ã€ŒJavaScript é«˜çº§ç¨‹åºè®¾è®¡ï¼ˆç¬¬ä¸‰ç‰ˆï¼‰ã€ä¸­ä½œè€…è¡¨ç¤ºï¼š åœ¨ç°å®å½“ä¸­ï¼Œå»¶è¿Ÿè„šæœ¬å¹¶ä¸ä¸€å®šä¼šæŒ‰ç…§é¡ºåºæ‰§è¡Œï¼Œä¹Ÿä¸ä¸€å®šä¼šåœ¨ DOMContentLoaded äº‹ä»¶è§¦å‘å‰æ‰§è¡Œï¼Œå› æ­¤æœ€å¥½åªåŒ…å«ä¸€ä¸ªå»¶è¿Ÿè„šæœ¬ã€‚ æˆ‘ä¸ªäººæ˜¯è¯•éªŒè¿‡å„ç§æµè§ˆå™¨çš„ï¼ŒChromeã€Firefoxã€Safariï¼Œæ²¡æœ‰å‡ºç°ä½œè€…æ‰€è¯´çš„æƒ…å†µã€‚æ‰€ä»¥æˆ‘çŒœæµ‹ä½œè€…å†™ä¸Šè¿™ä¸€å¥è¯çš„åŸå› æ˜¯ï¼šå³ä½¿åœ¨ HTML5 è§„èŒƒä¸­æœ‰è¿™ä¹ˆä¸€æ¡ï¼Œä¸ä¸€å®šæ‰€æœ‰çš„æµè§ˆå™¨å‚å•†éƒ½ä¼šéµç…§è¿™ä¸ªè§„å®šï¼Œå¯èƒ½æŸäº›æµè§ˆå™¨å‚å•†å¹¶æ²¡æœ‰å®ç°è¿™ä¸ªè§„èŒƒï¼Œæ‰€ä»¥ä¸ºäº†å®‰å…¨èµ·è§ï¼Œåœ¨å¼€å‘ä¸­ä½¿ç”¨ä¸€ä¸ª defer æ˜¯éå¸¸æœ‰å¿…è¦çš„ã€‚ HTTP ç¼“å­˜è¿™éƒ¨åˆ†å†…å®¹å¯ä»¥ç‚¹å‡»æ­¤å¤„æŸ¥çœ‹ æ¸²æŸ“æ€§èƒ½çš„ä¼˜åŒ–é¡µé¢ä¸ä»…è¦å¿«é€ŸåŠ è½½ï¼Œè€Œä¸”è¦é¡ºç•…åœ°è¿è¡Œï¼›ä¾‹å¦‚åˆ—è¡¨é¡µçš„æ»šåŠ¨åº”ä¸æ‰‹æŒ‡çš„æ»‘åŠ¨ä¸€æ ·å¿«ï¼Œä¾§è¾¹æ çš„å¼¹å‡ºéšè—åŠ¨ç”»åº”å¦‚ä¸ç»¸èˆ¬é¡ºæ»‘ã€‚æ‰€ä»¥é™¤äº†å¯¹å…³é”®æ¸²æŸ“è·¯å¾„çš„ä¼˜åŒ–ä»¥å¤–ï¼Œæˆ‘ä»¬è¿˜å¾—ç¡®ä¿è‡ªå·±ç¼–å†™çš„ä»£ç èƒ½ï¼ˆåŒ…æ‹¬å…¶ä»–ç¬¬ä¸‰æ–¹ä»£ç ï¼‰æ›´é«˜æ•ˆåœ°è¿è¡Œã€‚ åƒç´ ç®¡é“é¦–å…ˆæˆ‘ä»¬è¦äº†è§£ä¸‹ã€Œåƒç´ ç®¡é“ã€çš„æ¦‚å¿µã€‚åƒç´ ç®¡é“æ˜¯ã€Œç½‘é¡µä»åƒç´ åˆ°å±å¹•ã€çš„ä¸€ç³»åˆ—å…³é”®èŠ‚ç‚¹ï¼š JavaScriptï¼šæŒ‡çš„æ˜¯ä½¿ç”¨ JavaScript æ¥å®ç°ä¸€äº›è§†è§‰å˜åŒ–çš„æ•ˆæœã€‚ï¼ˆe.g. ç»™é¡µé¢æ·»åŠ  DOM å…ƒç´ ï¼‰ æ ·å¼è®¡ç®—ï¼šæŒ‡çš„æ˜¯æ ¹æ®ã€ŒåŒ¹é…é€‰æ‹©å™¨ã€è®¡ç®—å‡ºå…ƒç´ æ‰€åº”ç”¨çš„ CSS è§„åˆ™çš„è¿‡ç¨‹ã€‚ å¸ƒå±€ï¼šæŒ‡çš„æ˜¯æµè§ˆå™¨æ ¹æ®å…ƒç´ æ‰€åº”ç”¨çš„è§„åˆ™è®¡ç®—å®ƒä»¬è¦å æ®çš„ç©ºé—´å¤§å°åŠå…¶åœ¨å±å¹•çš„ä½ç½®ã€‚ ç»˜åˆ¶ï¼šæŒ‡çš„æ˜¯å¡«å……åƒç´ çš„è¿‡ç¨‹ã€‚ï¼ˆe.g. ç»˜åˆ¶æ–‡æœ¬ã€é¢œè‰²ã€è¾¹æ¡†å’Œé˜´å½±ï¼ŒåŸºæœ¬ä¸ŠåŒ…æ‹¬å…ƒç´ çš„æ¯ä¸ªå¯è§†éƒ¨åˆ†ï¼‰ç»˜åˆ¶ä¸€èˆ¬æ˜¯åœ¨å¤šä¸ªå±‚ä¸Šå®Œæˆçš„ã€‚ åˆæˆï¼šç”±äºé¡µé¢çš„å„éƒ¨åˆ†å¯èƒ½è¢«ç»˜åˆ¶åˆ°å¤šå±‚ï¼Œæ‰€ä»¥å®ƒä»¬éœ€è¦æŒ‰æ­£ç¡®é¡ºåºç»˜åˆ¶åˆ°å±å¹•ä¸Šï¼Œä»¥ä¾¿æ­£ç¡®æ¸²æŸ“é¡µé¢ã€‚ æˆ‘ä»¬åœ¨ç¼–å†™ä»£ç çš„æ—¶å€™è¦æ—¶åˆ»æ³¨æ„è¿™äº”ä¸ªå…³é”®èŠ‚ç‚¹ï¼Œå› ä¸ºå…¶ä¸­çš„æ¯ä¸€ä¸ªéƒ¨åˆ†éƒ½å¯èƒ½ä¸ºæˆ‘ä»¬çš„åº”ç”¨å¸¦æ¥â€œå¡é¡¿â€ã€‚ ä½¿ç”¨ requestAnimationFrameè¯•æƒ³ä¸€ä¸‹ï¼Œå‡è®¾ç°åœ¨æµè§ˆå™¨æ­£åœ¨æ‰§è¡Œæœ‰å…³æ ·å¼æ–¹é¢çš„å·¥ä½œï¼Œç„¶åå‡ºç°äº†éœ€è¦å¤„ç†çš„ JavaScript ã€‚è¿™ä¸ªæ—¶å€™æµè§ˆå™¨ä¼šé©¬ä¸Šåœä¸‹æ‰‹ä¸­çš„æ´»å„¿ï¼Œè½¬è€Œæ‰§è¡Œæ’è¿›æ¥çš„ JavaScript ï¼Œç„¶è€Œæ–°æ¥çš„ JavaScript æ˜¯æœ‰å¯èƒ½å¯¼è‡´åˆšæ‰å¤„ç†çš„æ ·å¼å·¥ä½œé‡æ–°è¿”å·¥çš„ï¼ˆé…åˆä¸Šé¢çš„ã€Œç®¡é“å›¾ã€æ¥çœ‹ï¼Œç›¸å½“äº style é˜¶æ®µå®Œæˆåå´æ‰§è¡Œäº† JavaScript ï¼Œå¯¼è‡´ä¸¢å¸§ï¼‰ï¼Œè¿™æ ·ä¸€æ¥æµè§ˆå™¨å°±å¾ˆæœ‰å¯èƒ½ä¸¢å¤±äº†åˆšæ‰å¤„ç†å®Œçš„è¿™ä¸€å¸§ï¼Œä»è€Œå¯¼è‡´å¡é¡¿ç°è±¡ã€‚æ‰€ä»¥æ²¡é”™ï¼Œå½“ä½ åœ¨ä½¿ç”¨ JavaScript ç¼–å†™ä¸€æ®µåŠ¨ç”»æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ RequestAnimationFrame APIï¼Œè¯¥ API èƒ½å¤Ÿæå‡æˆ‘ä»¬çš„åŠ¨ç”»æµç•…åº¦ï¼Œå› ä¸ºå®ƒä¼šå®‰æ’ JavaScript å°½æ—©åœ¨æ¯ä¸€å¸§çš„å¼€å§‹æ‰§è¡Œï¼Œè¿™æ ·å°½é‡ç»™æµè§ˆå™¨ç•™å‡ºè¶³å¤Ÿçš„æ—¶é—´æ¥è¿è¡Œä»£ç ï¼Œç„¶åæ˜¯æ ·å¼è¿‡ç¨‹â€”â€”&gt;å¸ƒå±€è¿‡ç¨‹â€”â€”&gt;ç»˜åˆ¶è¿‡ç¨‹â€”â€”&gt;æ¸²æŸ“å±‚åˆå¹¶è¿‡ç¨‹ã€‚ç¤ºä¾‹ï¼š 123456789function animationWidth() &#123; var div = document.getElementById('box'); div.style.width = parseInt(div.style.width) + 1 + 'px'; if (parseInt(div.style.width) &lt; 200) &#123; requestAnimationFrame(animationWidth) &#125;&#125;requestAnimationFrame(animationWidth); é¿å…é‡æ’ä¸é‡ç»˜What é‡æ’ï¼šå½“ DOM çš„å˜åŒ–å½±å“äº†å…ƒç´ çš„å‡ ä½•ä¿¡æ¯ï¼ˆDOM å¯¹è±¡çš„ä½ç½®å’Œå°ºå¯¸å¤§å°ï¼‰ï¼Œæµè§ˆå™¨éœ€è¦é‡æ–°è®¡ç®—å…ƒç´ çš„å‡ ä½•å±æ€§ï¼Œå°†å…¶å®‰æ”¾åœ¨ç•Œé¢ä¸­çš„æ­£ç¡®ä½ç½®ï¼Œè¿™ä¸ªè¿‡ç¨‹å«åšé‡æ’ã€‚ é‡ç»˜ï¼šå½“ä¸€ä¸ªå…ƒç´ æ›´æ”¹äº†éå‡ ä½•å±æ€§ï¼ˆe.g. èƒŒæ™¯ã€æ–‡æœ¬æˆ–é˜´å½±ï¼‰ï¼Œä½†æ²¡æœ‰æ”¹å˜å¸ƒå±€ï¼Œé‡æ–°æŠŠå…ƒç´ å¤–è§‚ç»˜åˆ¶å‡ºæ¥çš„è¿‡ç¨‹ï¼Œå«åšé‡ç»˜ã€‚ æµè§ˆå™¨çš„æ¸²æŸ“é˜Ÿåˆ—æ€è€ƒä»¥ä¸‹ä»£ç å°†ä¼šè§¦å‘å‡ æ¬¡æ¸²æŸ“ï¼Ÿ 1234div.style.left = '10px';div.style.top = '10px';div.style.width = '20px';div.style.height = '20px'; æ ¹æ®æˆ‘ä»¬ä¸Šæ–‡çš„å®šä¹‰ï¼Œè¿™æ®µä»£ç ç†è®ºä¸Šä¼šè§¦å‘4æ¬¡é‡æ’+é‡ç»˜ï¼Œå› ä¸ºæ¯ä¸€æ¬¡éƒ½æ”¹å˜äº†å…ƒç´ çš„å‡ ä½•å±æ€§ã€‚ä½†å®é™…ä¸Šæœ€ååªè§¦å‘äº†ä¸€æ¬¡é‡æ’ï¼Œè¿™éƒ½å¾—ç›Šäºæµè§ˆå™¨çš„æ¸²æŸ“é˜Ÿåˆ—æœºåˆ¶ï¼šå½“æˆ‘ä»¬ä¿®æ”¹äº†å…ƒç´ çš„å‡ ä½•å±æ€§ï¼Œå¯¼è‡´æµè§ˆå™¨è§¦å‘é‡æ’æˆ–é‡ç»˜æ—¶ã€‚å®ƒä¼šæŠŠè¯¥æ“ä½œæ”¾è¿›æ¸²æŸ“é˜Ÿåˆ—ï¼Œç­‰åˆ°é˜Ÿåˆ—ä¸­çš„æ“ä½œåˆ°äº†ä¸€å®šçš„æ•°é‡æˆ–è€…åˆ°äº†ä¸€å®šçš„æ—¶é—´é—´éš”æ—¶ï¼Œæµè§ˆå™¨å°±ä¼šæ‰¹é‡æ‰§è¡Œè¿™äº›æ“ä½œã€‚ å¼ºåˆ¶åˆ·æ–°é˜Ÿåˆ—12345678div.style.left = '10px';console.log(div.offsetLeft);div.style.top = '10px';console.log(div.offsetTop);div.style.width = '20px';console.log(div.offsetWidth);div.style.height = '20px';console.log(div.offsetHeight); è¿™æ®µä»£ç ä¼šè§¦å‘4æ¬¡é‡æ’+é‡ç»˜ï¼Œå› ä¸ºåœ¨consoleä¸­ä½ è¯·æ±‚çš„è¿™å‡ ä¸ªæ ·å¼ä¿¡æ¯ï¼Œæ— è®ºä½•æ—¶æµè§ˆå™¨éƒ½ä¼šç«‹å³æ‰§è¡Œæ¸²æŸ“é˜Ÿåˆ—çš„ä»»åŠ¡ï¼Œå³ä½¿è¯¥å€¼ä¸ä½ æ“ä½œä¸­ä¿®æ”¹çš„å€¼æ²¡å…³è”ã€‚å› ä¸ºé˜Ÿåˆ—ä¸­ï¼Œå¯èƒ½ä¼šæœ‰å½±å“åˆ°è¿™äº›å€¼çš„æ“ä½œï¼Œä¸ºäº†ç»™æˆ‘ä»¬æœ€ç²¾ç¡®çš„å€¼ï¼Œæµè§ˆå™¨ä¼šç«‹å³é‡æ’+é‡ç»˜ã€‚å¼ºåˆ¶åˆ·æ–°é˜Ÿåˆ—çš„styleæ ·å¼è¯·æ±‚ï¼š offsetTop, offsetLeft, offsetWidth, offsetHeight scrollTop, scrollLeft, scrollWidth, scrollHeight clientTop, clientLeft, clientWidth, clientHeight getComputedStyle(), æˆ–è€… IEçš„ currentStyle æ‰€ä»¥æˆ‘ä»¬åœ¨å¼€å‘ä¸­ï¼Œåº”è¯¥è°¨æ…çš„ä½¿ç”¨è¿™äº›styleè¯·æ±‚ï¼Œæ³¨æ„ä¸Šä¸‹æ–‡å…³ç³»ï¼Œé¿å…ä¸€è¡Œä»£ç ä¸€ä¸ªé‡æ’ï¼Œè¿™å¯¹æ€§èƒ½æ˜¯ä¸ªå·¨å¤§çš„æ¶ˆè€—ã€‚ é‡æ’ä¼˜åŒ–å»ºè®®åˆ†ç¦»è¯»å†™æ“ä½œ12345678div.style.left = '10px';div.style.top = '10px';div.style.width = '20px';div.style.height = '20px';console.log(div.offsetLeft);console.log(div.offsetTop);console.log(div.offsetWidth);console.log(div.offsetHeight); è¿˜æ˜¯ä¸Šé¢è§¦å‘4æ¬¡é‡æ’+é‡ç»˜çš„ä»£ç ï¼Œè¿™æ¬¡åªè§¦å‘äº†ä¸€æ¬¡é‡æ’ï¼šåœ¨ç¬¬ä¸€ä¸ªconsoleçš„æ—¶å€™ï¼Œæµè§ˆå™¨æŠŠä¹‹å‰ä¸Šé¢å››ä¸ªå†™æ“ä½œçš„æ¸²æŸ“é˜Ÿåˆ—éƒ½ç»™æ¸…ç©ºäº†ã€‚å‰©ä¸‹çš„consoleï¼Œå› ä¸ºæ¸²æŸ“é˜Ÿåˆ—æœ¬æ¥å°±æ˜¯ç©ºçš„ï¼Œæ‰€ä»¥å¹¶æ²¡æœ‰è§¦å‘é‡æ’ï¼Œä»…ä»…æ‹¿å€¼è€Œå·²ã€‚ æ ·å¼é›†ä¸­æ”¹å˜1234div.style.left = '10px';div.style.top = '10px';div.style.width = '20px';div.style.height = '20px'; è™½ç„¶ç°åœ¨å¤§éƒ¨åˆ†æµè§ˆå™¨æœ‰æ¸²æŸ“é˜Ÿåˆ—ä¼˜åŒ–ï¼Œä¸æ’é™¤æœ‰äº›æµè§ˆå™¨ä»¥åŠè€ç‰ˆæœ¬çš„æµè§ˆå™¨æ•ˆç‡ä»ç„¶ä½ä¸‹ã€‚ å»ºè®®é€šè¿‡æ”¹å˜ class æˆ–è€… csstext å±æ€§é›†ä¸­æ”¹å˜æ ·å¼ 123456789// badvar left = 10;var top = 10;el.style.left = left + "px";el.style.top = top + "px";// good el.className += " theclassname";// goodel.style.cssText += "; left: " + left + "px; top: " + top + "px;"; ç¼“å­˜å¸ƒå±€ä¿¡æ¯12345678// bad å¼ºåˆ¶åˆ·æ–° è§¦å‘ä¸¤æ¬¡é‡æ’div.style.left = div.offsetLeft + 1 + 'px';div.style.top = div.offsetTop + 1 + 'px';// good ç¼“å­˜å¸ƒå±€ä¿¡æ¯ ç›¸å½“äºè¯»å†™åˆ†ç¦»var curLeft = div.offsetLeft;var curTop = div.offsetTop;div.style.left = curLeft + 1 + 'px';div.style.top = curTop + 1 + 'px'; ç¦»çº¿æ”¹å˜dom éšè—è¦æ“ä½œçš„domåœ¨è¦æ“ä½œdomä¹‹å‰ï¼Œé€šè¿‡ display éšè— dom ï¼Œå½“æ“ä½œå®Œæˆä¹‹åï¼Œæ‰å°†å…ƒç´ çš„ display å±æ€§ä¸ºå¯è§ï¼Œå› ä¸ºä¸å¯è§çš„å…ƒç´ ä¸ä¼šè§¦å‘é‡æ’å’Œé‡ç»˜ã€‚ 123dom.display = 'none'// ä¿®æ”¹domæ ·å¼dom.display = 'block' é€šè¿‡ä½¿ç”¨ DocumentFragment åˆ›å»ºä¸€ä¸ª dom ç¢ç‰‡,åœ¨å®ƒä¸Šé¢æ‰¹é‡æ“ä½œ dom ï¼Œæ“ä½œå®Œæˆä¹‹åï¼Œå†æ·»åŠ åˆ°æ–‡æ¡£ä¸­ï¼Œè¿™æ ·åªä¼šè§¦å‘ä¸€æ¬¡é‡æ’ã€‚ å¤åˆ¶èŠ‚ç‚¹ï¼Œåœ¨å‰¯æœ¬ä¸Šå·¥ä½œï¼Œç„¶åæ›¿æ¢å®ƒï¼ positionå±æ€§ä¸ºabsoluteæˆ–fixedpositionå±æ€§ä¸ºabsoluteæˆ–fixedçš„å…ƒç´ ï¼Œé‡æ’å¼€é”€æ¯”è¾ƒå°ï¼Œä¸ç”¨è€ƒè™‘å®ƒå¯¹å…¶ä»–å…ƒç´ çš„å½±å“ ä¼˜åŒ–åŠ¨ç”» å¯ä»¥æŠŠåŠ¨ç”»æ•ˆæœåº”ç”¨åˆ°positionå±æ€§ä¸ºabsoluteæˆ–fixedçš„å…ƒç´ ä¸Šï¼Œè¿™æ ·å¯¹å…¶ä»–å…ƒç´ å½±å“è¾ƒå°åŠ¨ç”»æ•ˆæœè¿˜åº”ç‰ºç‰²ä¸€äº›å¹³æ»‘ï¼Œæ¥æ¢å–é€Ÿåº¦ï¼Œè¿™ä¸­é—´çš„åº¦è‡ªå·±è¡¡é‡ï¼šæ¯”å¦‚å®ç°ä¸€ä¸ªåŠ¨ç”»ï¼Œä»¥1ä¸ªåƒç´ ä¸ºå•ä½ç§»åŠ¨è¿™æ ·æœ€å¹³æ»‘ï¼Œä½†æ˜¯ reflow å°±ä¼šè¿‡äºé¢‘ç¹ï¼Œå¤§é‡æ¶ˆè€—CPUèµ„æºï¼Œå¦‚æœä»¥3ä¸ªåƒç´ ä¸ºå•ä½ç§»åŠ¨åˆ™ä¼šå¥½å¾ˆå¤šã€‚ å¯ç”¨ GPU åŠ é€Ÿæ­¤éƒ¨åˆ†æ¥è‡ªä¼˜åŒ–CSSé‡æ’é‡ç»˜ä¸æµè§ˆå™¨æ€§èƒ½GPUï¼ˆå›¾åƒåŠ é€Ÿå™¨ï¼‰ï¼šGPU ç¡¬ä»¶åŠ é€Ÿæ˜¯æŒ‡åº”ç”¨ GPU çš„å›¾å½¢æ€§èƒ½å¯¹æµè§ˆå™¨ä¸­çš„ä¸€äº›å›¾å½¢æ“ä½œäº¤ç»™ GPU æ¥å®Œæˆï¼Œå› ä¸º GPU æ˜¯ä¸“é—¨ä¸ºå¤„ç†å›¾å½¢è€Œè®¾è®¡ï¼Œæ‰€ä»¥å®ƒåœ¨é€Ÿåº¦å’Œèƒ½è€—ä¸Šæ›´æœ‰æ•ˆç‡ã€‚GPU åŠ é€Ÿé€šå¸¸åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼šCanvas2Dï¼Œå¸ƒå±€åˆæˆ, CSS3è½¬æ¢ï¼ˆtransitionsï¼‰ï¼ŒCSS3 3Då˜æ¢ï¼ˆtransformsï¼‰ï¼ŒWebGLå’Œè§†é¢‘(video)ã€‚ 1234567891011121314/* * æ ¹æ®ä¸Šé¢çš„ç»“è®º * å°† 2d transform æ¢æˆ 3d * å°±å¯ä»¥å¼ºåˆ¶å¼€å¯ GPU åŠ é€Ÿ * æé«˜åŠ¨ç”»æ€§èƒ½ */div &#123; transform: translate3d(10px, 10px, 0);&#125;/* åˆæˆ–è€…ä½¿ç”¨ will-change å±æ€§æ¥åˆ›å»ºæ–°å±‚ */div &#123; will-change: transform;&#125; å‚è€ƒèµ„æº Google Web Fundamentals - Performance cssåŠ è½½ä¼šé€ æˆé˜»å¡å—ï¼Ÿ async vs defer attributes]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>æ€§èƒ½ä¼˜åŒ–</category>
      </categories>
      <tags>
        <tag>æ€§èƒ½ä¼˜åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Event Loop å­¦ä¹ ç¬”è®°]]></title>
    <url>%2Fposts%2F10505%2F</url>
    <content type="text"><![CDATA[æˆ‘ä»¬åªå…³å¿ƒæ‰“é’©çš„çš„é˜¶æ®µï¼š timers pollï¼ˆæ­¤é˜¶æ®µä¼šåœç•™ä¸€æ®µæ—¶é—´ï¼‰ checkï¼ˆæ‰§è¡Œä¸€äº›ç«‹å³æ‰§è¡Œçš„å‡½æ•°ã€ä¸»è¦å°±æ˜¯ï¼šsetImmediate(fn) å‡½æ•°ã€‘ï¼‰ 123456789101112131415161718 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€&gt;â”‚ timers âœ… â”‚â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚ I/O callbacks â”‚â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚ idle, prepare â”‚â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ incoming: â”‚â”‚ â”‚ poll âœ… â”‚&lt;â”€â”€â”€â”€â”€â”¤ connections, â”‚â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ data, etc. â”‚â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚ check âœ… â”‚â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â””â”€â”€â”¤ close callbacks â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ timers å’Œ poll æ ¹æ® å®˜æ–¹æ–‡æ¡£ çš„æè¿°ï¼Œäº‹ä»¶å¾ªç¯åº”è¯¥æ˜¯ä» timers å¼€å§‹çš„ï¼Œä½†ä¸ä¸€å®šã€‚ NodeJSçš„å†…éƒ¨ä»£ç å¤§æ¦‚æ˜¯è¿™æ ·å†™çš„ï¼š å¼€å¯ eventLoop() æ‰§è¡Œ JS() ä½†ç”±äºå¯åŠ¨ event loop æ˜¯å¼€ä¸ªè¿›ç¨‹ï¼Œéœ€è¦æ—¶é—´çš„ï¼Œè€Œæ‰§è¡Œ JS ä¹Ÿå¾—å¯åŠ¨V8å¼•æ“ï¼Œä¹Ÿæ˜¯éœ€è¦æ—¶é—´çš„ï¼Œæ‰€ä»¥ä¸ç¡®å®šè¿™ä¸¤ä¸ªè°å¿«è°æ…¢ã€‚æ‰€ä»¥ï¼š æœ‰å¯èƒ½ setTimeout å…ˆæ‰§è¡Œï¼Œåæ‰è¿›å…¥ timers é˜¶æ®µ ä¹Ÿæœ‰å¯èƒ½å…ˆè¿›å…¥ timers é˜¶æ®µï¼Œåæ‰§è¡Œ setTimeout å‡è®¾ä¸€æ®µä»£ç ï¼š 1setTimeout(fn, 1000); å½“æˆ‘ä»¬åœ¨æ‰§è¡Œè¿™æ®µä»£ç æ—¶ï¼Œä¼šæŠŠ fn æ”¾è¿› timers ä¸­çš„ä¸€ä¸ªé˜Ÿåˆ—ä¸­å»ï¼ˆä¹Ÿå¯ä»¥è®¤ä¸ºæ˜¯ä¸€ä¸ªæ•°ç»„ï¼‰ã€‚ç„¶åJSå°±åšè‡ªå·±çš„äº‹æƒ…å»äº†ã€‚æ­¤æ—¶ timers å¯èƒ½å¼€å¯äº†ï¼Œä¹Ÿå¯èƒ½æ²¡æœ‰å¼€å¯ã€‚ä½†æœ€å¤§çš„å¯èƒ½æ˜¯ï¼Œåœ¨æ‰§è¡Œ setTimeout(fn, 1000); çš„æ—¶å€™ï¼Œæˆ‘ä»¬è¿›å…¥äº† poll é˜¶æ®µï¼Œpoll é˜¶æ®µå°±æ˜¯ç­‰å¾…ï¼ˆe.g. ç­‰å¾…ajaxè¯·æ±‚æˆåŠŸï¼Œæˆ–è€…è¯»æ–‡ä»¶æˆåŠŸï¼‰ï¼Œå¤§æ¦‚å‡ åæ¯«ç§’ã€‚åœ¨ç­‰å¾…æœŸé—´ï¼Œå®ƒä¼šçœ‹æ—¶é—´ï¼Œæ¯”å¦‚åˆšæ‰JSè®©æˆ‘1000æ¯«ç§’åæ‰§è¡Œä¸€ä¸ªfnï¼Œç°åœ¨åˆšè¿‡å»500æ¯«ç§’ï¼Œé‚£æˆ‘ç»§ç»­ç­‰ï¼Œç›´åˆ°ç­‰åˆ°1000æ¯«ç§’æ—¶ï¼Œèµ¶ç´§ç»è¿‡ check é˜¶æ®µï¼Œè¿›å…¥ timers é˜¶æ®µå»æ‰§è¡Œ fnï¼š æ‰§è¡Œå®Œæ¯•åï¼Œåˆè¿›å…¥ poll é˜¶æ®µï¼Œä»€ä¹ˆéƒ½ä¸åšï¼Œç»§ç»­ç­‰ã€‚è¿™ä¸ªç­‰æœ‰ä¸ªæ—¶é—´é™åˆ¶çš„ï¼Œå‡è®¾æ˜¯3sï¼Œé‚£ä¹ˆ3såå¦‚æœä»€ä¹ˆéƒ½æ²¡ç­‰åˆ°ï¼Œå°±è¿›å…¥ check é˜¶æ®µï¼Œç„¶åå†å›åˆ° timers é˜¶æ®µï¼Œå¦‚æ­¤å¾ªç¯ã€‚ checkcheck é˜¶æ®µä¼šæ‰§è¡Œä¸€äº›ç«‹å³æ‰§è¡Œçš„å‡½æ•°ï¼Œä¸»è¦å°±æ˜¯ setImmediate(fn) å‡½æ•°ã€‚è¯¥å‡½æ•°ç±»ä¼¼ setTimeoutï¼Œä½†æ²¡æœ‰ç¬¬äºŒä¸ªå‚æ•°ã€‚ 12setTimeout(() =&gt; console.log("fn"), 1000);setImmediate(() =&gt; console.log("fn2")); æ‰€ä»¥åœ¨æ‰§è¡Œä¾‹å¦‚ setImmediate(fn2) æ—¶ï¼Œfn2 ä¸ä¼šè¿›å…¥ timersï¼Œè€Œä¼šè¿›å…¥ check é˜¶æ®µçš„ä¸€ä¸ªé˜Ÿåˆ—ä¸­ï¼š ç”±äºæˆ‘ä»¬ä¸ç¡®å®š timers è¿™ä¸ªä¸€é˜¶æ®µç»“æŸäº†è¿˜æ˜¯æœªç»“æŸï¼Œæ‰€ä»¥æˆ‘ä»¬ä»¥äºŒé˜¶æ®µ poll æ¥ç ”ç©¶ã€‚ å½“æ‰§è¡Œ setTimeout åï¼Œæˆ‘ä»¬æŠŠ fn æ‰”è¿›äº† timers ï¼Œç„¶åè¿›å…¥ poll é˜¶æ®µå¼€å§‹ç­‰ï¼Œç°åœ¨åˆæ‰§è¡Œåˆ°äº† setImmediate ï¼Œè¿™æ˜¯ä¸ªç«‹å³æ‰§è¡Œå‡½æ•°ï¼Œæœ‰äº‹æƒ…å¼€å§‹åšäº†ï¼Œæ‰€ä»¥ poll ä¸ç­‰äº†ï¼Œç›´æ¥è¿›å…¥ check é˜¶æ®µå»æ‰§è¡Œ fn2ã€‚ ç„¶ååˆå›åˆ° timers é˜¶æ®µï¼Œä¸æ‰§è¡Œ fnï¼ˆå› ä¸ºæ²¡åˆ°1000æ¯«ç§’ï¼‰ï¼Œåˆè¿›å…¥ poll é˜¶æ®µï¼Œç­‰åˆ° 1000 æ¯«ç§’åï¼Œè¿›å…¥ check é˜¶æ®µï¼Œç„¶åè¿”å› timers é˜¶æ®µï¼Œå¼€å§‹æ‰§è¡Œ fn ï¼ˆfnåªèƒ½åœ¨è¿›å…¥ timers é˜¶æ®µæ‰èƒ½æ‰§è¡Œï¼‰ã€‚ ç»å…¸è€ƒé¢˜12setTimeout(() =&gt; console.log("fn"), 0);setImmediate(() =&gt; console.log("fn2")); æŒ‰ç…§ç†è®ºï¼ˆNodeJSå†…éƒ¨ä»£ç å…ˆè°ƒç”¨çš„ event loopï¼Œå†è°ƒç”¨çš„æ‰§è¡ŒJSï¼‰ï¼Œåº”è¯¥ fn2 å…ˆæ‰§è¡Œï¼Œä½†å®é™…ç»“æœæ˜¯ä¸ä¸€å®šçš„ï¼Œæœ‰å¯èƒ½å…ˆæ‰“å° fnï¼Œå†æ‰“å° fn2ï¼›ä¹Ÿæœ‰å¯èƒ½å…ˆæ‰“å° fn2ï¼Œå†æ‰“å° fnã€‚åŸå› å°±åœ¨äº å¼€å¯event loop å’Œ æ‰§è¡Œ JS çš„é¡ºåºæ˜¯éšæœºçš„ã€‚ å¦‚æœå…ˆå¼€å¯äº† event loop ï¼Œé‚£ä¹ˆå°±å…ˆä» poll é˜¶æ®µå¼€å§‹ï¼Œå› ä¸º timers é˜¶æ®µæ²¡å‘ç°æœ‰ä»»ä½•å‡½æ•°ï¼Œæ‰€ä»¥è¿›å…¥ poll å¼€å§‹ç­‰ã€‚æ¥ç€ç­‰åˆ°äº† æ‰§è¡ŒJS ï¼Œæ‰§è¡Œç¬¬ä¸€æ®µä»£ç ï¼Œå°±æŠŠ0så»¶è¿Ÿçš„ fn æ”¾è¿›äº† timers çš„é˜Ÿåˆ—ï¼Œæ¥ç€æ‰§è¡Œç¬¬äºŒæ®µä»£ç ï¼ŒæŠŠ fn2 æ”¾è¿›äº† check é˜Ÿåˆ—ï¼Œæ­¤åˆ» æ‰§è¡ŒJS å®Œæ¯•ï¼Œevent loop è¯´ï¼šä½ æ‰§è¡Œå®Œäº†æ˜¯å§ï¼Ÿæˆ‘å¯ä»¥å¼€å§‹åšäº‹äº†ï¼Œç„¶å poll å‘ç°æœ‰ä»»åŠ¡è¦æ‰§è¡Œäº†ï¼Œå°±è¿›å…¥ check é˜¶æ®µæ‰§è¡Œ fn2ï¼Œå†è¿”å›åˆ° timers é˜¶æ®µï¼Œå‘ç°æœ‰ä¸ª fn å·²ç»è¿‡æ—¶é—´äº†ï¼ˆå› ä¸ºå»¶è¿Ÿ0sï¼‰ï¼Œé©¬ä¸Šæ‰§è¡Œ fnã€‚æ‰€ä»¥è¿™ç§æƒ…å†µä¸‹ï¼Œå…ˆæ‰“å° fn2ï¼Œå†æ‰“å° fnã€‚ ä½†å¦‚æœ event loop å¼€å¯çš„æ¯”è¾ƒæ…¢ï¼Œæ‰§è¡ŒJSè¿™ä¸€æ­¥å…ˆå¼€å§‹äº†ã€‚é‚£ä¹ˆå°±ä¼šå…ˆæŠŠ fn æ‰”è¿›é˜Ÿåˆ—ï¼Œå†æ‰å¼€å§‹è¿›å…¥ timers çš„ç¬¬ä¸€é˜¶æ®µï¼Œæ­¤åˆ» timers å‘ç°å·²ç»æœ‰äº†ä¸ª fnï¼Œè¿˜æ˜¯ 0s å»¶è¿Ÿæ‰§è¡Œï¼Œæ‰€ä»¥å°±æ‰§è¡Œäº† fnï¼Œå†è¿›å…¥ poll ï¼Œpoll å‘ç°è¿˜æœ‰ä¸ª fn2 åœ¨ç­‰æˆ‘ç«‹å³æ‰§è¡Œï¼Œå°±æ¥ç€è¿›å…¥ check ç„¶åæ‰§è¡Œ fn2ã€‚æ‰€ä»¥è¿™ç§æƒ…å†µä¸‹ï¼Œå…ˆæ‰“å° fnï¼Œå†æ‰“å° fn2ã€‚ è¯´åˆ°åº•ï¼Œå°±æ˜¯çœ‹ fn æ˜¯åœ¨ç¬¬ä¸€æ¬¡è¿›å…¥ timers é˜¶æ®µå‰å°±å­˜åœ¨ï¼Œè¿˜æ˜¯ç¬¬ä¸€æ¬¡è¿›å…¥ timers é˜¶æ®µåæ‰å­˜åœ¨ã€‚ é‚£æ€æ ·æ‰èƒ½ä¿è¯ fn2 å…ˆæ‰§è¡Œå‘¢ï¼Ÿè§£å†³æ–¹æ¡ˆæŠŠè¿™ä¸¤æ®µä»£ç æ”¾è¿›ä¸€ä¸ª setTimeout ä¸­å»ï¼Œç„¶åå»¶è¿Ÿ1sæ‰§è¡Œï¼Œä¸ºçš„å°±æ˜¯ç­‰ event loop å¼€å¯åï¼Œè¿›å…¥ poll é˜¶æ®µï¼Œå†å¼€å§‹æ‰§è¡Œè¿™ä¸¤æ®µä»£ç ï¼š 1234setTimeout(() =&gt; &#123; setTimeout(() =&gt; console.log("fn"), 0); setImmediate(() =&gt; console.log("fn2"));&#125;, 1000); process.nextTick()è¿™ä¸ªé‡è¦çš„å¼‚æ­¥APIä¸å±äº event loop çš„ä»»ä½•ä¸€ä¸ªé˜¶æ®µã€‚nextTick é˜Ÿåˆ—ä¼šåœ¨å½“å‰é˜¶æ®µåå°±è¢«æ‰§è¡Œã€‚ ä»¥ä¸‹é¢ä»£ç ä¸ºä¾‹ï¼š 12345setTimeout(() =&gt; &#123; setTimeout(() =&gt; console.log("fn"), 0); setImmediate(() =&gt; console.log("fn2")); process.nextTick(() =&gt; console.log("fn3"));&#125;, 1000); ç”±äºä¸‰æ®µä»£ç è¢«æ”¾è¿›äº†ä¸€ä¸ª setTimeout ä¸­ï¼Œä¸”åœ¨1såå†è¢«æ‰§è¡Œã€‚æ‰€ä»¥1så event loop è‚¯å®šå·²ç»å­˜åœ¨ï¼Œæ­¤æ—¶å°±ä» poll é˜¶æ®µå¼€å§‹ï¼Œç„¶åæ‰§è¡Œä¸‰æ®µä»£ç ï¼Œç¬¬ä¸€æ®µæŠŠ fn æ”¾è¿› timers çš„é˜Ÿåˆ—ï¼Œç¬¬äºŒæ®µæŠŠ fn2 æ”¾è¿› check é˜Ÿåˆ—ï¼Œç„¶å poll é˜¶æ®µæ‰§è¡Œå®Œäº†ï¼Œæ ¹æ® nextTick é˜Ÿåˆ—ä¼šåœ¨å½“å‰é˜¶æ®µåå°±è¢«æ‰§è¡Œï¼Œæ‰€ä»¥æ­¤åˆ»åœ¨é©¬ä¸Šè¦è¿›å…¥ check é˜¶æ®µä¹‹å‰ï¼Œå°±æŠŠ nextTick ä¸­çš„ä»£ç æ‰§è¡Œæ‰äº†ï¼Œæ‰€ä»¥å…ˆæ‰“å° fn3ï¼Œç„¶åè¿›å…¥ check é˜¶æ®µåæ‰“å° fn2ï¼Œæœ€åé‡æ–°è¿›å…¥ timers æ‰“å° fnã€‚ å†æ¥çœ‹ä¸‹é¢è¿™æ®µä»£ç ï¼š 12345678setTimeout(() =&gt; &#123; setTimeout(() =&gt; &#123; console.log("fn"); process.nextTick(() =&gt; console.log("fn4")); &#125;, 0); setImmediate(() =&gt; console.log("fn2")); process.nextTick(() =&gt; console.log("fn3"));&#125;, 1000); ç”±äºfn4ç´§è·Ÿç€fnï¼Œæ‰€ä»¥åœ¨ timers é˜¶æ®µå®Œæˆåï¼Œå°±æ‰§è¡Œäº†fn4ï¼ˆæ³¨æ„fn4ä¸ä¼šæ”¾è¿› timers çš„é˜Ÿåˆ—ï¼Œè€Œæ˜¯åœ¨é˜Ÿåˆ—é‡Œå‡½æ•°æ‰§è¡Œå®Œåï¼Œç´§è·Ÿç€æ‰§è¡Œ fn4ï¼‰ï¼Œæ‰€ä»¥æœ€ç»ˆé¡ºåºä¸ºï¼š fn3, fn2, fn, fn4 é¢è¯•é¢˜123456789101112131415setTimeout(() =&gt; &#123; setImmediate(() =&gt; &#123; console.log("setImmediate1"); setTimeout(() =&gt; &#123; console.log("setTimeout1"); &#125;, 0); &#125;); setTimeout(() =&gt; &#123; console.log("setTimeout2"); setImmediate(() =&gt; &#123; console.log("setImmediate2"); &#125;); &#125;, 0);&#125;, 1000); æ‰§è¡Œç¬¬2è¡Œ setImmediate åï¼ŒæŠŠ setImmediate ä¸­çš„å‡½æ•° f1 æ”¾è¿› check ä¸­ï¼ˆæ­¤åˆ»ä¸æ‰§è¡Œf1ï¼‰ï¼Œç„¶åæ‰§è¡Œç¬¬9è¡Œçš„ setTimeout ï¼ŒæŠŠ setTimeout ä¸­çš„å‡½æ•° f2 æ”¾è¿› timers ä¸­ï¼ˆæ­¤åˆ»ä¹Ÿä¸æ‰§è¡Œf2ï¼‰ï¼Œç„¶åè¿›å…¥pollé˜¶æ®µç­‰å¾…ï¼Œå‘ç°æœ‰f1å¾…æ‰§è¡Œï¼Œæ‰€ä»¥æ‰§è¡Œf1ï¼Œæ‰“å° setImmediate1 ï¼Œæ¥ç€æŠŠ f3 æ”¾è¿› timers çš„é˜Ÿåˆ—ã€‚æ­¤åˆ»checké˜¶æ®µå®Œæˆï¼Œé‡å› timers é˜¶æ®µï¼Œå‘ç°é˜Ÿåˆ—ä¸­çš„ f2ï¼Œæ‰§è¡Œ f2ï¼Œæ‰“å° setTimeout2 ï¼Œæ¥ç€æŠŠ f4 æ‰”è¿› check é˜Ÿåˆ—ï¼Œç„¶åæ‰§è¡Œ f3ï¼Œ æ‰“å° setTimeout1 ï¼Œæ‰§è¡Œå®Œåï¼Œè¿›å…¥ poll é˜¶æ®µï¼Œå‘ç°æœ‰ f4 æ²¡æ‰§è¡Œï¼Œè¿›å…¥ check é˜¶æ®µï¼Œæ‰§è¡Œf4ï¼Œæ‰€ä»¥æœ€åæ‰“å° setImmediate2 ã€‚ å®ä»»åŠ¡&amp;å¾®ä»»åŠ¡Event LoopNodeJSï¼š timersï¼ˆsetTimeoutï¼‰ poll checkï¼ˆsetImmediateï¼‰ æ³¨æ„ï¼šnextTickä¸å±äºä»»ä½•é˜¶æ®µï¼Œä½†ä¼šåœ¨å½“å‰é˜¶æ®µåæ‰§è¡Œ å¦‚æœå¼ºè¡Œé—®NodeJSä¸­çš„å®ä»»åŠ¡å¾®ä»»åŠ¡ï¼Œé‚£å°±æ˜¯ï¼š setTimeoutå’ŒsetImmediateæ˜¯å®ä»»åŠ¡ï¼ŒnextTickæ˜¯å¾®ä»»åŠ¡ã€‚å› ä¸ºnextTickä¸ç”¨ç­‰åˆ°ä¸‹ä¸ªé˜¶æ®µï¼Œä¼šåœ¨å½“å‰é˜¶æ®µå®Œæˆåç«‹å³æ‰§è¡Œã€‚ è¿˜æœ‰ä¸ª promise.then(fn)ã€æ³¨æ„æ˜¯å°å†™çš„pï¼Œå¤§å†™çš„Pä¸èƒ½ç›´æ¥thenã€‘ï¼Œä¸€èˆ¬ä¸è€ƒã€‚Nodeä¸­çš„ promise.then ä¸€èˆ¬æ˜¯ç”¨ nextTick å®ç°çš„ï¼Œæ‰€ä»¥ä¹ŸæŒ‰ç…§å½“å‰é˜¶æ®µçš„åé¢æ¥æ¨ã€‚è¿™é‡Œthené‡Œé¢çš„fnä¸æ˜¯é©¬ä¸Šæ”¾é˜Ÿåˆ—ï¼ˆsetTImeoutï¼ŒsetImmediateå’ŒnextTickéƒ½æ˜¯é‡Œé¢çš„fné©¬ä¸Šæ”¾é˜Ÿåˆ—ï¼‰ï¼Œè€Œæ˜¯å½“ä½ resolveä»¥åï¼Œæ‰æ”¾è¿›å½“å‰é˜¶æ®µçš„åé¢æ‰§è¡Œã€‚ chromeï¼š å®ä»»åŠ¡ï¼ˆä¸€ä¼šå„¿ï¼‰setTimeout å¾®ä»»åŠ¡ï¼ˆé©¬ä¸Šï¼‰.then(fn) fnæ”¾é©¬ä¸Š ä¸€ä¼šå„¿å°±æ˜¯ç­‰ä¼šåšï¼Œé©¬ä¸Šå°±æ˜¯ç«‹å³åšï¼›å¦‚æœä¸€ä¼šå„¿é‡Œé¢æœ‰ä¸ªé©¬ä¸Šåšçš„ï¼Œè¿˜æ˜¯é©¬ä¸Šåšã€‚ æ³¨æ„ï¼š é‡åˆ° await æŠŠå®ƒè½¬ä¸º promise å†çœ‹ï¼Œå› ä¸º await æœ¬æ¥å°±æ˜¯ promise çš„è¯­æ³•ç³–ã€‚ new Promise æ˜¯ç«‹å³æ‰§è¡Œçš„ï¼Œ.then æ‰æ˜¯å¾®ä»»åŠ¡ã€‚ é¢è¯•é¢˜123456789101112131415161718async function async1() &#123; console.log(1); await async2(); console.log(2);&#125;async function async2() &#123; console.log(3);&#125;async1();new Promise(function(resolve) &#123; console.log(4); resolve();&#125;).then(function() &#123; console.log(5);&#125;); ç”»å›¾ï¼ï¼ï¼ä¸ç”»å›¾åšä¸å‡ºæ¥ï¼ï¼ï¼ ä»£ç ä»ä¸Šåˆ°ä¸‹ï¼Œå…ˆæ‰§è¡Œ 11 è¡Œ async1ï¼Œè¿›å…¥ async1ï¼Œå…ˆæ‰“å°1ã€‚é‡åˆ° await è½¬ä¸º promise =&gt; async2(() =&gt; console.log(3)).then(() =&gt; console.log(2)); ï¼ˆawaitåé¢æ‰€æœ‰ä»£ç éƒ½å±äºthenå½“ä¸­çš„ï¼Œæ¯”å¦‚ç¬¬4è¡Œåé¢åŠ ä¸ªconsole.log(â€œ233â€)ï¼Œé‚£ä¹ˆæ­¤è¡Œä»£ç ä¹Ÿå±äºthenï¼‰è€Œ async2 æœ¬èº«çš„ä»£ç ä¼šè¢«ç«‹å³æ‰§è¡Œï¼Œæ‰€ä»¥æ‰“å°ç¬¬8è¡Œä¸­çš„3ã€‚æ‰“å°å®Œåæ‰§è¡Œ then ï¼ˆæ‰§è¡Œthenå…¶å®æ˜¯éœ€è¦resolveçš„ï¼Œä½†asyncä¼šå»çœ‹ä½ å‡½æ•°ä¸­æœ‰æ²¡æœ‰resolveï¼Œå¦‚æœæ²¡æœ‰ä¼šè‡ªåŠ¨åŠ ä¸Šresolveï¼Œç›¸å½“äºasyncå¸®ä½ å¹²äº†è¿™æ ·ä¸€ä»¶äº‹ï¼šPromise.resolve(async2()).then(f1)ï¼‰ï¼Œthenå°±æ˜¯æ”¾é˜Ÿåˆ—ï¼Œæˆ‘ä»¬æŠŠ console.log(2) è®°åšä»»åŠ¡ f1 æ”¾è¿›ã€Œé©¬ä¸Šã€ä¸­å»ï¼Œä½†æ­¤åˆ»ä¸æ‰§è¡Œã€‚æ­¤åˆ» async1 å½»åº•æ‰§è¡Œå®Œäº†ã€‚ æ¥ç€æ‰§è¡Œ 13 è¡Œçš„ new Promiseï¼Œ14 åˆ° 15 è¡Œä»£ç ä¼šè¢«ç«‹å³æ‰§è¡Œï¼ˆnew Promiseä¸­çš„å‡½æ•°ä¼šè¢«ç«‹å³æ‰§è¡Œï¼Œæ²¡æœ‰ä»€ä¹ˆå®ä»»åŠ¡å¾®ä»»åŠ¡ï¼Œå°±ç›¸å½“äºè£¸å†™14åˆ°15è¡Œä»£ç ï¼‰ï¼Œæ‰€ä»¥æ‰“å°4ã€‚åœ¨æ‰§è¡Œå®Œ14è¡Œresolveçš„æ—¶å€™ï¼Œä¼šæŒ‡æ˜æ‰§è¡Œthenåé¢çš„ç¬¬ä¸€ä¸ªå‡½æ•°ï¼Œè€Œä¸æ˜¯ç¬¬äºŒä¸ªå‡½æ•°ï¼ˆrejectæ—¶æ‰€æ‰§è¡Œçš„ï¼‰ï¼Œä¹Ÿå°±æ˜¯17è¡Œä»£ç çš„ä»»åŠ¡ä¹Ÿæ”¾è¿›ã€Œé©¬ä¸Šã€ä¸­å»ï¼Œè¯¥ä»»åŠ¡è®°åš f2 ï¼Œè‡³æ­¤å½“å‰ä»£ç å…¨éƒ¨æ‰§è¡Œå®Œæ¯•ï¼Œç„¶åçœ‹ã€Œé©¬ä¸Šã€ä¸­çš„ä»»åŠ¡ï¼Œæ‰§è¡Œ f1ï¼Œæ‰“å°2ã€‚æ¥ç€æ‰§è¡Œ f2ï¼Œ æ‰“å°5ã€‚ æ³¨æ„ç‚¹ï¼šä¸Šé¢çš„ resolve åªæ˜¯å†³å®šæ‰§è¡Œthené‡Œé¢çš„æˆåŠŸå›è°ƒå‡½æ•°ï¼Œå¹¶ä¸å†³å®šåŠ å…¥é˜Ÿåˆ—ã€‚å†³å®šåŠ å…¥é˜Ÿåˆ—çš„æ˜¯ thenã€‚ æ€»ç»“å®ä»»åŠ¡ï¼ˆä¸€ä¼šå„¿ï¼‰ï¼šsetTimeoutï¼ŒsetIntervalï¼ŒsetImmediateï¼ˆä¼˜å…ˆçº§æ¯”å‰ä¸¤ä¸ªé«˜ï¼Œå› ä¸ºæ˜¯åœ¨checké˜¶æ®µï¼‰ å¾®ä»»åŠ¡ï¼ˆé©¬ä¸Šï¼‰ï¼špromise.thenï¼Œprocess.nextTick å®ä»»åŠ¡å¾®ä»»åŠ¡æ‰§è¡Œé¡ºåºï¼šæœ‰å¾®ä»»åŠ¡å…ˆæ‰§è¡Œå¾®ä»»åŠ¡ï¼Œå¾®ä»»åŠ¡éƒ½æ‰§è¡Œå®Œäº†ï¼Œå†æ‰§è¡Œå®ä»»åŠ¡]]></content>
      <categories>
        <category>åç«¯</category>
        <category>Node</category>
      </categories>
      <tags>
        <tag>Node</tag>
        <tag>EventLoop</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Event Loopã€è®¡æ—¶å™¨ã€nextTickï¼ˆè½¬è½½ï¼‰]]></title>
    <url>%2Fposts%2F61492%2F</url>
    <content type="text"><![CDATA[è¿™æ˜¯ä¸€ç¯‡è½¬è½½æ–‡ç« ï¼Œæºåœ°å€æ˜¯æ–¹åº”æ­åœ¨æ˜é‡‘ä¸Šå‘è¡¨çš„ä¸€ç¯‡è¯‘æ–‡ï¼šEvent Loopã€è®¡æ—¶å™¨ã€nextTick åŸæ–‡ï¼šhttps://nodejs.org/en/docs/guides/event-loop-timers-and-nexttick/ ä»¥ä¸‹æ˜¯è¯‘æ–‡ï¼š ä»€ä¹ˆæ˜¯äº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼Œæ³¨æ„ç©ºæ ¼ï¼‰JavaScript æ˜¯å•çº¿ç¨‹çš„ï¼Œæœ‰äº† event loop çš„åŠ æŒï¼ŒNode.js æ‰å¯ä»¥éé˜»å¡åœ°æ‰§è¡Œ I/O æ“ä½œï¼ŒæŠŠè¿™äº›æ“ä½œå°½é‡è½¬ç§»ç»™æ“ä½œç³»ç»Ÿæ¥æ‰§è¡Œã€‚ æˆ‘ä»¬çŸ¥é“å¤§éƒ¨åˆ†ç°ä»£æ“ä½œç³»ç»Ÿéƒ½æ˜¯å¤šçº¿ç¨‹çš„ï¼Œè¿™äº›æ“ä½œç³»ç»Ÿå¯ä»¥åœ¨åå°æ‰§è¡Œå¤šä¸ªæ“ä½œã€‚å½“æŸä¸ªæ“ä½œç»“æŸäº†ï¼Œæ“ä½œç³»ç»Ÿå°±ä¼šé€šçŸ¥ Node.jsï¼Œç„¶å Node.js å°±ï¼ˆå¯èƒ½ï¼‰ä¼šæŠŠå¯¹åº”çš„å›è°ƒå‡½æ•°æ·»åŠ åˆ° pollï¼ˆè½®è¯¢ï¼‰é˜Ÿåˆ—ï¼Œæœ€ç»ˆè¿™äº›å›è°ƒå‡½æ•°ä¼šè¢«æ‰§è¡Œã€‚ä¸‹æ–‡ä¸­æˆ‘ä»¬ä¼šé˜è¿°å…¶ç»†èŠ‚ã€‚ Event Loop è¯¦è§£å½“ Node.js å¯åŠ¨æ—¶ï¼Œä¼šåšè¿™å‡ ä»¶äº‹ åˆå§‹åŒ– event loop å¼€å§‹æ‰§è¡Œè„šæœ¬ï¼ˆæˆ–è€…è¿›å…¥ REPLï¼Œæœ¬æ–‡ä¸æ¶‰åŠ REPLï¼‰ã€‚è¿™äº›è„šæœ¬æœ‰å¯èƒ½ä¼šè°ƒç”¨ä¸€äº›å¼‚æ­¥ APIã€è®¾å®šè®¡æ—¶å™¨æˆ–è€…è°ƒç”¨ process.nextTick() å¼€å§‹å¤„ç† event loop å¦‚ä½•å¤„ç† event loop å‘¢ï¼Ÿä¸‹å›¾ç»™å‡ºäº†ä¸€ä¸ªç®€å•çš„æ¦‚è§ˆï¼š 123456789101112131415161718 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€&gt;â”‚ timers â”‚â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚ I/O callbacks â”‚â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚ idle, prepare â”‚â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ incoming: â”‚â”‚ â”‚ poll â”‚&lt;â”€â”€â”€â”€â”€â”¤ connections, â”‚â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ data, etc. â”‚â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚ check â”‚â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â””â”€â”€â”¤ close callbacks â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ å…¶ä¸­æ¯ä¸ªæ–¹æ¡†éƒ½æ˜¯ event loop ä¸­çš„ä¸€ä¸ªé˜¶æ®µã€‚ æ¯ä¸ªé˜¶æ®µéƒ½æœ‰ä¸€ä¸ªã€Œå…ˆå…¥å…ˆå‡ºé˜Ÿåˆ—ã€ï¼Œè¿™ä¸ªé˜Ÿåˆ—å­˜æœ‰è¦æ‰§è¡Œçš„å›è°ƒå‡½æ•°ï¼ˆè¯‘æ³¨ï¼šå­˜çš„æ˜¯å‡½æ•°åœ°å€ï¼‰ã€‚ä¸è¿‡æ¯ä¸ªé˜¶æ®µéƒ½æœ‰å…¶ç‰¹æœ‰çš„ä½¿å‘½ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå½“ event loop è¾¾åˆ°æŸä¸ªé˜¶æ®µæ—¶ï¼Œä¼šåœ¨è¿™ä¸ªé˜¶æ®µè¿›è¡Œä¸€äº›ç‰¹æ®Šçš„æ“ä½œï¼Œç„¶åæ‰§è¡Œè¿™ä¸ªé˜¶æ®µçš„é˜Ÿåˆ—é‡Œçš„æ‰€æœ‰å›è°ƒã€‚ ä»€ä¹ˆæ—¶å€™åœæ­¢æ‰§è¡Œè¿™äº›å›è°ƒå‘¢ï¼Ÿä¸‹åˆ—ä¸¤ç§æƒ…å†µä¹‹ä¸€ä¼šåœæ­¢ï¼š é˜Ÿåˆ—çš„æ“ä½œå…¨è¢«æ‰§è¡Œå®Œäº† æ‰§è¡Œçš„å›è°ƒæ•°ç›®åˆ°è¾¾æŒ‡å®šçš„æœ€å¤§å€¼ ç„¶åï¼Œevent loop è¿›å…¥ä¸‹ä¸€ä¸ªé˜¶æ®µï¼Œç„¶åå†ä¸‹ä¸€ä¸ªé˜¶æ®µã€‚ ä¸€æ–¹é¢ï¼Œä¸Šé¢è¿™äº›æ“ä½œéƒ½æœ‰å¯èƒ½æ·»åŠ è®¡æ—¶å™¨ï¼›å¦ä¸€æ–¹é¢ï¼Œæ“ä½œç³»ç»Ÿä¼šå‘ poll é˜Ÿåˆ—ä¸­æ·»åŠ æ–°çš„äº‹ä»¶ï¼Œå½“ poll é˜Ÿåˆ—ä¸­çš„äº‹ä»¶è¢«å¤„ç†æ—¶å¯èƒ½ä¼šæœ‰æ–°çš„ poll äº‹ä»¶è¿›å…¥ poll é˜Ÿåˆ—ã€‚ç»“æœï¼Œè€—æ—¶è¾ƒé•¿çš„å›è°ƒå‡½æ•°å¯ä»¥è®© event loop åœ¨ poll é˜¶æ®µåœç•™å¾ˆä¹…ï¼Œä¹…åˆ°é”™è¿‡äº†è®¡æ—¶å™¨çš„è§¦å‘æ—¶æœºã€‚ä½ å¯ä»¥åœ¨ä¸‹æ–‡çš„ timers ç« èŠ‚å’Œ poll ç« èŠ‚è¯¦ç»†äº†è§£è¿™å…¶ä¸­çš„ç»†èŠ‚ã€‚ æ³¨æ„ï¼ŒWindows çš„å®ç°å’Œ Unix/Linux çš„å®ç°ç¨æœ‰ä¸åŒï¼Œä¸è¿‡å¯¹æœ¬æ–‡å†…å®¹å½±å“ä¸å¤§ã€‚æœ¬æ–‡å›Šæ‹¬äº† event loop æœ€é‡è¦çš„éƒ¨åˆ†ï¼Œä¸åŒå¹³å°å¯èƒ½æœ‰ä¸ƒä¸ªæˆ–å…«ä¸ªé˜¶æ®µï¼Œä½†æ˜¯ä¸Šé¢çš„å‡ ä¸ªé˜¶æ®µæ˜¯æˆ‘ä»¬çœŸæ­£å…³å¿ƒçš„é˜¶æ®µï¼Œè€Œä¸”æ˜¯ Node.js çœŸæ­£ç”¨åˆ°çš„é˜¶æ®µã€‚ å„é˜¶æ®µæ¦‚è§ˆ timers é˜¶æ®µï¼šè¿™ä¸ªé˜¶æ®µæ‰§è¡Œ setTimeout å’Œ setInterval çš„å›è°ƒå‡½æ•°ã€‚ I/O callbacks é˜¶æ®µï¼šä¸åœ¨ timers é˜¶æ®µã€close callbacks é˜¶æ®µå’Œ check é˜¶æ®µè¿™ä¸‰ä¸ªé˜¶æ®µæ‰§è¡Œçš„å›è°ƒï¼Œéƒ½ç”±æ­¤é˜¶æ®µè´Ÿè´£ï¼Œè¿™å‡ ä¹åŒ…å«äº†æ‰€æœ‰å›è°ƒå‡½æ•°ã€‚ idle, prepare é˜¶æ®µï¼ˆè¯‘æ³¨ï¼šçœ‹èµ·æ¥æ˜¯ä¸¤ä¸ªé˜¶æ®µï¼Œä¸è¿‡è¿™ä¸é‡è¦ï¼‰ï¼ševent loop å†…éƒ¨ä½¿ç”¨çš„é˜¶æ®µï¼ˆè¯‘æ³¨ï¼šæˆ‘ä»¬ä¸ç”¨å…³å¿ƒè¿™ä¸ªé˜¶æ®µï¼‰ poll é˜¶æ®µï¼šè·å–æ–°çš„ I/O äº‹ä»¶ã€‚åœ¨æŸäº›åœºæ™¯ä¸‹ Node.js ä¼šé˜»å¡åœ¨è¿™ä¸ªé˜¶æ®µã€‚ check é˜¶æ®µï¼šæ‰§è¡Œ setImmediate() çš„å›è°ƒå‡½æ•°ã€‚ close callbacks é˜¶æ®µï¼šæ‰§è¡Œå…³é—­äº‹ä»¶çš„å›è°ƒå‡½æ•°ï¼Œå¦‚ socket.on(â€˜closeâ€™, fn) é‡Œçš„ fnã€‚ ä¸€ä¸ª Node.js ç¨‹åºç»“æŸæ—¶ï¼ŒNode.js ä¼šæ£€æŸ¥ event loop æ˜¯å¦åœ¨ç­‰å¾…å¼‚æ­¥ I/O æ“ä½œç»“æŸï¼Œæ˜¯å¦åœ¨ç­‰å¾…è®¡æ—¶å™¨è§¦å‘ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå°±ä¼šå…³æ‰ event loopã€‚ å„é˜¶æ®µè¯¦è§£timers é˜¶æ®µè®¡æ—¶å™¨å®é™…ä¸Šæ˜¯åœ¨æŒ‡å®šå¤šä¹…ä»¥åå¯ä»¥æ‰§è¡ŒæŸä¸ªå›è°ƒå‡½æ•°ï¼Œè€Œä¸æ˜¯æŒ‡å®šæŸä¸ªå‡½æ•°çš„ç¡®åˆ‡æ‰§è¡Œæ—¶é—´ã€‚å½“æŒ‡å®šçš„æ—¶é—´è¾¾åˆ°åï¼Œè®¡æ—¶å™¨çš„å›è°ƒå‡½æ•°ä¼šå°½æ—©è¢«æ‰§è¡Œã€‚å¦‚æœæ“ä½œç³»ç»Ÿå¾ˆå¿™ï¼Œæˆ–è€… Node.js æ­£åœ¨æ‰§è¡Œä¸€ä¸ªè€—æ—¶çš„å‡½æ•°ï¼Œé‚£ä¹ˆè®¡æ—¶å™¨çš„å›è°ƒå‡½æ•°å°±ä¼šè¢«æ¨è¿Ÿæ‰§è¡Œã€‚ æ³¨æ„ï¼Œä»åŸç†ä¸Šæ¥è¯´ï¼Œpoll é˜¶æ®µèƒ½æ§åˆ¶è®¡æ—¶å™¨çš„å›è°ƒå‡½æ•°ä»€ä¹ˆæ—¶å€™è¢«æ‰§è¡Œã€‚ ä¸¾ä¾‹æ¥è¯´ï¼Œä½ è®¾ç½®äº†ä¸€ä¸ªè®¡æ—¶å™¨åœ¨ 100 æ¯«ç§’åæ‰§è¡Œï¼Œç„¶åä½ çš„è„šæœ¬ç”¨äº† 95 æ¯«ç§’æ¥å¼‚æ­¥è¯»å–äº†ä¸€ä¸ªæ–‡ä»¶ï¼š 12345678910111213141516171819202122232425const fs = require('fs');function someAsyncOperation(callback) &#123; // å‡è®¾è¯»å–è¿™ä¸ªæ–‡ä»¶ä¸€å…±èŠ±è´¹ 95 æ¯«ç§’ fs.readFile('/path/to/file', callback);&#125;const timeoutScheduled = Date.now();setTimeout(() =&gt; &#123; const delay = Date.now() - timeoutScheduled; console.log(`$&#123;delay&#125;æ¯«ç§’åæ‰§è¡Œäº† setTimeout çš„å›è°ƒ`);&#125;, 100);// æ‰§è¡Œä¸€ä¸ªè€—æ—¶ 95 æ¯«ç§’çš„å¼‚æ­¥æ“ä½œsomeAsyncOperation(() =&gt; &#123; const startCallback = Date.now(); // æ‰§è¡Œä¸€ä¸ªè€—æ—¶ 10 æ¯«ç§’çš„åŒæ­¥æ“ä½œ while (Date.now() - startCallback &lt; 10) &#123; // ä»€ä¹ˆä¹Ÿä¸åš &#125;&#125;); å½“ event loop è¿›å…¥ poll é˜¶æ®µï¼Œå‘ç° poll é˜Ÿåˆ—ä¸ºç©ºï¼ˆå› ä¸ºæ–‡ä»¶è¿˜æ²¡è¯»å®Œï¼‰ï¼Œevent loop æ£€æŸ¥äº†ä¸€ä¸‹æœ€è¿‘çš„è®¡æ—¶å™¨ï¼Œå¤§æ¦‚è¿˜æœ‰ 100 æ¯«ç§’æ—¶é—´ï¼Œäºæ˜¯ event loop å†³å®šè¿™æ®µæ—¶é—´å°±åœåœ¨ poll é˜¶æ®µã€‚åœ¨ poll é˜¶æ®µåœäº† 95 æ¯«ç§’ä¹‹åï¼Œfs.readFile æ“ä½œå®Œæˆï¼Œä¸€ä¸ªè€—æ—¶ 10 æ¯«ç§’çš„å›è°ƒå‡½æ•°è¢«ç³»ç»Ÿæ”¾å…¥ poll é˜Ÿåˆ—ï¼Œäºæ˜¯ event loop æ‰§è¡Œäº†è¿™ä¸ªå›è°ƒå‡½æ•°ã€‚æ‰§è¡Œå®Œæ¯•åï¼Œpoll é˜Ÿåˆ—ä¸ºç©ºï¼Œäºæ˜¯ event loop å»çœ‹äº†ä¸€çœ¼æœ€è¿‘çš„è®¡æ—¶å™¨ï¼ˆè¯‘æ³¨ï¼ševent loop å‘ç°å§æ§½ï¼Œå·²ç»è¶…æ—¶ 95 + 10 - 100 = 5 æ¯«ç§’äº†ï¼‰ï¼Œäºæ˜¯ç»ç”± check é˜¶æ®µã€close callbacks é˜¶æ®µç»•å›åˆ° timers é˜¶æ®µï¼Œæ‰§è¡Œ timers é˜Ÿåˆ—é‡Œçš„é‚£ä¸ªå›è°ƒå‡½æ•°ã€‚è¿™ä¸ªä¾‹å­ä¸­ï¼Œ100 æ¯«ç§’çš„è®¡æ—¶å™¨å®é™…ä¸Šæ˜¯åœ¨ 105 æ¯«ç§’åæ‰æ‰§è¡Œçš„ã€‚ æ³¨æ„ï¼šä¸ºäº†é˜²æ­¢ poll é˜¶æ®µå ç”¨äº† event loop çš„æ‰€æœ‰æ—¶é—´ï¼Œlibuvï¼ˆNode.js ç”¨æ¥å®ç° event loop å’Œæ‰€æœ‰å¼‚æ­¥è¡Œä¸ºçš„ C è¯­è¨€å†™æˆçš„åº“ï¼‰å¯¹ poll é˜¶æ®µçš„æœ€é•¿åœç•™æ—¶é—´åšå‡ºäº†é™åˆ¶ï¼Œå…·ä½“æ—¶é—´å› æ“ä½œç³»ç»Ÿè€Œå¼‚ã€‚ I/O callbacks é˜¶æ®µè¿™ä¸ªé˜¶æ®µä¼šæ‰§è¡Œä¸€äº›ç³»ç»Ÿæ“ä½œçš„å›è°ƒå‡½æ•°ï¼Œæ¯”å¦‚ TCP æŠ¥é”™ï¼Œå¦‚æœä¸€ä¸ª TCP socket å¼€å§‹è¿æ¥æ—¶å‡ºç°äº† ECONNREFUSED é”™è¯¯ï¼Œä¸€äº› *nix ç³»ç»Ÿå°±ä¼šï¼ˆå‘ Node.jsï¼‰é€šçŸ¥è¿™ä¸ªé”™è¯¯ã€‚è¿™ä¸ªé€šçŸ¥å°±ä¼šè¢«æ”¾å…¥ I/O callbacks é˜Ÿåˆ—ã€‚ poll é˜¶æ®µï¼ˆè½®è¯¢é˜¶æ®µï¼‰poll é˜¶æ®µæœ‰ä¸¤ä¸ªåŠŸèƒ½ï¼š å¦‚æœå‘ç°è®¡æ—¶å™¨çš„æ—¶é—´åˆ°äº†ï¼Œå°±ç»•å›åˆ° timers é˜¶æ®µæ‰§è¡Œè®¡æ—¶å™¨çš„å›è°ƒã€‚ ç„¶åå†ï¼Œæ‰§è¡Œ poll é˜Ÿåˆ—é‡Œçš„å›è°ƒã€‚ å½“ event loop è¿›å…¥ poll é˜¶æ®µï¼Œå¦‚æœå‘ç°æ²¡æœ‰è®¡æ—¶å™¨ï¼Œå°±ä¼šï¼š å¦‚æœ poll é˜Ÿåˆ—ä¸æ˜¯ç©ºçš„ï¼Œevent loop å°±ä¼šä¾æ¬¡æ‰§è¡Œé˜Ÿåˆ—é‡Œçš„å›è°ƒå‡½æ•°ï¼Œç›´åˆ°é˜Ÿåˆ—è¢«æ¸…ç©ºæˆ–è€…åˆ°è¾¾ poll é˜¶æ®µçš„æ—¶é—´ä¸Šé™ã€‚ å¦‚æœ poll é˜Ÿåˆ—æ˜¯ç©ºçš„ï¼Œå°±ä¼šï¼š å¦‚æœæœ‰ setImmediate() ä»»åŠ¡ï¼Œevent loop å°±ç»“æŸ poll é˜¶æ®µå»å¾€ check é˜¶æ®µã€‚ å¦‚æœæ²¡æœ‰ setImmediate() ä»»åŠ¡ï¼Œevent loop å°±ä¼šç­‰å¾…æ–°çš„å›è°ƒå‡½æ•°è¿›å…¥ poll é˜Ÿåˆ—ï¼Œå¹¶ç«‹å³æ‰§è¡Œå®ƒã€‚ ä¸€æ—¦ poll é˜Ÿåˆ—ä¸ºç©ºï¼Œevent loop å°±ä¼šæ£€æŸ¥è®¡æ—¶å™¨æœ‰æ²¡æœ‰åˆ°æœŸï¼Œå¦‚æœæœ‰è®¡æ—¶å™¨åˆ°æœŸäº†ï¼Œevent loop å°±ä¼šå›åˆ° timers é˜¶æ®µæ‰§è¡Œè®¡æ—¶å™¨çš„å›è°ƒã€‚ check é˜¶æ®µè¿™ä¸ªé˜¶æ®µå…è®¸å¼€å‘è€…åœ¨ poll é˜¶æ®µç»“æŸåç«‹å³æ‰§è¡Œä¸€äº›å‡½æ•°ã€‚å¦‚æœ poll é˜¶æ®µç©ºé—²äº†ï¼ŒåŒæ—¶å­˜åœ¨ setImmediate() ä»»åŠ¡ï¼Œevent loop å°±ä¼šè¿›å…¥ check é˜¶æ®µã€‚ setImmediate() å®é™…ä¸Šæ˜¯ä¸€ç§ç‰¹æ®Šçš„è®¡æ—¶å™¨ï¼Œæœ‰è‡ªå·±ç‰¹æœ‰çš„é˜¶æ®µã€‚å®ƒæ˜¯é€šè¿‡ libuv é‡Œä¸€ä¸ªèƒ½å°†å›è°ƒå®‰æ’åœ¨ poll é˜¶æ®µä¹‹åæ‰§è¡Œçš„ API å®ç°çš„ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œå½“ä»£ç æ‰§è¡Œåï¼Œevent loop æœ€ç»ˆä¼šè¾¾åˆ° poll é˜¶æ®µï¼Œç­‰å¾…æ–°çš„è¿æ¥ã€æ–°çš„è¯·æ±‚ç­‰ã€‚ä½†æ˜¯å¦‚æœä¸€ä¸ªå›è°ƒæ˜¯ç”± setImmediate() å‘å‡ºçš„ï¼ŒåŒæ—¶ poll é˜¶æ®µç©ºé—²ä¸‹æ¥äº†ï¼Œevent loopå°±ä¼šç»“æŸ poll é˜¶æ®µè¿›å…¥ check é˜¶æ®µï¼Œä¸å†ç­‰å¾…æ–°çš„ poll äº‹ä»¶ã€‚ ï¼ˆè¯‘æ³¨ï¼šæ„Ÿè§‰åŒæ ·çš„è¯è¯´äº†ä¸‰éï¼‰ close callbacks é˜¶æ®µå¦‚æœä¸€ä¸ª socket æˆ–è€… handle è¢«çªç„¶å…³é—­ï¼ˆæ¯”å¦‚ socket.destroy()ï¼‰ï¼Œé‚£ä¹ˆå°±ä¼šæœ‰ä¸€ä¸ª close äº‹ä»¶è¿›å…¥è¿™ä¸ªé˜¶æ®µã€‚å¦åˆ™ï¼ˆè¯‘æ³¨ï¼šæˆ‘æ²¡çœ‹åˆ°è¿™ä¸ªå¦åˆ™åœ¨å¦å®šä»€ä¹ˆï¼Œæ˜¯åœ¨å¦å®šã€Œçªç„¶ã€å—ï¼Ÿï¼‰ï¼Œè¿™ä¸ª close äº‹ä»¶å°±ä¼šè¿›å…¥ process.nextTick()ã€‚ setImmediate() vs setTimeout()setImmediate å’Œ setTimeout å¾ˆç›¸ä¼¼ï¼Œä½†æ˜¯å…¶å›è°ƒå‡½æ•°çš„è°ƒç”¨æ—¶æœºå´ä¸ä¸€æ ·ã€‚ setImmediate() çš„ä½œç”¨æ˜¯åœ¨å½“å‰ poll é˜¶æ®µç»“æŸåè°ƒç”¨ä¸€ä¸ªå‡½æ•°ã€‚ setTimeout() çš„ä½œç”¨æ˜¯åœ¨ä¸€æ®µæ—¶é—´åè°ƒç”¨ä¸€ä¸ªå‡½æ•°ã€‚ è¿™ä¸¤è€…çš„å›è°ƒçš„æ‰§è¡Œé¡ºåºå–å†³äº setTimeout å’Œ setImmediate è¢«è°ƒç”¨æ—¶çš„ç¯å¢ƒã€‚ å¦‚æœ setTimeout å’Œ setImmediate éƒ½æ˜¯åœ¨ä¸»æ¨¡å—ï¼ˆmain moduleï¼‰ä¸­è¢«è°ƒç”¨çš„ï¼Œé‚£ä¹ˆå›è°ƒçš„æ‰§è¡Œé¡ºåºå–å†³äºå½“å‰è¿›ç¨‹çš„æ€§èƒ½ï¼Œè¿™ä¸ªæ€§èƒ½å—å…¶ä»–åº”ç”¨ç¨‹åºè¿›ç¨‹çš„å½±å“ã€‚ ä¸¾ä¾‹æ¥è¯´ï¼Œå¦‚æœåœ¨ä¸»æ¨¡å—ä¸­è¿è¡Œä¸‹é¢çš„è„šæœ¬ï¼Œé‚£ä¹ˆä¸¤ä¸ªå›è°ƒçš„æ‰§è¡Œé¡ºåºæ˜¯æ— æ³•åˆ¤æ–­çš„ï¼š 12345678// timeout_vs_immediate.jssetTimeout(() =&gt; &#123; console.log('timeout');&#125;, 0);setImmediate(() =&gt; &#123; console.log('immediate');&#125;); è¿è¡Œç»“æœå¦‚ä¸‹ï¼š 1234567$ node timeout_vs_immediate.jstimeoutimmediate$ node timeout_vs_immediate.jsimmediatetimeout ä½†æ˜¯ï¼Œå¦‚æœæŠŠä¸Šé¢ä»£ç æ”¾åˆ° I/O æ“ä½œçš„å›è°ƒé‡Œï¼ŒsetImmediate çš„å›è°ƒå°±æ€»æ˜¯ä¼˜å…ˆäº setTimeout çš„å›è°ƒï¼š 1234567891011// timeout_vs_immediate.jsconst fs = require('fs');fs.readFile(__filename, () =&gt; &#123; setTimeout(() =&gt; &#123; console.log('timeout'); &#125;, 0); setImmediate(() =&gt; &#123; console.log('immediate'); &#125;);&#125;); è¿è¡Œç»“æœå¦‚ä¸‹ï¼š 1234567$ node timeout_vs_immediate.jsimmediatetimeout$ node timeout_vs_immediate.jsimmediatetimeout setImmediate çš„ä¸»è¦ä¼˜åŠ¿å°±æ˜¯ï¼Œå¦‚æœåœ¨ I/O æ“ä½œçš„å›è°ƒé‡Œï¼ŒsetImmediate çš„å›è°ƒæ€»æ˜¯æ¯” setTimeout çš„å›è°ƒå…ˆæ‰§è¡Œã€‚ï¼ˆè¯‘è€…æ³¨ï¼šæ€ä¹ˆæ€»æ˜¯æŠŠä¸€ä¸ªé“ç†ç¿»æ¥è¦†å»åœ°è¯´ï¼‰ process.nextTick()ä½ å¯èƒ½å‘ç° process.nextTick() è¿™ä¸ªé‡è¦çš„å¼‚æ­¥ API æ²¡æœ‰å‡ºç°åœ¨ä»»ä½•ä¸€ä¸ªé˜¶æ®µé‡Œï¼Œé‚£æ˜¯å› ä¸ºä»æŠ€æœ¯ä¸Šæ¥è®² process.nextTick() å¹¶ä¸æ˜¯ event loop çš„ä¸€éƒ¨åˆ†ã€‚å®é™…ä¸Šï¼Œä¸ç®¡ event loop å½“å‰å¤„äºå“ªä¸ªé˜¶æ®µï¼ŒnextTick é˜Ÿåˆ—éƒ½æ˜¯åœ¨å½“å‰é˜¶æ®µåå°±è¢«æ‰§è¡Œäº†ã€‚ å›è¿‡å¤´æ¥çœ‹æˆ‘ä»¬çš„é˜¶æ®µå›¾ï¼Œä½ åœ¨ä»»ä½•ä¸€ä¸ªé˜¶æ®µè°ƒç”¨ process.nextTick(å›è°ƒ)ï¼Œå›è°ƒéƒ½ä¼šåœ¨å½“å‰é˜¶æ®µç»§ç»­è¿è¡Œå‰è¢«è°ƒç”¨ã€‚è¿™ç§è¡Œä¸ºæœ‰çš„æ—¶å€™ä¼šé€ æˆä¸å¥½çš„ç»“æœï¼Œå› ä¸ºä½ å¯ä»¥é€’å½’åœ°è°ƒç”¨ process.nextTick()ï¼Œè¿™æ · event loop å°±ä¼šä¸€ç›´åœåœ¨å½“å‰é˜¶æ®µä¸èµ°â€¦â€¦æ— æ³•è¿›å…¥ poll é˜¶æ®µã€‚ ä¸ºä»€ä¹ˆ Node.js è¦è¿™æ ·è®¾è®¡ process.nextTick å‘¢ï¼Ÿ å› ä¸ºæœ‰äº›å¼‚æ­¥ API éœ€è¦ä¿è¯ä¸€è‡´æ€§ï¼Œå³ä½¿å¯ä»¥åŒæ­¥å®Œæˆï¼Œä¹Ÿè¦ä¿è¯å¼‚æ­¥æ“ä½œçš„é¡ºåºï¼Œçœ‹ä¸‹é¢ä»£ç ï¼š 1234function apiCall(arg, callback) &#123; if (typeof arg !== 'string') return process.nextTick(callback, new TypeError('argument should be string'));&#125; è¿™æ®µä»£ç æ£€æŸ¥äº†å‚æ•°çš„ç±»å‹ï¼Œå¦‚æœç±»å‹ä¸æ˜¯ stringï¼Œå°±ä¼šå°† error ä¼ é€’ç»™ callbackã€‚ è¿™æ®µä»£ç ä¿è¯ apiCall è°ƒç”¨ä¹‹åçš„åŒæ­¥ä»£ç èƒ½åœ¨ callback ä¹‹å‰è¿è¡Œã€‚ç”¨äºç”¨åˆ°äº† process.nextTick()ï¼Œæ‰€ä»¥ callback ä¼šåœ¨ event loop è¿›å…¥ä¸‹ä¸€ä¸ªé˜¶æ®µå‰æ‰§è¡Œã€‚ä¸ºäº†åšåˆ°è¿™ä¸€ç‚¹ï¼ŒJS çš„è°ƒç”¨æ ˆå¯ä»¥å…ˆ unwind å†æ‰§è¡Œ nextTick çš„å›è°ƒï¼Œè¿™æ ·æ— è®ºä½ é€’å½’è°ƒç”¨å¤šå°‘æ¬¡ process.nextTick() éƒ½ä¸ä¼šé€ æˆè°ƒç”¨æ ˆæº¢å‡ºï¼ˆV8 é‡Œå¯¹åº” RangeError: Maximum call stack size exceededï¼‰ã€‚ å¦‚æœä¸è¿™æ ·è®¾è®¡ï¼Œä¼šé€ æˆä¸€äº›æ½œåœ¨çš„é—®é¢˜ï¼Œæ¯”å¦‚ä¸‹é¢çš„ä»£ç ï¼š 123456789101112let bar;// è¿™æ˜¯ä¸€ä¸ªå¼‚æ­¥ APIï¼Œä½†æ˜¯å´åŒæ­¥åœ°è°ƒç”¨äº† callbackfunction someAsyncApiCall(callback) &#123; callback(); &#125;//`someAsyncApiCall` åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å°±è°ƒç”¨äº†å›è°ƒsomeAsyncApiCall(() =&gt; &#123; // æ­¤æ—¶ bar è¿˜æ²¡æœ‰è¢«èµ‹å€¼ä¸º 1 console.log('bar', bar); // undefined&#125;);bar = 1; å¼€å‘è€…è™½ç„¶æŠŠ someAsyncApiCall å‘½åå¾—åƒä¸€ä¸ªå¼‚æ­¥å‡½æ•°ï¼Œä½†æ˜¯å®é™…ä¸Šè¿™ä¸ªå‡½æ•°æ˜¯åŒæ­¥æ‰§è¡Œçš„ã€‚å½“ someAsyncApiCall è¢«è°ƒç”¨æ—¶ï¼Œå›è°ƒä¹Ÿåœ¨åŒä¸€ä¸ª event loop é˜¶æ®µè¢«è°ƒç”¨äº†ã€‚ç»“æœå›è°ƒä¸­å°±æ— æ³•å¾—åˆ° bar çš„å€¼ã€‚å› ä¸ºèµ‹å€¼è¯­å¥è¿˜æ²¡è¢«æ‰§è¡Œã€‚ å¦‚æœæŠŠå›è°ƒæ”¾åœ¨ process.nextTick() ä¸­æ‰§è¡Œï¼Œåé¢çš„èµ‹å€¼è¯­å¥å°±å¯ä»¥å…ˆæ‰§è¡Œäº†ã€‚è€Œä¸” process.nextTick() çš„å›è°ƒä¼šåœ¨ eventLoop è¿›å…¥ä¸‹ä¸€ä¸ªé˜¶æ®µå‰è°ƒç”¨ã€‚ï¼ˆè¯‘æ³¨ï¼šåˆæ˜¯æŠŠä¸€ä¸ªé“ç†ç¿»æ¥è¦†å»åœ°è®²ï¼‰ 1234567891011let bar;function someAsyncApiCall(callback) &#123; process.nextTick(callback);&#125;someAsyncApiCall(() =&gt; &#123; console.log('bar', bar); // 1&#125;);bar = 1; ä¸€ä¸ªæ›´ç¬¦åˆç°å®çš„ä¾‹å­æ˜¯è¿™æ ·çš„ï¼š 123const server = net.createServer(() =&gt; &#123;&#125;).listen(8080);server.on('listening', () =&gt; &#123;&#125;); .listen(8080) è¿™å¥è¯æ˜¯åŒæ­¥æ‰§è¡Œçš„ã€‚é—®é¢˜åœ¨äº listening å›è°ƒæ— æ³•è¢«è§¦å‘ï¼Œå› ä¸º listening çš„ç›‘å¬ä»£ç åœ¨ .listen(8080) çš„åé¢ã€‚ ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œ.listen() å‡½æ•°å¯ä»¥ä½¿ç”¨ process.nextTick() æ¥æ‰§è¡Œ listening äº‹ä»¶çš„å›è°ƒã€‚ process.nextTick() vs setImmediate()è¿™ä¸¤ä¸ªå‡½æ•°åŠŸèƒ½å¾ˆåƒï¼Œè€Œä¸”åå­—ä¹Ÿå¾ˆä»¤äººç–‘æƒ‘ã€‚ process.nextTick() çš„å›è°ƒä¼šåœ¨å½“å‰ event loop é˜¶æ®µã€Œç«‹å³ã€æ‰§è¡Œã€‚ setImmediate() çš„å›è°ƒä¼šåœ¨åç»­çš„ event loop å‘¨æœŸï¼ˆtickï¼‰æ‰§è¡Œã€‚ ï¼ˆè¯‘æ³¨ï¼šçœ‹èµ·æ¥åå­—å«åäº†ï¼‰ äºŒè€…çš„åå­—åº”è¯¥äº’æ¢æ‰å¯¹ã€‚process.nextTick() æ¯” setImmediate() æ›´ immediateï¼ˆç«‹å³ï¼‰ä¸€äº›ã€‚ è¿™æ˜¯ä¸€ä¸ªå†å²é—ç•™é—®é¢˜ï¼Œè€Œä¸”ä¸ºäº†ä¿è¯å‘åå…¼å®¹æ€§ï¼Œä¹Ÿä¸å¤ªå¯èƒ½å¾—åˆ°æ”¹å–„ã€‚æ‰€ä»¥å°±ç®—è¿™ä¸¤ä¸ªåå­—å¬èµ·æ¥è®©äººå¾ˆç–‘æƒ‘ï¼Œä¹Ÿä¸ä¼šåœ¨æœªæ¥æœ‰ä»»ä½•å˜åŒ–ã€‚ æˆ‘ä»¬æ¨èå¼€å‘è€…åœ¨ä»»ä½•æƒ…å†µä¸‹éƒ½ä½¿ç”¨ setImmediate()ï¼Œå› ä¸ºå®ƒçš„å…¼å®¹æ€§æ›´å¥½ï¼Œè€Œä¸”å®ƒæ›´å®¹æ˜“ç†è§£ã€‚ ä»€ä¹ˆæ—¶å€™ç”¨ process.nextTick()ï¼ŸThere are two main reasons: ä½¿ç”¨çš„ç†ç”±æœ‰ä¸¤ä¸ªï¼š è®©å¼€å‘è€…å¤„ç†é”™è¯¯ã€æ¸…é™¤æ— ç”¨çš„èµ„æºï¼Œæˆ–è€…åœ¨ event loop å½“å‰é˜¶æ®µç»“æŸå‰å°è¯•é‡æ–°è¯·æ±‚èµ„æº æœ‰æ—¶å€™æœ‰å¿…è¦è®©ä¸€ä¸ªå›è°ƒåœ¨è°ƒç”¨æ ˆ unwind ä¹‹åï¼Œevent loop è¿›å…¥ä¸‹é˜¶æ®µä¹‹å‰æ‰§è¡Œ ä¸ºäº†è®©ä»£ç æ›´åˆç†ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šå†™è¿™æ ·çš„ä»£ç ï¼š 12345const server = net.createServer();server.on('connection', (conn) =&gt; &#123; &#125;);server.listen(8080);server.on('listening', () =&gt; &#123; &#125;); å‡è®¾ listen() åœ¨ event loop ä¸€å¯åŠ¨çš„æ—¶å€™å°±æ‰§è¡Œäº†ï¼Œè€Œ listening äº‹ä»¶çš„å›è°ƒè¢«æ”¾åœ¨äº† setImmediate() é‡Œï¼Œlisten åŠ¨ä½œæ˜¯ç«‹å³å‘ç”Ÿçš„ï¼Œå¦‚æœæƒ³è¦ event loop æ‰§è¡Œ listening å›è°ƒï¼Œå°±å¿…é¡»å…ˆç»è¿‡ poll é˜¶æ®µï¼Œå½“æ—¶ poll é˜¶æ®µæœ‰å¯èƒ½ä¼šåœç•™ï¼Œä»¥ç­‰å¾…è¿æ¥ï¼Œè¿™æ ·ä¸€æ¥å°±æœ‰å¯èƒ½å‡ºç° connect äº‹ä»¶çš„å›è°ƒæ¯” listening äº‹ä»¶çš„å›è°ƒå…ˆæ‰§è¡Œã€‚ï¼ˆè¯‘æ³¨ï¼šè¿™æ˜¾ç„¶ä¸åˆç†ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ç”¨ process.nextTickï¼‰ å†ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œä¸€ä¸ªç±»ç»§æ‰¿äº† EventEmitterï¼Œè€Œä¸”æƒ³åœ¨å®ä¾‹åŒ–çš„æ—¶å€™è§¦å‘ä¸€ä¸ªäº‹ä»¶ï¼š 12345678910111213const EventEmitter = require('events');const util = require('util');function MyEmitter() &#123; EventEmitter.call(this); this.emit('event');&#125;util.inherits(MyEmitter, EventEmitter);const myEmitter = new MyEmitter();myEmitter.on('event', () =&gt; &#123; console.log('an event occurred!');&#125;); ä½ ä¸èƒ½ç›´æ¥åœ¨æ„é€ å‡½æ•°é‡Œæ‰§è¡Œ this.emit(â€˜eventâ€™)ï¼Œå› ä¸ºè¿™æ ·çš„è¯åé¢çš„å›è°ƒå°±æ°¸è¿œæ— æ³•æ‰§è¡Œã€‚æŠŠ this.emit(â€˜eventâ€™) æ”¾åœ¨ process.nextTick() é‡Œï¼Œåé¢çš„å›è°ƒå°±å¯ä»¥æ‰§è¡Œï¼Œè¿™æ‰æ˜¯æˆ‘ä»¬é¢„æœŸçš„è¡Œä¸ºï¼š 1234567891011121314151617const EventEmitter = require('events');const util = require('util');function MyEmitter() &#123; EventEmitter.call(this); // use nextTick to emit the event once a handler is assigned process.nextTick(() =&gt; &#123; this.emit('event'); &#125;);&#125;util.inherits(MyEmitter, EventEmitter);const myEmitter = new MyEmitter();myEmitter.on('event', () =&gt; &#123; console.log('an event occurred!');&#125;);]]></content>
      <categories>
        <category>åç«¯</category>
        <category>Node</category>
      </categories>
      <tags>
        <tag>è½¬è½½</tag>
        <tag>Node</tag>
        <tag>EventLoop</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JSåƒåœ¾å›æ”¶æœºåˆ¶]]></title>
    <url>%2Fposts%2F20229%2F</url>
    <content type="text"><![CDATA[ä¸€ç›´ä»¥æ¥æˆ‘å¯¹JSåƒåœ¾å›æ”¶æœºåˆ¶çš„äº†è§£ä»…ä»…åœç•™åœ¨ä¸¤ä¸ªè¯å„¿ä¸Šï¼šæ ‡è®°æ¸…é™¤å’Œå¼•ç”¨è®¡æ•°ã€‚é™¤æ­¤ä¹‹å¤–æˆ‘å°±å•¥ä¸çŸ¥é“äº†ã€‚æœ€è¿‘ç©ºä¸‹æ¥é˜…è¯»äº†ä¸å°‘ç›¸å…³æ–‡ç« ï¼Œç®—æ˜¯å¯¹JSçš„åƒåœ¾å›æ”¶æœºåˆ¶æœ‰äº†ç‚¹ç²—æµ…çš„è®¤è¯†ã€‚è¿™ç¯‡åšå®¢ç®—æ˜¯ä¸€ä¸ªç¬”è®°ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªæ€»ç»“ã€‚è€Œæˆ‘é˜…è¯»çš„æ–‡ç« ä¹Ÿä¼šåœ¨æœ€åçš„â€œèµ„æºâ€ä¸€èŠ‚åˆ—å‡ºï¼Œæƒ³æ›´åŠ æ·±å…¥äº†è§£JSåƒåœ¾å›æ”¶æœºåˆ¶çš„å°ä¼™ä¼´å¯ä»¥ç‚¹å‡»æŸ¥çœ‹ã€‚ ä»€ä¹ˆæ˜¯åƒåœ¾è¦æƒ³ç†è§£JSçš„åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œé¦–å…ˆå¾—ç¡®å®šä»€ä¹ˆæ‰æ˜¯æ‰€è°“çš„è¦è¢«å›æ”¶çš„åƒåœ¾ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ²¡æœ‰è¢«å¼•ç”¨çš„å¯¹è±¡å°±æ˜¯åƒåœ¾ï¼Œæ˜¯éœ€è¦è¢«æ¸…é™¤çš„ã€‚ä¸‹é¢æ˜¯æˆ‘æ€»ç»“çš„å‡ å¤§ç±»å‹ã€‚ å…¨å±€å˜é‡æ‰€æœ‰å…¨å±€çš„å˜é‡éƒ½ä¸æ˜¯åƒåœ¾ï¼Œå› ä¸ºæµè§ˆå™¨ä¼šè®¤ä¸ºä½ åœ¨ä»»ä½•æƒ…å†µä¸‹éƒ½æœ‰å¯èƒ½ä½¿ç”¨åˆ°å…¨å±€å˜é‡ã€‚ä¾‹å¦‚ä¸‹é¢è¿™ç§æƒ…å†µï¼š 12345var str = "hello world";// æ­¤å¤„çœç•¥è‹¥å¹²ä»£ç console.log(str); åœ¨é¡¶éƒ¨å®šä¹‰äº†ä¸€ä¸ªå…¨å±€å˜é‡strï¼Œä½ æ˜¯å®Œå…¨æœ‰å¯èƒ½åœ¨ n è¡Œä»£ç ä»¥åæ‰“å°è¿™ä¸ªå˜é‡çš„ã€‚ å±€éƒ¨å˜é‡é€šå¸¸æƒ…å†µä¸‹ï¼Œå±€éƒ¨ä½œç”¨åŸŸå˜é‡åœ¨å‡½æ•°æ‰§è¡Œå®Œæ¯•åå°±æ˜¯åƒåœ¾ï¼Œå†ä¹Ÿç”¨ä¸åˆ°äº†ï¼š 1234567function fn() &#123; var str = "hello world"; console.log(str);&#125;fn();fn(); å½“å¼€å§‹æ‰§è¡Œfnæ—¶ï¼Œæ‰äº§ç”Ÿ str ï¼Œå®ƒçš„ä½œç”¨åŸŸå°±åœ¨ fn ä¸­ï¼Œfn æ‰§è¡Œç»“æŸåï¼Œstr å°±æ˜¯åƒåœ¾ï¼Œä¼šè¢«é”€æ¯ã€‚ä½ å¯èƒ½ä¼šè¯´ï¼Œæˆ‘å®Œå…¨æœ‰å¯èƒ½è°ƒç”¨ä¸¤æ¬¡ fn å•Šï¼Œä½†è¿™é‡Œè¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œå½“ä½ å†æ¬¡æ‰§è¡Œ fn æ—¶ï¼Œäº§ç”Ÿçš„æ˜¯ä¸€ä¸ªå…¨æ–°çš„ str ï¼Œå’Œåˆšæ‰çš„ str å®Œå…¨æ²¡å…³ç³»ã€‚ å•å¼•ç”¨ä¸€ä¸ªå•å¼•ç”¨å¯¹è±¡ï¼Œæ²¡æœ‰å¼•ç”¨å°±æ˜¯åƒåœ¾ï¼š 12345var user = &#123; name: "John"&#125;;user = null; æˆ‘åœ¨å…¨å±€ä½œç”¨åŸŸä¸‹å®šä¹‰äº†å˜é‡ user ï¼ŒæŒ‡å‘ä¸€ä¸ªå¯¹è±¡ï¼Œç„¶è€Œå´åœ¨æœ€åæŠŠå˜é‡ user è®¾ç½®ä¸º nullã€‚æ­¤æ—¶å°±æ²¡æœ‰è°åœ¨å¼•ç”¨ {name: â€œJohnâ€} è¿™ä¸ªå¯¹è±¡äº†ï¼Œæ‰€ä»¥å®ƒæ˜¯åƒåœ¾ï¼Œä¼šè¢«é”€æ¯ã€‚ å¤šå¼•ç”¨å¦‚æœä¸€ä¸ªå¯¹è±¡æœ‰ä¸¤ä¸ªåŠä»¥ä¸Šçš„å¼•ç”¨ï¼Œå®ƒä¸ä¸€å®šä¼šè¢«å›æ”¶ï¼š 1234567var user = &#123; name: "John"&#125;;var admin = user;user = null; å³ä½¿æˆ‘ä»¬åˆ æ‰äº†å…¶ä¸­ä¸€ä¸ªå¼•ç”¨ï¼Œä½† admin ä»ç„¶è¿˜å¼•ç”¨ç€ object ï¼Œæ‰€ä»¥æ­¤ object è¿˜ä¸ä¼šè¢«å›æ”¶ã€‚ ç¯å¼•ç”¨è¿˜è®°å¾—æ–‡ç« å¼€å¤´è¯´çš„ä¸‹é¢è¿™æ®µè¯å—ï¼Ÿ ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ²¡æœ‰è¢«å¼•ç”¨çš„å¯¹è±¡å°±æ˜¯åƒåœ¾ï¼Œæ˜¯éœ€è¦è¢«æ¸…é™¤çš„ã€‚ ç¯å¼•ç”¨å°±æ˜¯ä¸ªä¾‹å¤–ï¼Œå½“å‡ ä¸ªå¯¹è±¡ç›¸äº’å¼•ç”¨ï¼Œä½†æ²¡æœ‰è¢«å…¶å®ƒä»»ä½•äººå¼•ç”¨æ—¶ï¼Œå®ƒä»¬ä»ç„¶æ˜¯åƒåœ¾ï¼Œéœ€è¦è¢«å›æ”¶ï¼Œæˆ‘ä»¬è€ƒè™‘ä¸‹é¢ä»£ç ï¼š 123456789101112131415function marry(man, woman) &#123; woman.husband = man; man.wife = woman; return &#123; father: man, mother: woman &#125;&#125;var family = marry(&#123; name: "John"&#125;, &#123; name: "Ann"&#125;); ä¸Šè¿°ä»£ç æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªå®¶åº­ï¼ˆfamilyï¼‰å¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ªç”·äººï¼ˆmanï¼‰å¯¹è±¡å’Œä¸€ä¸ªå¥³äººï¼ˆwomanï¼‰å¯¹è±¡ï¼Œå¹¶è®©å¥³äººçš„ä¸ˆå¤«ï¼ˆhusbandï¼‰è®¾ä¸ºç”·äººï¼Œç”·äººçš„å¦»å­ï¼ˆwifeï¼‰è®¾ä¸ºå¥³äººã€‚å®ƒä»¬ä¹‹é—´çš„å…³ç³»å¯ä»¥ç”¨ä¸‹å›¾è¡¨ç¤ºï¼š æ¥ç€æˆ‘ä»¬æ‰§è¡Œä¸‹é¢æ“ä½œï¼š 12delete family.father;delete family.mother.husband; æ­¤åˆ»åˆ æ‰å®¶åº­å¯¹ä¸ˆå¤«çš„å¼•ç”¨ï¼Œä»¥åŠå¦»å­å¯¹ä¸ˆå¤«çš„å¼•ç”¨ï¼Œæ­¤æ—¶ä¸å†æœ‰ä»»ä½•äººå¼•ç”¨ä¸ˆå¤«ï¼Œæ‰€ä»¥æ­¤æ—¶ä¸ˆå¤«æ˜¯åƒåœ¾ï¼Œéœ€è¦è¢«å›æ”¶ï¼š è®©æˆ‘ä»¬å›åˆ°ä¸ˆå¤«è¿˜æ²¡æœ‰è¢«å®¶åº­å’Œå¦»å­å»é™¤å¼•ç”¨çš„æ—¶åˆ»ã€‚ç„¶åæ‰§è¡Œä¸‹é¢ä»£ç ï¼š 1family = null; è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬ç›´æ¥åˆ æ‰äº†å…¨å±€ï¼ˆå¤–ç•Œï¼‰å¯¹å®¶åº­è¿™ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼Œåˆ™å®¶åº­å’Œä¸ˆå¤«ä»¥åŠå¦»å­å°±éƒ½â€œæ­»æ‰â€äº†ï¼Œéœ€è¦è¢«å›æ”¶ã€‚ä½ å¯èƒ½ä¼šè¯´ï¼Œå®ƒä»¬ä¹‹é—´ä¸æ˜¯å­˜åœ¨ç›¸äº’å¼•ç”¨å…³ç³»å—ï¼Ÿä½†æ­¤åˆ»å®ƒä»¬å·²ç»ä¸è¢«å¤–ç•Œæ‰€å¼•ç”¨ï¼Œæ‰€ä»¥å®ƒä»¬ä¼šè¢«å›æ”¶ã€‚ å¦‚ä½•å®ç°åƒåœ¾å›æ”¶åˆ†æå®Œä»€ä¹ˆæ˜¯æ‰€è°“çš„åƒåœ¾ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹è®¨è®ºå¦‚ä½•å®ç°åƒåœ¾å›æ”¶äº†ã€‚ä¹Ÿå°±æ˜¯æ–‡ç« å¼€å¤´æåˆ°çš„ã€Œæ ‡è®°æ¸…é™¤ã€å’Œã€Œå¼•ç”¨è®¡æ•°ã€ã€‚ æ ‡è®°æ¸…é™¤ç®€å•æ¥ç†è§£ï¼Œæ ‡è®°æ¸…é™¤æœºåˆ¶ä¼šä»å…¨å±€ä½œç”¨åŸŸå¼€å§‹ï¼ŒæŠŠæ‰€æœ‰å®ƒé‡åˆ°çš„å˜é‡éƒ½æ ‡è®°ä¸€éï¼Œå¦‚æœè¿™äº›è¢«æ ‡è®°çš„å˜é‡è¿˜å¼•ç”¨äº†å…¶ä»–å˜é‡ï¼Œå°±å†æ ‡è®°ï¼Œä¸€ç›´æ ‡è®°åˆ°å†ä¹Ÿæ²¡æœ‰æ–°çš„å¯¹è±¡ä¸ºæ­¢ï¼Œè¿™ä¸ªæ ‡è®°è¿‡ç¨‹å°±ç»“æŸäº†ã€‚æ ‡è®°è¿‡ç¨‹ç»“æŸåå°±å¼€å§‹è¿›è¡Œæ¸…é™¤è¿‡ç¨‹ï¼ŒæŠŠæ‰€æœ‰åˆšæ‰æ²¡æœ‰è¢«æ ‡è®°è¿‡çš„å¯¹è±¡éƒ½åˆ æ‰ã€‚è¿™å°±æ˜¯æ ‡è®°æ¸…é™¤ç®—æ³•ï¼š å¬èµ·æ¥è¿™ç§å®ç°å¾ˆç¾å¥½ä¸æ˜¯å—ï¼Ÿä½†æ˜¯æ­¤æ–¹æ³•æœ‰ä¸ªç¼ºç‚¹å¾ˆä¼¤ï¼Œé‚£å°±æ˜¯åœ¨å˜é‡å¯¹è±¡å¤šäº†ä»¥åï¼Œé€ æˆéå†å¾ˆæ…¢çš„åæœã€‚è€Œä¸”æˆ‘ä»¬ä¼šä¸å®šæ—¶å¯¹è¿™äº›å˜é‡éƒ½è¦å†æ ‡è®°ä¸€éï¼Œç„¶è€Œæˆ‘ä»¬çŸ¥é“JSæ˜¯å•çº¿ç¨‹çš„ï¼Œæ ‡è®°æœŸé—´JSä»£ç çš„æ‰§è¡Œä¼šè¢«ä¸­æ–­ï¼Œè€Œæ ‡è®°çš„æ—¶é—´åˆå¾ˆä¹…ï¼Œå°±é€ æˆä¸å¥½çš„å½±å“ï¼Œè¿™å°±æ˜¯å®ƒçš„ç¼ºç‚¹ã€‚ æ‰€ä»¥é’ˆå¯¹è¿™ä¸ªç¼ºç‚¹ï¼Œæˆ‘ä»¬ä¼šå¯¹æ ‡è®°æ¸…é™¤åšä¸€äº›æ”¹è¿›ï¼š åˆ†ä»£æ”¶é›†ï¼ˆGenerational collectionï¼‰ç±»æ¯”æˆ‘ä»¬æ‰‹æœºç½‘ç»œçš„2Gï¼Œ3Gå’Œ4Gï¼Œè¿™é‡Œçš„Gå°±æ˜¯ Generational çš„æ„æ€ï¼Œè€Œæˆ‘ä»¬çš„å¯¹è±¡å¯ä»¥å¤§è‡´åˆ†ä¸ºä¸¤ç§ï¼š æ–°ä¸€ä»£ï¼ˆe.g. ä¸€ä¸ªå‡½æ•°ä¸­çš„ä¸´æ—¶å˜é‡ï¼‰ è€ä¸€ä»£ï¼ˆe.g. window å¯¹è±¡ï¼‰ ä¸åŒä»£çš„å›æ”¶ç­–ç•¥æ˜¯ä¸ä¸€æ ·çš„ï¼Œä¸€èˆ¬è€ä¸€ä»£çš„å¯¹è±¡åœç•™æ—¶é—´ä¼šå¾ˆä¹…ï¼Œè€Œè¿™ç§åœç•™æ—¶é—´è¶Šä¹…çš„å¯¹è±¡ï¼Œåé¢ç”¨åˆ°å®ƒçš„æ—¶é—´ä¹Ÿå¯èƒ½è¶Šä¹…ï¼ˆè¿™åªæ˜¯ä¸€ç§æ¨æµ‹ï¼Œä¸ä¸€å®šå¯¹ï¼Œä»…ä»…æ˜¯ä¸€ç§ç­–ç•¥ï¼‰ã€‚æ‰€ä»¥å¯èƒ½åœ¨ç¬¬ä¸€è½®æ ‡è®°åï¼Œä¼šéš”ä¸€æ®µæ—¶é—´æ‰ä¼šå»å†çœ‹å®ƒï¼Œæ¯”å¦‚3såã€‚ è€Œæ–°ä¸€ä»£çš„å¯¹è±¡ï¼Œæ¯”å¦‚ä¸€ä¸ªå‡½æ•°ä¸­çš„ä¸´æ—¶å˜é‡ï¼Œå‡½æ•°æ‰§è¡Œå®Œå°±å¯å›æ”¶ï¼Œä¸ç”¨ä»å¤´å¼€å§‹éå†ï¼Œè¿™æ ·çš„ä¸´æ—¶å¯¹è±¡å°±ä¼šè¢«é©¬ä¸Šæ ‡è®°ç„¶åç«‹å³é©¬ä¸Šåˆ é™¤ï¼Œè¿™æ ·çš„å¯¹è±¡å°±æœ‰å¯èƒ½éš”1æ¯«ç§’å°±çœ‹å®ƒä¸€æ¬¡ï¼Œæ²¡è¢«æ ‡è®°å°±åˆ é™¤äº†å®ƒã€‚ å¢é‡æ”¶é›†ï¼ˆIncremental collectionï¼‰ä¸¾ä¸ªä¾‹å­ï¼Œå‡å¦‚æ­¤åˆ»æœ‰ 10000 ä¸ªéœ€è¦éå†çš„å¯¹è±¡ï¼Œæˆ‘ä¸ä¸€æ¬¡æ€§éå†å®Œï¼Œè€Œæ˜¯å…ˆéå†1000ä¸ªï¼Œç„¶åæ‰§è¡ŒJSï¼Œå†éå†1000ä¸ªï¼Œå†æ‰§è¡ŒJSâ€¦ è¿™æ ·éå†10æ¬¡å°±èƒ½éå†å®Œï¼Œè€Œä¸”JSä¹Ÿä¸ä¼šæœ‰æ˜æ˜¾å¡é¡¿ã€‚ ç©ºé—²æ”¶é›†ï¼ˆIdle-time collectionï¼‰è¿™ä¸ªä¼˜åŒ–å³å­—é¢æ„æ€ï¼Œç”±äºJSä¸æ˜¯ä¸€ç›´åœ¨æ‰§è¡Œçš„ï¼Œæ‰€ä»¥æˆ‘ç­‰åˆ°JSæ‰§è¡Œå®Œåç©ºé—²ä¸‹æ¥å†å¼€å§‹éå†ã€‚ å¼•ç”¨è®¡æ•°æ¯æ¬¡å¯¹è±¡è¢«å¼•ç”¨çš„æ—¶å€™å°±+1ï¼Œå†è¢«å¼•ç”¨æ—¶å°±å†+1ï¼Œæœ‰äººä¸å¼•ç”¨å®ƒæ—¶å°±-1ï¼Œå†ä¸å¼•ç”¨å°±åˆ-1ï¼Œå½“è¿™ä¸ªå¯¹è±¡è¢«å‡åˆ°0æ—¶å°±è¯¥è¢«åƒåœ¾å›æ”¶äº†ã€‚ æ­¤ç®—æ³•çš„ç¼ºç‚¹ä¹Ÿæœ‰ä¸å°‘ï¼Œä½†è¢«å¤§å®¶æ‰€ç†ŸçŸ¥çš„ä¸€ä¸ªç¼ºç‚¹å°±æ˜¯å¾ªç¯å¼•ç”¨æ— æ³•è¢«å›æ”¶ã€‚åœ¨æ—©æœŸçš„IEç‰ˆæœ¬é‡Œï¼ˆie4-ie6ï¼‰ï¼Œå¯¹å®¿ä¸»å¯¹è±¡ï¼ˆä¹Ÿå°±æ˜¯ Document å¯¹è±¡ï¼‰é‡‡ç”¨æ˜¯å¼•ç”¨è®¡æ•°çš„åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œä¸€æ—¦ä½ åœ¨JSä¸­æ²¡æœ‰æ­£ç¡®ä½¿ç”¨é—­åŒ…ï¼Œå°±ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ï¼Œè¿™ä¹Ÿå°±æ˜¯æ­¤ç®—æ³•çš„ä¸€ä¸ªç¼ºé™·ã€‚å¾ªç¯å¼•ç”¨ä¼šå¯¼è‡´æ²¡æ³•å›æ”¶ï¼Œè¿™ä¸ªå¾ªç¯å¼•ç”¨åªé™å®šäºæœ‰å®¿ä¸»å¯¹è±¡å‚ä¸çš„å¾ªç¯å¼•ç”¨ï¼Œè€Œjså¯¹è±¡ä¹‹é—´å³ä½¿å½¢æˆå¾ªç¯å¼•ç”¨ï¼Œä¹Ÿä¸ä¼šäº§ç”Ÿå†…å­˜æ³„æ¼ï¼Œå› ä¸ºå¯¹jså¯¹è±¡çš„å›æ”¶ç®—æ³•ä¸æ˜¯è®¡æ•°çš„æ–¹å¼ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223function closure()&#123; var oDiv = document.getElementById('oDiv');//oDivç”¨å®Œä¹‹åä¸€ç›´é©»ç•™åœ¨å†…å­˜ä¸­ oDiv.onclick = function () &#123; alert(oDiv.innerHTML);//è¿™é‡Œç”¨oDivå¯¼è‡´å†…å­˜æ³„éœ² &#125;;&#125;// ä»¥ä¸Šä»£ç åˆ›å»ºäº†ä¸€ä¸ªä½œä¸º div å…ƒç´ äº‹ä»¶å¤„ç†ç¨‹åºçš„é—­åŒ…ï¼Œè€Œè¿™ä¸ªé—­åŒ…åˆ™åˆåˆ›å»ºäº†ä¸€ä¸ªå¾ªç¯å¼•ç”¨ã€‚// ç”±äºåŒ¿åå‡½æ•°ä¿å­˜äº†ä¸€ä¸ªå¯¹closure()çš„æ´»åŠ¨å¯¹è±¡çš„å¼•ç”¨ï¼Œå› æ­¤å°±ä¼šå¯¼è‡´æ— æ³•å‡å°‘div çš„å¼•ç”¨æ•°ã€‚// åªè¦åŒ¿åå‡½æ•°å­˜åœ¨ï¼Œelement çš„å¼•ç”¨æ•°è‡³å°‘ä¹Ÿæ˜¯1ï¼Œå› æ­¤å®ƒæ‰€å ç”¨çš„å†…å­˜å°±æ°¸è¿œä¸ä¼šè¢«å›æ”¶closure();//æœ€ååº”å°†oDivè§£é™¤å¼•ç”¨æ¥é¿å…å†…å­˜æ³„éœ²function closure()&#123; var oDiv = document.getElementById('oDiv'); var test = oDiv.innerHTML; oDiv.onclick = function () &#123; alert(test); &#125;; oDiv = null;&#125;// è§£å†³åŠæ³•: æŠŠ oDiv.innerHTML çš„ä¸€ä¸ªå‰¯æœ¬ä¿å­˜åœ¨ä¸€ä¸ªå˜é‡ä¸­ï¼Œ// ä»è€Œæ¶ˆé™¤é—­åŒ…ä¸­è¯¥å˜é‡çš„å¾ªç¯å¼•ç”¨,åŒæ—¶å°† oDiv å˜é‡è®¾ä¸ºnullã€‚ å¥½äº†ï¼Œæœ‰å…³JSçš„åƒåœ¾å›æ”¶æœºåˆ¶å°±å†™åˆ°è¿™é‡Œï¼Œæƒ³è¦äº†è§£æ›´å¤šå¯ä»¥ç‚¹å‡»ä¸‹é¢çš„èµ„æºé“¾æ¥~ å®Œã€‚ èµ„æº Garbage collection å‡ ç§åƒåœ¾å›æ”¶ç®—æ³• V8 ä¹‹æ—…ï¼š åƒåœ¾å›æ”¶å™¨]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>JS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Vueæ•°æ®å“åº”å¼çš„ç®€å•å®ç°]]></title>
    <url>%2Fposts%2F44406%2F</url>
    <content type="text"><![CDATA[ä»Šå¤©æ¥å®ç°ä¸€ä¸ªç®€å•çš„ Vue æ•°æ®å“åº”å¼ï¼Œæœ€ç»ˆè¾¾åˆ°ä¸¤ä¸ªåŸºæœ¬æ•ˆæœï¼š å½“ç”¨æˆ·åœ¨ input ä¸­è¾“å…¥å†…å®¹æ—¶ï¼Œæ–‡æœ¬èŠ‚ç‚¹ä¼šè·Ÿç€æ”¹å˜ å½“ç›´æ¥æ›´æ–° message å±æ€§åï¼Œé¡µé¢ä¸­ input æ ‡ç­¾å’Œæ–‡æœ¬èŠ‚ç‚¹çš„å€¼ä¼šè·Ÿç€æ”¹å˜ æœ€ç»ˆæ•ˆæœï¼š åŸç†Vue å®ç°æ•°æ®å“åº”å¼çš„æ ¸å¿ƒåŸç†æ˜¯ï¼šå€ŸåŠ©å‘å¸ƒ/è®¢é˜…æ¨¡å¼ + æ•°æ®åŠ«æŒ ã€‚ åˆ›å»º vue å®ä¾‹æ—¶æ·±åº¦éå† data ä¸‹æ‰€æœ‰å±æ€§ï¼Œåˆ©ç”¨ Object.defineProperty æŠŠå±æ€§è½¬ä¸º getter/setterã€‚ Vue å®ç°äº† å‘å¸ƒè®¢é˜…è€…æ¨¡å¼ï¼Œåœ¨æ¨¡æ¿ç¼–è¯‘è¿‡ç¨‹ä¸­è§£æ Vue æŒ‡ä»¤ï¼Œç»™ç»„ä»¶ä¸­çš„å±æ€§æ·»åŠ ä¸Šç›¸åº”è®¢é˜…è€…ï¼ˆWatcherï¼‰ï¼Œè¿™æ ·åœ¨æ•°æ®å˜æ›´åä¼šè§¦å‘ç›¸åº”å±æ€§çš„ setter ï¼Œé€šè¿‡æ¶ˆæ¯è®¢é˜…å™¨ï¼ˆDepï¼‰å‘æ¶ˆæ¯ç»™æ‰€æœ‰è®¢é˜…è€…ï¼ˆWatcherï¼‰ï¼Œä»è€Œè§¦å‘ç›¸åº”ç»„ä»¶çš„æ›´æ–°ã€‚ æ–‡ä»¶ç»“æ„12345678.â”œâ”€â”€ Compiler.js # æŒ‡ä»¤è§£æå™¨â”œâ”€â”€ Dep.js # æ¶ˆæ¯è®¢é˜…å™¨â”œâ”€â”€ Observer.js # è§‚å¯Ÿè€…â”œâ”€â”€ Vue.js # Vueçš„ç®€å•å®ç°â”œâ”€â”€ Watcher.js # è®¢é˜…è€…â”œâ”€â”€ index.htmlâ””â”€â”€ main.js # å…¥å£æ–‡ä»¶ å…·ä½“ä»£ç index.htmlåŒ…å«ä¸€ä¸ª input æ ‡ç­¾å’Œæ–‡æœ¬èŠ‚ç‚¹ã€‚ 12345678910111213141516171819&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt; &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt; &lt;title&gt;Document&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;div id="app"&gt; &lt;input type="text" v-model="message"&gt; &#123;&#123;message&#125;&#125; &lt;/div&gt; &lt;script src="dist/main.js"&gt;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt; Dep.js æ¶ˆæ¯è®¢é˜…å™¨å‘å¸ƒè®¢é˜…è€…æ¨¡å¼çš„ç®€å•å®ç°ã€‚åŒ…å«æ ¸å¿ƒæ–¹æ³• listen ä»¥åŠ notify ï¼Œlisten è´Ÿè´£ç»™å±æ€§æ·»åŠ è®¢é˜…è€…ï¼Œnotify è´Ÿè´£åœ¨å±æ€§å‘ç”Ÿå˜åŒ–æ—¶é€šçŸ¥æ‰€æœ‰è¯¥å±æ€§çš„è®¢é˜…è€…ã€‚ 123456789101112131415161718192021class Dep &#123; constructor() &#123; console.log("ã€Depã€‘å®ä¾‹åŒ–äº†ä¸€ä¸ªæ¶ˆæ¯è®¢é˜…å™¨") // è®¢é˜…è€…æ•°ç»„ this.list = []; &#125; listen(sub) &#123; // è°è¦è®¢é˜…æˆ‘ï¼Œå°±è°ƒç”¨listenï¼ŒæŠŠè‡ªå·±æ·»åŠ è¿›è®¢é˜…è€…æ•°ç»„ä¸­å» this.list.push(sub); &#125; notify() &#123; // å½“å±æ€§å‘ç”Ÿå˜åŒ–åï¼Œä¼šåœ¨ setter ä¸­è°ƒç”¨æ­¤æ–¹æ³•ï¼Œ // æ¶ˆæ¯è®¢é˜…è€…é€šçŸ¥è®¢é˜…è€…æ•°ç»„ä¸­çš„æ‰€æœ‰äººæ‰§è¡Œupdateæ“ä½œ this.list.forEach(function (item, index) &#123; item.update(); &#125;); &#125;&#125;Dep.prototype.target = null;export default Dep; main.js å…¥å£æ–‡ä»¶è¯¥æ–‡ä»¶ä¸­ new ä¸€ä¸ª Vue å®ä¾‹ï¼Œå¹¶æŠŠè¯¥å®ä¾‹æŒ‚è½½åˆ° window å¯¹è±¡ä¸Šã€‚ 123456789import Vue from './Vue'var vm = new Vue(&#123; el: '#app', data: &#123; message: 'lance' &#125;&#125;)window.vm = vm; Observer.js è§‚å¯Ÿè€…æ·±åº¦éå† data ä¸‹çš„æ‰€æœ‰å±æ€§ï¼Œåˆ©ç”¨ Object.defineProperty æŠŠå±æ€§è½¬ä¸º getter/setter ï¼Œå¹¶åœ¨æ­¤è¿‡ç¨‹ä¸­ç»™æ¯ä¸ªå±æ€§éƒ½ç»‘å®šä¸Šå‘å¸ƒ/è®¢é˜…æ¨¡å—ã€‚ 1234567891011121314151617181920212223242526272829import Dep from './Dep';class Observer &#123; constructor(data) &#123; this.data = data; Object.keys(this.data).forEach(key =&gt; &#123; this._bind(data, key, data[key]); &#125;); &#125; _bind(data, key, val) &#123; var myDep = new Dep(); Object.defineProperty(data, key, &#123; // æ–°å»ºvmå®ä¾‹æ—¶ï¼Œç»™dataæ·»åŠ å±æ€§å°±æ˜¯ç¬¬ä¸€æ¬¡èµ‹å€¼ï¼Œå°±è°ƒç”¨äº†get get() &#123; // ç¬¬ä¸€æ¬¡è®¿é—®è¿™ä¸ªå±æ€§æ—¶ // æŠŠè®¢é˜…è€…(Watcherå¯¹è±¡)æ³¨å…¥å‘å¸ƒ/è®¢é˜…æ¨¡å— // åç»­è®¿é—®å°±ä¸ç”¨å†æ·»åŠ è¿™ä¸ªå±æ€§çš„è®¢é˜…è€…äº† if (Dep.target) myDep.listen(Dep.target); return val &#125;, set(newValue) &#123; if (newValue === val) return val = newValue; myDep.notify(); &#125; &#125;); &#125;&#125;export default Observer; Watcher.js è®¢é˜…è€…å®ç° update æ–¹æ³•ï¼Œåœ¨å±æ€§å‘ç”Ÿå˜åŒ–æ—¶æ”¶åˆ°é€šçŸ¥å¹¶æ‰§è¡Œå®ƒï¼Œä»è€Œæ›´æ–°ç»„ä»¶æ•°æ®ã€‚ 1234567891011121314151617181920212223import Dep from './Dep';class Watcher &#123; // watcheréœ€è¦å½“å‰ç»„ä»¶ä¸­çš„ï¼š // ã€èŠ‚ç‚¹ã€‘ï¼Œã€èŠ‚ç‚¹ä¸Šç›¸å…³çš„dataå±æ€§ã€‘ï¼Œã€vmå®ä¾‹ã€‘ constructor(node, name, vm) &#123; this.node = node; this.name = name; this.vm = vm; // å°†æ¶ˆæ¯è®¢é˜…å™¨å®ä¾‹çš„å½“å‰è®¢é˜…è€…è®¾ç½®ä¸ºè‡ªå·± Dep.target = this; this.update() Dep.target = null; &#125; update() &#123; // å¾—åˆ°æ•°æ®å˜æ›´é€šçŸ¥åæ›´æ–°ç»„ä»¶ if (this.node.nodeType === 1) &#123; this.node.value = this.vm[this.name]; &#125; this.node.nodeValue = this.vm[this.name]; &#125;&#125;export default Watcher; Compiler.js æŒ‡ä»¤è§£æå™¨è´Ÿè´£è§£ææŒ‚è½½åˆ° Vue ä¸Šçš„ html æ¨¡æ¿ï¼Œæ‰¾å‡º Vue ç›¸å…³çš„æŒ‡ä»¤ã€‚ä¾‹å¦‚é‡åˆ° input æ ‡ç­¾ä¸Šæœ‰ v-model ï¼Œåˆ™ç»™ç»‘å®šçš„å±æ€§æ·»åŠ è®¢é˜…è€…ï¼ˆWatcherï¼‰ï¼Œå¹¶ä¸º input æ ‡ç­¾æ·»åŠ  input äº‹ä»¶ï¼Œåœ¨ç”¨æˆ·è¾“å…¥ value åæ›´æ”¹ data ä¸­ç›¸åº”å±æ€§çš„å€¼ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657import Watcher from './Watcher';// è¾¨è®¤ &#123;&#123;&#125;&#125; çš„æ­£åˆ™const REG = /\&#123;\&#123;(.*)\&#125;\&#125;/class Compiler &#123; constructor(el, vm) &#123; this.el = document.querySelector(el); this.vm = vm; this.frag = this._createFragment() this.el.appendChild(this.frag); &#125; _createFragment() &#123; var frag = document.createDocumentFragment(); var child; // éå†æŒ‚è½½å¯¹è±¡ä¸‹çš„æ‰€æœ‰èŠ‚ç‚¹ while (child = this.el.firstChild) &#123; this._compile(child); frag.appendChild(child); &#125; return frag; &#125; _compile(node) &#123; var self = this; // ç±»å‹ä¸ºå…ƒç´  if (node.nodeType === 1) &#123; var attr = node.attributes; if (attr.hasOwnProperty('v-model')) &#123; var name = attr['v-model'].nodeValue; // æ·»åŠ  input ç›‘å¬äº‹ä»¶ node.addEventListener('input', function(e) &#123; self.vm[name] = e.target.value; &#125;); node.value = this.vm[name]; // ç»™è¯¥å±æ€§æ·»åŠ è®¢é˜…è€… new Watcher(node, name, this.vm); &#125; &#125; // å…ƒç´ ä¸ºæ–‡æœ¬ if (node.nodeType === 3) &#123; // ç›®æ ‡ï¼šè½¬åŒ–htmlä¸­çš„ &#123;&#123;message&#125;&#125; å’Œ ç»‘ä¸Šwatcher if (REG.test(node.nodeValue)) &#123; // è·å–åŒ¹é…åˆ°çš„å­—ç¬¦ä¸² var name = RegExp.$1; name = name.trim(); // ç»™å…ƒç´ æ·»åŠ è®¢é˜…è€…ï¼Œå½“vmå®ä¾‹çš„æ•°æ®å‘ç”Ÿæ”¹å˜æ—¶, // èƒ½æ”¶åˆ°é€šçŸ¥å¹¶è§¦å‘watcherä¸­çš„updateæ¥æ›´æ–°å…ƒç´ ä¸Šçš„å€¼ // ä¼ é€’ï¼š // nodeèŠ‚ç‚¹ï¼ˆå› ä¸ºè¦æ”¹å˜å…ƒç´ ä¸­çš„å€¼ï¼‰ // nameå±æ€§å // å®ä¾‹vmï¼ˆä¸ºäº†è°ƒç”¨vmä¸‹çš„å±æ€§ï¼‰ console.log("ã€Compilerã€‘è§£æåˆ°æ–‡æœ¬å…ƒç´ ï¼Œç»™å®ƒåˆ›å»ºä¸€ä¸ªwatcherå®ä¾‹") new Watcher(node, name, this.vm); &#125; &#125; &#125;&#125;export default Compiler; Vue.jsè°ƒç”¨ Compiler å’Œ Observer ï¼Œå®ç°æ•°æ®å“åº”å¼ã€‚ 12345678910111213141516171819202122232425262728293031import Observer from './Observer';import Compiler from './Compiler';class Vue &#123; constructor(options) &#123; this.$options = options; this.$el = this.$options.el; this._data = this.$options.data; Object.keys(this._data).forEach(key =&gt; &#123; this._proxy(key); &#125;); new Observer(this._data); new Compiler(this.$el, this); &#125; // æ¯æ¬¡è·å–æˆ–èµ‹å€¼dataä¸­çš„å±æ€§æ—¶è¿™æ ·å†™ä»£ç ï¼š // Vue.$options.data.message å¾ˆé•¿ // æˆ‘ä»¬çš„æœŸæœ›ï¼šVue.message _proxy(key) &#123; var self = this; Object.defineProperty(this, key, &#123; get () &#123; return self._data[key]; &#125;, set (value) &#123; self._data[key] = value; &#125; &#125;); &#125;&#125;export default Vue æœ€åæ ¹ç›®å½•ä¸‹è¿è¡Œ webpack main.js è¿›è¡Œæ‰“åŒ…ï¼Œæµè§ˆå™¨è¿è¡Œ index.html æ–‡ä»¶åä¾¿èƒ½çœ‹åˆ°æ–‡ç« å¼€å¤´çš„å®ç°æ•ˆæœï¼Œå®Œã€‚]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>æ¡†æ¶</category>
      </categories>
      <tags>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JSä¸¥æ ¼æ¨¡å¼vséä¸¥æ ¼æ¨¡å¼]]></title>
    <url>%2Fposts%2F15966%2F</url>
    <content type="text"><![CDATA[å‰è¨€ä»¥ä¸‹ä¸ºã€ŠJavaScripté«˜çº§ç¨‹åºè®¾è®¡ï¼ˆç¬¬3ç‰ˆï¼‰ã€‹ä¸­æœ‰å…³ ä¸¥æ ¼æ¨¡å¼ çš„ç¬”è®°ã€‚ ä»‹ç»â€œä¸¥æ ¼æ¨¡å¼â€ æ˜¯ ECMAScript5 æœ€æ—©å¼•å…¥çš„æ¦‚å¿µã€‚å¯ä»¥åœ¨å‡½æ•°å†…éƒ¨é€‰æ‹©è¿›è¡Œè¾ƒä¸ºä¸¥æ ¼çš„å…¨å±€æˆ–å±€éƒ¨çš„é”™è¯¯æ¡ä»¶æ£€æµ‹ã€‚ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼çš„å¥½å¤„æ˜¯å¯ä»¥ææ—©çŸ¥é“ä»£ç ä¸­å­˜åœ¨çš„é”™è¯¯ï¼ŒåŠæ—¶æ•è·ä¸€äº›å¯èƒ½å¯¼è‡´ç¼–ç¨‹é”™è¯¯çš„ ECMAScript è¡Œä¸ºã€‚ å¦‚ä½•ä½¿ç”¨åœ¨JSæ–‡ä»¶ä»£ç çš„é¡¶éƒ¨æˆ–è€…å‡½æ•°ä¸­è¾“å…¥ä¸‹é¢å­—ç¬¦ä¸²æ¥å¼€å¯ä¸¥æ ¼æ¨¡å¼ï¼š 12345678"use strict";orfunction fn() &#123; "use strict"; ...&#125; ä¸¥æ ¼æ¨¡å¼ VS éä¸¥æ ¼æ¨¡å¼å˜é‡åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œä¸å…è®¸æ„å¤–çš„åˆ›å»ºå…¨å±€å˜é‡ï¼š 12345// æœªå£°æ˜å˜é‡message = "Hello world";// éä¸¥æ ¼æ¨¡å¼: åˆ›å»ºå…¨å±€å˜é‡// ä¸¥æ ¼æ¨¡å¼: æŠ›å‡º ReferenceError ä¸èƒ½å¯¹å˜é‡è°ƒç”¨ delete æ“ä½œç¬¦ï¼š 123456var color = "red";// åˆ é™¤å˜é‡delete color;// éä¸¥æ ¼æ¨¡å¼: é™é»˜å¤±è´¥// ä¸¥æ ¼æ¨¡å¼: æŠ›å‡º ReferenceError ä¸¥æ ¼æ¨¡å¼ä¸‹å¯¹å˜é‡åä¹Ÿæœ‰é™åˆ¶ã€‚ ä¸èƒ½ä½¿ç”¨ implementsã€interfaceã€letã€packageã€ privateã€protectedã€publicã€static å’Œ yield ä½œä¸ºå˜é‡åã€‚è¿™äº›éƒ½æ˜¯ä¿ç•™å­—ï¼Œå°†æ¥çš„ ECMAScript ç‰ˆæœ¬ä¸­å¯èƒ½ä¼šç”¨åˆ°å®ƒä»¬ã€‚åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œç”¨ä»¥ä¸Šæ ‡è¯†ç¬¦ä½œä¸ºå˜é‡åä¼šå¯¼è‡´è¯­æ³•é”™è¯¯ã€‚ å¯¹è±¡åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹æ“ä½œå¯¹è±¡æ¯”åœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹æ›´å®¹æ˜“å¯¼è‡´é”™è¯¯ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œéä¸¥æ ¼æ¨¡å¼ä¸‹ä¼šé™é»˜å¤±è´¥çš„ æƒ…å½¢ï¼Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹å°±ä¼šæŠ›å‡ºé”™è¯¯ã€‚å› æ­¤ï¼Œåœ¨å¼€å‘ä¸­ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼ä¼šåŠ å¤§æ—©å‘ç°é”™è¯¯çš„å¯èƒ½æ€§ã€‚ åœ¨ä¸‹åˆ—æƒ…å½¢ä¸‹æ“ä½œå¯¹è±¡çš„å±æ€§ä¼šå¯¼è‡´é”™è¯¯: ä¸ºåªè¯»å±æ€§èµ‹å€¼ä¼šæŠ›å‡º TypeError; å¯¹ä¸å¯é…ç½®çš„(nonconfigurable)çš„å±æ€§ä½¿ç”¨ delete æ“ä½œç¬¦ä¼šæŠ›å‡º TypeError; ä¸ºä¸å¯æ‰©å±•çš„(nonextensible)çš„å¯¹è±¡æ·»åŠ å±æ€§ä¼šæŠ›å‡º TypeErrorã€‚ ä½¿ç”¨å¯¹è±¡çš„å¦ä¸€ä¸ªé™åˆ¶ä¸é€šè¿‡å¯¹è±¡å­—é¢é‡å£°æ˜å¯¹è±¡æœ‰å…³ã€‚åœ¨ä½¿ç”¨å¯¹è±¡å­—é¢é‡æ—¶ï¼Œå±æ€§åå¿…é¡»å”¯ä¸€ã€‚ ä¾‹å¦‚ï¼š 12345678// é‡åå±æ€§var person = &#123; name: "Nicholas", name: "Greg"&#125;;// éä¸¥æ ¼æ¨¡å¼: æ²¡æœ‰é”™è¯¯ï¼Œä»¥ç¬¬äºŒä¸ªå±æ€§ä¸ºå‡†// ä¸¥æ ¼æ¨¡å¼: æŠ›å‡ºè¯­æ³•é”™è¯¯ å‡½æ•°å‡½æ•°çš„å‘½åå‚æ•°ä¸¥æ ¼æ¨¡å¼è¦æ±‚å‘½åå‡½æ•°çš„å‚æ•°å¿…é¡»å”¯ä¸€ã€‚ä¾‹å¦‚ï¼š 1234567// é‡åå‚æ•°function sum(num, num) &#123; // do something&#125;// éä¸¥æ ¼æ¨¡å¼: æ²¡æœ‰é”™è¯¯ï¼Œåªèƒ½è®¿é—®ç¬¬äºŒä¸ªå‚æ•°//ä¸¥æ ¼æ¨¡å¼: æŠ›å‡ºè¯­æ³•é”™è¯¯ åœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œè¿™ä¸ªå‡½æ•°å£°æ˜ä¸ä¼šæŠ›å‡ºé”™è¯¯ã€‚é€šè¿‡å‚æ•°ååªèƒ½è®¿é—®ç¬¬äºŒä¸ªå‚æ•°ï¼Œè¦è®¿é—®ç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»é€šè¿‡ arguments å¯¹è±¡ã€‚ argumentsarguments å¯¹è±¡çš„è¡Œä¸ºæ‰€ä¸åŒã€‚ åœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œä¿®æ”¹å‘½åå‚æ•°çš„å€¼ä¹Ÿä¼šåæ˜ åˆ° arguments å¯¹è±¡ä¸­ã€‚ è€Œä¸¥æ ¼æ¨¡å¼ä¸‹è¿™ä¸¤ä¸ªå€¼æ˜¯å®Œå…¨ç‹¬ç«‹çš„ã€‚ ä¾‹å¦‚ï¼š 1234567// ä¿®æ”¹å‘½åå‚æ•°çš„å€¼function showValue(value) &#123; value = "Foo"; alert(value); //"Foo" alert(arguments[0]); // éä¸¥æ ¼æ¨¡å¼: "Foo" &lt;---&gt; ä¸¥æ ¼æ¨¡å¼: "Hi"&#125;showValue("Hi"); ä»¥ä¸Šä»£ç ä¸­ï¼Œå‡½æ•° showValue() åªæœ‰ä¸€ä¸ªå‘½åå‚æ•° valueã€‚è°ƒç”¨è¿™ä¸ªå‡½æ•°æ—¶ä¼ å…¥äº†ä¸€ä¸ªå‚æ•°â€Hiâ€ï¼Œ è¿™ä¸ªå€¼èµ‹ç»™äº† valueã€‚è€Œåœ¨å‡½æ•°å†…éƒ¨ï¼Œvalue è¢«æ”¹ä¸ºâ€Fooâ€ã€‚åœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œè¿™ä¸ªä¿®æ”¹ä¹Ÿä¼šæ”¹å˜ arguments[0] çš„å€¼ï¼Œä½†åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œarguments[0] çš„å€¼ä»ç„¶æ˜¯ä¼ å…¥çš„å€¼ã€‚ å¦ä¸€ä¸ªå˜åŒ–æ˜¯æ·˜æ±°äº† arguments.callee å’Œ arguments.callerã€‚åœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œè¿™ä¸¤ä¸ªå±æ€§ä¸€ä¸ªå¼•ç”¨å‡½æ•°æœ¬èº«ï¼Œä¸€ä¸ªå¼•ç”¨è°ƒç”¨å‡½æ•°ã€‚è€Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œè®¿é—®å“ªä¸ªå±æ€§éƒ½ä¼šæŠ›å‡º TypeErrorã€‚ ä¾‹å¦‚ï¼š 123456789101112// è®¿é—® arguments.calleefunction factorial(num)&#123; if (num &lt;= 1) &#123; return 1; &#125; else &#123; return num * arguments.callee(num-1) &#125;&#125;var result = factorial(5);// éä¸¥æ ¼æ¨¡å¼: æ²¡æœ‰é—®é¢˜// ä¸¥æ ¼æ¨¡å¼: æŠ›å‡º TypeError ç±»ä¼¼åœ°ï¼Œå°è¯•è¯»å†™å‡½æ•°çš„ caller å±æ€§ï¼Œä¹Ÿä¼šå¯¼è‡´æŠ›å‡º TypeErrorã€‚æ‰€ä»¥ï¼Œå¯¹äºä¸Šé¢çš„ä¾‹å­è€Œè¨€ï¼Œ è®¿é—® factorial.caller ä¹Ÿä¼šæŠ›å‡ºé”™è¯¯ã€‚ å‡½æ•°åä¸å˜é‡ç±»ä¼¼ï¼Œä¸¥æ ¼æ¨¡å¼å¯¹å‡½æ•°åä¹Ÿåšå‡ºäº†é™åˆ¶ï¼Œä¸å…è®¸ç”¨ implementsã€interfaceã€letã€packageã€privateã€protectedã€publicã€static å’Œ yield ä½œä¸ºå‡½æ•°åã€‚ å‡½æ•°å£°æ˜çš„ä½ç½®åªèƒ½åœ¨è„šæœ¬çš„é¡¶çº§å’Œåœ¨å‡½æ•°å†…éƒ¨å£°æ˜å‡½æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ if è¯­å¥ä¸­å£°æ˜å‡½æ•°ä¼šå¯¼è‡´è¯­æ³•é”™è¯¯ï¼š 12345678//åœ¨ if è¯­å¥ä¸­å£°æ˜å‡½æ•°if (true)&#123; function doSomething() &#123; //... &#125;&#125;// éä¸¥æ ¼æ¨¡å¼: å°†å‡½æ•°æå‡åˆ° if è¯­å¥å¤–éƒ¨// ä¸¥æ ¼æ¨¡å¼: æŠ›å‡ºè¯­æ³•é”™è¯¯ eval()evalåœ¨åŒ…å«ä¸Šä¸‹æ–‡ä¸­ä¸å†åˆ›å»ºå˜é‡æˆ–å‡½æ•°ã€‚ä¾‹å¦‚ï¼š 1234567//ä½¿ç”¨ eval() åˆ›å»ºå˜é‡function doSomething() &#123; eval("var x=10"); alert(x);&#125;// éä¸¥æ ¼æ¨¡å¼: å¼¹å‡ºå¯¹è¯æ¡†æ˜¾ç¤º 10// ä¸¥æ ¼æ¨¡å¼: è°ƒç”¨ alert(x) æ—¶ä¼šæŠ›å‡º ReferenceError å¦‚æœæ˜¯åœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œä»¥ä¸Šä»£ç ä¼šåœ¨å‡½æ•° doSomething() ä¸­åˆ›å»ºä¸€ä¸ªå±€éƒ¨å˜é‡ xï¼Œç„¶å alert() è¿˜ä¼šæ˜¾ç¤ºè¯¥å˜é‡çš„å€¼ã€‚ä½†åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œåœ¨ doSomething() å‡½æ•°ä¸­è°ƒç”¨ eval() ä¸ä¼šåˆ›å»ºå˜é‡ xï¼Œå› æ­¤ è°ƒç”¨ alert() ä¼šå¯¼è‡´æŠ›å‡º ReferenceErrorï¼Œå› ä¸º x æ²¡æœ‰å®šä¹‰ã€‚ å¯ä»¥åœ¨ eval() ä¸­å£°æ˜å˜é‡å’Œå‡½æ•°ï¼Œä½†è¿™äº›å˜é‡æˆ–å‡½æ•°åªèƒ½åœ¨è¢«æ±‚å€¼çš„ç‰¹æ®Šä½œç”¨åŸŸä¸­æœ‰æ•ˆï¼Œéšåå°± å°†è¢«é”€æ¯ã€‚å› æ­¤ï¼Œä»¥ä¸‹ä»£ç å¯ä»¥è¿è¡Œï¼Œæ²¡æœ‰é—®é¢˜ï¼š 123"use strict";var result = eval("var x=10, y=11; x+y");alert(result); //21 è¿™é‡Œåœ¨ eval() ä¸­å£°æ˜äº†å˜é‡ x å’Œ yï¼Œç„¶åå°†å®ƒä»¬åŠ åœ¨ä¸€èµ·ï¼Œè¿”å›äº†å®ƒä»¬çš„å’Œã€‚äºæ˜¯ï¼Œresult å˜ é‡çš„å€¼æ˜¯ 21ï¼Œå³ x å’Œ y ç›¸åŠ çš„ç»“æœã€‚è€Œåœ¨è°ƒç”¨ alert() æ—¶ï¼Œå°½ç®¡ x å’Œ y å·²ç»ä¸å­˜åœ¨äº†ï¼Œresult å˜é‡çš„å€¼ä»ç„¶æ˜¯æœ‰æ•ˆçš„ã€‚ eval ä¸ argumentsä¸¥æ ¼æ¨¡å¼å·²ç»æ˜ç¡®ç¦æ­¢ä½¿ç”¨ eval å’Œ arguments ä½œä¸ºæ ‡è¯†ç¬¦ï¼Œä¹Ÿä¸å…è®¸è¯»å†™å®ƒä»¬çš„å€¼ã€‚ä¾‹å¦‚ï¼š 12345// æŠŠ eval å’Œ arguments ä½œä¸ºå˜é‡å¼•ç”¨var eval = 10;var arguments = "Hello world!";// éä¸¥æ ¼æ¨¡å¼: æ²¡é—®é¢˜ï¼Œä¸å‡ºé”™// ä¸¥æ ¼æ¨¡å¼: æŠ›å‡ºè¯­æ³•é”™è¯¯ åœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå¯ä»¥é‡å†™ evalï¼Œä¹Ÿå¯ä»¥ç»™ arguments èµ‹å€¼ã€‚ä½†åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œè¿™æ ·åšä¼šå¯¼è‡´è¯­ æ³•é”™è¯¯ã€‚ä¸èƒ½å°†å®ƒä»¬ç”¨ä½œæ ‡è¯†ç¬¦ï¼Œæ„å‘³ç€ä»¥ä¸‹å‡ ç§ä½¿ç”¨æ–¹å¼éƒ½ä¼šæŠ›å‡ºè¯­æ³•é”™è¯¯ï¼š ä½¿ç”¨varå£°æ˜ èµ‹äºˆå¦ä¸€ä¸ªå€¼ å°è¯•ä¿®æ”¹åŒ…å«çš„å€¼ï¼Œå¦‚ä½¿ç”¨++ ç”¨ä½œå‡½æ•°å ç”¨ä½œå‘½åçš„å‡½æ•°å‚æ•° åœ¨ try-catch è¯­å¥ä¸­ç”¨ä½œä¾‹å¤–å æŠ‘åˆ¶ thisåœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹ä½¿ç”¨å‡½æ•°çš„ apply() æˆ– call() æ–¹æ³•æ—¶ï¼Œnull æˆ– undefined å€¼ä¼šè¢«è½¬æ¢ä¸ºå…¨å±€å¯¹è±¡ã€‚è€Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå‡½æ•°çš„ this å€¼å§‹ç»ˆæ˜¯æŒ‡å®šçš„å€¼ï¼Œæ— è®ºæŒ‡å®šçš„æ˜¯ä»€ä¹ˆå€¼ã€‚ä¾‹å¦‚ï¼š 12345678//è®¿é—®å±æ€§var color = "red";function displayColor() &#123; alert(this.color);&#125;displayColor.call(null);// éä¸¥æ ¼æ¨¡å¼: è®¿é—®å…¨å±€å±æ€§// ä¸¥æ ¼æ¨¡å¼: æŠ›å‡ºé”™è¯¯ï¼Œå› ä¸º this çš„å€¼ä¸º null ä»¥ä¸Šä»£ç å‘ displayColor.call() ä¸­ä¼ å…¥äº† nullï¼Œå¦‚æœåœ¨æ˜¯éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œè¿™æ„å‘³ç€å‡½æ•°çš„ this å€¼æ˜¯å…¨å±€å¯¹è±¡ã€‚ç»“æœå°±æ˜¯å¼¹å‡ºå¯¹è¯æ¡†æ˜¾ç¤ºâ€redâ€ã€‚è€Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œè¿™ä¸ªå‡½æ•°çš„ this çš„å€¼æ˜¯ nullï¼Œå›  æ­¤åœ¨è®¿é—® null çš„å±æ€§æ—¶å°±ä¼šæŠ›å‡ºé”™è¯¯ã€‚ å…¶ä»–å˜åŒ–withæŠ›å¼ƒäº† with è¯­å¥ã€‚éä¸¥æ ¼æ¨¡å¼ä¸‹çš„ with è¯­å¥èƒ½å¤Ÿæ”¹å˜è§£ææ ‡è¯†ç¬¦çš„è·¯å¾„ï¼Œä½†åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œwith è¢«ç®€åŒ–æ‰äº†ã€‚å› æ­¤ï¼Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ä½¿ç”¨ with ä¼šå¯¼è‡´è¯­æ³•é”™è¯¯ã€‚ä¾‹å¦‚ï¼š 123456//with çš„è¯­å¥ç”¨æ³•with(location) &#123; alert(href);&#125;// éä¸¥æ ¼æ¨¡å¼: å…è®¸// ä¸¥æ ¼æ¨¡å¼: æŠ›å‡ºè¯­æ³•é”™è¯¯ å…«è¿›åˆ¶å­—é¢é‡ä¸¥æ ¼æ¨¡å¼ä¹Ÿå»æ‰äº† JavaScript ä¸­çš„å…«è¿›åˆ¶å­—é¢é‡ã€‚ä»¥ 0 å¼€å¤´çš„å…«è¿›åˆ¶å­—é¢é‡è¿‡å»ç»å¸¸ä¼šå¯¼è‡´å¾ˆå¤šé”™ è¯¯ã€‚åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå…«è¿›åˆ¶å­—é¢é‡å·²ç»æˆä¸ºæ— æ•ˆçš„è¯­æ³•äº†ã€‚ä¾‹å¦‚ï¼š 1234//ä½¿ç”¨å…«è¿›åˆ¶å­—é¢é‡var value = 010;// éä¸¥æ ¼æ¨¡å¼: å€¼ä¸º 8// ä¸¥æ ¼æ¨¡å¼: æŠ›å‡ºè¯­æ³•é”™è¯¯ ECMAScript5 ä¹Ÿä¿®æ”¹äº†ä¸¥æ ¼æ¨¡å¼ä¸‹ parseInt() çš„è¡Œä¸ºã€‚å¦‚ä»Šï¼Œå…«è¿›åˆ¶å­—é¢é‡åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ä¼šè¢«å½“ä½œä»¥ 0 å¼€å¤´çš„åè¿›åˆ¶å­—é¢é‡ã€‚ä¾‹å¦‚ï¼š 1234//ä½¿ç”¨ parseInt() è§£æå…«è¿›åˆ¶å­—é¢é‡var value = parseInt("010");// éä¸¥æ ¼æ¨¡å¼: å€¼ä¸º 8// ä¸¥æ ¼æ¨¡å¼: å€¼ä¸º 10]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>JS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Vue+Koaå®ç°cookieä¼ è¾“]]></title>
    <url>%2Fposts%2F26486%2F</url>
    <content type="text"><![CDATA[åç«¯ç™»å½•æ¥å£è®¾ç½® cookieï¼š 1234567891011121314router.post('/login', async ctx =&gt; &#123; ... let user = &#123; username: 'Lance', age: 20, ... &#125; ctx.cookies.set('username', user.username), &#123; // httpOnlyï¼šè¡¨ç¤ºå½“å‰è®¾ç½®çš„cookieæ˜¯å¦å…è®¸å®¢æˆ·ç«¯è¿›è¡Œæ“ä½œï¼ˆjsï¼‰ // é»˜è®¤trueï¼Œè¡¨ç¤ºè¿™ä¸ªcookieèƒ½ç”¨äºhttpåè®®çš„æ•°æ®ä¼ è¾“ï¼Œä½†ä¸å…è®¸jsæ“ä½œå’Œç¯¡æ”¹ httpOnly: false, &#125;); ...&#125;); è¯»å–æµè§ˆå™¨è‡ªåŠ¨å¸¦ä¸Šçš„cookieï¼š 123456router.post(&apos;/like&apos;, async ctx =&gt; &#123; ... // ä»cookieä¸­è¯»å– username let username = ctx.cookies.get(&apos;username&apos;); ...&#125;); æ–‡æ¡£ï¼šKoa - response å‰ç«¯123456789101112131415161718created() &#123; // ä»cookieä¸­è·å–ç”¨æˆ·ä¿¡æ¯cookie // å¦‚æœæœ‰cookie if (document.cookie) &#123; // cookie = "uid=1; username=admin;" =&gt; ['uid=1', 'username=admin'] let arr1 = document.cookie.split("; "); let cookiesArr = arr1.map(item =&gt; &#123; // item = "uid=1" =&gt; ['uid', 1] let arr2 = item.split("="); return &#123; [arr2[0]]: arr2[1] &#125; &#125;); // &#123;uid: "6", username: "YWRtaW4"&#125; let cookie = Object.assign(&#123;&#125;, ...cookiesArr); ... &#125;&#125;, åç«¯cookieçš„åŠ å¯†åœ¨ app.js ä¸­æ·»åŠ å¯†é’¥ï¼š 123const app = new Koa();// å¯†é’¥app.keys = ['sw_lance']; ç„¶ååœ¨ routers/main.js è·¯ç”±ä¸­çš„cookieè®¾ç½®ä¸­å¢åŠ ä¸€ä¸ªå­—æ®µï¼š 1234// è®¾ç½®cookiectx.cookies.set('username', user.username, &#123; signed: true, // ä½¿ç”¨åŠ å¯†æ–¹å¼å¤„ç†&#125;); è¿™æ ·å°±èƒ½åŠ å¯†äº†ï¼Œä½†åœ¨å‰ç«¯chromeä¸‹æŸ¥çœ‹cookieä¼šå‘ç°ï¼Œè™½ç„¶æœ‰äº†åŠ å¯†cookieï¼Œä½†æ˜æ–‡çš„cookieä»ç„¶åœ¨ï¼š åç«¯sessionåŠ å¯†é¦–å…ˆä»ç„¶è¦åœ¨ app.js ä¸­æ·»åŠ å¯†é’¥ï¼š 1234const app = new Koa();// å¯†é’¥app.keys = ['sw_lance'];npm i koa-session åœ¨ app.js ä¸­å¼•å…¥ï¼š 123456789101112131415const session = require("koa-session")const app = new Koa();// å¯†é’¥app.keys = ['sw_lance'];const CONFIG = &#123; key: 'koa:sess', maxAge: 86400000, autoCommit: true, overwrite: true, httpOnly: true, signed: true, rolling: false, renew: false,&#125;;app.use(Session(CONFIG, app)); åœ¨ routers/main.js çš„ login APIä¸­ç§ä¸‹cookieå’Œsessionï¼š 1234567891011router.post('/login', async ctx =&gt; &#123; ... // uidç”¨ä¸‹é¢çš„sessionå­˜ï¼Œusernameæ²¡é‚£ä¹ˆé‡è¦ï¼Œå¯ä»¥ç”¨cookie ctx.cookies.set('username', new Buffer(user.get('username')).toString('base64'), &#123; httpOnly: false, signed: true, // maxAge: 10000, &#125;); // uidç”¨sessionå­˜ ctx.session.uid = user.get('id');&#125;); åœ¨ routers/main.js çš„ like APIä¸­è·å–sessionï¼š 123router.post('/like', async ctx =&gt; &#123; let uid = ctx.session.uid;&#125;);]]></content>
      <categories>
        <category>åç«¯</category>
        <category>Node</category>
        <category>Koa</category>
      </categories>
      <tags>
        <tag>koa</tag>
        <tag>cookie</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Axioså¼‚æ­¥è¯·æ±‚è·¨åŸŸè§£å†³æ–¹æ¡ˆ]]></title>
    <url>%2Fposts%2F15391%2F</url>
    <content type="text"><![CDATA[åœºæ™¯ åç«¯ 127.0.0.1ï¼ˆé»˜è®¤80ï¼‰ï¼›å‰ç«¯ 127.0.0.1:8081 åœ¨ vue å¼€å‘è¿‡ç¨‹ä¸­ä½¿ç”¨ axios å‘èµ· POST è¯·æ±‚ï¼š 123456axios(&#123; method: 'GET', url: 'http://127.0.0.1'&#125;).then(data =&gt; &#123;&#125;); ä¼šæŠ¥è·¨åŸŸé”™è¯¯ï¼š åŸå› æ˜¯æµè§ˆå™¨åŒæºç­–ç•¥ï¼Œåªæœ‰ åŒåè®®ã€åŒåŸŸåã€åŒç«¯å£ ä¸‰åŒçš„åœ°å€æ‰èƒ½äº’ç›¸é€šè¿‡ AJAX çš„æ–¹å¼è¯·æ±‚ã€‚è€Œä¸Šé¢æƒ…å½¢è™½ç„¶åè®®ï¼ˆhttpï¼‰å’ŒåŸŸåï¼ˆ127.0.0.1ï¼‰éƒ½ç›¸åŒï¼Œä½†ç«¯å£ä¸åŒï¼ˆ80 å’Œ 8081ï¼‰ï¼Œæ‰€ä»¥æ— æ³•æ­£å¸¸è¯·æ±‚ã€‚ è§£å†³æ–¹æ¡ˆæ–¹æ¡ˆä¸€æœåŠ¡ç«¯æ·»åŠ å“åº”å¤´ï¼Œä»¥ Koa ä¸ºä¾‹ï¼Œåœ¨ app.js ä¸­æ·»åŠ å“åº”å¤´ï¼š 1234app.use(async (ctx, next) =&gt; &#123; ctx.set("Access-Control-Allow-Origin", "*"); await next();&#125;); è¿™æ ·è®¾ç½®ä¼šå…è®¸ä»»ä½•æ¥æºï¼ˆ*ï¼‰çš„è·¨åŸŸã€‚ ä½†å¾€å¾€åç«¯çš„æŸäº›æ¥å£æ˜¯éœ€è¦èº«ä»½éªŒè¯çš„ï¼Œæ¯”å¦‚ç”¨æˆ·å¯¹æ–‡ç« ã€å•†å“ä¹‹ç±»çš„è¿›è¡Œè¯„è®ºæˆ–ç‚¹èµï¼Œå°±éœ€è¦ç”¨æˆ·ç™»å½•æ‰èƒ½æ“ä½œã€‚è¿™ç§æƒ…å†µä¸‹å°±éœ€è¦ä½¿ç”¨åˆ° cookie æˆ–è€… session ï¼Œæ‰€ä»¥è¿˜å¾—è®¾ç½® Access-Control-Allow-Credentials ä¸º true ï¼Œè¡¨ç¤ºåœ¨ CORS è¯·æ±‚ä¸­å…è®¸å®¢æˆ·ç«¯å‘é€ cookie ã€‚ç„¶è€Œä¸€æ—¦è¿™æ ·è®¾ç½®ï¼ŒAccess-Control-Allow-Origin å°±ä¸èƒ½å†æ˜¯é€šé…ç¬¦ * ï¼Œå¿…é¡»æŒ‡å®šå…·ä½“çš„åŸŸï¼Œæ‰€ä»¥æœåŠ¡ç«¯æœ€ç»ˆçš„ header è®¾ç½®ä¸ºï¼š 12345app.use(async (ctx, next) =&gt; &#123; ctx.set("Access-Control-Allow-Origin", "http://127.0.0.1:8081"); ctx.set("Access-Control-Allow-Credentials", true); await next();&#125;); åç«¯è¿™æ ·è®¾ç½®åï¼Œå‰ç«¯å°±èƒ½å¤Ÿå®ç°è·¨åŸŸè¯·æ±‚äº†ã€‚ æ–¹æ¡ˆäºŒå¦‚æœæœåŠ¡ç«¯ä¸åŠ  ctx.set(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;); è¿™ä¸€æ®µã€‚å¯ä»¥åœ¨ @vue-cli ä¸­ é…ç½®ä»£ç† ã€‚ä¹Ÿå°±æ˜¯ å‰ç«¯è®¾ç½®ä»£ç† çš„è§£å†³æ–¹æ¡ˆã€‚ åŸç†åˆ©ç”¨åç«¯ä¸å­˜åœ¨è·¨åŸŸé—®é¢˜ï¼Œè€Œè®©vueæœåŠ¡å™¨ä»£ä¸ºè·å–æ•°æ®ã€‚å› ä¸ºå¯åŠ¨vueé¡¹ç›®æœ¬è´¨ä¸Šä¹Ÿæ˜¯ç”¨ node å¯äº†ä¸ªæœåŠ¡å™¨ï¼ˆ127.0.0.1:8080ï¼‰ï¼Œé…ç½®äº†ä»£ç†åï¼Œå°±ä¸å†æ˜¯æµè§ˆå™¨ç›´æ¥è¯·æ±‚æˆ‘ä»¬åœ¨ axios ä¸­é…ç½®çš„ http://127.0.0.1/ï¼ˆé»˜è®¤80ç«¯å£ï¼‰ ï¼Œè€Œæ˜¯ç”¨vueå¯åŠ¨çš„è¿™ä¸ªæœåŠ¡å™¨å»è¯·æ±‚ http://127.0.0.1/ è¿™ä¸ªæ¥å£ï¼Œç”±äºåç«¯ç›¸äº’ä¹‹å‰è¯·æ±‚ä¸å­˜åœ¨è·¨åŸŸé—®é¢˜ï¼Œæ‰€ä»¥èƒ½è·å–æ•°æ®ï¼Œè·å–åç»™åˆ°å‰ç«¯ã€‚ åœ¨å‰ç«¯é¡¹ç›®æ ¹ç›®å½•ä¸‹æ–°å»º vue.config.js æ–‡ä»¶ï¼š 1234567891011121314module.exports = &#123; devServer: &#123; proxy: &#123; // å‰ç«¯ axios å‘è¿™æ ·çš„è¯·æ±‚ï¼šhttp://127.0.0.1:8081/api/ (8081æ˜¯å¯åŠ¨vueé¡¹ç›®æ—¶çš„ç«¯å£)ï¼Œä¼šè¢«æ­¤å¤„æ•è·ï¼Œç„¶åä»£ä¸ºè¯·æ±‚çœŸæ­£çš„æœåŠ¡å™¨APIåœ°å€ `http://127.0.0.1` '/api': &#123; target: 'http://127.0.0.1', // æ­¤å¤„æ˜¯æœåŠ¡ç«¯APIæ¥å£ï¼Œä¸å†™ç«¯å£é»˜è®¤80 changeOrigin: true, pathRewrite: &#123; '^/api': '' &#125; &#125;, &#125; &#125;&#125; å‰ç«¯å‘é€ POST è·¨åŸŸè¯·æ±‚ä¸Šé¢ä¹Ÿæåˆ°äº†ï¼Œå‰ç«¯æœ‰æ—¶å€™å¾€å¾€ä¸æ­¢éœ€è¦å‘é€ GET è¯·æ±‚ï¼ŒPOST è¯·æ±‚ä¹Ÿæ˜¯å¸¸æœ‰çš„äº‹å„¿ã€‚æ‰€ä»¥è¿˜éœ€è¦å¯¹ Axios è¿›è¡Œå¦‚ä¸‹é…ç½®ï¼š vue é¡¹ç›®ä¸‹çš„ main.js ä¸­å…¨å±€é…ç½® axios 123456import axios from 'axios';axios.defaults.baseURL = 'http://127.0.0.1';axios.defaults.withCredentials = true; // è®© ajax æºå¸¦ cookieaxios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded'; // è®¾ç½®postè¯·æ±‚çš„å¤´éƒ¨æ ¼å¼Vue.prototype.$ajax = axios ç”±äºéœ€è¦æŠŠè¯·æ±‚æ—¶çš„æ•°æ®åºåˆ—åŒ–ä¸ºurlçš„å½¢å¼ï¼Œæ‰€ä»¥è¦ä¸‹è½½ qs åŒ… 1npm i qs åœ¨å…·ä½“é¡µé¢ä¸­å‘é€ POST è¯·æ±‚ 123456789101112import qs from 'qs'let loginInfo = &#123; username: '', password: '',&#125;,this.$ajax(&#123;(&#123; method: 'post', url: 'http://127.0.0.1/login', data: qs.stringify(login_info),&#125;)]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>JS</category>
      </categories>
      <tags>
        <tag>axios</tag>
        <tag>è·¨åŸŸ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CORSè¯¦è§£ï¼ˆè½¬è½½ï¼‰]]></title>
    <url>%2Fposts%2F52542%2F</url>
    <content type="text"><![CDATA[è½¬è½½æ–‡ç« åšå®¢æºï¼šCORSè¯¦è§£ å…³äºCORSè¯´åˆ°CORSï¼Œå°±ä¸å¾—ä¸å…ˆäº†è§£è·¨ç«™HTTPè¯·æ±‚ï¼ˆCross-site HTTP requestï¼‰ã€‚ è·¨åŸŸHTTPè¯·æ±‚æ˜¯æŒ‡å‘èµ·è¯·æ±‚çš„èµ„æºæ‰€åœ¨åŸŸä¸åŒäºè¯¥è¯·æ±‚æ‰€æŒ‡å‘èµ„æºæ‰€åœ¨çš„åŸŸçš„HTTPè¯·æ±‚ã€‚ æ­£å¦‚å¤§å®¶æ‰€çŸ¥ï¼Œå‡ºäºå®‰å…¨è€ƒè™‘ï¼Œæµè§ˆå™¨ä¼šé™åˆ¶è„šæœ¬ä¸­å‘èµ·çš„è·¨ç«™è¯·æ±‚ã€‚ä½¿ç”¨XMLHttpRequestå‘èµ·HTTPè¯·æ±‚å¿…é¡»éµå®ˆåŒæºç­–ç•¥ã€‚ å…·ä½“è€Œè¨€ï¼ŒWeb åº”ç”¨ç¨‹åºèƒ½ä¸”åªèƒ½ä½¿ç”¨ XMLHttpRequest å¯¹è±¡å‘å…¶åŠ è½½çš„æºåŸŸåå‘èµ· HTTP è¯·æ±‚ï¼Œè€Œä¸èƒ½å‘ä»»ä½•å…¶å®ƒåŸŸåå‘èµ·è¯·æ±‚ã€‚ ç”±äºWebåº”ç”¨æŠ€æœ¯è¶Šæ¥è¶Šä¸°å¯Œï¼Œæˆ‘ä»¬éå¸¸æ¸´æœ›åœ¨ä¸ä¸¢å¤±å®‰å…¨çš„å‰æä¸‹ï¼Œèƒ½å¤Ÿå®ç°è·¨ç«™è¯·æ±‚ã€‚ç‰¹åˆ«æ˜¯ç°åœ¨çš„Webç¨‹åºç»“æ„ï¼Œä¸€èˆ¬æ˜¯HTML+REST APIã€‚åœ¨ä¹‹å‰çš„å®ç°ä¸­ï¼Œæˆ‘ä»¬ä¸€èˆ¬é‡‡ç”¨jsonpæ¥å‘èµ·è·¨ç«™è¯·æ±‚ï¼Œè¿™å…¶å®æ˜¯åˆ©ç”¨äº†htmlæ ‡ç­¾çš„ç‰¹ç‚¹ã€‚ W3Cçš„Webåº”ç”¨å·¥ä½œç»„æ¨èäº†ä¸€ç§æ–°çš„æœºåˆ¶ï¼Œå³è·¨åŸŸèµ„æºå…±äº«ï¼ˆCross-Origin Resource Sharingï¼‰ï¼Œä¹Ÿå°±æ˜¯å½“å‰æˆ‘ä»¬æåˆ°çš„CORSã€‚ CORSçš„æ ¸å¿ƒï¼Œå°±æ˜¯è®©æœåŠ¡å™¨æ¥ç¡®å®šæ˜¯å¦å…è®¸è·¨åŸŸè®¿é—®ã€‚ 1ã€å…¸å‹åœºæ™¯1.1ã€ç®€å•è¯·æ±‚ä»€ä¹ˆæ˜¯ç®€å•è¯·æ±‚ï¼Ÿå…¨éƒ¨æ»¡è¶³ä»¥ä¸‹æ¡ä»¶çš„è¯·æ±‚å¯ä»¥ç§°ä¹‹ä¸ºç®€å•è¯·æ±‚ï¼š åªä½¿ç”¨GETã€HEADæˆ–è€…POSTè¯·æ±‚æ–¹æ³•ã€‚å¦‚æœæ˜¯POSTï¼Œåˆ™æ•°æ®ç±»å‹ï¼ˆContent-Typeï¼‰åªèƒ½æ˜¯application/x-www-form-urlencodeedã€multipart/form-dataã€text/plainä¸­çš„ä¸€ç§ã€‚ æ²¡æœ‰ä½¿ç”¨è‡ªå®šä¹‰çš„è¯·æ±‚å¤´ï¼ˆå¦‚x-tokenï¼‰ æŒ‰ç…§è¿™ä¸ªè§„åˆ™ï¼Œé‚£æˆ‘ä»¬çš„èƒ½å®ç°è·¨åŸŸè¯·æ±‚çš„æƒ…å†µå¦‚ä¸‹ï¼š Serverä»£ç ï¼š 12345678910111213'use strict';var http = require('http');var server = http.createServer((req, res) =&gt; &#123; //ä¹‹åè®¾ç½®äº†Access-Control-Allow-Originï¼Œæ‰ä¼šå…è®¸è·¨åŸŸ res.setHeader('Access-Control-Allow-Origin', '*'); res.write('abc'); res.end();&#125;);server.listen(10000, () =&gt; &#123; console.log('started.');&#125;); Clientä»£ç ï¼š 1234567891011121314151617181920212223242526var xhr = new XMLHttpRequest();xhr.onreadystatechange = function()&#123; if(xhr.readyState === XMLHttpRequest.DONE)&#123; console.log('Resultï¼š', xhr.responseText); &#125;&#125;//åœºæ™¯ä¸€ï¼šGETè¯·æ±‚ï¼Œä¸éœ€è¦Headerï¼Œå…è®¸è·¨åŸŸxhr.open('GET', 'http://localhost:10000/', true);xhr.send();//åœºæ™¯äºŒï¼š POSTè¯·æ±‚ï¼Œéœ€è¦è®¾ç½®ä¸ºæŒ‡å®šHeaderï¼ˆä¸è®¾ç½®content-typeä¹Ÿå¯ï¼‰ï¼Œå…è®¸è·¨åŸŸxhr.open('POST', 'http://localhost:10000/', true);//æ­¤å¤„valueå¿…é¡»æ˜¯text/plainæˆ–è€…application/x-www-form-urlencodedæˆ–è€…multipart/form-dataã€‚//æ­¤å¤„ä¹Ÿå¯ä»¥ä¸è®¾ç½®xhr.setRequestHeader('Content-Type', 'text/plain');xhr.send();//åœºæ™¯ä¸‰ï¼šDELETEè¯·æ±‚ï¼ˆä¸å…è®¸è·¨åŸŸï¼‰xhr.open('DELETE', 'http://localhost:10000/', true);xhr.send();//åœºæ™¯å››ï¼šPOSTè¯·æ±‚ï¼Œæœ‰è‡ªå®šä¹‰Headerï¼ˆä¸å…è®¸è·¨åŸŸï¼‰xhr.open('POST', 'http://localhost:10000/', true);xhr.setRequestHeader('x-token', 'a');xhr.send(); 1.2ã€é¢„è¯·æ±‚ä¸åŒäºç®€å•è¯·æ±‚ï¼Œé¢„è¯·æ±‚è¦æ±‚å¿…é¡»å…ˆå‘é€ä¸€ä¸ªOPTIONSè¯·æ±‚ç»™ç«™ç‚¹ï¼Œæ¥æŸ¥æ˜è¯¥ç«™ç‚¹æ˜¯å¦å…è®¸è·¨åŸŸè¯·æ±‚ï¼Œè¿™æ ·åšçš„åŸå› æ˜¯ä¸ºäº†é¿å…è·¨ç«™è¯·æ±‚å¯èƒ½å¯¹ç›®çš„ç«™ç‚¹çš„æ•°æ®é€ æˆçš„æŸåã€‚ å¦‚æœè¯·æ±‚æ»¡è¶³ä»¥ä¸‹ä»»ä¸€æ¡ä»¶ï¼Œåˆ™ä¼šäº§ç”Ÿé¢„è¯·æ±‚ï¼š è¯·æ±‚ä»¥GETã€HEADã€POSTä¹‹å¤–çš„æ–¹æ³•å‘èµ·ã€‚æˆ–è€…ï¼Œä½¿ç”¨POSTï¼Œä½†æ•°æ®ç±»å‹ä¸ºapplication/x-www-form-urlencoded, multipart/form-data æˆ–è€… text/plain ä»¥å¤–çš„æ•°æ®ç±»å‹ã€‚ï¼ˆæ³¨ï¼šä¹‹å‰çš„ç‰ˆæœ¬åªæœ‰text/plainå¯ä»¥ä¸ç”¨å‘èµ·é¢„è¯·æ±‚ï¼‰ã€‚ ä½¿ç”¨äº†è‡ªå®šä¹‰è¯·æ±‚å¤´ã€‚ æŒ‰ç…§å¦‚ä¸Šè§„åˆ™ï¼Œæˆ‘ä»¬æ¥åˆ—ä¸¾å‡ ä¸ªåº”ç”¨åœºæ™¯ï¼š Serverç«¯ä»£ç ï¼š 123456789101112131415161718'use strict';var http = require('http');var server = http.createServer((req, res) =&gt; &#123; //ä¹‹åè®¾ç½®äº†Access-Control-Allow-Originï¼Œæ‰ä¼šå…è®¸è·¨åŸŸ res.setHeader('Access-Control-Allow-Origin', '*'); res.setHeader('Access-Control-Allow-Methods', 'POST, DELETE, GET'); res.setHeader('Access-Control-Allow-Headers', 'x-token'); //è®¾ç½®é¢„è¯·æ±‚ç¼“å­˜1å¤©ï¼Œ1å¤©å†…å†æ¬¡è¯·æ±‚ï¼Œå¯ä»¥è·³è¿‡é¢„è¯·æ±‚ //æ­¤åŠŸèƒ½éœ€è¦å®¢æˆ·ç«¯ç¼“å­˜æ”¯æŒï¼Œå¦‚æœå®¢æˆ·ç«¯ç¦ç”¨ç¼“å­˜ï¼Œé‚£ä¹ˆæ¯æ¬¡éƒ½ä¼šé¢„è¯·æ±‚ res.setHeader('Access-Control-Max-Age', 60 * 60 * 24); res.write('abc'); res.end();&#125;);server.listen(10000, () =&gt; &#123; console.log('started.');&#125;); Clientç«¯ä»£ç ï¼š 123456789101112131415161718192021222324var xhr = new XMLHttpRequest();xhr.onreadystatechange = function()&#123; if(xhr.readyState === XMLHttpRequest.DONE)&#123; console.log('Resultï¼š', xhr.responseText); &#125;&#125;//åœºæ™¯ä¸€ï¼šDELETEè¯·æ±‚ï¼Œå‘é€OPTIONSï¼ŒåŒ¹é…ï¼Œå…è®¸è·¨åŸŸxhr.open('DELETE', 'http://localhost:10000/', true);xhr.send();//åœºæ™¯äºŒï¼šPUTè¯·æ±‚ï¼Œå‘é€OPTIONSï¼Œä¸åŒ¹é…ï¼Œä¸å…è®¸è·¨åŸŸxhr.open('PUT', 'http://localhost:10000/', true);xhr.send();//åœºæ™¯ä¸‰ï¼šDELETEè¯·æ±‚åŒ¹é…ï¼Œä½¿ç”¨è‡ªå®šä¹‰Headerä¸åŒ¹é…ï¼Œä¸å…è®¸è·¨åŸŸxhr.open('DELETE', 'http://localhost:10000/', true);xhr.setRequestHeader('x-token1', 'aa');xhr.send();//åœºæ™¯å››ï¼šPOSTè¯·æ±‚ï¼ŒåŒ¹é…çš„è‡ªå®šä¹‰Headerï¼Œå…è®¸è·¨åŸŸxhr.open('POST', 'http://localhost:10000/', true);xhr.setRequestHeader('x-token', 'a');xhr.send(); 1.3ã€å¸¦å‡­è¯çš„è¯·æ±‚ä¸€èˆ¬æ¥è¯´ï¼Œå¯¹äºè·¨ç«™è¯·æ±‚ï¼Œæµè§ˆå™¨æ˜¯ä¸ä¼šå‘é€å‡­è¯ï¼ˆHTTP Cookieså’ŒéªŒè¯ä¿¡æ¯ï¼‰çš„ã€‚å¦‚æœè¦å‘é€å¸¦å‡­è¯çš„ä¿¡æ¯ï¼Œåªéœ€è¦ç»™XMLHttpRequestè®¾ç½®ä¸€ä¸ªç‰¹æ®Šçš„å±æ€§withCredentials = trueï¼Œé€šè¿‡è¿™ç§æ–¹å¼ï¼Œæµè§ˆå™¨å°±å…è®¸å‘é€å‡­è¯ä¿¡æ¯ã€‚ å¸¦å‡­è¯çš„è¯·æ±‚å¯èƒ½æ˜¯ç®€å•è¯·æ±‚ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¼šæœ‰é¢„è¯·æ±‚ã€‚æ˜¯å¦å…è®¸è·¨åŸŸï¼Œä¼šå…ˆåˆ¤æ–­ç®€å•è¯·æ±‚å’Œé¢„è¯·æ±‚çš„è§„åˆ™ï¼Œç„¶åè¿˜ä¼šå¸¦ä¸Šå¸¦å‡­è¯çš„è¯·æ±‚è‡ªå·±çš„è§„åˆ™ã€‚ åœ¨å¸¦å‡­è¯çš„è¯·æ±‚ä¸­ï¼Œåç«¯çš„å“åº”å¿…é¡»åŒ…å«HeaderAccess-Control-Allow-Credentials=trueï¼ŒåŒæ—¶Header Access-Control-Allow-Originï¼Œä¸èƒ½å†ä½¿ç”¨*å·è¿™ç§åŒ¹é…ç¬¦ã€‚ å…·ä½“ç¤ºä¾‹å¦‚ä¸‹ï¼š æœåŠ¡ç«¯ä»£ç ï¼š 123456789101112131415161718'use strict';var http = require('http');var server = http.createServer((req, res) =&gt; &#123; //è¦å¤„ç†å¸¦å‡­è¯çš„è¯·æ±‚ï¼Œæ­¤Headerä¸èƒ½ä½¿ç”¨*ã€‚ res.setHeader('Access-Control-Allow-Origin', 'http://10.16.85.170:8000'); res.setHeader('Access-Control-Allow-Methods', 'POST, DELETE, GET'); res.setHeader('Access-Control-Allow-Headers', 'x-token'); res.setHeader('Access-Control-Max-Age', 60 * 60 * 24); //åªæœ‰è®¾ç½®äº†è¯¥Headerï¼Œæ‰å…è®¸å¸¦å‡­è¯çš„è¯·æ±‚ã€‚ res.setHeader('Access-Control-Allow-Credentials', true); res.write('abc'); res.end();&#125;);server.listen(10000, () =&gt; &#123; console.log('started.');&#125;); å®¢æˆ·ç«¯ä»£ç ï¼š 1234567891011var xhr = new XMLHttpRequest();xhr.onreadystatechange = function()&#123; if(xhr.readyState === XMLHttpRequest.DONE)&#123; console.log('Resultï¼š', xhr.responseText); &#125;&#125;//ä¼˜å…ˆæ»¡è¶³é¢„è¯·æ±‚ï¼Œç„¶åæ»¡è¶³å‡­è¯è¯·æ±‚ï¼Œå…è®¸è·¨åŸŸã€‚xhr.open('POST', 'http://localhost:10000/', true);xhr.withCredentials = true;xhr.setRequestHeader('x-token', 'a');xhr.send(); 2ã€HTTPå“åº”å¤´2.1ã€ åç«¯HTTPå“åº”å¤´æ­¤å¤„åˆ—ä¸¾åç«¯æœ‰å…³CORSçš„å“åº”å¤´ï¼š Access-Control-Allow-Originï¼š | å…è®¸çš„åŸŸåï¼Œåªèƒ½æœ‰ä¸€ä¸ªå€¼ã€‚æ¯”å¦‚â€œâ€æˆ–â€œabc.comâ€ï¼Œâ€a.com,b.comâ€è¿™ç§ä¸å…è®¸ Access-Control-Expose-Headers: å…è®¸çš„ç™½åå•Headerï¼Œå¤šä¸ªç”¨é€—å·éš”å¼€ Access-Control-Max-Age: é¢„è¯·æ±‚ç¼“å­˜æ—¶é—´ï¼Œå•ä½ç§’ï¼Œç¦ç”¨ç¼“å­˜æ—¶æ— æ•ˆå“¦ï¼ Access-Control-Allow-Credentials: true | false æ˜¯å¦å…è®¸å¸¦å‡­è¯çš„è¯·æ±‚ï¼Œå¦‚æœä¸ºtrueï¼Œåˆ™Originåªèƒ½æ˜¯å…·ä½“çš„å€¼ Access-Control-Allow-Methods: å…è®¸çš„è¯·æ±‚ç±»å‹ï¼Œå¤šä¸ªç”¨é€—å·éš”å¼€ Access-Control-Allow-Headers: åœ¨å®é™…è¯·æ±‚ä¸­ï¼Œå…è®¸çš„è‡ªå®šä¹‰headerï¼Œå¤šä¸ªç”¨é€—å·éš”å¼€ 2.2ã€ æµè§ˆå™¨å‘å‡ºè·¨åŸŸè¯·æ±‚çš„å“åº”å¤´æ­¤å¤„åˆ—ä¸¾å‡ºæµè§ˆå™¨åœ¨å‘é€è·¨åŸŸè¯·æ±‚æ—¶ï¼Œä¼šå¸¦ä¸Šçš„å“åº”å¤´ï¼š Origin: å‘Šè¯‰æœåŠ¡å™¨ï¼Œè¯·æ±‚æ¥è‡ªå“ªé‡Œï¼Œä»…ä»…æ˜¯æœåŠ¡å™¨åï¼Œä¸åŒ…å«è·¯å¾„ã€‚ Access-Control-Request-Method: é¢„è¯·æ±‚æ—¶ï¼Œå‘Šè¯‰æœåŠ¡å™¨å®é™…çš„è¯·æ±‚æ–¹å¼ Access-Control-Request-Headers: é¢„è¯·æ±‚æ—¶ï¼Œå‘Šè¯‰æœåŠ¡å™¨ï¼Œå®é™…è¯·æ±‚æ‰€æºå¸¦çš„è‡ªå®šä¹‰Header 3ã€å‚è€ƒèµ„æ–™ MDN HTTP access control (CORS) MDN HTTPè®¿é—®æ§åˆ¶(CORS)]]></content>
      <categories>
        <category>åç«¯</category>
        <category>Node</category>
      </categories>
      <tags>
        <tag>è·¨åŸŸ</tag>
        <tag>è½¬è½½</tag>
        <tag>cors</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jsonpè§£å†³è·¨åŸŸé—®é¢˜çš„åŸç†]]></title>
    <url>%2Fposts%2F39860%2F</url>
    <content type="text"><![CDATA[ä»‹ç» Jsonp(JSON with Padding) æ˜¯ json çš„ä¸€ç§â€ä½¿ç”¨æ¨¡å¼â€ï¼Œå¯ä»¥è®©ç½‘é¡µä»åˆ«çš„åŸŸåï¼ˆç½‘ç«™ï¼‰é‚£è·å–èµ„æ–™ï¼Œå³è·¨åŸŸè¯»å–æ•°æ®ã€‚ â€”â€”â€”â€” èœé¸Ÿæ•™ç¨‹-jsonp åŸç†scriptæ ‡ç­¾çš„ src ä¸å—åŒæºç­–ç•¥å½±å“ï¼Œå…è®¸è·¨åŸŸã€‚ä½†éœ€è¦å€ŸåŠ©æœåŠ¡ç«¯çš„é…åˆã€‚ ç¤ºä¾‹ å‰ç«¯ index.html 1234567891011121314151617181920212223242526&lt;body&gt; &lt;h1&gt;å¤©æ°”æŸ¥è¯¢&lt;/h1&gt; &lt;input type="text" id="city" placeholder="è¯·è¾“å…¥åŸå¸‚åç§°"&gt; &lt;input type="button" id="btn" value="æŸ¥è¯¢"&gt; &lt;script&gt; window.onload = function() &#123; // åˆ›å»ºæ–¹æ³•ç”¨æ¥è·å–è·¨åŸŸæ•°æ®ï¼ˆåç§°éšæ„ï¼‰ window["foo"] = function(data) &#123; // æ‰“å°è·å–çš„æ•°æ® console.log(data); &#125; const btn = document.querySelector("#btn"); btn.onclick = function() &#123; // è·å–ç”¨æˆ·è¾“å…¥åŸå¸‚å const = city = document.querySelector("#city").value; // åŠ¨æ€åˆ›å»ºscriptæ ‡ç­¾ const script = document.createElement("script"); // æŠŠå›è°ƒå‡½æ•°fooçš„åç§° ä»¥åŠ åŸå¸‚å ä¼ é€’ç»™åç«¯ script.src = `http://127.0.0.1:8084/weather.php?callback=foo&amp;city=$&#123;city&#125;`; const body = document.querySelector("body"); body.appendChild(script); &#125; &#125; &lt;/script&gt;&lt;/body&gt; åç«¯ weather.php 1234567891011&lt;?php // è·å–å‰ç«¯å›è°ƒå‡½æ•°åå’ŒåŸå¸‚å $cb = $_GET["callback"]; $city = $_GET["city"]; if ($city == "shanghai") &#123; // è°ƒç”¨å‰ç«¯å·²ç»å®šä¹‰çš„å‡½æ•°ï¼ŒæŠŠæ•°æ®å½“åšå‚æ•°ä¼ é€’ç»™ foo echo $cb."('ä¸Šæµ·æ™´ï¼Œæ— é£')"; &#125; else &#123; echo $cb."('æ²¡æœ‰æŸ¥è¯¢åˆ°ä½ æ‰€åœ¨åŸå¸‚å¤©æ°”')"; &#125;?&gt; è¿™æ ·ä¸€æ¥å½“å‰ç«¯è¯·æ±‚ http://127.0.0.1:8084/weather.php?callback=foo&amp;city=${city} åï¼Œåç«¯è¿”å›çš„å†…å®¹å°±åº”è¯¥ç±»ä¼¼è¿™ç§æ ¼å¼ï¼š 1foo('ä¸Šæµ·æ™´ï¼Œæ— é£'); æœ¬è´¨å°±æ˜¯åœ¨è°ƒç”¨å‰ç«¯å·²ç»å®šä¹‰å¥½çš„ foo æ–¹æ³•ï¼Œè¿™æ ·å°±èƒ½å¤Ÿè·å–åˆ°åç«¯è¿”å›ç»™æˆ‘ä»¬çš„æ•°æ®äº†ã€‚ æ³¨æ„äº‹é¡¹ç”±äº jsonp è§£å†³è·¨åŸŸé—®é¢˜æœ¬è´¨ä¸Šæ˜¯åç«¯è¿”å›ä¸€ä¸ªæ–¹æ³•è°ƒç”¨ã€‚æ‰€ä»¥ä¸æ˜¯ä»»ä½•æ¥å£éƒ½æ”¯æŒ jsonp æ¥è·å–åˆ°æ•°æ®çš„ï¼Œä¸€æ—¦æ¥å£ä¸æ”¯æŒï¼Œè¿”å›çš„ä¸æ˜¯æ–¹æ³•è°ƒç”¨æ ¼å¼ï¼ˆfoo(data)ï¼‰è€Œæ˜¯ json æ ¼å¼ï¼ˆ{â€œmsgâ€: â€œsuccessâ€, â€œdataâ€: {â€¦}}ï¼‰çš„è¯ï¼Œå°±è¯´æ˜æˆ‘ä»¬æ— æ³•é€šè¿‡ jsonp è·å–åˆ°æ•°æ®ã€‚ ç¬¬ä¸‰æ–¹æ¥å£è·¨åŸŸæ•°æ®è·å–ä¸€æ—¦ç¬¬ä¸‰æ–¹æ¥å£è¿”å›çš„æ˜¯ json æ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬å°±æ— æ³•é€šè¿‡ ajax æˆ–è€… jsonp çš„æ–¹å¼è·å–è·¨åŸŸæ•°æ®ã€‚è¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬åªèƒ½é€šè¿‡è‡ªå·±çš„æœåŠ¡å™¨å½“åšä¸­è½¬ç«™å¸®æˆ‘ä»¬å‰ç«¯è·å–ä¸‰æ–¹æ¥å£æ•°æ®äº†ï¼Œå› ä¸ºæœåŠ¡ç«¯ä¹‹é—´æ˜¯ä¸å­˜åœ¨è·¨åŸŸé—®é¢˜çš„ï¼Œæ‰€ä»¥å‡ºç°è¿™ç§æƒ…å†µåï¼Œä½ å¯ä»¥è®©å…¬å¸çš„åç«¯å¸®å¸®å¿™ï¼Œå†™ä¸€ä¸ªæ¥å£å»è·å–ä¸‰æ–¹æ¥å£æ•°æ®ï¼Œå¹¶æš´éœ²ä¸€ä¸ªæ¥å£è®©ä½ èƒ½å¤Ÿè·å–åˆ°æ•°æ®~]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>JS</category>
      </categories>
      <tags>
        <tag>è·¨åŸŸ</tag>
        <tag>jsonp</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScriptå‘ä¹‹ä¸€mapå‚æ•°ä¼ é€’ï¼ˆè½¬è½½ï¼‰]]></title>
    <url>%2Fposts%2F8767%2F</url>
    <content type="text"><![CDATA[è½¬è½½æ–‡ç« åšå®¢æºï¼šJavaScriptå‘ä¹‹ä¸€mapå‚æ•°ä¼ é€’ map()æ–¹æ³•å®šä¹‰åœ¨JavaScriptçš„Arrayä¸­ï¼Œä»–æ˜¯ä¸€ä¸ªé«˜é˜¶å‡½æ•°ã€‚æˆ‘ä»¬å‘è¿™ä¸ªå‡½æ•°ä¼ å…¥æˆ‘ä»¬è‡ªå·±å®šä¹‰çš„å›è°ƒå‡½æ•°ï¼ˆcallbackï¼‰ï¼Œç„¶åmapä¼šå¯¹æ•°ç»„å½“ä¸­æ¯ä¸€ä¸ªå…ƒç´ å»è°ƒç”¨å›è°ƒå‡½æ•°ã€‚ é€šå¸¸ï¼Œæˆ‘ä»¬åªåœ¨å›è°ƒå‡½æ•°é‡Œç”¨ä¸€ä¸ªå‚æ•°ï¼Œå› ä¸ºå¤§å¤šæ•°å›è°ƒå‡½æ•°åªéœ€è¦ä¸€ä¸ªå‚æ•°ï¼Œæˆ–è€…ä¸€ä¸ªå¿…é¡»å‚æ•°å’Œå¤šä¸ªå¯é€‰å‚æ•°ã€‚è¿™æ ·çš„ä¹ æƒ¯ä¼šæœ‰æ—¶å¯¼è‡´å¾ˆè¯¡å¼‚çš„è¡Œä¸ºã€‚ 1['1', '2', '3'].map(parseInt); //[1, NaN, NaN] æˆ‘ä»¬æ‰€å¸Œæœ›çœ‹åˆ°çš„ç»“æœå…¶å®æ˜¯[1, 2, 3]ï¼ŒåŸå› æ˜¯parseIntä¸€èˆ¬æˆ‘ä»¬ç”¨çš„æ—¶å€™éƒ½æ˜¯ä¹ æƒ¯æ€§ç”¨ä¸€ä¸ªå‚æ•°ï¼Œä½†ä»–å¯ä»¥æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°ç”¨æ¥åšåŸºæ•°ã€‚è€Œmapå‘å›è°ƒå‡½æ•°ä¼ å‚æœ‰ä¸‰ä¸ªï¼Œæ•°ç»„ä¸­çš„å…ƒç´ ï¼Œå…ƒç´ çš„ä¸‹æ ‡å’Œè¿™ä¸ªæ•°ç»„ã€‚ç¬¬ä¸‰ä¸ªå‚æ•°è¢«parseIntå¿½ç•¥æ‰ï¼Œå‰ä¸¤ä¸ªå‚æ•°è¢«æ¥æ”¶ã€‚parseInt(â€˜0â€™, 0); //åŸºæ•°ä¸º0ï¼Œæˆ–è€…undefinedï¼Œç”¨10è¿›åˆ¶ parseInt(â€˜1â€™, 1); //æ²¡æœ‰1è¿›åˆ¶ï¼Œè¿”å›NaN parseInt(â€˜2â€™, 2); //äºŒè¿›åˆ¶ä¸èƒ½å‡ºç°2ï¼Œè¿”å›NaN è¿™é‡Œå…³é”®æ˜¯è¦çŸ¥é“å›è°ƒå‡½æ•°æ¥æ”¶çš„å‚æ•°æœ‰ä¸‰ä¸ªï¼Œé‚£ä¹ˆå¦‚ä½•è§£å†³ä¸Šé¢çš„é—®é¢˜å‘¢ï¼Ÿ 1234function myParseInt(intString)&#123; return parseInt(intString, 10);&#125;['1', '2'].map(myParseInt); æˆ–è€…ï¼Œç”¨æ›´ç®€å•çš„å†™æ³• 1['1', '2'].map(str =&gt; parseInt(str)); æˆ–è€…ï¼Œæœ€ç®€å•çš„å†™æ³• 1['1', '2'].map(Number)]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>JS</category>
      </categories>
      <tags>
        <tag>è½¬è½½</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[transform3Dè½¬æ¢ï¼ˆäºŒï¼‰]]></title>
    <url>%2Fposts%2F14243%2F</url>
    <content type="text"><![CDATA[åœ¨æˆ‘å½“åˆäº†è§£åˆ° transform åçš„ä¸€æ®µæ—¶é—´ï¼Œå…¶å®æ˜¯ä¸çŸ¥é“å®ƒèƒ½å¤Ÿè®©å…ƒç´ å®ç°3dè½¬æ¢çš„ã€‚ç›´åˆ°æœ‰ä¸€å¤©åœ¨é€› codepen æ—¶ï¼Œæˆ‘å‘ç°äº†ä¸‹é¢è¿™ä¸ªdemoï¼š See the Pen CSS3 Transforms 3D Perspective Carousel by JingW (@JingW) on CodePen. p.s. åŸä½œè€…åœ°å€åœ¨è¿™å„¿ï¼šhttps://codepen.io/Hubson/pen/XmrEGX OSï¼šæˆ‘é ï¼Œè¿˜èƒ½è¿™æ ·ç©å„¿ï¼Ÿèµ¶ç´§æŸ¥æŸ¥å¦‚ä½•å®ç°çš„ã€‚ï¼ˆç‚¹æˆ‘é‡ç°æŸ¥æ‰¾è¿‡ç¨‹ï¼‰ ç„¶åå°±å‘ç°äº†å¼ é‘«æ—­è€å¸ˆçš„ è¿™ç¯‡æ–‡ç«  ã€‚ç®—æ˜¯ç»™æˆ‘æ‰“å¼€äº†æ–°ä¸–ç•Œçš„å¤§é—¨~ åŸæ¥ç°åœ¨çš„CSSéƒ½è¿™ä¹ˆå¼ºå¤§äº†ï¼Œè¦çŸ¥é“å‡ å¹´å‰æˆ‘åœ¨å­¦ .NET æ—¶å°±æ¥è§¦è¿‡HTMLå’ŒCSSï¼Œé‚£ä¸ªæ—¶å€™ä¸è¿˜æ˜¯æ»¡å±divï¼Œæ²¡å•¥ç‰¹æ•ˆçš„æ—¶ä»£å˜›ã€‚ æ‰¯è¿œäº†ï¼Œè¨€å½’æ­£ä¼ ã€‚é¦–å…ˆæ¥çœ‹ä¸‹é¢è¿™ä¸ªå›¾ï¼ˆcopyä¸Šé¢æ–‡ç« æ¥çš„~ï¼‰ï¼š è¿™ä¸ªå›¾å°±æ˜¯å’±ä»¬3då˜å½¢æ‰€ä¾èµ–çš„åæ ‡ç³»ã€‚è¦æƒ³ç†è§£è¿™å¼ å›¾ï¼Œéœ€è¦ä¸€ç‚¹ç©ºé—´æƒ³è±¡åŠ›ã€‚æˆ‘ä»¬äººåœ¨çœ‹è¿™ä¸ªåæ ‡ç³»æ—¶ï¼Œæ˜¯ä»å·¦ä¸‹è§’çš„çœ¼ç›å¤„ä» +Z å¾€ -Z é‡Œé¢çœ‹çš„ã€‚å¯ä»¥æŠŠè¿™ä¸ªçœ¼ç›ç®€å•çš„æƒ³è±¡æˆä½ è‡ªå·±ï¼Œç”±ç½‘æ ¼ç»„æˆçš„æ­£æ–¹å½¢å¹³é¢ç›¸å½“äºä½ åœ¨å±å¹•ä¸Šåˆ›å»ºçš„ä¸€ä¸ªæ­£æ–¹å½¢divå…ƒç´ ã€‚é‚£ä¹ˆå½“ä½ è®¾ç½® transform: translate(200px, 0) æ—¶ï¼Œä½ çš„å…ƒç´ å°†ä¼šå‘ +X æ–¹å‘å‰è¿›ï¼Œä¹Ÿå°±æ˜¯å¹³å¸¸åœ¨2då˜æ¢ä¸­çš„å‘å³ç§»åŠ¨ã€‚ç°åœ¨åº”è¯¥ç†è§£äº†å§~ rotateX, rotateY, rotateZrotateXrotateXå°±æ˜¯æ²¿ç€ x è½´è¿›è¡Œ3dæ—‹è½¬ã€‚ åœ¨ä¸‹é¢ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å®ç°è®©ä¸€ä¸ªå…ƒç´ æ²¿ç€å®ƒçš„xè½´æ—‹è½¬180Â°ã€‚ä¸ºäº†è®©æ•ˆæœçœ‹èµ·æ¥æ›´åŠ æ˜æ˜¾ï¼Œæˆ‘æŠŠè¯¥å…ƒç´ åˆ†æˆäº†ä¸Šä¸‹ä¸¤ä¸ªéƒ¨åˆ†ï¼Œå¹¶åœ¨ä¸­é—´ç•™å‡ºäº†ç¼éš™ï¼Œä»¥ä¾¿å½“åšXè½´çœ‹å¾…ï¼Œå½“é¼ æ ‡ç§»å…¥è¯¥å…ƒç´ åï¼Œå®ƒä¾¿â€œæ²¿ç€â€ x è½´æ—‹è½¬180Â°ï¼š See the Pen transform3d-rotateX by JingW (@JingW) on CodePen. rotateYç”¨å’Œä¸Šé¢ç±»ä¼¼çš„æ–¹å¼ï¼Œæˆ‘ä»¬å®ç° rotateY çš„3dæ—‹è½¬æ•ˆæœï¼Œè®©å…ƒç´ æ²¿ç€ y è½´è¿›è¡Œ3dæ—‹è½¬ï¼š See the Pen transform3d-rotateY by JingW (@JingW) on CodePen. rotateZè¿˜è®°å¾—é‚£æ ¹ z è½´å˜›ï¼Œå½“æˆ‘ä»¬å‚ç›´äºå±å¹•çœ‹å‘å…ƒç´ æ—¶ï¼Œz è½´åœ¨æˆ‘ä»¬çœ¼é‡Œå°±æ˜¯ä¸€ä¸ªâ€œç‚¹â€ã€‚æ‰€ä»¥å½“æˆ‘ä»¬ä½¿ç”¨ rotateZ æ¥æ—‹è½¬å…ƒç´ æ—¶ï¼Œå…ƒç´ ä¼šæ²¿ç€ z è½´è¿›è¡Œæ—‹è½¬ï¼Œå°±æ˜¯ä¸‹æ–¹å…ƒç´ ä¸­é—´çš„â€œç‚¹â€ï¼š See the Pen transform3d-rotateZ by JingW (@JingW) on CodePen. perspective é€è§†è¿™ä¸ªå±æ€§è‹±æ–‡ç›´è¯‘è¿‡æ¥å°±æ˜¯ é€è§†ã€è§†è§’çš„æ„æ€ã€‚ ç”µè„‘æ˜¾ç¤ºå±æ˜¯ä¸ª2då¹³é¢ï¼Œè¦æƒ³è®©å…ƒç´ åœ¨ä¸€ä¸ª2då¹³é¢ä¸Šæœ‰ç«‹ä½“æ„Ÿï¼ˆ3dæ•ˆæœï¼‰ï¼Œå°±å¾—åˆ©ç”¨è¿™ä¸ª perspective é€è§†å±æ€§ã€‚perspective å¯ä»¥è®©ä¸€ä¸ª2då¹³é¢åœ¨è½¬æ¢è¿‡ç¨‹ä¸­å‘ˆç°å‡º3dæ•ˆæœã€‚ ä¸çŸ¥é“å¤§å®¶æœ‰æ²¡æœ‰æ³¨æ„åˆ°ä¸Šé¢æœ‰å…³ rotateY ä¸‹çš„demoï¼Œè™½è¯´æ˜¯æ²¿ç€å…ƒç´  y è½´è¿›è¡Œæ—‹è½¬ï¼Œä½†ä¸€ç‚¹3dç«‹ä½“æ•ˆæœéƒ½æ²¡æœ‰ï¼Œè¦çŸ¥é“åœ¨ç°å®ç”Ÿæ´»ä¸­ï¼Œå¦‚æœä¸€å¼ å¡ç‰‡æ²¿ç€å®ƒå®½åº¦ä¸€åŠå„¿çš„ y è½´è¿›è¡Œæ—‹è½¬ï¼Œè‚¯å®šæœ‰è¿‘å¤§è¿œå°çš„é€è§†æ•ˆæœï¼Œå³ç¦»æˆ‘ä»¬è¿‘çš„ä¸€é¢è¶Šæ¥è¶Šå¤§ï¼Œç¦»æˆ‘ä»¬è¿œçš„ä¸€é¢è¶Šæ¥è¶Šå°ã€‚å¦‚æœè¿˜æ²¡æœ‰æ˜ç™½ï¼Œçœ‹äº†ä¸‹é¢çš„ç¤ºä¾‹å°±çŸ¥é“äº†ï¼ˆé¼ æ ‡ç§»å…¥bodyå°±èƒ½è§¦å‘æ—‹è½¬~ï¼‰ï¼š See the Pen transform3d-perspective by JingW (@JingW) on CodePen. è¿™ä¸‹æ˜¯ä¸æ˜¯æ˜æ˜¾å¤šå•¦ï¼Ÿå…¶å®è¿™éƒ½å…¨é äº† perspective é€è§†ï¼Œå®ƒå…è®¸æˆ‘ä»¬ä¸ºåœºæ™¯æ·»åŠ æ·±åº¦æ„Ÿï¼ŒåŸç†å°±æ˜¯ä½¿ z è½´åœ¨é è¿‘è§‚å¯Ÿè€…çš„å…ƒç´ çœ‹èµ·æ¥æ›´å¤§ï¼Œè€Œæ›´è¿œçš„å…ƒç´ çœ‹èµ·æ¥æ›´å°ã€‚ä¹Ÿå°±æ˜¯ä¸Šé¢æåˆ°çš„â€œè¿‘å¤§è¿œå°â€ã€‚ æˆ‘ä»¬æ¥çœ‹çœ‹ä¸‹é¢è¿™å¼ å›¾ï¼š ä¸Šå›¾ä¸­è“è‰²åœ†åœˆè¡¨ç¤ºä¸‰ç»´ç©ºé—´ä¸­çš„å…ƒç´ ï¼Œå­—æ¯ d è¡¨ç¤ºé€è§†çš„å€¼ï¼Œå³è§‚çœ‹è€…çš„çœ¼ç›å’Œå±å¹•ä¹‹é—´çš„è·ç¦»ã€‚å­—æ¯ Z è¡¨ç¤ºå…ƒç´ åœ¨ z è½´ä¸Šçš„ä½ç½®ã€‚å…ƒç´ åœ¨ z è½´ä¸Šè¶Šè¿œï¼Œç›¸å¯¹äºè§‚å¯Ÿè€…çš„å¤–è§‚è¶Šå°ï¼Œå®ƒè¶Šæ¥è¿‘ï¼Œå°±çœ‹èµ·æ¥è¶Šå¤§ã€‚è¿™å°±æ˜¯ä¸‰ç»´ç©ºé—´ä¸­é€è§†çš„æ•ˆæœã€‚ perspective VS perspective()perspectiveæœ‰ä¸¤ç§å†™æ³•ï¼Œä¸€ç§æ˜¯ç›´æ¥å†™åœ¨è¦ä½¿ç”¨3dè½¬æ¢çš„çˆ¶å…ƒç´ èº«ä¸Šï¼ˆå¦‚ä¸Šä¸€ä¸ªdemoï¼‰ï¼š12345678910111213/* çˆ¶å®¹å™¨ */.contaienr &#123; /* å°†é€è§†å±æ€§å†™åœ¨çˆ¶å®¹å™¨ */ perspective: 1000px;&#125;/* éœ€è¦3dè½¬æ¢çš„å­å…ƒç´  */.box &#123; transition: transform 1s;&#125;/* è§¦å‘è½¬æ¢ */.container:hover box &#123; transform: rotateY(180deg);&#125; åœ¨è¿™ç§å†™æ³•ä¸‹ï¼Œä¸€æ—¦â€œèˆå°ï¼ˆæµè§ˆå™¨æ˜¾ç¤ºåŒºåŸŸï¼‰â€ä¸Šæœ‰å¤šä¸ªå…ƒç´ éƒ½è¿›è¡Œäº†3dè½¬æ¢ï¼Œå¯èƒ½æ•ˆæœå°±ä¸ä½ çš„é¢„æƒ³ä¸å¤ªä¸€æ ·ï¼Œé è¿‘â€œèˆå°â€ä¸¤è¾¹çš„å…ƒç´ ä¼šâ€œæ­ªç€â€è¿›è¡Œæ—‹è½¬ï¼š See the Pen transform3d-perspective2 by JingW (@JingW) on CodePen. è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿç­”æ¡ˆæ˜¯å› ä¸ºé»˜è®¤æˆ‘ä»¬è§‚å¯Ÿè€…çš„â€œçœ¼ç›â€æ˜¯å¤„äºâ€œèˆå°â€æ­£ä¸­å¤®çš„å‰æ–¹çš„ï¼ˆè¿™ä¸ªå‰æ–¹æ˜¯ä»¥â€œèˆå°â€çš„è§†è§’ï¼‰ï¼Œæ‰€ä»¥é è¿‘æˆ‘ä»¬è§‚å¯Ÿè€…å·¦å‰æ–¹çš„ï¼ˆè§‚å¯Ÿè€…è§†è§’ï¼‰å¡ç‰‡ï¼Œåœ¨æ²¿ç€ x è½´åšæ—‹è½¬æ—¶ï¼Œå°±æ˜¯â€œæ­ªç€â€çš„ï¼›åŒç†è§‚å¯Ÿè€…å³å‰æ–¹å¡ç‰‡ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ é‚£ä¹ˆå¦‚æœä½ æƒ³è®©å®ƒä»¬éƒ½ä¸æ­£ä¸­å¤®çš„å¡ç‰‡ä¸€æ ·æ•ˆæœçš„æ—‹è½¬å‘¢ï¼Ÿè¿™å°±å¼•å‡ºäº†ç¬¬äºŒç§å†™æ³•ï¼šperspective() ã€‚è¯¥å±æ€§å†™åœ¨3dè½¬æ¢å…ƒç´ æœ¬èº«ä¸Šï¼Œè€Œä¸æ˜¯åœ¨å…¶çˆ¶å…ƒç´ ä¸Šäº†ï¼š12345678.box &#123; transition: transform 1s;&#125;.container:hover .box &#123; /* 1. æ²¿ç€xè½´æ—‹è½¬180Â° */ /* 2. ç»™3dæ—‹è½¬å…ƒç´ æœ¬èº«æ·»åŠ  perspective é€è§† */ transform: perspective(500px) rotateX(180deg);&#125; æ•ˆæœå¦‚ä¸‹ï¼š See the Pen transform3d-perspective3 by JingW (@JingW) on CodePen. perspective-originè¯­æ³•ï¼š12perspective-origin: 50% 50%; /* é»˜è®¤å€¼ï¼Œè¡¨ç¤ºè§‚å¯Ÿè€…åœ¨â€œèˆå°â€æ­£ä¸­å¤®çš„ä¸Šæ–¹ */perspective-origin: left center; /* è¡¨ç¤ºè§‚å¯Ÿè€…åœ¨â€œèˆå°â€æœ€å·¦è¾¹ä¸”å‚ç›´å±…ä¸­çš„ä¸Šæ–¹ */ è¯¥å±æ€§ç”¨äºå®šä¹‰è§‚å¯Ÿè€…è§‚çœ‹ä¸‰ç»´ç©ºé—´æ—¶çš„ä½ç½®æ‰€åœ¨ã€‚é»˜è®¤æƒ…å†µä¸‹ä¸ºxè½´50%ã€yè½´50%ã€‚ä¹Ÿå°±æ˜¯â€œèˆå°ï¼ˆå±å¹•ï¼‰â€æ­£ä¸­å¤®çš„ä¸Šæ–¹ã€‚ è¯»è€…å¯ä»¥å°è¯•ç”¨é¼ æ ‡æ‹–åŠ¨ä¸‹æ–¹demoä¸­çš„æŒ‰é’®â€œcameraâ€åˆ°â€œèˆå°â€çš„å„ä¸ªä½ç½®ï¼Œç„¶åçœ‹çœ‹ä¸‰å¼ å¡ç‰‡çš„3dè½¬æ¢æ•ˆæœã€‚å½“ä½ åœ¨æ‹–åŠ¨â€œcameraâ€æ”¹å˜å®ƒçš„ä½ç½®æ—¶ï¼Œä¹Ÿå°±ç­‰åŒäºæ”¹å˜äº† perspective-origin çš„ä½ç½®ã€‚ä¾‹å¦‚å½“ä½ æŠŠæŒ‰é’®â€œcameraâ€æ‹–åŠ¨åˆ°å·¦ä¸Šè§’ï¼Œå°±ç›¸å½“äºè®¾ç½®äº† perspective-origin: left topã€‚ See the Pen transform3d-perspective-origin by JingW (@JingW) on CodePen.]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>CSS3</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[transformè½¬æ¢ï¼ˆä¸€ï¼‰]]></title>
    <url>%2Fposts%2F45420%2F</url>
    <content type="text"><![CDATA[ä»‹ç» Transformå±æ€§åº”ç”¨äºå…ƒç´ çš„2Dæˆ–3Dè½¬æ¢ã€‚è¿™ä¸ªå±æ€§å…è®¸ä½ å°†å…ƒç´ æ—‹è½¬ï¼Œç¼©æ”¾ï¼Œç§»åŠ¨ï¼Œå€¾æ–œç­‰ã€‚ â€”â€”â€”â€” å‡ºè‡ª èœé¸Ÿæ•™ç¨‹ è¿™æ¬¡æˆ‘ä»¬è®¨è®ºçš„éƒ½æ˜¯2Dè½¬æ¢ï¼Œ3Dçš„åé¢æˆ‘ä¼šå•ç‹¬å‡ºä¸€ç¯‡~ scale ç¼©æ”¾è¿™ä¸ªå±æ€§ç”¨æ¥æ”¾å¤§æˆ–ç¼©å°å…ƒç´ çš„å¤§å°ã€‚è¯­æ³•ç¤ºä¾‹å¦‚ä¸‹ï¼š123456div &#123; transition: transform 1s; /* ç»™divçš„transformå±æ€§æ·»åŠ è¿‡æ¸¡æ•ˆæœ */&#125;div:hover &#123; transform: scale(1.5); /* è®©å…ƒç´ æ”¾å¤§ä¸ºåŸå§‹å¤§å°çš„1.5å€ */&#125; See the Pen transform scale by JingW (@JingW) on CodePen. translate ä½ç§»è¯¥å±æ€§ç”¨æ¥è®©å…ƒç´ å‘ä¸Š/å‘ä¸‹/å‘å·¦/å‘å³è¿›è¡Œä½ç§»ã€‚ ç¤ºä¾‹ï¼š123456div &#123; transition: transform 1s;&#125;div:hover &#123; transform: translate(20px, 20px);&#125; See the Pen LvbqKb by JingW (@JingW) on CodePen. rotate æ—‹è½¬è¯¥å±æ€§è®©å…ƒç´ èƒ½å¤Ÿé¡ºæ—¶é’ˆæˆ–é€†æ—¶é’ˆæ—‹è½¬æŒ‡å®šçš„åº¦æ•°ã€‚ ç¤ºä¾‹ï¼š123456div &#123; transition: transform 1s;&#125;div:hover &#123; transform: rotate(720deg); /* å…ƒç´ é¡ºæ—¶é’ˆæ—‹è½¬720åº¦ */&#125; See the Pen transform rotate by JingW (@JingW) on CodePen. skew å€¾æ–œè¯¥å±æ€§èƒ½å¤Ÿè®©å…ƒç´ åŸºäºx, yè½´å€¾æ–œè½¬æ¢ ç¤ºä¾‹ï¼š12345678div &#123; transition: transform 1s;&#125;div:hover &#123; transform: skew(45deg, 45deg); /* transform: skewX(25deg); transform: skewY(10deg); */&#125; See the Pen transform skew by JingW (@JingW) on CodePen. æ³¨æ„ï¼š å¦‚æœä»”ç»†è§‚å¯Ÿä¸Šé¢çš„ç¤ºä¾‹ï¼Œå½“é¼ æ ‡ç§»å…¥boxåï¼Œä¸ä½†æ•´ä¸ªboxè¿›è¡Œäº†å€¾æ–œï¼Œé‡Œé¢çš„å­å…ƒç´ å’Œæ–‡æœ¬å†…å®¹ä¹Ÿä¼šå‘ç”Ÿå€¾æ–œã€‚å¦‚æœä¸å¸Œæœ›é‡Œé¢çš„å†…å®¹å‘ç”Ÿå˜åŒ–ï¼Œå¯ä»¥ä½¿ç”¨ç›¸åçš„skewå€¼å°†å…¶æ¢å¤ï¼š See the Pen transform skew2 by JingW (@JingW) on CodePen. transform-origin å˜å½¢åŸç‚¹è¯¥å±æ€§å¯ä»¥é…åˆ transform å±æ€§ä¸€èµ·ä½¿ç”¨ï¼Œå®ƒå…è®¸æˆ‘ä»¬æŒ‡å®šå…ƒç´ è½¬æ¢çš„ä½ç½®åŸç‚¹ã€‚é»˜è®¤æƒ…å†µåŸç‚¹ä½äºå…ƒç´ çš„ä¸­å¿ƒã€‚ ä¾‹å¦‚åˆšåˆšä¸Šé¢åœ¨è®²åˆ° rotate å±æ€§æ—¶ï¼Œæˆ‘ä»¬çš„æ—‹è½¬æ˜¯ä»¥ä¸­å¿ƒä¸ºåŸç‚¹çš„ã€‚ä½†ä½ åœ¨æŸäº›æƒ…å†µä¸‹å¯èƒ½å¹¶ä¸æƒ³è®©å…ƒç´ å›´ç»•ä¸­å¿ƒæ—‹è½¬ï¼Œè€Œæ˜¯å·¦ä¸Šè§’æ—‹è½¬ï¼Œå°±å¯ä»¥ç”¨åˆ°è¯¥å±æ€§ã€‚ è¯­æ³•ç¤ºä¾‹ï¼š1234567div &#123; transform-origin: left top; transition: transform 1s;&#125;div:hover &#123; transform: rotate(720deg);&#125; See the Pen transform transform-origin by JingW (@JingW) on CodePen. å˜æ¢ç»„åˆæœ‰æ—¶å€™æˆ‘ä»¬å¯èƒ½æƒ³è¦ä¸€ä¸ªå…ƒç´ æ—¢æ—‹è½¬åˆä½ç§»ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ transform çš„ç®€å†™è¯­æ³•ï¼š 123456div &#123; transition: transform 1s;&#125;div:hover &#123; transform: rotate(90deg) scale(1.5);&#125; See the Pen ZZBNmN by JingW (@JingW) on CodePen.]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>CSS3</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³äºæµè§ˆå™¨çš„CSSå‰ç¼€]]></title>
    <url>%2Fposts%2F496%2F</url>
    <content type="text"><![CDATA[çªç„¶æƒ³èµ·æ¥çš„ï¼Œå…ˆå ä¸ªå‘ï¼Œæœ‰ç©ºå†æ›´â€¦]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>CSS3</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å®ä»»åŠ¡&å¾®ä»»åŠ¡]]></title>
    <url>%2Fposts%2F20664%2F</url>
    <content type="text"><![CDATA[å…ˆMarkä¸€ä¸‹ï¼ŒæŠ½ç©ºå†å†™â€¦1234567891011121314151617181920212223242526console.log('sync1');setTimeout(function () &#123; console.log('setTimeout1')&#125;, 0);var promise = new Promise(function (resolve, reject) &#123; setTimeout(function () &#123; console.log('setTimeoutPromise') &#125;, 0); console.log('promise'); resolve();&#125;);promise.then(() =&gt; &#123; console.log('pro_then'); setTimeout(() =&gt; &#123; console.log('pro_timeout'); &#125;, 0)&#125;)setTimeout(function () &#123; console.log('last_setTimeout')&#125;, 0);console.log('sync2');]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>JS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[JSä¸­çš„è¿ç­‰èµ‹å€¼æ“ä½œ]]></title>
    <url>%2Fposts%2F24177%2F</url>
    <content type="text"><![CDATA[é‡‘ä¸‰é“¶å››æ­£æ˜¯é¢è¯•çš„å¥½æ—¶å€™ï¼Œæœ‰ä¸å°‘å­¦å‘˜é¢è¯•ååœ¨å‰ç«¯ç¾¤é‡Œåˆ†äº«JSé¢è¯•é¢˜ï¼Œæˆ‘æ­£å·§æ²¡äº‹å„¿ç¿»åˆ°ä¸€é¢˜åšåšçœ‹ï¼Œå‘ç°ç­”æ¡ˆä¸æˆ‘è‡ªå·±çš„é¢„æœŸå¤§ç›¸å¾„åº­ï¼Œå½“æ—¶æˆ‘å°±éœ‡æƒŠäº†ï¼Œåœ¨chromeæ§åˆ¶å°æ‰“å°äº†ä¸‹ç»“æœï¼Œè¿˜çœŸæ˜¯æˆ‘é”™äº†ã€‚æ²¡é”™ï¼Œå°±æ˜¯ä¸‹é¢è¿™é“è¿ç­‰èµ‹å€¼é¢˜ï¼š 12345var a = &#123; name: 'a'&#125;;a.x = a = &#123;&#125;; é—®ï¼šæ­¤åˆ»çš„ a.x æ˜¯å¤šå°‘ã€‚ å½“æ—¶æˆ‘ç®€å•çš„åˆ†æäº†ä¸‹ï¼Œç”±äº a èµ‹å€¼ç»™äº†ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œæ¥ç€åˆæŠŠ a èµ‹å€¼ç»™äº† a.x ï¼Œé‚£ç†æ‰€å½“ç„¶ a.x ä¸å°±æ˜¯ {} å˜›ã€‚ç„¶è€Œç­”æ¡ˆå´æ˜¯å‡ºä¹æ„æ–™çš„ undefined â€¦ æƒ³äº†åŠå¤©è¿˜æ˜¯æ„Ÿè§‰ç†è§£ä¸äº†ï¼Œæˆ‘å°±googleäº†ä¸‹ï¼Œå‘ç°äº†è¿™ç¯‡æ–‡ç« ï¼šåƒä¸‡ä¸è¦åœ¨JSä¸­ä½¿ç”¨è¿ç­‰èµ‹å€¼æ“ä½œ ã€‚çœ‹å®Œåç†è§£äº†ã€‚ è¿™é“é¢˜çš„æ ¸å¿ƒåœ¨äºçŸ¥é“JSæ˜¯å¦‚ä½•æ‰§è¡Œ a.x = a = {} è¿™è¡Œä»£ç çš„ï¼Œåˆ†ä¸¤æ­¥ï¼šä¸€æ˜¯ç¡®å®š a æ˜¯ä»€ä¹ˆï¼ŒäºŒæ˜¯ä»£ç æ‰§è¡Œé¡ºåºæ˜¯ä»å³å‘å·¦çš„ã€‚ æˆ‘ä»¬ä¸€æ­¥æ­¥çœ‹ï¼Œç¬¬ä¸€è¡Œä»£ç  var a = {name: &#39;a&#39;} ï¼Œè¿™å¥è¯åº”è¯¥éƒ½æ²¡ä»€ä¹ˆç–‘é—®ï¼Œæˆ‘ä»¬æŠŠ a çš„åœ°å€å‡è®¾ä¸º AAA ã€‚ ç„¶åå°±æ˜¯ a.x = a = {} ï¼ŒæŒ‰ç…§æ­¥éª¤æ¥ï¼Œå…ˆç¡®å®š a æ˜¯ä»€ä¹ˆï¼Œåœ¨è¿˜æ²¡æœ‰èµ‹å€¼æ“ä½œå‰ï¼Œa.x çš„ a æŒ‡å‘ AAAï¼Œä¸­é—´çš„ a ä¹Ÿæ˜¯æŒ‡å‘ AAA ï¼Œæ–°åˆ›å»ºçš„å¯¹è±¡ {} åœ°å€å‡è®¾ä¸º BBB ã€‚ç„¶åä»£ç ä»å³å‘å·¦æ‰§è¡Œï¼Œa = {} ï¼Œæ‰€ä»¥ä¸­é—´çš„ a æŒ‡å‘äº†æ–°åœ°å€ BBB ï¼›æ¥ç€ a.x = a ï¼Œæ­¤åˆ»çš„ a.x çš„ a ä»ç„¶æ˜¯ AAAï¼ˆå› ä¸ºåœ¨èµ‹å€¼å‰å°±å·²ç»ç¡®å®šäº† a çš„åœ°å€ï¼‰ï¼Œèµ‹å€¼ååŸåœ°å€ AAA çš„å¯¹è±¡å°±å˜æˆäº† {name: â€˜aâ€™, x: {}} è¿™é‡Œçš„xæŒ‡å‘çš„å°±æ˜¯æ–°å¯¹è±¡åœ°å€ BBB ã€‚ ä¸Šè¿°æ“ä½œç»“æŸåå†æ¥é—® a.x çš„å€¼æ˜¯ä»€ä¹ˆï¼Œæ­¤åˆ»çš„ a å·²ç»åœ¨ a = {} è¿™ä¸€æ­¥èµ‹å€¼æ“ä½œåæŒ‡å‘äº†æ–°çš„åœ°å€ BBB ï¼Œæ‰€ä»¥æ­¤åˆ»çš„ a æ˜¯ç©ºå¯¹è±¡ {} ï¼Œè€Œç©ºå¯¹è±¡æ˜¯æ²¡æœ‰ x å±æ€§çš„ï¼Œæ‰€ä»¥è¾“å‡º undefined ã€‚ æ˜¯ä¸æ˜¯æœ‰ç‚¹ç»•ï¼Ÿè¿™ç§é¢˜å‡ºå‡ºæ¥çœŸæ˜¯æŒºçœ‹JSåŠŸåº•çš„ï¼Œå®ƒè€ƒå¯Ÿäº†ä½ å¯¹JSç¼–è¯‘åŸç†çš„ç†è§£ä¸æŒæ¡æƒ…å†µã€‚å€Ÿç”¨ä¸Šé¢åšå®¢é‡Œåšä¸»çš„ä¸€å¥è¯ä½œä¸ºæ”¶å°¾ï¼šå°½é‡ä¸è¦ä½¿ç”¨JSçš„è¿ç»­èµ‹å€¼æ“ä½œï¼Œé™¤éçœŸçš„äº†è§£å®ƒçš„å†…éƒ¨æœºåˆ¶åŠå¯èƒ½ä¼šäº§ç”Ÿçš„åæœã€‚]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>JS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[vuexçš„åŸºæœ¬ä½¿ç”¨]]></title>
    <url>%2Fposts%2F19311%2F</url>
    <content type="text"><![CDATA[ä»€ä¹ˆæ˜¯ VuexVuex æ˜¯ä¸€ä¸ªä¸“ä¸º Vue.js åº”ç”¨ç¨‹åºå¼€å‘çš„çŠ¶æ€ç®¡ç†å·¥å…·ã€‚ å‡†å¤‡å·¥ä½œé¦–å…ˆä½¿ç”¨ vue-cli è„šæ‰‹æ¶å·¥å…·æ–°å»ºä¸€ä¸ªé¡¹ç›®ï¼š 1vue create vuex-demo srcæ–‡ä»¶å¤¹ä¸‹çš„ç›®å½•ç»“æ„ï¼š 1234567srcâ”œâ”€â”€ App.vueâ”œâ”€â”€ assetsâ”‚ â””â”€â”€ logo.pngâ”œâ”€â”€ componentsâ”‚ â””â”€â”€ HelloWorld.vueâ””â”€â”€ main.js # å…¥å£æ–‡ä»¶ å®‰è£… vuexå‘½ä»¤è¡Œä¸‹æ‰§è¡Œï¼š 1npm i vuex ç„¶ååœ¨å…¥å£æ–‡ä»¶å¼•å…¥ vuex ï¼š 12import Vuex from 'vuex'Vue.use(Vuex) ä¸€ä¸ªä¾‹å­ä¸ºäº†äº†è§£ vuex åˆ°åº•åšäº†ä»€ä¹ˆäº‹æƒ…ã€è§£å†³äº†å“ªäº›é—®é¢˜ã€‚æˆ‘ä»¬å…ˆæ¥å®ç°ä¸€ä¸ªç®€å•çš„ demo ï¼Œæœ‰ä¸€ä¸ªæ ‡ç­¾æ˜¾ç¤ºæ•°å­—ï¼Œä¸¤ä¸ªæŒ‰é’®åˆ†åˆ«åšæ•°å­—çš„ +1 å’Œ -1 æ“ä½œã€‚ æˆ‘ä»¬å…ˆåœ¨ src/components/ ä¸‹çš„ Normal.vue ç»„ä»¶ä¸­ä½¿ç”¨çº¯ Vue ç‰ˆæœ¬ç¼–å†™ä»£ç ï¼š Normal.vue 123456789101112131415161718192021222324252627&lt;template&gt; &lt;div id="normal"&gt; &lt;p&gt;&#123;&#123;count&#125;&#125; &lt;button @click="inc"&gt; + &lt;/button&gt; &lt;button @click="dec"&gt; - &lt;/button&gt; &lt;/p&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; data() &#123; return &#123; count: 0 &#125; &#125;, methods: &#123; inc() &#123; this.count++ &#125;, dec() &#123; this.count-- &#125; &#125;,&#125;&lt;/script&gt; ç„¶ååœ¨ src/App.vue ä¸­å¼•å…¥å¹¶ä½¿ç”¨è¯¥ç»„ä»¶ï¼š 1234567891011121314&lt;template&gt; &lt;div id="app"&gt; &lt;Normal&gt;&lt;/Normal&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;import Normal from '@/components/Normal'export default &#123; components: &#123; Normal, &#125;&#125;&lt;/script&gt; å‘½ä»¤è¡Œæ‰§è¡Œ npm run serve å°±èƒ½è¿è¡Œ App äº†ã€‚ å¦‚ä¸Šçš„ä»£ç çš„å«ä¹‰æ˜¯ï¼šä¸¤ä¸ª button æ ‡ç­¾ç»‘å®šå‡½æ•°ï¼Œå½“ç‚¹å‡»çš„æ—¶å€™åˆ†åˆ«è°ƒç”¨ inc å’Œ dec æ–¹æ³•ï¼Œæ¥ç€ä¼šè°ƒç”¨ vue ä¸­çš„ methods çš„å¯¹åº”çš„æ–¹æ³•ã€‚ç„¶åä¼šè®© data ä¸­çš„ count å±æ€§å€¼å‘ç”Ÿæ”¹å˜ï¼Œæ”¹å˜åä¼šæŠŠæœ€æ–°å€¼æ¸²æŸ“åˆ°è§†å›¾ä¸­ã€‚ ç°åœ¨æˆ‘ä»¬æ¥çœ‹çœ‹ä½¿ç”¨ vuex çš„æ–¹å¼æ¥å®ç°å¦‚ä¸Š demo ï¼š srcä¸‹æ–°å»º vuex/store.js 123456789101112131415import Vue from 'vue'import Vuex from 'vuex'Vue.use(Vuex)// æ³¨æ„æ˜¯newã€Vuex.Storeã€‘å®ä¾‹è€Œä¸æ˜¯ã€Vuexã€‘export const store = new Vuex.Store(&#123; state: &#123; count: 0 &#125;, mutations: &#123; inc: state =&gt; state.count++, dec: state =&gt; state.count-- &#125;&#125;) main.js ä¸­å¼•å…¥ 1234567...import store from '@/vuex/store'...new Vue(&#123; render: h =&gt; h(App), store&#125;).$mount('#app') åœ¨ src/components/ ä¸‹æ–°å»º SWVuex.vue ç»„ä»¶ 1234567891011121314151617181920212223242526&lt;template&gt; &lt;div id="vuex"&gt; &lt;p&gt;&#123;&#123;count&#125;&#125; &lt;button @click="inc"&gt;+&lt;/button&gt; &lt;button @click="dec"&gt;-&lt;/button&gt; &lt;/p&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; export default &#123; computed: &#123; count() &#123; return this.$store.state.count &#125; &#125;, methods: &#123; inc() &#123; this.$store.commit('inc') &#125;, dec() &#123; this.$store.commit('dec') &#125; &#125;, &#125;&lt;/script&gt; åœ¨ App.vue ä¸­ä½¿ç”¨ SWVuex ç»„ä»¶ 1234567891011121314&lt;template&gt; &lt;div id="app"&gt; &lt;SWVuex&gt;&lt;/SWVuex&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;import SWVuex from '@/components/SWVuex'export default &#123; components: &#123; SWVuex &#125;&#125;&lt;/script&gt; ä¸¤è€…æ¯”è¾ƒ éœ€è¦å¼•ç”¨ vuex ã€‚ methods çš„æ–¹æ³•ä¸å˜ï¼Œä½†æ˜¯æ–¹æ³•å†…çš„é€»è¾‘ä¸åœ¨å‡½æ•°å†…è¿›è¡Œï¼Œè€Œæ˜¯è®© store å¯¹è±¡å»å¤„ç†ã€‚ count æ•°æ®ä¸å†æ˜¯ä¸€ä¸ª data å‡½æ•°è¿”å›çš„å¯¹è±¡çš„å±æ€§äº†ã€‚è€Œæ˜¯é€šè¿‡ store æ–¹æ³•å†…çš„è®¡ç®—å­—æ®µè¿”å›çš„ã€‚ å›åˆ° store å¯¹è±¡ä¸Šæ¥ï¼Œstore å¯¹è±¡æ˜¯ Vuex.Store çš„å®ä¾‹ã€‚åœ¨ store å†…åˆ†ä¸º state å¯¹è±¡å’Œ mutations å¯¹è±¡ï¼Œå…¶ä¸­ state å­˜æ”¾çš„æ˜¯çŠ¶æ€ï¼Œæ¯”å¦‚ count å±æ€§å°±æ˜¯å®ƒçš„çŠ¶æ€å€¼ï¼Œè€Œ mutations åˆ™æ˜¯ä¸€ä¸ªä¼šå¼•å‘çŠ¶æ€æ”¹å˜çš„æ‰€æœ‰æ–¹æ³•ã€‚ ä»€ä¹ˆæ˜¯çŠ¶æ€ç®¡ç†æ¨¡å¼ç®€å•çš„ç†è§£å°±æ˜¯ç»Ÿä¸€ç®¡ç†å’Œç»´æŠ¤å„ä¸ª vue ç»„ä»¶çš„å¯å˜åŒ–çŠ¶æ€ã€‚ æˆ‘ä»¬æ˜ç™½ vue æ˜¯å•å‘æ•°æ®æµçš„ï¼Œé‚£ä¹ˆå®ƒçš„çŠ¶æ€ç®¡ç†ä¸€èˆ¬åŒ…å«å¦‚ä¸‹å‡ éƒ¨åˆ†ï¼š stateï¼šé©±åŠ¨åº”ç”¨çš„æ•°æ®ï¼ˆä¸€èˆ¬æŒ‡ data ä¸­è¿”å›çš„æ•°æ®ï¼‰ viewï¼šä¸€èˆ¬æŒ‡æ¨¡æ¿ï¼Œä»¥å£°æ˜çš„æ–¹å¼å°† state çš„æ•°æ®æ˜ å°„åˆ°è§†å›¾ actionsï¼šå“åº”åœ¨ view ä¸Šçš„ç”¨æˆ·è¾“å…¥å¯¼è‡´çš„çŠ¶æ€å˜åŒ– ä½†æ˜¯å½“æˆ‘ä»¬çš„åº”ç”¨é‡åˆ°å¤šä¸ªç»„ä»¶å…±äº«çŠ¶æ€æ—¶å€™ï¼Œé‚£ä¹ˆå•å‘æ•°æ®æµå¯èƒ½ä¸å¤ªæ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ï¼Œæ¯”å¦‚ï¼š ç»„ä»¶çš„å¤šå±‚åµŒå¥— å¤šä¸ªè§†å›¾ä¾èµ–åŒä¸€ä¸ªçŠ¶æ€ ä¸Šé¢è¿™äº›æƒ…å†µç¡®å®èƒ½åœ¨ä¸ä½¿ç”¨ vuex çš„æƒ…å†µä¸‹å®ç°ï¼Œä½†å¾€å¾€ä¼šå¯¼è‡´å†™å‡ºæ— æ³•ç»´æŠ¤çš„ä»£ç ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥æŠŠç»„ä»¶çš„å…±äº«çŠ¶æ€æå–å‡ºæ¥ã€å…¨å±€ç®¡ç†ï¼Œå› æ­¤ vuex äº§ç”Ÿäº†ã€‚ Vuex çš„ä¼˜ç‚¹æœ€ä¸»è¦è§£å†³äº†ç»„ä»¶ä¹‹é—´å…±äº«åŒä¸€çŠ¶æ€çš„é—®é¢˜ã€‚å¯ä»¥æŠŠç»„ä»¶çš„å…±äº«çŠ¶æ€æå–å‡ºæ¥ï¼Œä½œä¸ºå…¨å±€æ¥ç®¡ç†ã€‚ ä»€ä¹ˆæƒ…å†µä¸‹æ‰æ¨èä½¿ç”¨ Vuexå¤§å‹å•é¡µåº”ç”¨ï¼ï¼ï¼å¦‚æœä½ çš„é¡¹ç›®ä¸å¤Ÿå¤§ï¼Œè¶³å¤Ÿç®€å•ï¼Œæœ€å¥½ä¸è¦ä½¿ç”¨ Vuex ï¼Œä¸€ä¸ªç®€å•çš„ global event bus å°±è¶³å¤Ÿæ‰€éœ€äº†ã€‚ State å¯¹è±¡çŠ¶æ€çš„è®¿é—®é€šè¿‡ computed è®¡ç®—å±æ€§ç›´æ¥èµ‹å€¼12345678910111213141516171819202122232425262728&lt;template&gt; &lt;div id="vuex"&gt; &lt;p&gt;é€šè¿‡ $store.state æ–¹å¼è·å–ï¼š&#123;&#123;$store.state.count&#125;&#125;&lt;/p&gt; &lt;p&gt;é€šè¿‡ computed è®¡ç®—å±æ€§èµ‹å€¼ï¼š&#123;&#123;count&#125;&#125;&lt;/p&gt; &lt;p&gt; &lt;button @click="inc"&gt;+&lt;/button&gt; &lt;button @click="dec"&gt;-&lt;/button&gt; &lt;/p&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; export default &#123; computed: &#123; count() &#123; return this.$store.state.count &#125; &#125;, methods: &#123; inc() &#123; this.$store.commit('inc') &#125;, dec() &#123; this.$store.commit('dec') &#125; &#125;, &#125;&lt;/script&gt; å€ŸåŠ© mapState è¾…åŠ©å‡½æ•°å¯¹è±¡å½¢å¼123456789101112131415161718192021222324252627&lt;template&gt; &lt;div id="vuex"&gt; &lt;p&gt;é€šè¿‡ $store.state æ–¹å¼è·å–ï¼š&#123;&#123;$store.state.count&#125;&#125;&lt;/p&gt; &lt;p&gt;é€šè¿‡ computed è®¡ç®—å±æ€§èµ‹å€¼ï¼š&#123;&#123;count&#125;&#125;&lt;/p&gt; &lt;p&gt; &lt;button @click="inc"&gt;+&lt;/button&gt; &lt;button @click="dec"&gt;-&lt;/button&gt; &lt;/p&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;import &#123;mapState&#125; from 'vuex' export default &#123; computed: mapState(&#123; count: state =&gt; state.count &#125;), methods: &#123; inc() &#123; this.$store.commit('inc') &#125;, dec() &#123; this.$store.commit('dec') &#125; &#125;, &#125;&lt;/script&gt; æ•°ç»„å½¢å¼12// æ•°ç»„ä¸­çš„ count å¿…é¡»å’Œ store.js ä¸­å®šä¹‰çš„å¸¸é‡ count åŒåï¼Œå› ä¸ºè¿™æ˜¯ç›´æ¥è®¿é—® state çš„ countcomputed: mapState(['count']) Getters è®¡ç®—è¿‡æ»¤æ“ä½œæœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦ä» store çš„ state ä¸­æ´¾ç”Ÿå‡ºä¸€äº›çŠ¶æ€ï¼Œæ¯”å¦‚åœ¨ä½¿ç”¨ store ä¸­çš„ state ä¹‹å‰ï¼Œæˆ‘ä»¬ä¼šå¯¹ state ä¸­çš„æŸäº›å­—æ®µè¿›è¡Œè¿‡æ»¤â€”â€”è®© count å­—æ®µéƒ½è¿›è¡ŒåŠ  10 è¿™æ ·çš„æ•°æ®æ“ä½œï¼›ä½†æ˜¯å¦‚æœæœ‰å¤šä¸ªç»„ä»¶éœ€è¦ç”¨åˆ°è¿™ä¸ªæ“ä½œçš„è¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±éœ€è¦å¤åˆ¶è¿™ä¸ªå‡½æ•°ï¼Œæˆ–è€…æŠ½å–åˆ°ä¸€ä¸ªå…±äº«å‡½æ•°å†…ï¼Œç„¶åå¤šå¤„å¯¼å…¥è¿™ä¸ªå‡½æ•°ï¼Œä½†æ˜¯è¿™ä¸Šé¢ä¸¤ç§æ–¹å¼éƒ½ä¸æ˜¯å¤ªå¥½ï¼Œå› ä¸ºæˆ‘ä»¬ç°åœ¨æœ‰æ›´å¥½çš„æ–¹å¼æ¥è§£å†³å®ƒã€‚ Vuex å…è®¸æˆ‘ä»¬åœ¨ store ä¸­å®šä¹‰ gettersï¼Œgetters çš„è¿”å›å€¼ä¼šæ ¹æ®å®ƒçš„ä¾èµ–è¢«ç¼“å­˜èµ·æ¥ï¼Œä¸”åªæœ‰å½“ä»–çš„ä¾èµ–å€¼å‘ç”Ÿæ”¹å˜äº†æ‰ä¼šé‡æ–°è®¡ç®—ã€‚ ç°åœ¨æˆ‘ä»¬å¯¹ store.js æ–‡ä»¶ä¸­çš„ count è¿›è¡Œä¸€ä¸ªè®¡ç®—å±æ€§çš„æ“ä½œï¼Œåœ¨å®ƒæ¯æ¬¡è¾“å‡ºä¹‹å‰ï¼ŒåŠ ä¸Š20ã€‚ å¦‚ä¸‹ä»£ç æœ‰ä¸¤ä¸ªæŒ‰é’®ï¼Œä¸€ä¸ªåŠ 5ï¼Œä¸€ä¸ªå‡5ï¼Œé‚£ä¹ˆåœ¨åŠ 5æˆ–è€…å‡5ä¹‹å‰ï¼Œå…ˆåŠ 20ï¼Œç„¶åå†è¿›è¡ŒåŠ 5æˆ–è€…5æ“ä½œã€‚ä»£ç å¦‚ä¸‹ï¼š store.js 12345678910111213141516171819import Vue from 'vue'import Vuex from 'vuex'Vue.use(Vuex)export const store = new Vuex.Store(&#123; state: &#123; count: 0 &#125;, mutations: &#123; inc: (state, num) =&gt; state.count += num, dec: (state, num) =&gt; state.count -= num &#125;, getters: &#123; myCount(state) &#123; return state.count + 20 &#125; &#125;&#125;) SWVuex.vue 123456789101112131415161718192021222324252627282930313233343536&lt;template&gt; &lt;div id="vuex"&gt; &lt;p&gt;é€šè¿‡ $store.state æ–¹å¼è·å–ï¼š&#123;&#123;$store.state.count&#125;&#125;&lt;/p&gt; &lt;p&gt;é€šè¿‡ computed è®¡ç®—å±æ€§èµ‹å€¼ï¼š&#123;&#123;myCount&#125;&#125;&lt;/p&gt; &lt;p&gt; &lt;p&gt;ä½¿ç”¨ $store.commit('inc', 5) æ–¹å¼è°ƒç”¨&lt;/p&gt; &lt;!-- $store.commit('inc', 5) ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ–¹æ³•åï¼Œç¬¬äºŒä¸ªæ˜¯å‚æ•° --&gt; &lt;button @click="$store.commit('inc', 5)"&gt;+&lt;/button&gt; &lt;button @click="$store.commit('dec', 5)"&gt;-&lt;/button&gt; &lt;/p&gt; &lt;div&gt; &lt;p&gt;ä½¿ç”¨mapMutationsä¿®æ”¹çŠ¶æ€ï¼š&lt;/p&gt; &lt;p&gt; &lt;button @click="inc(10)"&gt;+&lt;/button&gt; &lt;button @click="dec(10)"&gt;-&lt;/button&gt; &lt;/p&gt; &lt;/div&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;import &#123;mapState, mapGetters, mapMutations&#125; from 'vuex' export default &#123; computed: &#123; // mapState(['count']) æ­¤å¤„çš„ count å¿…é¡»å’Œ store.js // state ä¸­çš„ count åŒåï¼Œå› ä¸ºè¿™æ˜¯ç›´æ¥è®¿é—® state çš„ count ...mapState(['count']), // mapGetters è¾…åŠ©å‡½æ•°ï¼Œ // å¯ä»¥å°† store ä¸­çš„ getter æ˜ å°„åˆ°å±€éƒ¨è®¡ç®—å±æ€§ myCount ...mapGetters(['myCount']) &#125;, methods: &#123; ...mapMutations(['inc', 'dec']) &#125;, &#125;&lt;/script&gt; Mutations ä¿®æ”¹çŠ¶æ€Mutations æ˜¯ä¿®æ”¹ vuex ä¸­çš„ store çš„å”¯ä¸€æ–¹æ³•ã€‚æ¯ä¸ª mutations éƒ½æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²çš„äº‹ä»¶ç±»å‹(type)å’Œä¸€ä¸ªå›è°ƒå‡½æ•°(handler)ã€‚è¿™ä¸ªå›è°ƒå‡½æ•°å°±æ˜¯æˆ‘ä»¬è¿›è¡Œæ›´æ”¹çš„åœ°æ–¹ã€‚å®ƒä¹Ÿä¼šæ¥å— state ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ã€‚ å›é¡¾ä¸Šé¢çš„ store.js ä¸­æœ‰å…³ mutations çš„ä»£ç ï¼š 1234mutations: &#123; inc: (state, num) =&gt; state.count += num, dec: (state, num) =&gt; state.count -= num&#125;, å½“æˆ‘ä»¬ç‚¹å‡»é¡µé¢ä¸Šçš„æŒ‰é’®åä¼šè§¦å‘äº‹ä»¶å¹¶æ‰§è¡Œæ–¹æ³•ï¼Œæ–¹æ³•ä¸­åˆä¼šè°ƒç”¨ $store.commit(type, args) æ¥ä¼ å…¥å‚æ•°æ”¹å˜ state æ•°æ®ã€‚ Actions å¼‚æ­¥ä¿®æ”¹çŠ¶æ€Actions å’Œ Mutations ç±»ä¼¼ï¼Œä½†å®ƒç”¨æ¥å¼‚æ­¥ä¿®æ”¹ state çš„çŠ¶æ€ã€‚è€Œ Mutations åˆ™æ˜¯åŒæ­¥ä¿®æ”¹ state çš„çŠ¶æ€ã€‚ æˆ‘ä»¬åœ¨ store.js ä¸­å£°æ˜ actionsï¼Œactions å¯ä»¥è°ƒç”¨ mutations çš„æ–¹æ³•çš„ã€‚ä»£ç å¦‚ä¸‹ï¼š store.js 1234567891011// å¢åŠ ä¸¤ä¸ª actions æ–¹æ³•actions: &#123; incAction(context) &#123; console.log(context) // è°ƒç”¨ mutations ä¸­çš„ inc æ–¹æ³•ï¼Œå¹¶ä¼ å‚æ•°5 context.commit('inc', 5) &#125;, decAction(context) &#123; context.commit('dec', 5) &#125;&#125; ä¸Šæ–¹ä»£ç ä¸­çš„å‚æ•° context æŒ‡ä¸Šä¸‹æ–‡ï¼Œå³ store æœ¬èº«ã€‚ ç„¶ååœ¨ SWVuex.vue ä¸­é€šè¿‡ this.$store.dispatch(actionæ–¹æ³•å, å‚æ•°) çš„æ–¹å¼è°ƒç”¨ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647&lt;template&gt; &lt;div id="vuex"&gt; &lt;p&gt;é€šè¿‡ $store.state æ–¹å¼è·å–ï¼š&#123;&#123;$store.state.count&#125;&#125;&lt;/p&gt; &lt;p&gt;é€šè¿‡ computed è®¡ç®—å±æ€§èµ‹å€¼ï¼š&#123;&#123;myCount&#125;&#125;&lt;/p&gt; &lt;div&gt; &lt;p&gt;ä½¿ç”¨ $store.commit('inc', 5) æ–¹å¼è°ƒç”¨&lt;/p&gt; &lt;!-- $store.commit('inc', 5) ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ–¹æ³•åï¼Œç¬¬äºŒä¸ªæ˜¯å‚æ•° --&gt; &lt;button @click="$store.commit('inc', 5)"&gt;+&lt;/button&gt; &lt;button @click="$store.commit('dec', 5)"&gt;-&lt;/button&gt; &lt;/div&gt; &lt;div&gt; &lt;p&gt;ä½¿ç”¨mapMutationsä¿®æ”¹çŠ¶æ€ï¼š&lt;/p&gt; &lt;p&gt; &lt;button @click="inc(10)"&gt;+&lt;/button&gt; &lt;button @click="dec(10)"&gt;-&lt;/button&gt; &lt;/p&gt; &lt;/div&gt; &lt;div&gt; &lt;p&gt;actionsçš„å¼‚æ­¥æ“ä½œ&lt;/p&gt; &lt;button @click="incAction"&gt; + &lt;/button&gt; &lt;button @click="decAction"&gt; - &lt;/button&gt; &lt;/div&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;import &#123;mapState, mapGetters, mapMutations&#125; from 'vuex' export default &#123; computed: &#123; // mapState(['count']) æ­¤å¤„çš„ count å¿…é¡»å’Œ store.js // state ä¸­çš„ count åŒåï¼Œå› ä¸ºè¿™æ˜¯ç›´æ¥è®¿é—® state çš„ count ...mapState(['count']), // mapGetters è¾…åŠ©å‡½æ•°ï¼Œ // å¯ä»¥å°† store ä¸­çš„ getter æ˜ å°„åˆ°å±€éƒ¨è®¡ç®—å±æ€§ myCount ...mapGetters(['myCount']) &#125;, methods: &#123; ...mapMutations(['inc', 'dec']), incAction() &#123; this.$store.dispatch('incAction') &#125;, decAction() &#123; this.$store.dispatch('decAction') &#125;, &#125;, &#125;&lt;/script&gt; å½“ç„¶ï¼Œé™¤äº†ä½¿ç”¨ this.$store.dispatch() çš„æ–¹å¼ä»¥å¤–ï¼Œè¿˜å¯ä»¥å€ŸåŠ© mapActions æ¥ç®€åŒ–ä»£ç ï¼š 1234567// æ–°åŠ  mapActionsimport &#123;mapState, mapGetters, mapMutations, mapActions&#125; from 'vuex'...methods: &#123; ...mapMutations(['inc', 'dec']), ...mapActions(['incAction', 'decAction']) // +&#125;,]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>æ¡†æ¶</category>
      </categories>
      <tags>
        <tag>vuex</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å½»åº•ç†è§£cookie-session-token(è½¬è½½)]]></title>
    <url>%2Fposts%2F29493%2F</url>
    <content type="text"><![CDATA[å‘å±•å²1ã€å¾ˆä¹…å¾ˆä¹…ä»¥å‰ï¼ŒWeb åŸºæœ¬ä¸Šå°±æ˜¯æ–‡æ¡£çš„æµè§ˆè€Œå·²ï¼Œ æ—¢ç„¶æ˜¯æµè§ˆï¼Œä½œä¸ºæœåŠ¡å™¨ï¼Œ ä¸éœ€è¦è®°å½•è°åœ¨æŸä¸€æ®µæ—¶é—´é‡Œéƒ½æµè§ˆäº†ä»€ä¹ˆæ–‡æ¡£ï¼Œæ¯æ¬¡è¯·æ±‚éƒ½æ˜¯ä¸€ä¸ªæ–°çš„HTTPåè®®ï¼Œ å°±æ˜¯è¯·æ±‚åŠ å“åº”ï¼Œ å°¤å…¶æ˜¯æˆ‘ä¸ç”¨è®°ä½æ˜¯è°åˆšåˆšå‘äº†HTTPè¯·æ±‚ï¼Œ æ¯ä¸ªè¯·æ±‚å¯¹æˆ‘æ¥è¯´éƒ½æ˜¯å…¨æ–°çš„ã€‚è¿™æ®µæ—¶é—´å¾ˆå—¨çš® 2ã€ä½†æ˜¯éšç€äº¤äº’å¼Webåº”ç”¨çš„å…´èµ·ï¼Œåƒåœ¨çº¿è´­ç‰©ç½‘ç«™ï¼Œéœ€è¦ç™»å½•çš„ç½‘ç«™ç­‰ç­‰ï¼Œé©¬ä¸Šå°±é¢ä¸´ä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯è¦ç®¡ç†ä¼šè¯ï¼Œå¿…é¡»è®°ä½å“ªäº›äººç™»å½•ç³»ç»Ÿï¼Œ å“ªäº›äººå¾€è‡ªå·±çš„è´­ç‰©è½¦ä¸­æ”¾å•†å“ï¼Œ ä¹Ÿå°±æ˜¯è¯´æˆ‘å¿…é¡»æŠŠæ¯ä¸ªäººåŒºåˆ†å¼€ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªä¸å°çš„æŒ‘æˆ˜ï¼Œå› ä¸ºHTTPè¯·æ±‚æ˜¯æ— çŠ¶æ€çš„ï¼Œæ‰€ä»¥æƒ³å‡ºçš„åŠæ³•å°±æ˜¯ç»™å¤§å®¶å‘ä¸€ä¸ªä¼šè¯æ ‡è¯†(session id), è¯´ç™½äº†å°±æ˜¯ä¸€ä¸ªéšæœºçš„å­—ä¸²ï¼Œæ¯ä¸ªäººæ”¶åˆ°çš„éƒ½ä¸ä¸€æ ·ï¼Œ æ¯æ¬¡å¤§å®¶å‘æˆ‘å‘èµ·HTTPè¯·æ±‚çš„æ—¶å€™ï¼ŒæŠŠè¿™ä¸ªå­—ç¬¦ä¸²ç»™ä¸€å¹¶æè¿‡æ¥ï¼Œ è¿™æ ·æˆ‘å°±èƒ½åŒºåˆ†å¼€è°æ˜¯è°äº† 3ã€è¿™æ ·å¤§å®¶å¾ˆå—¨çš®äº†ï¼Œå¯æ˜¯æœåŠ¡å™¨å°±ä¸å—¨çš®äº†ï¼Œæ¯ä¸ªäººåªéœ€è¦ä¿å­˜è‡ªå·±çš„session idï¼Œè€ŒæœåŠ¡å™¨è¦ä¿å­˜æ‰€æœ‰äººçš„session id ï¼ å¦‚æœè®¿é—®æœåŠ¡å™¨å¤šäº†ï¼Œ å°±å¾—ç”±æˆåƒä¸Šä¸‡ï¼Œç”šè‡³å‡ åä¸‡ä¸ªã€‚ è¿™å¯¹æœåŠ¡å™¨è¯´æ˜¯ä¸€ä¸ªå·¨å¤§çš„å¼€é”€ ï¼Œ ä¸¥é‡çš„é™åˆ¶äº†æœåŠ¡å™¨æ‰©å±•èƒ½åŠ›ï¼Œ æ¯”å¦‚è¯´æˆ‘ç”¨ä¸¤ä¸ªæœºå™¨ç»„æˆäº†ä¸€ä¸ªé›†ç¾¤ï¼Œ å°Fé€šè¿‡æœºå™¨Aç™»å½•äº†ç³»ç»Ÿï¼Œ é‚£session idä¼šä¿å­˜åœ¨æœºå™¨Aä¸Šï¼Œ å‡è®¾å°Fçš„ä¸‹ä¸€æ¬¡è¯·æ±‚è¢«è½¬å‘åˆ°æœºå™¨Bæ€ä¹ˆåŠï¼Ÿ æœºå™¨Bå¯æ²¡æœ‰å°Fçš„ session idå•Šã€‚ æœ‰æ—¶å€™ä¼šé‡‡ç”¨ä¸€ç‚¹å°ä¼ä¿©ï¼š session sticky ï¼Œ å°±æ˜¯è®©å°Fçš„è¯·æ±‚ä¸€ç›´ç²˜è¿åœ¨æœºå™¨Aä¸Šï¼Œ ä½†æ˜¯è¿™ä¹Ÿä¸ç®¡ç”¨ï¼Œ è¦æ˜¯æœºå™¨AæŒ‚æ‰äº†ï¼Œ è¿˜å¾—è½¬åˆ°æœºå™¨Bå»ã€‚ é‚£åªå¥½åšsession çš„å¤åˆ¶äº†ï¼Œ æŠŠsession id åœ¨ä¸¤ä¸ªæœºå™¨ä¹‹é—´æ¬æ¥æ¬å»ï¼Œ å¿«ç´¯æ­»äº†ã€‚ åæ¥æœ‰ä¸ªå«Memcachedçš„æ”¯äº†æ‹›ï¼š æŠŠsession id é›†ä¸­å­˜å‚¨åˆ°ä¸€ä¸ªåœ°æ–¹ï¼Œ æ‰€æœ‰çš„æœºå™¨éƒ½æ¥è®¿é—®è¿™ä¸ªåœ°æ–¹çš„æ•°æ®ï¼Œ è¿™æ ·ä¸€æ¥ï¼Œå°±ä¸ç”¨å¤åˆ¶äº†ï¼Œ ä½†æ˜¯å¢åŠ äº†å•ç‚¹å¤±è´¥çš„å¯èƒ½æ€§ï¼Œ è¦æ˜¯é‚£ä¸ªè´Ÿè´£session çš„æœºå™¨æŒ‚äº†ï¼Œ æ‰€æœ‰äººéƒ½å¾—é‡æ–°ç™»å½•ä¸€éï¼Œ ä¼°è®¡å¾—è¢«äººéª‚æ­»ã€‚ ä¹Ÿå°è¯•æŠŠè¿™ä¸ªå•ç‚¹çš„æœºå™¨ä¹Ÿæå‡ºé›†ç¾¤ï¼Œå¢åŠ å¯é æ€§ï¼Œ ä½†ä¸ç®¡å¦‚ä½•ï¼Œ è¿™å°å°çš„session å¯¹æˆ‘æ¥è¯´æ˜¯ä¸€ä¸ªæ²‰é‡çš„è´Ÿæ‹… 4ã€äºæ˜¯æœ‰äººå°±ä¸€ç›´åœ¨æ€è€ƒï¼Œ æˆ‘ä¸ºä»€ä¹ˆè¦ä¿å­˜è¿™å¯æ¶çš„sessionå‘¢ï¼Œ åªè®©æ¯ä¸ªå®¢æˆ·ç«¯å»ä¿å­˜è¯¥å¤šå¥½ï¼Ÿ å¯æ˜¯å¦‚æœä¸ä¿å­˜è¿™äº›session id , æ€ä¹ˆéªŒè¯å®¢æˆ·ç«¯å‘ç»™æˆ‘çš„session id çš„ç¡®æ˜¯æˆ‘ç”Ÿæˆçš„å‘¢ï¼Ÿ å¦‚æœä¸å»éªŒè¯ï¼Œæˆ‘ä»¬éƒ½ä¸çŸ¥é“ä»–ä»¬æ˜¯ä¸æ˜¯åˆæ³•ç™»å½•çš„ç”¨æˆ·ï¼Œ é‚£äº›ä¸æ€€å¥½æ„çš„å®¶ä¼™ä»¬å°±å¯ä»¥ä¼ªé€ session id , ä¸ºæ‰€æ¬²ä¸ºäº†ã€‚ å—¯ï¼Œå¯¹äº†ï¼Œå…³é”®ç‚¹å°±æ˜¯éªŒè¯ ï¼ æ¯”å¦‚è¯´ï¼Œ å°Få·²ç»ç™»å½•äº†ç³»ç»Ÿï¼Œ æˆ‘ç»™ä»–å‘ä¸€ä¸ªä»¤ç‰Œ(token)ï¼Œ é‡Œè¾¹åŒ…å«äº†å°Fçš„ user idï¼Œ ä¸‹ä¸€æ¬¡å°F å†æ¬¡é€šè¿‡Http è¯·æ±‚è®¿é—®æˆ‘çš„æ—¶å€™ï¼Œ æŠŠè¿™ä¸ªtoken é€šè¿‡Http header å¸¦è¿‡æ¥ä¸å°±å¯ä»¥äº†ã€‚ ä¸è¿‡è¿™å’Œsession idæ²¡æœ‰æœ¬è´¨åŒºåˆ«å•Šï¼Œ ä»»ä½•äººéƒ½å¯ä»¥å¯ä»¥ä¼ªé€ ï¼Œ æ‰€ä»¥æˆ‘å¾—æƒ³ç‚¹å„¿åŠæ³•ï¼Œ è®©åˆ«äººä¼ªé€ ä¸äº†ã€‚ é‚£å°±å¯¹æ•°æ®åšä¸€ä¸ªç­¾åå§ï¼Œ æ¯”å¦‚è¯´æˆ‘ç”¨HMAC-SHA256 ç®—æ³•ï¼ŒåŠ ä¸Šä¸€ä¸ªåªæœ‰æˆ‘æ‰çŸ¥é“çš„å¯†é’¥ï¼Œ å¯¹æ•°æ®åšä¸€ä¸ªç­¾åï¼Œ æŠŠè¿™ä¸ªç­¾åå’Œæ•°æ®ä¸€èµ·ä½œä¸ºtoken ï¼Œ ç”±äºå¯†é’¥åˆ«äººä¸çŸ¥é“ï¼Œ å°±æ— æ³•ä¼ªé€ tokenäº†ã€‚ è¿™ä¸ªtoken æˆ‘ä¸ä¿å­˜ï¼Œ å½“å°FæŠŠè¿™ä¸ªtoken ç»™æˆ‘å‘è¿‡æ¥çš„æ—¶å€™ï¼Œæˆ‘å†ç”¨åŒæ ·çš„HMAC-SHA256 ç®—æ³•å’ŒåŒæ ·çš„å¯†é’¥ï¼Œå¯¹æ•°æ®å†è®¡ç®—ä¸€æ¬¡ç­¾åï¼Œ å’Œtoken ä¸­çš„ç­¾ååšä¸ªæ¯”è¾ƒï¼Œ å¦‚æœç›¸åŒï¼Œ æˆ‘å°±çŸ¥é“å°Få·²ç»ç™»å½•è¿‡äº†ï¼Œå¹¶ä¸”å¯ä»¥ç›´æ¥å–åˆ°å°Fçš„user id , å¦‚æœä¸ç›¸åŒï¼Œ æ•°æ®éƒ¨åˆ†è‚¯å®šè¢«äººç¯¡æ”¹è¿‡ï¼Œ æˆ‘å°±å‘Šè¯‰å‘é€è€…ï¼š å¯¹ä¸èµ·ï¼Œæ²¡æœ‰è®¤è¯ã€‚ Token ä¸­çš„æ•°æ®æ˜¯æ˜æ–‡ä¿å­˜çš„ï¼ˆè™½ç„¶æˆ‘ä¼šç”¨Base64åšä¸‹ç¼–ç ï¼Œ ä½†é‚£ä¸æ˜¯åŠ å¯†ï¼‰ï¼Œ è¿˜æ˜¯å¯ä»¥è¢«åˆ«äººçœ‹åˆ°çš„ï¼Œ æ‰€ä»¥æˆ‘ä¸èƒ½åœ¨å…¶ä¸­ä¿å­˜åƒå¯†ç è¿™æ ·çš„æ•æ„Ÿä¿¡æ¯ã€‚ å½“ç„¶ï¼Œ å¦‚æœä¸€ä¸ªäººçš„token è¢«åˆ«äººå·èµ°äº†ï¼Œ é‚£æˆ‘ä¹Ÿæ²¡åŠæ³•ï¼Œ æˆ‘ä¹Ÿä¼šè®¤ä¸ºå°å·å°±æ˜¯åˆæ³•ç”¨æˆ·ï¼Œ è¿™å…¶å®å’Œä¸€ä¸ªäººçš„session id è¢«åˆ«äººå·èµ°æ˜¯ä¸€æ ·çš„ã€‚ è¿™æ ·ä¸€æ¥ï¼Œ æˆ‘å°±ä¸ä¿å­˜session id äº†ï¼Œ æˆ‘åªæ˜¯ç”Ÿæˆtoken , ç„¶åéªŒè¯token ï¼Œ æˆ‘ç”¨æˆ‘çš„CPUè®¡ç®—æ—¶é—´è·å–äº†æˆ‘çš„session å­˜å‚¨ç©ºé—´ ï¼ è§£é™¤äº†session idè¿™ä¸ªè´Ÿæ‹…ï¼Œ å¯ä»¥è¯´æ˜¯æ— äº‹ä¸€èº«è½»ï¼Œ æˆ‘çš„æœºå™¨é›†ç¾¤ç°åœ¨å¯ä»¥è½»æ¾åœ°åšæ°´å¹³æ‰©å±•ï¼Œ ç”¨æˆ·è®¿é—®é‡å¢å¤§ï¼Œ ç›´æ¥åŠ æœºå™¨å°±è¡Œã€‚ è¿™ç§æ— çŠ¶æ€çš„æ„Ÿè§‰å®åœ¨æ˜¯å¤ªå¥½äº†ï¼ Cookiecookie æ˜¯ä¸€ä¸ªéå¸¸å…·ä½“çš„ä¸œè¥¿ï¼ŒæŒ‡çš„å°±æ˜¯æµè§ˆå™¨é‡Œé¢èƒ½æ°¸ä¹…å­˜å‚¨çš„ä¸€ç§æ•°æ®ï¼Œä»…ä»…æ˜¯æµè§ˆå™¨å®ç°çš„ä¸€ç§æ•°æ®å­˜å‚¨åŠŸèƒ½ã€‚ cookieç”±æœåŠ¡å™¨ç”Ÿæˆï¼Œå‘é€ç»™æµè§ˆå™¨ï¼Œæµè§ˆå™¨æŠŠcookieä»¥kvå½¢å¼ä¿å­˜åˆ°æŸä¸ªç›®å½•ä¸‹çš„æ–‡æœ¬æ–‡ä»¶å†…ï¼Œä¸‹ä¸€æ¬¡è¯·æ±‚åŒä¸€ç½‘ç«™æ—¶ä¼šæŠŠè¯¥cookieå‘é€ç»™æœåŠ¡å™¨ã€‚ç”±äºcookieæ˜¯å­˜åœ¨å®¢æˆ·ç«¯ä¸Šçš„ï¼Œæ‰€ä»¥æµè§ˆå™¨åŠ å…¥äº†ä¸€äº›é™åˆ¶ç¡®ä¿cookieä¸ä¼šè¢«æ¶æ„ä½¿ç”¨ï¼ŒåŒæ—¶ä¸ä¼šå æ®å¤ªå¤šç£ç›˜ç©ºé—´ï¼Œæ‰€ä»¥æ¯ä¸ªåŸŸçš„cookieæ•°é‡æ˜¯æœ‰é™çš„ã€‚ Sessionsession ä»å­—é¢ä¸Šè®²ï¼Œå°±æ˜¯ä¼šè¯ã€‚è¿™ä¸ªå°±ç±»ä¼¼äºä½ å’Œä¸€ä¸ªäººäº¤è°ˆï¼Œä½ æ€ä¹ˆçŸ¥é“å½“å‰å’Œä½ äº¤è°ˆçš„æ˜¯å¼ ä¸‰è€Œä¸æ˜¯æå››å‘¢ï¼Ÿå¯¹æ–¹è‚¯å®šæœ‰æŸç§ç‰¹å¾ï¼ˆé•¿ç›¸ç­‰ï¼‰è¡¨æ˜ä»–å°±æ˜¯å¼ ä¸‰ã€‚ session ä¹Ÿæ˜¯ç±»ä¼¼çš„é“ç†ï¼ŒæœåŠ¡å™¨è¦çŸ¥é“å½“å‰å‘è¯·æ±‚ç»™è‡ªå·±çš„æ˜¯è°ã€‚ä¸ºäº†åšè¿™ç§åŒºåˆ†ï¼ŒæœåŠ¡å™¨å°±è¦ç»™æ¯ä¸ªå®¢æˆ·ç«¯åˆ†é…ä¸åŒçš„â€œèº«ä»½æ ‡è¯†â€ï¼Œç„¶åå®¢æˆ·ç«¯æ¯æ¬¡å‘æœåŠ¡å™¨å‘è¯·æ±‚çš„æ—¶å€™ï¼Œéƒ½å¸¦ä¸Šè¿™ä¸ªâ€œèº«ä»½æ ‡è¯†â€ï¼ŒæœåŠ¡å™¨å°±çŸ¥é“è¿™ä¸ªè¯·æ±‚æ¥è‡ªäºè°äº†ã€‚è‡³äºå®¢æˆ·ç«¯æ€ä¹ˆä¿å­˜è¿™ä¸ªâ€œèº«ä»½æ ‡è¯†â€ï¼Œå¯ä»¥æœ‰å¾ˆå¤šç§æ–¹å¼ï¼Œå¯¹äºæµè§ˆå™¨å®¢æˆ·ç«¯ï¼Œå¤§å®¶éƒ½é»˜è®¤é‡‡ç”¨ cookie çš„æ–¹å¼ã€‚ æœåŠ¡å™¨ä½¿ç”¨sessionæŠŠç”¨æˆ·çš„ä¿¡æ¯ä¸´æ—¶ä¿å­˜åœ¨äº†æœåŠ¡å™¨ä¸Šï¼Œç”¨æˆ·ç¦»å¼€ç½‘ç«™åsessionä¼šè¢«é”€æ¯ã€‚è¿™ç§ç”¨æˆ·ä¿¡æ¯å­˜å‚¨æ–¹å¼ç›¸å¯¹cookieæ¥è¯´æ›´å®‰å…¨ï¼Œå¯æ˜¯sessionæœ‰ä¸€ä¸ªç¼ºé™·ï¼šå¦‚æœwebæœåŠ¡å™¨åšäº†è´Ÿè½½å‡è¡¡ï¼Œé‚£ä¹ˆä¸‹ä¸€ä¸ªæ“ä½œè¯·æ±‚åˆ°äº†å¦ä¸€å°æœåŠ¡å™¨çš„æ—¶å€™sessionä¼šä¸¢å¤±ã€‚ Tokenåœ¨Webé¢†åŸŸåŸºäºTokençš„èº«ä»½éªŒè¯éšå¤„å¯è§ã€‚åœ¨å¤§å¤šæ•°ä½¿ç”¨Web APIçš„äº’è”ç½‘å…¬å¸ä¸­ï¼Œtokens æ˜¯å¤šç”¨æˆ·ä¸‹å¤„ç†è®¤è¯çš„æœ€ä½³æ–¹å¼ã€‚ ä»¥ä¸‹å‡ ç‚¹ç‰¹æ€§ä¼šè®©ä½ åœ¨ç¨‹åºä¸­ä½¿ç”¨åŸºäºTokençš„èº«ä»½éªŒè¯ æ— çŠ¶æ€ã€å¯æ‰©å±• æ”¯æŒç§»åŠ¨è®¾å¤‡ è·¨ç¨‹åºè°ƒç”¨ å®‰å…¨ é‚£äº›ä½¿ç”¨åŸºäºTokençš„èº«ä»½éªŒè¯çš„å¤§ä½¬ä»¬ å¤§éƒ¨åˆ†ä½ è§åˆ°è¿‡çš„APIå’ŒWebåº”ç”¨éƒ½ä½¿ç”¨tokensã€‚ä¾‹å¦‚Facebook, Twitter, Google+, GitHubç­‰ã€‚ Tokençš„èµ·æºåœ¨ä»‹ç»åŸºäºTokençš„èº«ä»½éªŒè¯çš„åŸç†ä¸ä¼˜åŠ¿ä¹‹å‰ï¼Œä¸å¦¨å…ˆçœ‹çœ‹ä¹‹å‰çš„è®¤è¯éƒ½æ˜¯æ€ä¹ˆåšçš„ã€‚ åŸºäºæœåŠ¡å™¨çš„éªŒè¯æˆ‘ä»¬éƒ½æ˜¯çŸ¥é“HTTPåè®®æ˜¯æ— çŠ¶æ€çš„ï¼Œè¿™ç§æ— çŠ¶æ€æ„å‘³ç€ç¨‹åºéœ€è¦éªŒè¯æ¯ä¸€æ¬¡è¯·æ±‚ï¼Œä»è€Œè¾¨åˆ«å®¢æˆ·ç«¯çš„èº«ä»½ã€‚ åœ¨è¿™ä¹‹å‰ï¼Œç¨‹åºéƒ½æ˜¯é€šè¿‡åœ¨æœåŠ¡ç«¯å­˜å‚¨çš„ç™»å½•ä¿¡æ¯æ¥è¾¨åˆ«è¯·æ±‚çš„ã€‚è¿™ç§æ–¹å¼ä¸€èˆ¬éƒ½æ˜¯é€šè¿‡å­˜å‚¨Sessionæ¥å®Œæˆã€‚ ä¸‹å›¾å±•ç¤ºäº†åŸºäºæœåŠ¡å™¨éªŒè¯çš„åŸç† éšç€Webï¼Œåº”ç”¨ç¨‹åºï¼Œå·²ç»ç§»åŠ¨ç«¯çš„å…´èµ·ï¼Œè¿™ç§éªŒè¯çš„æ–¹å¼é€æ¸æš´éœ²å‡ºäº†é—®é¢˜ã€‚å°¤å…¶æ˜¯åœ¨å¯æ‰©å±•æ€§æ–¹é¢ã€‚ åŸºäºæœåŠ¡å™¨éªŒè¯æ–¹å¼æš´éœ²çš„ä¸€äº›é—®é¢˜ Sessionï¼šæ¯æ¬¡è®¤è¯ç”¨æˆ·å‘èµ·è¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨éœ€è¦å»åˆ›å»ºä¸€ä¸ªè®°å½•æ¥å­˜å‚¨ä¿¡æ¯ã€‚å½“è¶Šæ¥è¶Šå¤šçš„ç”¨æˆ·å‘è¯·æ±‚æ—¶ï¼Œå†…å­˜çš„å¼€é”€ä¹Ÿä¼šä¸æ–­å¢åŠ ã€‚ å¯æ‰©å±•æ€§ï¼šåœ¨æœåŠ¡ç«¯çš„å†…å­˜ä¸­ä½¿ç”¨Seesionå­˜å‚¨ç™»å½•ä¿¡æ¯ï¼Œä¼´éšè€Œæ¥çš„æ˜¯å¯æ‰©å±•æ€§é—®é¢˜ã€‚ CORS(è·¨åŸŸèµ„æºå…±äº«)ï¼šå½“æˆ‘ä»¬éœ€è¦è®©æ•°æ®è·¨å¤šå°ç§»åŠ¨è®¾å¤‡ä¸Šä½¿ç”¨æ—¶ï¼Œè·¨åŸŸèµ„æºçš„å…±äº«ä¼šæ˜¯ä¸€ä¸ªè®©äººå¤´ç–¼çš„é—®é¢˜ã€‚åœ¨ä½¿ç”¨AjaxæŠ“å–å¦ä¸€ä¸ªåŸŸçš„èµ„æºï¼Œå°±å¯ä»¥ä¼šå‡ºç°ç¦æ­¢è¯·æ±‚çš„æƒ…å†µã€‚ CSRF(è·¨ç«™è¯·æ±‚ä¼ªé€ )ï¼šç”¨æˆ·åœ¨è®¿é—®é“¶è¡Œç½‘ç«™æ—¶ï¼Œä»–ä»¬å¾ˆå®¹æ˜“å—åˆ°è·¨ç«™è¯·æ±‚ä¼ªé€ çš„æ”»å‡»ï¼Œå¹¶ä¸”èƒ½å¤Ÿè¢«åˆ©ç”¨å…¶è®¿é—®å…¶ä»–çš„ç½‘ç«™ã€‚ åœ¨è¿™äº›é—®é¢˜ä¸­ï¼Œå¯æ‰©å±•è¡Œæ˜¯æœ€çªå‡ºçš„ã€‚å› æ­¤æˆ‘ä»¬æœ‰å¿…è¦å»å¯»æ±‚ä¸€ç§æ›´æœ‰è¡Œä¹‹æœ‰æ•ˆçš„æ–¹æ³•ã€‚ åŸºäºTokençš„éªŒè¯åŸç†åŸºäºTokençš„èº«ä»½éªŒè¯æ˜¯æ— çŠ¶æ€çš„ï¼Œæˆ‘ä»¬ä¸å°†ç”¨æˆ·ä¿¡æ¯å­˜åœ¨æœåŠ¡å™¨æˆ–Sessionä¸­ã€‚ è¿™ç§æ¦‚å¿µè§£å†³äº†åœ¨æœåŠ¡ç«¯å­˜å‚¨ä¿¡æ¯æ—¶çš„è®¸å¤šé—®é¢˜ NoSessionæ„å‘³ç€ä½ çš„ç¨‹åºå¯ä»¥æ ¹æ®éœ€è¦å»å¢å‡æœºå™¨ï¼Œè€Œä¸ç”¨å»æ‹…å¿ƒç”¨æˆ·æ˜¯å¦ç™»å½•ã€‚ åŸºäºTokençš„èº«ä»½éªŒè¯çš„è¿‡ç¨‹å¦‚ä¸‹: ç”¨æˆ·é€šè¿‡ç”¨æˆ·åå’Œå¯†ç å‘é€è¯·æ±‚ã€‚ ç¨‹åºéªŒè¯ã€‚ ç¨‹åºè¿”å›ä¸€ä¸ªç­¾åçš„token ç»™å®¢æˆ·ç«¯ã€‚ å®¢æˆ·ç«¯å‚¨å­˜token,å¹¶ä¸”æ¯æ¬¡ç”¨äºæ¯æ¬¡å‘é€è¯·æ±‚ã€‚ æœåŠ¡ç«¯éªŒè¯tokenå¹¶è¿”å›æ•°æ®ã€‚ æ¯ä¸€æ¬¡è¯·æ±‚éƒ½éœ€è¦tokenã€‚tokenåº”è¯¥åœ¨HTTPçš„å¤´éƒ¨å‘é€ä»è€Œä¿è¯äº†Httpè¯·æ±‚æ— çŠ¶æ€ã€‚æˆ‘ä»¬åŒæ ·é€šè¿‡è®¾ç½®æœåŠ¡å™¨å±æ€§Access-Control-Allow-Origin: ï¼Œè®©æœåŠ¡å™¨èƒ½æ¥å—åˆ°æ¥è‡ªæ‰€æœ‰åŸŸçš„è¯·æ±‚ã€‚éœ€è¦ä¸»è¦çš„æ˜¯ï¼Œåœ¨ACAOå¤´éƒ¨æ ‡æ˜(designating)æ—¶ï¼Œä¸å¾—å¸¦æœ‰åƒHTTPè®¤è¯ï¼Œå®¢æˆ·ç«¯SSLè¯ä¹¦å’Œcookiesçš„è¯ä¹¦ã€‚ å®ç°æ€è·¯ï¼š ç”¨æˆ·ç™»å½•æ ¡éªŒï¼Œæ ¡éªŒæˆåŠŸåå°±è¿”å›Tokenç»™å®¢æˆ·ç«¯ã€‚ å®¢æˆ·ç«¯æ”¶åˆ°æ•°æ®åä¿å­˜åœ¨å®¢æˆ·ç«¯ å®¢æˆ·ç«¯æ¯æ¬¡è®¿é—®APIæ˜¯æºå¸¦Tokenåˆ°æœåŠ¡å™¨ç«¯ã€‚ æœåŠ¡å™¨ç«¯é‡‡ç”¨filterè¿‡æ»¤å™¨æ ¡éªŒã€‚æ ¡éªŒæˆåŠŸåˆ™è¿”å›è¯·æ±‚æ•°æ®ï¼Œæ ¡éªŒå¤±è´¥åˆ™è¿”å›é”™è¯¯ç  å½“æˆ‘ä»¬åœ¨ç¨‹åºä¸­è®¤è¯äº†ä¿¡æ¯å¹¶å–å¾—tokenä¹‹åï¼Œæˆ‘ä»¬ä¾¿èƒ½é€šè¿‡è¿™ä¸ªTokenåšè®¸å¤šçš„äº‹æƒ…ã€‚ æˆ‘ä»¬ç”šè‡³èƒ½åŸºäºåˆ›å»ºä¸€ä¸ªåŸºäºæƒé™çš„tokenä¼ ç»™ç¬¬ä¸‰æ–¹åº”ç”¨ç¨‹åºï¼Œè¿™äº›ç¬¬ä¸‰æ–¹ç¨‹åºèƒ½å¤Ÿè·å–åˆ°æˆ‘ä»¬çš„æ•°æ®ï¼ˆå½“ç„¶åªæœ‰åœ¨æˆ‘ä»¬å…è®¸çš„ç‰¹å®šçš„tokenï¼‰ Tokensçš„ä¼˜åŠ¿æ— çŠ¶æ€ã€å¯æ‰©å±• åœ¨å®¢æˆ·ç«¯å­˜å‚¨çš„Tokensæ˜¯æ— çŠ¶æ€çš„ï¼Œå¹¶ä¸”èƒ½å¤Ÿè¢«æ‰©å±•ã€‚åŸºäºè¿™ç§æ— çŠ¶æ€å’Œä¸å­˜å‚¨Sessionä¿¡æ¯ï¼Œè´Ÿè½½è´Ÿè½½å‡è¡¡å™¨èƒ½å¤Ÿå°†ç”¨æˆ·ä¿¡æ¯ä»ä¸€ä¸ªæœåŠ¡ä¼ åˆ°å…¶ä»–æœåŠ¡å™¨ä¸Šã€‚ å¦‚æœæˆ‘ä»¬å°†å·²éªŒè¯çš„ç”¨æˆ·çš„ä¿¡æ¯ä¿å­˜åœ¨Sessionä¸­ï¼Œåˆ™æ¯æ¬¡è¯·æ±‚éƒ½éœ€è¦ç”¨æˆ·å‘å·²éªŒè¯çš„æœåŠ¡å™¨å‘é€éªŒè¯ä¿¡æ¯(ç§°ä¸ºSessionäº²å’Œæ€§)ã€‚ç”¨æˆ·é‡å¤§æ—¶ï¼Œå¯èƒ½ä¼šé€ æˆä¸€äº›æ‹¥å µã€‚ ä½†æ˜¯ä¸è¦ç€æ€¥ã€‚ä½¿ç”¨tokensä¹‹åè¿™äº›é—®é¢˜éƒ½è¿åˆƒè€Œè§£ï¼Œå› ä¸ºtokensè‡ªå·±holdä½äº†ç”¨æˆ·çš„éªŒè¯ä¿¡æ¯ã€‚ å®‰å…¨æ€§ è¯·æ±‚ä¸­å‘é€tokenè€Œä¸å†æ˜¯å‘é€cookieèƒ½å¤Ÿé˜²æ­¢CSRF(è·¨ç«™è¯·æ±‚ä¼ªé€ )ã€‚å³ä½¿åœ¨å®¢æˆ·ç«¯ä½¿ç”¨cookieå­˜å‚¨tokenï¼Œcookieä¹Ÿä»…ä»…æ˜¯ä¸€ä¸ªå­˜å‚¨æœºåˆ¶è€Œä¸æ˜¯ç”¨äºè®¤è¯ã€‚ä¸å°†ä¿¡æ¯å­˜å‚¨åœ¨Sessionä¸­ï¼Œè®©æˆ‘ä»¬å°‘äº†å¯¹sessionæ“ä½œã€‚ tokenæ˜¯æœ‰æ—¶æ•ˆçš„ï¼Œä¸€æ®µæ—¶é—´ä¹‹åç”¨æˆ·éœ€è¦é‡æ–°éªŒè¯ã€‚æˆ‘ä»¬ä¹Ÿä¸ä¸€å®šéœ€è¦ç­‰åˆ°tokenè‡ªåŠ¨å¤±æ•ˆï¼Œtokenæœ‰æ’¤å›çš„æ“ä½œï¼Œé€šè¿‡token revocataionå¯ä»¥ä½¿ä¸€ä¸ªç‰¹å®šçš„tokenæˆ–æ˜¯ä¸€ç»„æœ‰ç›¸åŒè®¤è¯çš„tokenæ— æ•ˆã€‚ å¯æ‰©å±•æ€§ Tokensèƒ½å¤Ÿåˆ›å»ºä¸å…¶å®ƒç¨‹åºå…±äº«æƒé™çš„ç¨‹åºã€‚ä¾‹å¦‚ï¼Œèƒ½å°†ä¸€ä¸ªéšä¾¿çš„ç¤¾äº¤å¸å·å’Œè‡ªå·±çš„å¤§å·(Fackbookæˆ–æ˜¯Twitter)è”ç³»èµ·æ¥ã€‚å½“é€šè¿‡æœåŠ¡ç™»å½•Twitter(æˆ‘ä»¬å°†è¿™ä¸ªè¿‡ç¨‹Buffer)æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™äº›Bufferé™„åˆ°Twitterçš„æ•°æ®æµä¸Š(we are allowing Buffer to post to our Twitter stream)ã€‚ ä½¿ç”¨tokensæ—¶ï¼Œå¯ä»¥æä¾›å¯é€‰çš„æƒé™ç»™ç¬¬ä¸‰æ–¹åº”ç”¨ç¨‹åºã€‚å½“ç”¨æˆ·æƒ³è®©å¦ä¸€ä¸ªåº”ç”¨ç¨‹åºè®¿é—®å®ƒä»¬çš„æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å»ºç«‹è‡ªå·±çš„APIï¼Œå¾—å‡ºç‰¹æ®Šæƒé™çš„tokensã€‚ å¤šå¹³å°è·¨åŸŸ æˆ‘ä»¬æå‰å…ˆæ¥è°ˆè®ºä¸€ä¸‹CORS(è·¨åŸŸèµ„æºå…±äº«)ï¼Œå¯¹åº”ç”¨ç¨‹åºå’ŒæœåŠ¡è¿›è¡Œæ‰©å±•çš„æ—¶å€™ï¼Œéœ€è¦ä»‹å…¥å„ç§å„ç§çš„è®¾å¤‡å’Œåº”ç”¨ç¨‹åºã€‚ Having our API just serve data, we can also make the design choice to serve assets from a CDN. This eliminates the issues that CORS brings up after we set a quick header configuration for our application. åªè¦ç”¨æˆ·æœ‰ä¸€ä¸ªé€šè¿‡äº†éªŒè¯çš„tokenï¼Œæ•°æ®å’Œèµ„æºå°±èƒ½å¤Ÿåœ¨ä»»ä½•åŸŸä¸Šè¢«è¯·æ±‚åˆ°ã€‚ 1Access-Control-Allow-Origin: *]]></content>
      <categories>
        <category>åç«¯</category>
        <category>å…¶ä»–</category>
      </categories>
      <tags>
        <tag>è½¬è½½</tag>
        <tag>cookie</tag>
        <tag>session</tag>
        <tag>token</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åŸºäºsequelizeçš„æ•°æ®åº“è¿ç§»]]></title>
    <url>%2Fposts%2F16051%2F</url>
    <content type="text"><![CDATA[æ•°æ®åº“è¿ç§»æœ‰æ—¶å€™æˆ‘ä»¬ä¹Ÿå¸Œæœ›èƒ½å¤Ÿè·Ÿè¸ªæ•°æ®åº“çš„æ›´æ”¹ï¼Œåƒ git ä¸€æ ·åœ¨å„ä¸ªä¸åŒæ—¶æœŸçš„æ•°æ®åº“çŠ¶æ€ä¹‹é—´è¿›è¡Œåˆ‡æ¢ã€‚æˆ–è€…èƒ½é€šè¿‡ä¸€å¥—å·¥å…·å°†æ•°æ®åº“è¿ç§»åˆ°æœ¬æœºï¼Œè®©æˆ‘ä»¬åœ¨å®¶ä¹Ÿèƒ½è¿›è¡Œæµ‹è¯•å¼€å‘ï¼Œè€Œä¸ç”¨ä¾èµ–å…¬å¸çš„æµ‹è¯•ç¯å¢ƒã€‚è¿™äº›ç‰¹æ€§ï¼Œä½œä¸ºä»Šå¤©çš„ä¸»è§’ sequelize-cli éƒ½èƒ½æä¾›ç»™æˆ‘ä»¬ã€‚ npmé“¾æ¥è¯· ç‚¹å‡»è¿™é‡Œã€‚ å®‰è£…é¦–å…ˆåˆ›å»ºé¡¹ç›®ï¼Œé¡¹ç›®åéšæ„ï¼Œåˆ›å»ºå®Œæ¯•åcdåˆ°é¡¹ç›®æ ¹ç›®å½•ï¼Œè€è§„çŸ©å‘½ä»¤è¡Œ npm init -y åˆ›å»º package.json ï¼Œç„¶åè¾“å…¥å®‰è£…ä¸€æ­¥åˆ°ä½ï¼šnpm i sequelize mysql2 sequelize-cli ã€‚ æ³¨æ„ï¼š sequelize-cli ä¾èµ– sequelizeï¼Œsequelize ä¾èµ– mysql2 å®‰è£…å®Œæ¯•åæˆ‘ä»¬å¯ä»¥æµ‹è¯•ä¸‹æ˜¯å¦å¯ç”¨ï¼Œæ ¹ç›®å½•å‘½ä»¤è¡Œè¾“å…¥ï¼š 1./node_modules/.bin/sequelize çœ‹è§å‘½ä»¤è¡Œè¾“å‡ºç±»ä¼¼ä¸‹æ–¹æç¤ºä»£è¡¨å®‰è£…æˆåŠŸï¼š 1234567891011121314151617181920212223242526sequelize [å‘½ä»¤]å‘½ä»¤ï¼š sequelize db:migrate Run pending migrations sequelize db:migrate:schema:timestamps:add Update migration table to have timestamps sequelize db:migrate:status List the status of all migrations sequelize db:migrate:undo Reverts a migration sequelize db:migrate:undo:all Revert all migrations ran sequelize db:seed Run specified seeder sequelize db:seed:undo Deletes data from the database sequelize db:seed:all Run every seeder sequelize db:seed:undo:all Deletes data from the database sequelize db:create Create database specified by configuration sequelize db:drop Drop database specified by configuration sequelize init Initializes project sequelize init:config Initializes configuration sequelize init:migrations Initializes migrations sequelize init:models Initializes models sequelize init:seeders Initializes seeders sequelize migration:generate Generates a new migration file [aliases: migration:create] sequelize model:generate Generates a model and its migration [aliases: model:create] sequelize seed:generate Generates a new seed file [aliases: seed:create]é€‰é¡¹ï¼š --help æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ [å¸ƒå°”] --version æ˜¾ç¤ºç‰ˆæœ¬å· [å¸ƒå°”] ä½¿ç”¨åˆå§‹åŒ–ç›®å‰æˆ‘ä»¬é¡¹ç›®çš„æ ‘å½¢ç»“æ„ä¸ºï¼š 1234.â”œâ”€â”€ node_modulesâ”œâ”€â”€ package-lock.jsonâ””â”€â”€ package.json æ¥ç€æ ¹ç›®å½•å‘½ä»¤è¡Œè¾“å…¥ ./node_modules/.bin/sequelize init æ¥åˆå§‹åŒ– sequelize é¡¹ç›®ï¼Œè¯¥å‘½ä»¤ä¼šå¸®æˆ‘ä»¬åˆ›å»ºå¦‚ä¸‹ç›®å½•ï¼š12345678.â”œâ”€â”€ config # åŒ…å«æ•°æ®åº“çš„é…ç½®æ–‡ä»¶â”œâ”€â”€ migrations # åŒ…å«æ‰€æœ‰è¿ç§»æ–‡ä»¶ï¼ˆe.g. æ•°æ®åº“ã€è¡¨çš„åˆ›å»ºï¼Œå­—æ®µçš„å¢åŠ ï¼‰è·Ÿæ•°æ®åº“ç»“æ„æœ‰å…³çš„æ“ä½œéƒ½å­˜æ”¾åœ¨è¿™é‡Œâ”œâ”€â”€ models # åŒ…å«é¡¹ç›®ä¸­çš„æ‰€æœ‰æ¨¡å‹ï¼ˆe.g. Users, Messageï¼‰â”œâ”€â”€ node_modulesâ”œâ”€â”€ seeders # åŒ…å«æ‰€æœ‰ç§å­æ–‡ä»¶ï¼ˆe.g. è¡¨ä¸­çš„æ•°æ®ï¼‰â”œâ”€â”€ package-lock.jsonâ””â”€â”€ package.json configé¦–å…ˆæˆ‘ä»¬æ¥çœ‹ä¸‹ config ç›®å½•ä¸‹çš„ config.json æ–‡ä»¶ã€‚å®ƒé‡Œé¢åŒ…å«äº†æ•°æ®åº“çš„çš„åŸºæœ¬é…ç½®ï¼Œé»˜è®¤åˆ†ä¸º developmentï¼ˆå¼€å‘ï¼‰ ã€testï¼ˆæµ‹è¯•ï¼‰ å’Œ productionï¼ˆç”Ÿäº§ï¼‰ ç¯å¢ƒã€‚å½“ç„¶ä½ ä¹Ÿå¯ä»¥åˆ é™¤æˆ–æ–°å¢ç¯å¢ƒï¼Œæ¯”å¦‚æ–°å¢ä¸€ä¸ªåœ¨å®¶ç¼–å†™ä»£ç æ‰€ä½¿ç”¨çš„ home ç¯å¢ƒã€‚ db:createsequelize-cli é»˜è®¤è¯»å– development æ¨¡å¼ä¸‹çš„æ•°æ®åº“é…ç½®æ¥åˆ›å»ºæ•°æ®åº“ï¼Œæ‰€ä»¥æ¥ä¸‹æ¥å°±ç”¨å®ƒæ¥é…ç½®ï¼š12345678"development": &#123; "username": "root", // æ•°æ®åº“ç”¨æˆ·å "password": "root", // æ•°æ®åº“å¯†ç  "database": "database_development", // éœ€è¦åˆ›å»ºçš„æ•°æ®åº“å "host": "127.0.0.1", // ä¸»æœº "port": 8889, // ç«¯å£å· "dialect": "mysql" // ä½¿ç”¨çš„æ•°æ®åº“ç±»å‹&#125;, é…ç½®å®Œæ¯•ååœ¨æ ¹ç›®å½•ä¸‹çš„å‘½ä»¤è¡Œè¾“å…¥ ./node_modules/.bin/sequelize db:createã€‚å½“ä½ çœ‹åˆ°å¦‚ä¸‹è¾“å‡ºå°±ä»£è¡¨åˆ›å»ºæ•°æ®åº“æˆåŠŸï¼š123Loaded configuration file "config/config.json".Using environment "development".Database sw_sequelize_development created. db:dropèƒ½æ·»åŠ å°±èƒ½åˆ é™¤ï¼Œæˆ‘ä»¬å¯ä»¥é”®å…¥ ./node_modules/.bin/sequelize db:drop å‘½ä»¤æ¥åˆ é™¤æ•°æ®åº“ã€‚å½“ä½ çœ‹åˆ°å‘½ä»¤è¡Œè¾“å‡ºä¸‹é¢å†…å®¹å°±ä»£è¡¨åˆ é™¤æˆåŠŸï¼š123Loaded configuration file "config/config.json".Using environment "development".Database sw_sequelize_development dropped. æ¨¡å¼åˆ‡æ¢å‰é¢å·²ç»è¯´äº†ï¼Œsequelize-cli é»˜è®¤è¯»å– development æ¨¡å¼ä¸‹çš„æ•°æ®åº“é…ç½®ã€‚é‚£å¦‚æœæˆ‘ç°åœ¨æƒ³åˆ‡åˆ° test æ¨¡å¼ä¸‹è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ å˜æ›´ç¯å¢ƒå˜é‡é¦–å…ˆå¾—åˆ‡æ¢æœåŠ¡å™¨ç¯å¢ƒå˜é‡ï¼ŒMacOSä¸‹ï¼ˆå…¶ä»–ç³»ç»Ÿåˆ‡æ¢å‘½ä»¤è§ä¸‹æ–¹é“¾æ¥ï¼‰ä½¿ç”¨ export NODE_ENV=test æ¥åˆ‡æ¢åˆ° test æ¨¡å¼ï¼Œç„¶åä½¿ç”¨ echo $NODE_ENV æŸ¥çœ‹æ˜¯å¦å·²ç»åˆ‡æ¢æˆåŠŸï¼Œæ¥ç€å°±å¯ä»¥å†æ¬¡æ‰§è¡Œ ./node_modules/.bin/sequelize db:create å‘½ä»¤ï¼Œåˆ›å»º test æ¨¡å¼ä¸‹çš„æ•°æ®åº“äº†ï¼š 123456789101112$ export NODE_ENV=test$ echo $NODE_ENVtest./node_modules/.bin/sequelize db:createSequelize CLI [Node: 9.0.0, CLI: 5.4.0, ORM: 5.3.3]Loaded configuration file "config/config.json".Using environment "test".Database sw_sequelize_test created. å„ç³»ç»Ÿä¸‹NodeJSç¯å¢ƒå˜é‡ä¿®æ”¹ è¿˜åŸç¯å¢ƒå˜é‡å¦‚æœæƒ³å›åˆ°é»˜è®¤çš„ development æ¨¡å¼ï¼ŒMacOSä¸‹ç›´æ¥é”®å…¥å‘½ä»¤ export NODE_ENV= å°±OKå•¦ã€‚ modelsåˆ›å»ºæ¨¡å‹æˆ‘ä»¬é€šè¿‡ model:generate æˆ–è€… model:create æ¥åˆ›å»ºæ¨¡å‹æ–‡ä»¶ï¼Œå®ƒä¸€å…±éœ€è¦ä¸¤ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯ï¼š â€“name: æ¨¡å‹åç§°ï¼ˆå¿…é¡»ï¼‰ â€“attributes: å­—æ®µåˆ—è¡¨ï¼ˆå¿…é¡»ï¼‰ å›åˆ°æˆ‘ä»¬çš„é¡¹ç›®ï¼Œåœ¨æ ¹ç›®å½•æ‰§è¡Œä¸‹é¢å‘½ä»¤æ¥åˆ›å»ºä¸€ä¸ª User æ¨¡å‹æ–‡ä»¶ï¼š 1./node_modules/.bin/sequelize model:create --name User --attributes username:STRING æ‰§è¡Œå®Œæ¯•åå‘½ä»¤è¡Œä¼šæœ‰ç±»ä¼¼ä¸‹æ–¹è¾“å‡ºï¼š1234Sequelize CLI [Node: 9.0.0, CLI: 5.4.0, ORM: 5.3.3]New model was created at .../ä½ çš„é¡¹ç›®å/models/user.js .New migration was created at .../ä½ çš„é¡¹ç›®å/migrations/20190316035632-User.js æ‰€ä»¥ model:create å‘½ä»¤æ‰§è¡Œåå¸®æˆ‘ä»¬åˆ›å»ºäº†ä¸¤ä¸ªæ–‡ä»¶ï¼Œä¸€ä¸ªæ˜¯ç”¨æ¥å®šä¹‰ User æ¨¡å‹çš„æ–‡ä»¶ user.js :12345678910'use strict';module.exports = (sequelize, DataTypes) =&gt; &#123; const User = sequelize.define('User', &#123; username: DataTypes.STRING &#125;, &#123;&#125;); User.associate = function(models) &#123; // associations can be defined here &#125;; return User;&#125;; ä¸€ä¸ªæ˜¯ migrations è¿ç§»æ–‡ä»¶å¤¹ä¸‹çš„ ç”¨æ¥åˆ›å»º User è¡¨ çš„æ–‡ä»¶ï¼š12345678910111213141516171819202122232425262728'use strict';module.exports = &#123; up: (queryInterface, Sequelize) =&gt; &#123; // åˆ›å»ºåä¸º Users çš„æ•°æ®è¡¨ return queryInterface.createTable('Users', &#123; id: &#123; allowNull: false, autoIncrement: true, primaryKey: true, type: Sequelize.INTEGER &#125;, username: &#123; type: Sequelize.STRING &#125;, createdAt: &#123; allowNull: false, type: Sequelize.DATE &#125;, updatedAt: &#123; allowNull: false, type: Sequelize.DATE &#125; &#125;); &#125;, down: (queryInterface, Sequelize) =&gt; &#123; return queryInterface.dropTable('Users'); &#125;&#125;; å…¶ä¸­ models æ–‡ä»¶å¤¹ä¸‹æ–‡ä»¶ï¼Œä¾‹å¦‚ç”Ÿæˆçš„ user.js æ¨¡å‹æ–‡ä»¶æ˜¯ç»™ç¨‹åºç”¨çš„ï¼›migrations å’Œ seeders æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶æ˜¯ä¸ª cli ç”¨çš„ã€‚ æ€»ç»“ä¸‹æ¥ï¼Œmodel:create å‘½ä»¤å¸®æˆ‘ä»¬åšäº†ä¸¤ä»¶äº‹æƒ…ï¼š åˆ›å»º User æ¨¡å‹ åˆ›å»ºè·Ÿæ¨¡å‹å¯¹åº”çš„ Users æ•°æ®è¡¨æ–‡ä»¶ï¼Œæ–¹ä¾¿ç”¨æ­¤æ–‡ä»¶åœ¨æ•°æ®åº“ä¸­åˆ›å»º Users è¡¨ migrationsåˆšåˆšæˆ‘ä»¬å·²ç»åˆ›å»ºäº†ä¸€ä¸ª User æ¨¡å‹å’Œç”¨æ¥åˆ›å»º Users è¡¨çš„è„šæœ¬æ‰§è¡Œæ–‡ä»¶ã€‚ä¸‹é¢å°±å¯ä»¥å¼€å§‹æ‰§è¡Œè¿ç§»äº†ã€‚é¦–å…ˆæˆ‘ä»¬é‡æ¸©ä½•ä¸ºæ‰§è¡Œè¿ç§»ï¼š æ‰€è°“è¿ç§»ï¼Œå°±æ˜¯å¯¹æ•°æ®åº“è¿›è¡Œç»“æ„çš„åˆ›å»ºã€å‡çº§ï¼ˆä¿®æ”¹ï¼‰ç­‰æ“ä½œ æ‰§è¡Œè¿ç§»db:migrateæ‰§è¡Œè¿ç§»çš„å‘½ä»¤ä¸º db:migrateï¼Œæˆ‘ä»¬ç›´æ¥åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹è¿è¡Œï¼š 1./node_modules/.bin/sequelize db:migrate ï¼ˆå¦‚æœåœ¨æ­¤ä¹‹å‰ä½ è¿è¡Œè¿‡ db:drop å‘½ä»¤æ¥åˆ é™¤æ•°æ®åº“ï¼Œè®°å¾—å†é‡æ–°æ‰§è¡Œä¸€æ¬¡ db:createï¼Œå¦åˆ™ä¼šå¯¼è‡´åˆ›å»ºè¡¨å¤±è´¥ï¼‰ã€‚æ‰§è¡ŒæˆåŠŸçš„è¾“å‡ºç±»ä¼¼ä¸‹é¢æ–‡å­—ï¼š 123456Sequelize CLI [Node: 9.0.0, CLI: 5.4.0, ORM: 5.3.3]Loaded configuration file "config/config.json".Using environment "development".== 20190316035632-create-user: migrating ========= 20190316035632-create-user: migrated (0.047s) æ­¤æ—¶åˆ·æ–°ä¸‹ä½ çš„æœ¬åœ°æ•°æ®åº“ï¼Œå°±ä¼šå‘ç°ä¹‹å‰ç©ºç©ºå¦‚ä¹Ÿçš„æ•°æ®åº“ä¸­å¤šäº†ä¸ª users è¡¨å’Œ sequelizemeta è¡¨ï¼š users è¡¨è¢«åˆ›å»ºå‡ºæ¥æˆ‘ä»¬èƒ½ç†è§£ï¼Œé‡ç‚¹è¯´ä¸€ä¸‹è¿™ä¸ª sequelizemeta è¡¨ï¼Œå…¶å®å®ƒæ˜¯ç”¨æ¥è®°å½•å·²ç»è¢«æ‰§è¡Œè¿‡çš„è¿ç§»è„šæœ¬çš„ï¼Œé¿å…æˆ‘ä»¬é‡å¤æ‰§è¡Œå·²ç»æ‰§è¡Œè¿‡çš„è„šæœ¬ã€‚ db:migrate:statusæˆ‘ä»¬å¯ä»¥é€šè¿‡ db:migrate:status å‘½ä»¤æ¥æŸ¥çœ‹å½“å‰è¿ç§»è„šæœ¬çš„æ‰§è¡ŒçŠ¶æ€ï¼š 1./node_modules/.bin/sequelize db:migrate:status æ‰§è¡Œå®Œæ¯•åçš„æ‰“å°ç»“æœä¸ºï¼š 123Loaded configuration file "config/config.json".Using environment "development".up 20190316035632-create-user.js è¿™ä¸ª up ï¼Œè¡¨ç¤ºæˆ‘ä»¬å·²ç»æ‰§è¡Œè¯¥è„šæœ¬ã€‚æ­¤æ—¶æˆ‘ä»¬å¯ä»¥åˆ æ‰ sequelizemeta è¡¨ä¸­çš„è®°å½•ï¼Œç„¶åå†æ¬¡æ‰§è¡Œ db:migrate:status ï¼Œä¼šå‘ç°è¾“å‡ºçš„ up å·²å˜ä¸º down ï¼Œè¡¨ç¤ºæˆ‘ä»¬ä»æœªæ‰§è¡Œè¿‡è¯¥è„šæœ¬ã€‚ç”±æ­¤å¯çŸ¥ db:migrate:status ä¼šé€šè¿‡ sequelizemeta è¡¨ä¸­çš„è®°å½•æ¥åˆ¤æ–­è„šæœ¬æ˜¯å¦è¢«æ‰§è¡Œè¿‡ã€‚è€Œå½“æˆ‘ä»¬å·²ç»æ‰§è¡Œè¿‡æŸäº›è„šæœ¬åå†æ¬¡æ‰§è¡Œ db:migrate ï¼Œé‚£äº›å·²ç»æ‰§è¡Œè¿‡çš„è„šæœ¬å°±ä¸ä¼šå†æ¬¡é‡å¤æ‰§è¡Œäº†ï¼š 123Loaded configuration file "config/config.json".Using environment "development".No migrations were executed, database schema was already up to date. db:migrate:undoé™¤äº†ä¸Šé¢çš„æ–°å¢æ•°æ®è¡¨æ“ä½œï¼Œæˆ‘ä»¬è¿˜å¯ä»¥è¿›è¡Œæ’¤é”€æ“ä½œã€‚æ‰§è¡Œ ./node_modules/.bin/sequelize db:migrate:status å‘½ä»¤å sequelize-cli ä¼šå¸®æˆ‘ä»¬æ’¤é”€æ‰ä¸Šä¸€æ¬¡ï¼ˆæœ€è¿‘ä¸€æ¬¡ï¼‰çš„è¿ç§»æ“ä½œï¼Œæ¯”å¦‚æˆ‘ä»¬çš„ sequelizemetaè¡¨ä¸­è®°å½•äº†ä¸¤æ¡è¿ç§»æ“ä½œï¼ˆå‡è®¾åˆ›å»ºäº† user å’Œ message è¡¨ï¼‰ï¼š 1220190316035632-create-user.js20190316035921-create-message.js é‚£ä¹ˆæ‰§è¡Œ undo åå°±ä¼šæŠŠæœ€è¿‘çš„ä¸€æ¬¡è¿ç§»ï¼Œä¹Ÿå°±æ˜¯ *-message.js ä»è¡¨ä¸­ç§»é™¤ï¼Œå¹¶ä¸”åœ¨æ•°æ®åº“ä¸­åˆ é™¤ message è¡¨ã€‚è€Œè¿™ä¸ªåˆ é™¤æ“ä½œï¼Œå…¶å®æ˜¯æ‰§è¡Œäº†è¿ç§»æ–‡ä»¶ä¸‹å¯¹åº”è¡¨çš„åˆ é™¤ä»£ç ï¼š 123down: (queryInterface, Sequelize) =&gt; &#123; return queryInterface.dropTable('Messages');&#125; db:migrate:undo:allå½“æ‰§è¡Œ ./node_modules/.bin/sequelize db:migrate:undo:all å‘½ä»¤åï¼Œèƒ½å¸®æˆ‘ä»¬æ’¤é”€æ‰€æœ‰çš„è¿ç§»æ“ä½œã€‚ db:migrate:undo: â€“nameæ­¤å‘½ä»¤èƒ½å¸®æˆ‘ä»¬æ’¤é”€å…·ä½“æŒ‡å®šçš„è¿ç§»è„šæœ¬ï¼Œä¾‹å¦‚æ‰§è¡Œä¸‹é¢å‘½ä»¤ä¼šæ’¤é”€åç§°ä¸º 20190316035632-create-user çš„è„šæœ¬æ“ä½œï¼š1./node_modules/.bin/sequelize db:migrate:undo --name 20190316035632-create-user æ‰§è¡Œå®Œæ¯•åå†æ¥åˆ·æ–°æˆ‘ä»¬çš„æ•°æ®åº“ï¼Œå°±ä¼šå‘ç° user è¡¨å·²è¢«åˆ é™¤ï¼Œåªç•™ä¸‹äº† message è¡¨ã€‚ å­—æ®µæ·»åŠ ä¸åˆ é™¤éšç€ä¸šåŠ¡çš„å¢é•¿ï¼Œæˆ‘ä»¬å¾ˆæœ‰å¯èƒ½éœ€è¦æ‰©å……æ•°æ®è¡¨çš„å­—æ®µã€‚ä¾‹å¦‚æˆ‘ä»¬éœ€è¦ç»™ user è¡¨æ·»åŠ ä¸€ä¸ª username å­—æ®µï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥é”®å…¥ä»¥ä¸‹å‘½ä»¤æ¥åˆ›å»ºä¸€ä¸ª migration : 1./node_modules/.bin/sequelize migration:create --name UserAddAge æ‰§è¡Œå®Œä¸Šè¿°æ“ä½œåæˆ‘ä»¬èƒ½åœ¨ migrations æ–‡ä»¶å¤¹ä¸­çœ‹åˆ°æ–°åˆ›å»ºçš„ UserAddAge æ–‡ä»¶ï¼Œæ‰“å¼€åä»£ç å¦‚ä¸‹ï¼š1234567891011121314151617181920212223'use strict';module.exports = &#123; up: (queryInterface, Sequelize) =&gt; &#123; /* Add altering commands here. Return a promise to correctly handle asynchronicity. Example: return queryInterface.createTable('users', &#123; id: Sequelize.INTEGER &#125;); */ &#125;, down: (queryInterface, Sequelize) =&gt; &#123; /* Add reverting commands here. Return a promise to correctly handle asynchronicity. Example: return queryInterface.dropTable('users'); */ &#125;&#125;; æˆ‘ä»¬è¦åšçš„ï¼Œå°±æ˜¯åœ¨ up å’Œ down æ–¹æ³•ä¸­å¡«å…¥æ•°æ®åº“æ“ä½œé€»è¾‘çš„ä»£ç ï¼Œup æ–¹æ³•ä¸­æœ‰æ³¨é‡Šä½œæç¤ºï¼Œè®©æˆ‘ä»¬è¿”å›ä¸€ä¸ªç±»å‹ä¸º Promise çš„å¯¹è±¡ï¼Œè¿˜ç»™å‡ºäº†ç¤ºä¾‹ã€‚å› ä¸ºæˆ‘ä»¬è¦ç»™æ•°æ®è¡¨æ·»åŠ å­—æ®µï¼Œæ‰€ä»¥ä½¿ç”¨ addColumn æ–¹æ³•ï¼š 123456789return queryInterface.addColumn( 'users', // è¢«æ·»åŠ å­—æ®µçš„è¡¨åç§° 'age', // éœ€è¦æ·»åŠ çš„å­—æ®µåç§° &#123; type: Sequelize.TINYINT, allowNull: false, defaultValue: 0, &#125;, // å­—æ®µå±æ€§) è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç»™ user è¡¨æ·»åŠ ä¸Š age å­—æ®µäº†ã€‚ p.s. ä¹‹æ‰€ä»¥ä»£ç ä¸­å¡«å†™ users ï¼Œæ˜¯å› ä¸º sequelize-cli å¸®æˆ‘ä»¬åˆ›å»ºè¡¨æ˜¯ä¼šè‡ªåŠ¨ç»™è¡¨åç§°åŠ  s ã€‚ èƒ½æ·»åŠ å°±èƒ½åˆ é™¤ï¼Œåˆ é™¤æ“ä½œæˆ‘ä»¬åœ¨ down æ–¹æ³•ä¸­ç¼–å†™ï¼š 1234return queryInterface.removeColumn( 'users', 'age'); UserAddAge.js æ–‡ä»¶å®Œæ•´ä»£ç ï¼š123456789101112131415161718192021222324252627282930313233343536'use strict';module.exports = &#123; up: (queryInterface, Sequelize) =&gt; &#123; /* Add altering commands here. Return a promise to correctly handle asynchronicity. Example: return queryInterface.createTable('users', &#123; id: Sequelize.INTEGER &#125;); */ return queryInterface.addColumn( 'users', 'age', &#123; type: Sequelize.TINYINT, allowNull: false, defaultValue: 0, &#125; ) &#125;, down: (queryInterface, Sequelize) =&gt; &#123; /* Add reverting commands here. Return a promise to correctly handle asynchronicity. Example: return queryInterface.dropTable('users'); */ return queryInterface.removeColumn( 'users', 'age' ); &#125;&#125;; ç¼–å†™å®Œæ¯•åæˆ‘ä»¬è¿è¡Œ ./node_modules/.bin/sequelize db:migrate æ¥é‡æ–°æ‰§è¡Œä¸€éæ‰€æœ‰è¿ç§»ï¼Œåˆ·æ–° user è¡¨åå°±èƒ½çœ‹è§æ–°å¢å­—æ®µ age äº†ã€‚ æœ€åä½ è¿˜å¯ä»¥æ‰§è¡Œ ./node_modules/.bin/sequelize db:migrate:undo æ¥ç¡®è®¤ down æ–¹æ³•æ­£å¸¸å·¥ä½œï¼Œä»è€Œè®© user è¡¨åˆ é™¤åˆšåˆšæ·»åŠ çš„ age å­—æ®µã€‚ æ–‡æ¡£å‚è€ƒï¼šæ›´å¤š QueryInterface æ“ä½œ seedersé™¤äº†æ•°æ®åº“ç»“æ„çš„æ·»åŠ ä¿®æ”¹åˆ é™¤æ“ä½œä»¥å¤–ï¼Œæˆ‘ä»¬é€šå¸¸è¿˜ä¼šç»™å„ç§è¡¨æ‰¹é‡æ·»åŠ ä¸€äº›å‡æ•°æ®ã€‚è¿™ä¸ªæ—¶å€™å°±è¦ç”¨åˆ° seeders é‡Œçš„ç§å­æ–‡ä»¶äº†ã€‚æ¯”æ–¹è¯´ç°åœ¨è¦ç»™ user è¡¨æ‰¹é‡æ·»åŠ ä¸€äº›æ•°æ®ï¼Œåˆ™å¯ä»¥æ‰§è¡Œä¸‹é¢ä»£ç ï¼š1./node_modules/.bin/sequelize seed:create --name userTest æ‰§è¡Œå®Œæ¯•åä½ ä¼šå‘ç°åœ¨ seeders æ–‡ä»¶å¤¹ä¸‹å¤šäº†ä¸€ä¸ªç±»ä¼¼ 20190316090425-userTest.js çš„æ–‡ä»¶ã€‚ æ‰¹é‡æ·»åŠ æˆ‘ä»¬å¯ä»¥åœ¨é‡Œé¢ç¼–å†™ä»£ç è®© cli å¸®åŠ©æˆ‘ä»¬æ‰¹é‡æ·»åŠ æ•°æ®ï¼š12345678910111213141516171819202122232425262728293031323334353637'use strict';module.exports = &#123; up: (queryInterface, Sequelize) =&gt; &#123; /* Add altering commands here. Return a promise to correctly handle asynchronicity. Example: return queryInterface.bulkInsert('People', [&#123; name: 'John Doe', isBetaMember: false &#125;], &#123;&#125;); */ return queryInterface.bulkInsert('users', [ &#123; username: 'ç‹„ä»æ°', age: 56 &#125;, &#123; username: 'æå…ƒèŠ³', age: 27 &#125; ]); &#125;, down: (queryInterface, Sequelize) =&gt; &#123; /* Add reverting commands here. Return a promise to correctly handle asynchronicity. Example: return queryInterface.bulkDelete('People', null, &#123;&#125;); */ return queryInterface.bulkDelete('users', null, &#123;&#125;); &#125;&#125;; ç§å­æ–‡ä»¶çš„æ‰§è¡Œæ–¹å¼æœ‰ä¸¤ç§ï¼š db:seed ç§å­æ–‡ä»¶å æ¥è¿è¡ŒæŒ‡å®šç§å­æ–‡ä»¶ db:seed:all æ¥è¿è¡Œæ‰€æœ‰ç§å­æ–‡ä»¶ çŸ¥é“æ‰§è¡Œæ–¹æ³•åæˆ‘ä»¬æ¥è¿è¡Œä¸‹é¢å‘½ä»¤ï¼š 1./node_modules/.bin/sequelize db:seed:all æ‰§è¡ŒæˆåŠŸååˆ·æ–°æˆ‘ä»¬çš„ user è¡¨ï¼Œå°±ä¼šå‘ç°æ•°æ®å·²ç»è¢«æ‰¹é‡æ·»åŠ è¿›å»äº†ã€‚ æ‰¹é‡åˆ é™¤å‘½ä»¤è¡Œè¾“å…¥å¹¶æ‰§è¡Œï¼š ./node_modules/.bin/sequelize db:seed:undo:all ä¾¿å¯ä»¥æ‰¹é‡åˆ é™¤åˆšåˆšæ·»åŠ è¿› user è¡¨ä¸­çš„æ•°æ®ã€‚ è®°å½•ç§å­æ•°æ®çš„å­˜å‚¨æˆ‘ä»¬çŸ¥é“ migrations è¿ç§»æ˜¯ä¼šè¢«è®°å½•çš„ï¼ˆæ•°æ®åº“çš„ sequelizemeta è¡¨ä¸­ï¼‰ï¼Œä½†é»˜è®¤æƒ…å†µä¸‹ï¼Œç§å­æ•°æ®çš„å­˜å‚¨ä¸ä¼šè¢«è®°å½•ä¸‹æ¥ã€‚ä½†å®˜æ–¹åŒæ ·æä¾›äº† æ–¹æ³• æ¥è®°å½•ç§å­æ•°æ®çš„å­˜å‚¨ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨é…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨ seederStorage æ¥è®°å½•å­˜å‚¨ï¼š JSONè®°å½• config/config.json 12345"development": &#123; ... "seederStorage": "json", // å­˜å‚¨ç±»å‹ "seederStoragePath": "userTestData.json" // å­˜å‚¨è·¯å¾„ï¼ˆå½“å‰é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼‰&#125;, p.s. ä¸Šæ–¹æ³¨é‡Šåœ¨ copy åˆ°è‡ªå·±é¡¹ç›®æ—¶éœ€è¦åˆ é™¤ï¼Œå¦åˆ™æŠ¥é”™ã€‚ æ¥ç€æˆ‘ä»¬æ‰§è¡Œ ./node_modules/.bin/sequelize db:seed:undo:all å…ˆåˆ é™¤æ•°æ®è¡¨ä¸­æ•°æ®ï¼Œç„¶åå†æ‰§è¡Œ ./node_modules/.bin/sequelize db:seed:all é‡æ–°æ·»åŠ ä¸€æ¬¡ç§å­æ•°æ®ã€‚ä½ å°±ä¼šå‘ç°é¡¹ç›®æ ¹ç›®å½•ä¸‹å¤šå‡ºæ¥äº†ä¸€ä¸ªå«åš userTestData.json çš„æ–‡ä»¶ï¼Œé‡Œé¢è®°å½•äº†å·²ç»æ‰§è¡Œè¿‡çš„ç§å­æ–‡ä»¶åï¼š123[ "20190316090425-userTest.js"] sequelizeè®°å½•p.s. å¦‚æœä½ å·²ç»ç”¨ä¸Šé¢jsonè®°å½•çš„æ–¹å¼è®°å½•è¿‡ç§å­æ–‡ä»¶çš„å­˜å‚¨ï¼Œå†æƒ³è¦å°è¯•ç”¨sequelizeç©ä¸€éçš„è¯ï¼Œé¦–å…ˆå¾—æ‰§è¡Œä¸€é ./node_modules/.bin/sequelize db:seed:undo:all å“¦ã€‚ 123456"development": &#123; ... "seederStorage": "sequelize", // å­˜å‚¨ç±»å‹ "seederStoragePath": "userTestData.json", // å­˜å‚¨è·¯å¾„ï¼ˆå½“å‰é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼‰ "seederStorageTableName": "userTestData" // å­˜å‚¨çš„è¡¨å&#125;, ç¼–å†™å®Œä¸Šè¿°ä»£ç åä½ å¯ä»¥æ‰§è¡Œä¸‹é¢å‘½ä»¤ï¼š 1./node_modules/.bin/sequelize db:seed:all æ‰§è¡Œå®Œæ¯•ååˆ·æ–°æ•°æ®åº“ï¼Œå°±èƒ½åœ¨æ•°æ®åº“ä¸­å‘ç° userTestData è¡¨ï¼Œé‡Œé¢è®°å½•äº†å·²ç»æ‰§è¡Œå®Œæ¯•çš„ç§å­æ–‡ä»¶ 20190316090425-userTest.js ç‰ˆæœ¬å®‰è£…çš„ sequelize å’Œ mysql2 çš„ç‰ˆæœ¬ä¸ºï¼š1234"dependencies": &#123; "sequelize": "^5.3.3", "sequelize-cli": "^5.4.0"&#125; èµ„æº QueryInterface æ“ä½œ]]></content>
      <categories>
        <category>åç«¯</category>
        <category>Node</category>
        <category>Sequelize</category>
      </categories>
      <tags>
        <tag>Node</tag>
        <tag>SQL</tag>
        <tag>Sequelize</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Minification å‹ç¼©ä¸ Gzip å‹ç¼©çš„åŒºåˆ«ï¼ˆç¿»è¯‘ï¼‰]]></title>
    <url>%2Fposts%2F53167%2F</url>
    <content type="text"><![CDATA[åŸé“¾æ¥ï¼šhttps://css-tricks.com/the-difference-between-minification-and-gzipping/ä½œè€…ï¼šChris Coyier è¿™ä¸¤ç§æ–¹æ³•éƒ½é’ˆå¯¹ä½ ç½‘ç«™ä¸Šçš„èµ„æºï¼ˆæ¯”å¦‚ .css æ–‡ä»¶å’Œ .js æ–‡ä»¶ï¼‰æ‰€ä½¿ç”¨ã€‚å®ƒä»¬éƒ½ç”¨æ¥å‹ç¼©æ–‡ä»¶å¤§å°ï¼Œä½¿æœåŠ¡å™¨å’Œæµè§ˆå™¨ä¹‹é—´çš„ç½‘ç»œæ›´åŠ é€šç•…ï¼Œæé«˜ç½‘é¡µæ€§èƒ½ã€‚ç½‘ç»œæ˜¯ç½‘é¡µçš„é€Ÿåº¦ç“¶é¢ˆæ‰€åœ¨ï¼Œè€Œå‹ç¼©æ–‡ä»¶å¤§å°èƒ½å¤Ÿæ”¹å–„è¿™ä¸€ç‚¹ã€‚ ä½†è¿™ä¸¤è€…ä¹Ÿæˆªç„¶ä¸åŒã€‚å¦‚æœä¹‹å‰ä½ å¹¶ä¸çŸ¥é“è¿™ä¸€ç‚¹ï¼Œé‚£ä¹ˆä½ åº”å½“èŠ±æ—¶é—´æ¥äº†è§£å®ƒã€‚ Minification èƒ½å¤Ÿåˆ é™¤ç©ºæ ¼ç¬¦ï¼ˆwhitespaceï¼‰ã€æ³¨é‡Šç¬¦ï¼ˆcommentsï¼‰ã€æ— ç”¨çš„åˆ†å·ï¼ˆsemicolonsï¼‰æˆ–æ˜¯å‡å°‘ hex ä»£ç çš„é•¿åº¦â€¦â€¦â€¦è¯¸å¦‚æ­¤ç±»ã€‚å‰©ä¸‹çš„æ–‡ä»¶ä¾ç„¶æ˜¯æœ‰æ•ˆä»£ç ã€‚ä½ ä¸å¿…å°è¯•è¯»å–å®ƒæˆ–æ˜¯ä½¿ç”¨å®ƒï¼Œå®ƒå¹¶æ²¡æœ‰è¿åä»»ä½•è§„åˆ™ã€‚å°±åƒå¯¹åŸå§‹æ–‡ä»¶é‚£æ ·ï¼Œæµè§ˆå™¨å¯ä»¥è¯»å–å®ƒå’Œä½¿ç”¨å®ƒã€‚ Minification èƒ½å¤Ÿåˆ›å»ºä½ æœ€ç»ˆä½¿ç”¨çš„æ–°æ–‡ä»¶ã€‚æ¯”å¦‚å½“ä½ åˆ›å»ºäº†ä¸€ä¸ªåä¸º style.css çš„æ–‡ä»¶ä¹‹åï¼Œä½ å¯ä»¥æŠŠå®ƒå‹ç¼©ä¸º style.min.cssã€‚ Gizpping èƒ½è¯†åˆ«æ‰€æœ‰é‡å¤çš„å­—ç¬¦ä¸²ï¼Œå¹¶ä½¿ç”¨æŒ‡ä»£è¯¥å­—ç¬¦ä¸²ç¬¬ä¸€ä¸ªå®ä¾‹çš„æŒ‡é’ˆæ¥ä»£æ›¿ã€‚Julia Evans æ›¾æƒ³å‡ºä¸€ä¸ªç»ä½³çš„æ–¹æ³•æ¥è§£é‡Šè¿™ä¸€ç‚¹ï¼ˆç‚¹å‡»è¿™é‡ŒæŸ¥é˜…å¥¹å‘å¸ƒçš„å†…å®¹å’Œè§†é¢‘ï¼‰ã€‚ä¸‹é¢æ˜¯ä¸€é¦–è¯—çš„ç¬¬ä¸€æ®µï¼š 123456Once upon a midnight dreary, while I &#123;pon&#125;dered weak an&#123;d wea&#125;&#123;ry,&#125;Over many&#123; a &#125;quaint&#123; and &#125;curious volume of forgotten lore,W&#123;hile I &#125;nodded, n&#123;ear&#125;ly napping, su&#123;dde&#125;n&#123;ly &#125;th&#123;ere&#125; ca&#123;me &#125;a t&#123;apping,&#125;As&#123; of &#125;so&#123;me o&#125;ne gent&#123;ly &#125;r&#123;apping, &#125;&#123;rapping&#125; at my chamb&#123;er &#125;door.`'Tis&#123; some &#125;visitor,'&#123; I &#125;mu&#123;tte&#125;r&#123;ed, &#125;`t&#123;apping at my chamber door&#125; -O&#123;nly th&#125;is,&#123; and &#125;no&#123;thi&#125;&#123;ng &#125;m&#123;ore&#125;. Gzip è¯†åˆ«å‡ºæ‹¬å¼§é‡Œçš„æ–‡å­—éƒ½æ˜¯é‡å¤çš„ï¼Œå› æ­¤å°†ä¼šä½¿ç”¨æŒ‡é’ˆæ¥ä»£æ›¿å®ƒä»¬ï¼Œè¿™æ ·è¿™äº›æ–‡å­—å ç”¨çš„ç©ºé—´å°†ä¼šæ¯”åŸæ¥æ›´å°ã€‚ å¯¹äºå‡å°‘æ–‡ä»¶å¤§å°ã€å°¤å…¶æ˜¯ä»£ç è€Œè¨€ï¼Œè¿™ç§æ–¹æ³•ååˆ†é«˜æ•ˆï¼Œå› ä¸ºä»£ç ä¸­æœ‰å¤§é‡é‡å¤çš„å†…å®¹ã€‚è®¾æƒ³ä¸€ä¸‹ä¸€ä¸ª HTML æ–‡ä»¶é‡Œæœ‰å¤šå°‘ä¸ª &lt;divï¼Œä¸€ä¸ª CSS æ–‡ä»¶é‡Œåˆæœ‰å¤šå°‘ {ã€‚ ä½ ä¹Ÿå¯ä»¥åˆ›å»ºæŸä¸ªæ–‡ä»¶çš„ Gzip å‹ç¼©ç‰ˆæœ¬ï¼Œæ¯”å¦‚ style.css.zipã€‚ä½†ä½ ä¸€èˆ¬ä¸ä¼šè¿™æ ·åšï¼Œæµè§ˆå™¨ä¹Ÿä¸çŸ¥é“åº”è¯¥å¦‚ä½•ä½¿ç”¨è¿™ä¸ªæ–‡ä»¶ã€‚ åœ¨ç½‘é¡µä¸­ï¼ŒGzip å‹ç¼©ç›´æ¥é€šè¿‡æœåŠ¡å™¨å®Œæˆã€‚å› æ­¤ä½ è¦åšçš„æ˜¯é…ç½®æœåŠ¡å™¨ã€‚ä¸€æ—¦å®Œæˆé…ç½®ï¼ŒGzip å‹ç¼©å°†ä¼šè‡ªåŠ¨è¿›è¡Œï¼Œä½ æ— éœ€å†åšä»»ä½•å·¥ä½œã€‚æœåŠ¡å™¨ä¼šå‹ç¼©æ–‡ä»¶ï¼Œå¹¶é€šè¿‡ç½‘ç»œä¼ é€æ–‡ä»¶ã€‚æµè§ˆå™¨åˆ™æ¥å—æ–‡ä»¶ï¼Œå¹¶åœ¨ä½¿ç”¨ä¹‹å‰è¿›è¡Œè§£å‹ã€‚æˆ‘ä»æœªå¬è°æåˆ°è¿‡å‹ç¼©å’Œè§£å‹çš„æˆæœ¬ï¼Œå› æ­¤åœ¨è¿™é‡Œæˆ‘å‡è®¾è¿™äº›æˆæœ¬å¯ä»¥å¿½ç•¥ä¸è®¡ï¼Œå¹¶ä¸”æˆ‘ä»¬è·å¾—çš„å—ç›Šè¿œå¤§äºæˆæœ¬ã€‚ ç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹å¦‚ä½•åœ¨ Apache æœåŠ¡å™¨ä¸­è¿›è¡Œé…ç½®ï¼Œè¿™é‡Œä½¿ç”¨äº† mod_deflate æ¨¡å—ã€‚H5BP ä¹Ÿä¸ºæ‰€æœ‰å¸¸è§çš„æœåŠ¡å™¨æä¾›äº†æœåŠ¡å™¨é…ç½®ï¼ŒåŒ…æ‹¬ Gzippingã€‚ ç¤ºä¾‹æˆ‘ä»¬å°†ç”¨åˆ° Bootstrap ä¸­å¸¸è§çš„ CSS æ–‡ä»¶ã€‚ é€šè¿‡ Minification æ¥å‹ç¼©è¿™ä¸ª CSS æ–‡ä»¶ï¼Œä½ å°†èŠ‚çœ 17% çš„ç©ºé—´ï¼Œè€Œä½¿ç”¨ Gzipping èƒ½å¤ŸèŠ‚çœ 85%ï¼Œå°†ä¸¤ç§æ–¹æ³•ç»“åˆä½¿ç”¨èŠ‚çœçš„ç©ºé—´æ˜¯ 86%ã€‚ ä¸‹é¢æ˜¯ä½¿ç”¨ DevTools æ£€æŸ¥å·¥ä½œçŠ¶å†µæ—¶çš„ç†æƒ³æƒ…å†µï¼š Gzipå‹ç¼© è¦é«˜æ•ˆå¾—å¤šï¼Œè€Œå°†ä¸¤ç§æ–¹æ³•ç»“åˆèµ·æ¥æ›´ä¸ºç†æƒ³ã€‚Gzip å‹ç¼©èŠ‚çœçš„ç©ºé—´å¤§æ¦‚æ˜¯ Minification å‹ç¼©çš„äº”å€ã€‚ç„¶è€Œï¼Œé€šè¿‡ Minification å‹ç¼©ï¼Œä½ ä¹Ÿå¯ä»¥è·å¾—ä¸€äº›å¸®åŠ©ï¼Œä¸è¿‡åœ¨æ„å»ºæ­¥éª¤æ—¶ä½ éœ€è¦è€—è´¹ä¸€äº›é¢å¤–çš„åŠ›æ°”ã€‚ åŒæ ·æœ‰è¯æ®è¯æ˜æµè§ˆå™¨åœ¨è¯»å–å’Œè§£æ Minification å‹ç¼©çš„æ–‡ä»¶æ—¶é€Ÿåº¦æ›´å¿«ï¼š æ­£å¦‚é¢„æœŸçš„é‚£æ ·ï¼Œé™¤äº†ç¼©çŸ­ç½‘ç»œä¼ è¾“æ—¶é—´ä»¥å¤–ï¼ŒMinification å‹ç¼©è¿˜æœ‰åŠ©äºè§£æå’ŒåŠ è½½ã€‚è¿™ä¹Ÿè®¸æ˜¯å› ä¸ºç¼ºå°‘æ³¨é‡Šç¬¦å’Œé¢å¤–çš„ç©ºç™½ç¬¦ã€‚ å¾®è½¯ä¹Ÿå¼€å§‹ä¸ºæ­¤ä¼˜åŒ–å®ƒä»¬çš„è¯­æ³•åˆ†æå™¨ï¼š å› æ­¤ï¼Œåœ¨ Window 10 å’Œ Microsoft Edge ä¸­ï¼Œæˆ‘ä»¬æ–°æ·»åŠ äº†å¿«é€Ÿè·¯å¾„ï¼Œæ”¹å–„äº†åœ¨ Chakra çš„ JIT ç¼–è¯‘å™¨ä¸­åµŒå…¥å’Œä¼˜åŒ–éƒ¨åˆ†æ¢è§†ç¨‹åºçš„ä½“éªŒï¼Œä»¥ä¿è¯å‹ç¼©ä»£ç çš„è¿è¡Œé€Ÿåº¦ä¸ä½äºåŸå§‹ç‰ˆæœ¬ã€‚é€šè¿‡è¿™äº›æ”¹å˜ï¼Œé€šè¿‡ UglifyJS å‹ç¼©è¿‡çš„ä¸ªä½“ä»£ç æ¨¡å¼çš„æ€§èƒ½æé«˜äº† 20% åˆ° 50%ã€‚ ç¼“å­˜èµ„æºåŒæ ·ä¸è¿™æ®µå¯¹è¯ç›¸å…³ï¼Œæ²¡æœ‰ä»€ä¹ˆæ¯”ä¸€ä¸ªä¸éœ€è¦è¯·æ±‚ä»»ä½•èµ„æºçš„æµè§ˆå™¨é€Ÿåº¦æ›´å¿«äº†ï¼å…³äºè¿™ä¸€ç‚¹ï¼Œç½‘ä¸Šæˆ–è€…ä¹¦ä¸­è¿˜æœ‰è®¸å¤šç›¸å…³çŸ¥è¯†ï¼Œä¸è¿‡å¾ˆå¿«æˆ‘ä»¬ä¹Ÿè®¸ä¼šå‘å¸ƒä¸€äº›æœ‰å…³ä½¿ç”¨æŠ€å·§çš„å†…å®¹ã€‚]]></content>
      <categories>
        <category>åç«¯</category>
        <category>å…¶ä»–</category>
      </categories>
      <tags>
        <tag>gzip</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Webpack4 å¦‚ä½•ä¼˜é›…æ‰“åŒ…ç¼“å­˜æ–‡ä»¶ï¼ˆè½¬è½½ï¼‰]]></title>
    <url>%2Fposts%2F57458%2F</url>
    <content type="text"><![CDATA[ä¸€èˆ¬æ¥è¯´ï¼Œå¯¹äºé™æ€èµ„æºï¼Œæˆ‘ä»¬éƒ½å¸Œæœ›æµè§ˆå™¨èƒ½å¤Ÿè¿›è¡Œç¼“å­˜ï¼Œé‚£æ ·ä»¥åè¿›å…¥é¡µé¢å°±å¯ä»¥ç›´æ¥ä½¿ç”¨ç¼“å­˜èµ„æºï¼Œé¡µé¢ç›´æ¥ç›´é€¼ç«ç®­é€Ÿåº¦æ‰“å¼€ï¼Œæ—¢æé«˜äº†ç”¨æˆ·çš„ä½“éªŒä¹ŸèŠ‚çœäº†å®½å¸¦èµ„æºã€‚ å½“ç„¶æµè§ˆå™¨ç¼“å­˜æ–¹æ³•æœ‰å¾ˆå¤šç§ï¼Œè¿™é‡Œåªç®€å•è®¨è®ºä¸‹ webpack åˆ©ç”¨ hash æ–¹å¼ä¿®æ”¹æ–‡ä»¶åï¼Œä»¥è¾¾åˆ°ç¼“å­˜ç›®çš„ã€‚ webpack hashwebpack å†…ç½®äº†å¤šç§å¯ä½¿ç”¨ hashï¼Œå®˜ç½‘è§£é‡Šåˆ†åˆ«å¦‚ä¸‹ï¼š hashï¼šthe hash of the module identifier chunkHashï¼šthe hash of the chunk content contentHashï¼šthe hash of extracted content æ³¨ï¼šhash çš„é»˜è®¤é•¿åº¦ä¸º 20 ä¸ªå­—ç¬¦ï¼Œå¯é€šè¿‡ output.hashDigestLength å…¨å±€é…ç½®ï¼Œæˆ–ä½¿ç”¨ [hash:16] æ–¹å¼é…ç½®ï¼Œè¿˜å¯ä»¥é€šè¿‡ output.hashDigest é…ç½®ä½•æ—¶ç”Ÿæˆ hashã€‚ é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œè¿™ä¹ˆå¤šç§ hash è¯¥å¦‚ä½•é€‰æ‹©å‘¢ï¼Ÿ å®æˆ˜ hashåŸºç¡€çš„é…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼ˆåŸºäºwebpack 4ï¼Œå…¥å£æ–‡ä»¶åˆ†åˆ«ä¸º index å’Œ detailï¼Œå…¶ä¸­æ¯ä¸ªæ–‡ä»¶ä¸­å¼•å…¥äº†ä¸€ä¸ªå›¾ç‰‡ï¼‰ï¼š 1234567891011module.exports = &#123; mode: 'none', // è®¾ç½®ä¸º noneï¼Œé¿å… development æˆ– production é»˜è®¤è®¾ç½®çš„ä¸€äº›å½±å“ entry: &#123; index: './src/index.js', detail: './src/detail.js', &#125;, output: &#123; filename: '[name].[hash].js', path: path.resolve(__dirname, 'dist') &#125;&#125; hashï¼ˆthe hash of the module identifierï¼‰é¦–å…ˆï¼Œæˆ‘ä»¬æ¥è§£é‡Šä¸‹ the module identifierã€‚webpack é»˜è®¤ä¸ºç»™å„ä¸ªæ¨¡å—åˆ†é…ä¸€ä¸ª id ä»¥ä½œæ ‡è¯†ï¼Œç”¨æ¥å¤„ç†æ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚è€Œé»˜è®¤çš„ id å‘½åè§„åˆ™æ˜¯æ ¹æ®æ¨¡å—å¼•å…¥çš„é¡ºåºï¼Œèµ‹äºˆä¸€ä¸ªæ•´æ•°(1ã€2ã€3â€¦â€¦)ã€‚å¦‚ä¸‹å›¾å°±æ˜¯ä½¿ç”¨ hash çš„æ‰“åŒ…ï¼Œindex å’Œ detail ä½œä¸º entry çš„ä¸¤ä¸ªå…¥å£ï¼Œå¯ä»¥çœ‹åˆ°å…¶ hash å€¼æ˜¯ä¸€æ ·çš„ï¼Œè€Œå¦å¤–ä¸¤ä¸ªå›¾ç‰‡çš„ hash å€¼æ˜¯ä¸åŒçš„ã€‚ ç”±äºè¯¥ hash æ˜¯åŸºäºæ•´ä¸ª module identifier åºåˆ—è®¡ç®—å¾—åˆ°çš„ï¼Œæ‰€ä»¥ JS æˆ– CSS æ–‡ä»¶å¦‚æœä½¿ç”¨è¯¥ hashï¼Œåˆ™æ‰€æœ‰å€¼éƒ½ä¸€æ ·ï¼Œè€Œä»»æ„å¢æ·»æˆ–åˆ å‡ä¸€ä¸ªæ¨¡å—çš„ä¾èµ–ï¼Œéƒ½ä¼šå¯¹æ•´ä¸ª id åºåˆ—é€ æˆå½±å“ï¼Œä»è€Œæ”¹å˜ hash å€¼ã€‚è¿™æ ·çš„è¯ JS æˆ– CSS æ–‡ä»¶æ˜¯ä¸é€‚åˆä½¿ç”¨è¯¥ hash å€¼çš„ã€‚ å½“ç„¶å¯¹äºå›¾ç‰‡ã€å­—ä½“ã€PDF ç­‰èµ„æºè¯¥ hash è¿˜æ˜¯å¯ä»¥ç”Ÿæˆä¸€ä¸ªå”¯ä¸€å€¼çš„ã€‚ runtime &amp; manifestå‡å¦‚æˆ‘ä»¬ä»€ä¹ˆéƒ½ä¸æ”¹åŠ¨ï¼Œåªæ˜¯é‡æ–°è·‘ä¸€æ¬¡æ„å»ºï¼Œä¼šæƒŠå¥‡çš„å‘ç° index å’Œ detail çš„ hash å€¼å±…ç„¶å˜äº†ï¼ˆå›¾ç‰‡çš„ hash æ˜¯ä¸å˜çš„ï¼‰ï¼Œå¦‚ä¸‹å›¾ï¼š è¿™ç©¶ç«Ÿæ˜¯æ€ä¹ˆå›äº‹å‘¢ï¼Ÿwebpack å®˜æ–¹è§£é‡Šä¸ºï¼š This is because webpack includes certain boilerplate, specifically the runtime and manifest, in the entry chunk. ä¸ºäº†è§£å†³è¿™ä¸ªä¸ç¨³å®šçš„å› ç´ ï¼Œwebpack 4 æä¾›äº†ä¸€ä¸ªé…ç½®å¯ä»¥ç›´æ¥æŠŠ boilerplate ç»™å•ç‹¬æŠ½ç¦»å‡ºæ¥ï¼Œé…ç½®å¦‚ä¸‹ï¼š 123 optimization: &#123; runtimeChunk: 'single'&#125; è¿™æ ·æˆ‘ä»¬å°±èƒ½å¾—åˆ°ä¸€ä¸ª runtime çš„ js æ–‡ä»¶ï¼Œå¦‚ä¸‹å›¾ï¼š chunkhashï¼ˆthe hash of the chunk contentï¼‰ç°åœ¨æˆ‘ä»¬æŠŠ hash æ”¹æˆ chunkhash ï¼Œå¦‚ä¸‹ï¼š 1234output: &#123; filename: '[name].[chunkhash].js', path: path.resolve(__dirname, 'dist')&#125; é‡æ–°è·‘ä¸‹æ„å»ºï¼Œä¼šå‘ç°æ‰“åŒ…å‡ºæ¥çš„ä¸‰ä¸ª JS æ–‡ä»¶çš„ chunkhash å€¼æ˜¯ä¸ä¸€æ ·çš„äº†ï¼Œå¦‚ä¸‹ï¼š ç°åœ¨æˆ‘ä»¬åœ¨ index æ–‡ä»¶ä¸­å†å¼•å…¥ä¸€ä¸ª JS æ¨¡å—ï¼Œé‡æ–°æ‰“åŒ…å¦‚ä¸‹ï¼š æˆ‘ä»¬ä¼šå‘ç° index å’Œ detail æ–‡ä»¶çš„ chunkhash éƒ½å˜äº†ï¼Œè¿™å°±å¥‡æ€ªäº†ï¼ŒæŒ‰ç†æ¥è¯´ detail æ–‡ä»¶æˆ‘ä»¬æ ¹æœ¬æ²¡æœ‰æ”¹å˜å•Šï¼Œä¸ºä»€ä¹ˆå®ƒçš„ chunkhash å€¼å˜äº†å‘¢ï¼Ÿ å…¶å®æ ¹æœ¬åŸå› è¿˜æ˜¯ module identifierï¼Œå› ä¸º index æ–°å¼•å…¥çš„æ¨¡å—æ”¹å˜äº†ä»¥åæ‰€æœ‰æ¨¡å—çš„ id å€¼ï¼Œæ‰€ä»¥ detail æ–‡ä»¶ä¸­å¼•å…¥çš„æ¨¡å— id å€¼å‘ç”Ÿäº†æ”¹å˜ï¼Œäºæ˜¯ detail çš„ chunkhash ä¹Ÿéšç€å‘ç”Ÿæ”¹å˜ã€‚ è§£å†³æ–¹æ¡ˆæ˜¯å°†é»˜è®¤çš„æ•°å­— id å‘½åè§„åˆ™æ¢æˆè·¯å¾„çš„æ–¹å¼ã€‚webpack 4 ä¸­å½“ mode ä¸º development ä¼šé»˜è®¤å¯åŠ¨ 123optimization: &#123; namedModules: true&#125; å½“ç„¶å¦‚æœæ˜¯ç”Ÿäº§ç¯å¢ƒçš„è¯ï¼Œå…¨è·¯å¾„æ˜¯æœ‰ç‚¹å¤ªé•¿ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æ¢æˆä½¿ç”¨HashedModuleIdsPlugin æ’ä»¶æ¥æ ¹æ®è·¯å¾„ç”Ÿæˆçš„ hash ä½œä¸º module identifierã€‚ 123plugins: [ new webpack.HashedModuleIdsPlugin(),], è¿™æ ·æœ€å chunkhash æ”¹å˜çš„å°±åªæœ‰ä¿®æ”¹çš„æ–‡ä»¶äº†ï¼Œä¹Ÿè¾¾åˆ°äº†æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœã€‚ contenthashï¼ˆthe hash of extracted contentï¼‰ç°åœ¨æˆ‘ä»¬å°† CSS æ ·å¼å•ç‹¬æŠ½ç¦»ç”Ÿæˆæ–‡ä»¶ï¼ˆä½¿ç”¨äº† MiniCssExtractPlugin æ’ä»¶ï¼‰ï¼Œä¼šå‘ç°å…¶ chunkhash å€¼è·Ÿè¯¥ entry çš„ js æ–‡ä»¶çš„ chunkhash æ˜¯ä¸€æ ·çš„ï¼Œå¦‚ä¸‹å›¾ï¼š ç°åœ¨å¦‚æœåªæ”¹å˜ CSS æ–‡ä»¶ï¼Œä¼šå‘ç°å¯¹åº”çš„ entry JS å’Œ CSS æ–‡ä»¶çš„ chunkhash éƒ½ä¼šæ”¹å˜ã€‚ï¼ˆæ³¨æ„ï¼šå¯èƒ½ä»¥å‰ ExtractTextWebpackPlugin ä¸ä¼šæ”¹å˜ï¼Œæ‰€ä»¥åªèƒ½å¯¹æŠ½ç¦»çš„ CSS æ–‡ä»¶ä½¿ç”¨ contenthashï¼‰ã€‚ åæ­£ä¸ç®¡åŒæ—¶å˜æˆ–ä¸å˜ï¼Œå¯èƒ½éƒ½ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœï¼Œæˆ‘ä»¬éœ€è¦åº”è¯¥æ˜¯æ”¹å˜äº†ä»€ä¹ˆå°±ååº”åˆ°ä»€ä¹ˆæ–‡ä»¶ä¸Šã€‚è€Œä¸æ˜¯ CSS å’Œ JS æ–‡ä»¶çš„ chunkhash åŒæ—¶æ”¹å˜æˆ–ä¸å˜ï¼Œæ— æ³•åŒºåˆ† CSS å’Œ JS çš„æ›´æ–°ã€‚ æ‰€ä»¥è¿™é‡ŒæŠ½ç¦»å‡ºæ¥çš„ CSS æ–‡ä»¶å°†ä½¿ç”¨ contenthashï¼Œä»¥åŒºåˆ† CSS æ–‡ä»¶å’Œ JS æ–‡ä»¶çš„æ›´æ–°ã€‚ Chunks IDç„¶è€Œè¿™è¿˜æ²¡æœ‰ç»“æŸï¼Œè¿˜æœ‰ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯ç›®å‰æˆ‘ä»¬çš„ chunks ID è¿˜æ˜¯ä»¥è‡ªå¢çš„æ•°å­—å‘½åçš„ï¼Œè¿™å½“æˆ‘ä»¬çš„ entry æ–‡ä»¶å‘ç”Ÿæ”¹å˜ï¼ˆæ–°å¢æˆ–åˆ é™¤ï¼‰çš„æ—¶å€™ï¼ŒåŸå…ˆçš„ chunks ID å°±æœ‰å¯èƒ½å‘ç”Ÿå˜åŒ–ã€‚äºæ˜¯æˆ‘ä»¬ä¹Ÿéœ€è¦æŠŠæ•°å­—æ”¹æ‰å°±å¥½ï¼Œwebpack 4 åœ¨ optimization æ–°å¢äº†ä¸€ä¸ª namedChunks é…ç½®ï¼Œè¯¥é…ç½®å¼€å‘ç¯å¢ƒä¸º trueï¼Œç”Ÿäº§ç¯å¢ƒä¸º falseï¼Œæ‰€ä»¥åœ¨ç”Ÿäº§ç¯å¢ƒçš„æ—¶å€™æˆ‘ä»¬ä¸ºäº†æ„å»ºç¨³å®šçš„ hash æ—¶ï¼Œè¿˜æ˜¯éœ€è¦æŠŠè¯¥é€‰é¡¹è®¾ç½®ä¸º trueï¼Œå¦‚ä¸‹ï¼š 123456module.exports = &#123; //... optimization: &#123; namedChunks: true &#125;&#125;; æ€»ç»“ä¸ºäº†ä¸€ä»½ç†æƒ³çš„ç¼“å­˜æ–‡ä»¶ï¼Œæˆ‘ä»¬éœ€è¦åšè¿™äº›äº‹æƒ…ï¼š æŠ½ç¦» boilerplateï¼ˆ[runtime &amp; manifestï¼‰ å°† module identifier é»˜è®¤çš„æ•°å­—æ ‡è¯†æ–¹å¼è½¬æˆä½¿ç”¨è·¯å¾„æ ‡è¯† JS æ–‡ä»¶ä½¿ç”¨ chunkhash æŠ½ç¦»çš„ CSS æ ·å¼æ–‡ä»¶ä½¿ç”¨ contenthash gif|png|jpe?g|eot|woff|ttf|svg|pdf ç­‰ä½¿ç”¨ hash è®¾ç½® namedChunks ä¸º true åŸæ–‡åœ°å€Webpack4 å¦‚ä½•ä¼˜é›…æ‰“åŒ…ç¼“å­˜æ–‡ä»¶]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>æ„å»ºå·¥å…·</category>
      </categories>
      <tags>
        <tag>è½¬è½½</tag>
        <tag>webpack</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Sequelizeæ¡†æ¶è¿›é˜¶]]></title>
    <url>%2Fposts%2F3278%2F</url>
    <content type="text"><![CDATA[ä¼ é€é—¨ Sequelizeæ¡†æ¶å…¥é—¨ å‰è¨€ä¸Šä¸€ç¯‡å…¥é—¨è®²åˆ°äº† Sequelizeæ¡†æ¶ çš„åŸºæœ¬ç”¨æ³•ï¼Œæ¯”å¦‚å®ç°ç®€å•çš„å¢åˆ æŸ¥æ”¹ã€‚åŸæœ¬æ‰“ç®—ä¸€ç¯‡æ–‡ç« å†™åˆ°åº•çš„ï¼Œä½†æ„Ÿè§‰å†…å®¹å¤ªå¤šï¼Œå¯¹è¯»è€…ä¸å¤ªå‹å¥½ï¼Œå°±å¦å¼€äº†è¿™ç¯‡æ–‡ç« ã€‚ è™½ç„¶æ ‡é¢˜å†™ç€â€œè¿›é˜¶â€ï¼Œä½†å…¶å®æœ‰æ ‡é¢˜å…šçš„ä»¥ä¸ºã€‚è¿™ç¯‡æ–‡ç« ä»ç„¶ç€æ‰‹äºæ¡†æ¶çš„ä½¿ç”¨ï¼Œä¸æ¶‰åŠæºç ã€‚å¤§çº²è§ä¾§è¾¹æ çš„ç›®å½•ï¼Œæˆ‘ä»¬ç›´æ¥å¼€å§‹å§~ è¿è¡¨æŸ¥è¯¢å‡†å¤‡å·¥ä½œæ—¢ç„¶æ˜¯è¿è¡¨æŸ¥è¯¢ï¼Œè‡³å°‘å¾—æœ‰ä¸¤ä¸ªè¡¨å§ã€‚æ‰€ä»¥æˆ‘ä»¬è¿˜éœ€è¦å¦å¤–æ–°å»ºä¸€å¼ è¡¨ï¼Œè¿™é‡Œèµ·åä¸º message è¡¨ï¼Œè¡¨ç»“æ„å¦‚ä¸‹ï¼š å…¶ä¸­ uid å¯¹åº”ç”¨æˆ·çš„ id ã€‚ä¸‹é¢æ˜¯ä¸¤è¡¨çš„æ•°æ®ï¼š æ¥ç€æˆ‘ä»¬æ–°å»ºä¸€ä¸ª app2.js æ–‡ä»¶ï¼Œå¼•å…¥ä¹‹å‰ app.js ä¸­çš„éƒ¨åˆ†ä»£ç ï¼ˆè¿æ¥æ•°æ®åº“+UserModelï¼‰ä»¥åŠåˆ›å»ºä¸€ä¸ª MessageModel æ¨¡å‹ï¼š123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263const Sequelize = require('sequelize');const sequelize = new Sequelize("miaov", "root", "root", &#123; host: "127.0.0.1", port: 8889, dialect: "mysql"&#125;);try &#123; sequelize.authenticate(); console.log('æ•°æ®åº“è¿æ¥æˆåŠŸ!');&#125; catch (err) &#123; console.log('è¿æ¥å¤±è´¥');&#125;const UserModel = sequelize.define('User', &#123; id: &#123; type: Sequelize.INTEGER(11), allowNull: false, autoIncrement: true, primaryKey: true, &#125;, username: &#123; type: Sequelize.STRING(50), allowNull: false, defaultValue: '', &#125;, age: &#123; type: Sequelize.TINYINT(3), allowNull: false, &#125;, gender: &#123; type: Sequelize.ENUM(['men', 'women', 'other']), allowNull: false, defaultValue: 'men', &#125;,&#125;, &#123; timestamps: false, tableName: 'users',&#125;);const MessageModel = sequelize.define('Message', &#123; id: &#123; type: Sequelize.INTEGER(11), primaryKey: true, allowNull: false, autoIncrement: true, &#125;, uid: &#123; type: Sequelize.INTEGER(11), allowNull: false, defaultValue: 0, &#125;, content: &#123; type: Sequelize.STRING(255), allowNull: false, defaultValue: '', &#125;&#125;, &#123; timestamps: false, freezeTableName: true, // é»˜è®¤ false å°†è‡ªåŠ¨ä¿®æ”¹è¡¨åä¸ºå¤æ•°ï¼Œtrue è¡¨ç¤ºä¸ä¿®æ”¹è¡¨åï¼Œä¸æ•°æ®åº“è¡¨ååŒæ­¥ tableName: 'message'&#125;); éœ€æ±‚+æ™®é€šåšæ³•æˆ‘ä»¬è¿™æ¬¡çš„éœ€æ±‚æ˜¯è·å–æŸæ¡ç•™è¨€çš„æ‰€æœ‰æ•°æ®ï¼Œå…¶ä¸­åŒ…å« ç•™è¨€æœ¬èº«çš„æ•°æ® + è¯¥ç•™è¨€çš„ç”¨æˆ·æ•°æ® ï¼Œå…ˆæ¥çœ‹æœ€â€œè€¿ç›´â€çš„åšæ³•ï¼š 123456789101112131415161718(async () =&gt; &#123; let data = &#123;&#125;; // æ ¹æ® id æŸ¥æ‰¾ message let message = await MessageModel.findByPk(1); // æ ¹æ® message çš„ uid åæŸ¥å‡ºå‘å¸ƒè¿™æ¡ message çš„ user let user = await UserModel.findByPk(message.get('uid')); Object.assign(data, &#123; id: message.id, uid: message.uid, content: message.content, username: user.username, age: user.age, gender: user.gender, &#125;); console.log(data);&#125;)(); BelongsToé™¤äº†ä¸Šé¢è¿™ç§åšæ³•å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ sequelize æä¾›çš„ BelongsTo æ¥å…³è”ä¸¤ä¸ªæ¨¡å‹è¿›è¡ŒæŸ¥è¯¢ã€‚ æ€è€ƒä¸€ä¸‹æˆ‘ä»¬çš„ users å’Œ message è¡¨ï¼Œä» message çš„è§’åº¦æ¥è®²ï¼Œä¸€æ¡ç•™è¨€å±äºä¸€ä¸ªç”¨æˆ·å‘å¸ƒçš„ï¼Œæ˜¯ä¸€å¯¹ä¸€çš„å…³ç³»ã€‚è€Œ BelongsTo å…³è”çš„å«ä¹‰å°±æ˜¯ A å±äº Bã€‚é‚£æˆ‘ä»¬åº”è¯¥æ€ä¹ˆå†™ä»£ç å‘¢ï¼Ÿæ­¥éª¤å¦‚ä¸‹ï¼š é¦–å…ˆåœ¨æ¨¡å‹ä¸­ç»™å…³è”çš„å­—æ®µå®šä¹‰å¤–é”®å…³ç³» 1234references: &#123; model: å…³è”çš„å¤–é”®è¡¨æ¨¡å‹, e.g. UserModel key: å…³è”çš„å¤–é”®è¡¨çš„å­—æ®µ, e.g. id&#125; åœ¨è°ƒç”¨ belongsTo æˆ– hasMany ç­‰æ–¹æ³•çš„æ—¶å€™ï¼Œé€šè¿‡ç¬¬äºŒä¸ªå‚æ•°è®¾ç½®å¯¹è±¡ 123&#123; foreignKey: å½“å‰å…³è”è¡¨çš„å­—æ®µ, e.g. uid&#125; æ²¡æœ‰å®Œå…¨ç†è§£ä¸Šé¢çš„æ­¥éª¤ä¹Ÿæ²¡å…³ç³»ï¼Œç›´æ¥ä¸Šä»£ç æ›´åŠ æ¸…æ™°ï¼š1234567891011121314151617181920212223242526272829const MessageModel = sequelize.define('Message', &#123; ..., uid: &#123; // ç¬¬ä¸€æ­¥ï¼šåœ¨æ¨¡å‹ä¸­ç»™å…³è”çš„å­—æ®µå®šä¹‰å¤–é”®å…³ç³» ... references: &#123; model: UserModel, // å…³è”çš„å¤–é”®è¡¨æ¨¡å‹ key: 'id', // å…³è”çš„å¤–é”®è¡¨çš„å­—æ®µ &#125; &#125;, ...&#125;, ...);(async () =&gt; &#123; // ç¬¬äºŒæ­¥ï¼šå£°æ˜ä¸¤è¡¨å…³ç³»åŠå¤–é”® // ä¸‹é¢æ–¹æ³•ç¿»è¯‘è¿‡æ¥ï¼šç•™è¨€å±äºç”¨æˆ· MessageModel.belongsTo(UserModel, &#123; foreignKey: 'uid' // å£°æ˜è‡ªå·±ï¼ˆmessageï¼‰çš„å¤–é”®æ˜¯ uid &#125;); let data = await MessageModel.findByPk(1, &#123; include: [UserModel] // è¡¨è¿°æŸ¥å‡ºçš„ message è®°å½•ä¸­åŒ…å«æœ‰å¯¹åº”çš„ user &#125;); console.log(` ç•™è¨€idï¼š$&#123;data.id&#125; ç•™è¨€äººåç§°ï¼š$&#123;data.User.username&#125; ç•™è¨€å†…å®¹ï¼š$&#123;data.content&#125; `);&#125;)(); HasManyè¿™æ¬¡æˆ‘ä»¬æ¢ä¸ªè§’åº¦ï¼Œæ¥é€šè¿‡æŸä¸ªç”¨æˆ·æŸ¥æ‰¾ä»–/å¥¹æ‰€æœ‰çš„ç•™è¨€ã€‚ç¨å¾®æƒ³ä¸€ä¸‹ï¼Œä¸€ä¸ªç”¨æˆ·æ˜¯å¯ä»¥å‘å¸ƒå¤šæ¡ç•™è¨€çš„ï¼Œæ‰€ä»¥ä» users è§’åº¦æ¥è®²ï¼Œè·Ÿ message æ˜¯ä¸€å¯¹å¤šçš„å…³ç³»ã€‚è€Œ sequelize ä¹Ÿæä¾›äº†å¤„ç†è¿™ç§å…³ç³»çš„æ–¹æ³•ï¼Œé‚£å°±æ˜¯ HasManyã€‚ç›´æ¥ä¸Šä»£ç ï¼š123456789101112131415161718(async () =&gt; &#123; // users æ‹¥æœ‰ UserModel.hasMany(MessageModel, &#123; foreignKey: 'uid', &#125;); let data = await UserModel.findByPk(3, &#123; include: [MessageModel] &#125;); console.log(` idä¸º $&#123;data.id&#125; çš„ç•™è¨€äºº $&#123;data.username&#125; çš„ç•™è¨€å†…å®¹ï¼š `); data.Messages.forEach(m =&gt; &#123; console.log(` $&#123;m.content&#125;`); &#125;);&#125;)(); ç‰ˆæœ¬å®‰è£…çš„ sequelize å’Œ mysql2 çš„ç‰ˆæœ¬ä¸ºï¼š1234"dependencies": &#123; "mysql2": "^1.6.5", "sequelize": "^5.3.1"&#125;]]></content>
      <categories>
        <category>åç«¯</category>
        <category>Node</category>
        <category>Sequelize</category>
      </categories>
      <tags>
        <tag>Node</tag>
        <tag>SQL</tag>
        <tag>Sequelize</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Sequelizeæ¡†æ¶å…¥é—¨]]></title>
    <url>%2Fposts%2F1183%2F</url>
    <content type="text"><![CDATA[å‰è¨€å¹³å¸¸å†™å‰ç«¯é¡¹ç›®æ—¶ï¼Œä¸ºäº†æ›´æ–¹ä¾¿çš„è·å–â€œçœŸå®â€çš„åŠ¨æ€æ•°æ®ï¼Œä¹Ÿä¼šæ–°å»ºå‡ ä¸ªæ•°æ®åº“è¡¨æ¥ä½œæ”¯æ’‘ã€‚ä½†æ¯æ¯éœ€è¦ç”¨Nodeæ­å»ºåç«¯æœåŠ¡æ—¶ï¼Œæ•°æ®åº“çš„æŸ¥è¯¢çœŸçš„è®©äººå¤´ç–¼ï¼Œéš¾å€’ä¸éš¾ï¼Œå°±æ˜¯ç‰¹åˆ«ç¹çï¼Œå³ä½¿å°è£…äº†ä¸ªæŸ¥è¯¢sqlç”¨å·¥å…·æ¨¡å—ï¼Œåœ¨é‡åˆ°ç¨å¤æ‚çš„æŸ¥è¯¢è¯­å¥æ—¶è¿˜æ˜¯å¾—å†™å®Œæ•´SQLã€‚ æˆ‘åˆæ˜¯ä¸ªæ¯”è¾ƒæ‡’çš„äººï¼Œåœ¨ç»å†äº†å‡ æ¬¡ç—›è‹¦æŠ˜ç£¨åï¼Œæˆ‘å¼€å§‹googleæœ‰æ²¡æœ‰è°å¸®æˆ‘ä»¬è§£å†³äº†æ•°æ®åº“è¡¨å­—æ®µä¸å¯¹è±¡ä¹‹é—´çš„å…³ç³»æ˜ å°„ã€‚ä¹Ÿå°±æ˜¯æˆ‘ä»¬é€šå¸¸æ‰€è¯´çš„ ORM ã€‚ç»è¿‡å‡ ç•ªæœç´¢ï¼Œæˆ‘æ‰¾åˆ°äº† Sequelize æ¡†æ¶ã€‚åœ¨äº†è§£å®ƒä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆç®€å•ä»‹ç»ä¸‹ä»€ä¹ˆæ˜¯ ORM ï¼šï¼ˆæˆ‘çŸ¥é“ä¸å°‘äººæ˜¯ä¸ä¼šç‚¹å‡»ä¸Šé¢é“¾æ¥æŸ¥çœ‹è¯¦æƒ…çš„ :)ï¼‰ ä»‹ç»ORMORM å…¨ç§° Object Relational Mappingï¼Œç¿»è¯‘æˆä¸­æ–‡å°±æ˜¯ å¯¹è±¡å…³ç³»æ˜ å°„ ã€‚æ˜¯å¯¹ SQL æŸ¥è¯¢è¯­å¥çš„å°è£…ï¼Œè®©æˆ‘ä»¬å¯ä»¥ç”¨é¢å‘å¯¹è±¡çš„æ–¹å¼æ“ä½œæ•°æ®åº“ï¼Œæ¥æ›´åŠ ä¼˜é›…çš„ç”Ÿæˆå®‰å…¨ã€å¯ç»´æŠ¤çš„ SQL ä»£ç ã€‚è¯´ç™½äº†ï¼Œå°±æ˜¯é€šè¿‡å¯¹è±¡æ¥æ˜ å°„å’Œæ“ä½œæ•°æ®åº“ã€‚ Sequelizeè€Œä»Šå¤©çš„ä¸»è§’ Sequelize åˆ™æ˜¯ä¸€ä¸ªåŸºäº promise çš„ Node.js å¼‚æ­¥ORMæ¡†æ¶ã€‚å®ƒèƒ½å¤Ÿæ”¯æŒå¤šç§æ•°æ®åº“ï¼ŒåŒ…å«ä½†ä¸é™äº PostgreSQL, MySQL å’Œ MSSQL ã€‚ å®˜ç½‘åœ°å€ï¼šhttp://docs.sequelizejs.com/githubï¼šhttps://github.com/sequelize/sequelize ä½¿ç”¨èµ·æ­¥åœ¨æœ¬åœ°æ–°å»ºæ–‡ä»¶å¤¹ï¼Œä¾‹å¦‚ sequelize-demo ï¼Œç„¶ååœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹è¿è¡Œå‘½ä»¤è¡Œå‘½å npm init -yã€‚è¿è¡Œå®Œè¯¥å‘½ä»¤åé¡¹ç›®treeå¦‚ä¸‹ï¼š æ¥ç€ä½¿ç”¨ npm å®‰è£… sequelizeï¼š1npm i sequelize è¿æ¥æ•°æ®åº“å®Œæˆä¸Šè¿°æ­¥éª¤ä»¥åï¼Œæˆ‘ä»¬åœ¨æ ¹ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª app.js æ–‡ä»¶æ¥ä½¿ç”¨ sequelize ï¼Œä»£ç å¦‚ä¸‹ï¼š 12345678910111213141516171819// å¯¼å…¥ sequelizeconst Sequelize = require('sequelize');// æ–°å»º sequelize å®ä¾‹const sequelize = new Sequelize('æ•°æ®åº“åç§°', 'æ•°æ®åº“ç”¨æˆ·å', 'æ•°æ®åº“å¯†ç ', &#123; // å…¶ä»–çš„æ•°æ®åº“è¿æ¥é…ç½® host: '127.0.0.1', // ä¸»æœºï¼Œé»˜è®¤ localhost port: 8889, // ç«¯å£ï¼Œé»˜è®¤ 3306 dialect: 'mysql', // æ•°æ®åº“ç±»å‹ï¼Œ é»˜è®¤ mysql ã€å¿…å¡«ã€‘ timezone: '+08:00' // æ—¶åŒºï¼Œé»˜è®¤ä¼šæ ¹æ®ç³»ç»Ÿå½“å‰æ‰€åœ¨æ—¶åŒºè¿›è¡Œè®¾ç½®ï¼Œæ ¼å¼ï¼š'+08:00' æˆ–å­—ç¬¦ä¸²æ ¼å¼ 'Asia/Shanghai' å‚è€ƒï¼šhttp://php.net/manual/zh/timezones.php ã€ä½¿ç”¨åœºæ™¯ï¼šä¸€èˆ¬æƒ…å†µä¸‹é»˜è®¤é…ç½®å°±å¥½ï¼Œä½†å¦‚æœæœåŠ¡å™¨åœ¨ç¾å›½ï¼Œä½†æƒ³å­˜å‚¨ä¸­å›½æ—¶åŒºï¼Œå°±éœ€è¦æ˜ç¡®æŒ‡å®š '+08:00' äº†ã€‘&#125;);// æµ‹è¯•æ•°æ®åº“çš„è¿æ¥ï¼ˆè¿”å›çš„æ˜¯ä¸€ä¸ªPromiseï¼Œè®°å¾— catch æ•è·é”™è¯¯ï¼‰try &#123; sequelize.authenticate(); console.log('æ•°æ®åº“è¿æ¥æˆåŠŸ!');&#125; catch (err) &#123; console.log('è¿æ¥å¤±è´¥'); &#125; æ­¤æ—¶ä½ å¯ä»¥å°è¯•è¿è¡Œ app.js æ–‡ä»¶ï¼Œå³åœ¨æ ¹ç›®å½•ä¸‹è¿è¡Œ node app.js å‘½ä»¤ã€‚æ­£å¸¸æƒ…å†µä¸‹ä½ ä¼šæ”¶åˆ°æŠ¥é”™ä¿¡æ¯ï¼Œç±»ä¼¼è¿™æ ·ï¼š æ„æ€æ˜¯ä½ éœ€è¦å®‰è£… mysql2 ï¼Œè¿™æ˜¯å› ä¸º sequelize è™½ç„¶ä¾èµ–äº† mysql2 ï¼Œä½†å´æ²¡æœ‰å†…ç½®å®‰è£…ã€‚æ‰€ä»¥æ¥ä¸‹æ¥ä½ å¾—åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹è¿è¡Œå¦‚ä¸‹ä»£ç æ¥å®‰è£… mysql2ï¼š1npm i mysql2 å®‰è£…å®Œæ¯•åå†æ¬¡è¿è¡Œ app.js ï¼Œå°±èƒ½è¿æ¥æ•°æ®åº“æˆåŠŸäº†ï¼š123$ node app.jsExecuting (default): SELECT 1+1 AS resultæ•°æ®åº“è¿æ¥æˆåŠŸ! å®šä¹‰æ¨¡å‹ï¼ˆModelï¼‰ æ‰€è°“æ¨¡å‹ï¼Œå°±æ˜¯ç”¨æ¥æè¿°æ•°æ®åº“è¡¨å­—æ®µä¿¡æ¯çš„å¯¹è±¡ï¼Œæ¯ä¸€ä¸ªæ¨¡å‹å¯¹è±¡è¡¨ç¤ºæ•°æ®åº“ä¸­çš„ä¸€ä¸ªè¡¨ï¼Œåç»­å¯¹æ•°æ®åº“çš„æ“ä½œéƒ½æ˜¯ç”¨è¿‡å¯¹åº”çš„æ¨¡å‹å¯¹è±¡æ¥å®Œæˆçš„ã€‚ æ¥ä¸‹æ¥æˆ‘ä»¬å°±è¦å®šä¹‰æ•°æ®çš„æ¨¡å‹äº†ã€‚åœ¨æ­¤ä¹‹å‰ï¼Œä½ è¿˜éœ€è¦åšä¸€äº›å‡†å¤‡å·¥ä½œã€‚ä»¥æˆ‘ä¸ºä¾‹ï¼Œæˆ‘åœ¨æ•°æ®åº“ä¸­æ–°å»ºäº†ä¸€ä¸ª users è¡¨ï¼Œè¡¨å­—æ®µå’Œç±»å‹å¦‚ä¸‹ï¼š ç„¶åå®šä¹‰å‡ºå¯¹åº”æ­¤è¡¨çš„æ•°æ®æ¨¡å‹ï¼š123456789101112131415161718192021222324252627// å®šä¹‰æ¨¡å‹ï¼ˆç”¨å¯¹è±¡çš„æ–¹å¼æ¥æè¿°æ•°æ®åº“ä¸­çš„è¡¨ï¼‰const UserModel = sequelize.define('User', &#123; // æè¿°è¡¨ä¸­å¯¹åº”çš„å­—æ®µä¿¡æ¯ id: &#123; // æ¯ä¸€ä¸ªå­—æ®µçš„ä¿¡æ¯ type: Sequelize.INTEGER(11), // å­—æ®µç±»å‹ allowNull: false, // ä¸å…è®¸ä¸ºç©º autoIncrement: true, // idè‡ªå¢é•¿ primaryKey: true, // è®¾ä¸ºä¸»é”® &#125;, username: &#123; type: Sequelize.STRING(50), allowNull: false, defaultValue: '', // è®¾ç½®å­—æ®µé»˜è®¤å€¼ &#125;, age: &#123; type: Sequelize.TINYINT(3), allowNull: false, &#125;, gender: &#123; type: Sequelize.ENUM(['men', 'women', 'other']), // è¿™æ˜¯ä¸ªæšä¸¾ç±»å‹å­—æ®µï¼Œè¡¨ç¤ºæ€§åˆ«åªèƒ½ä¸ºâ€œç”·â€ï¼Œâ€œå¥³â€ï¼Œâ€œä¿å¯†â€ä¸­çš„å…¶ä¸­ä¸€ä¸ªï¼Œä¼ å…¥ ENUM ä¸­çš„å¯ä»¥æ˜¯é€—å·éš”å¼€çš„å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸ªæ•°ç»„ï¼šENUM(['men', 'women']) or ENUM('men', 'women', 'other') allowNull: false, defaultValue: 'men', &#125;,&#125;, &#123; // ç”¨æ¥è®¾ç½®å­—æ®µä»¥å¤–çš„å…¶ä»–ä¿¡æ¯ timestamps: false, // æ˜¯å¦ç»™æ¯æ¡è®°å½•æ·»åŠ  createAt å’Œ updateAt å­—æ®µï¼Œå¹¶åœ¨æ·»åŠ æ–°æ•°æ®å’Œæ›´æ–°æ•°æ®çš„æ—¶å€™è‡ªåŠ¨è®¾ç½®è¿™ä¸¤ä¸ªå­—æ®µçš„å€¼ï¼Œé»˜è®¤ä¸º true tableName: 'users', // è¯¥æ¨¡å‹æ˜ å°„çš„çœŸå®è¡¨å&#125;); æ³¨æ„ï¼šåœ¨å®šä¹‰æ¨¡å‹æ—¶ï¼Œå­—æ®µåç§°å¯ä»¥å’Œæ•°æ®åº“è¡¨ä¸­çš„å­—æ®µåç§°ä¸ç›¸åŒï¼Œä½†å¦‚æœä½ æƒ³å¦èµ·ä¸€ä¸ªåˆ«åï¼Œåˆ™éœ€è¦åœ¨å­—æ®µä¿¡æ¯è®¾ç½®ä¸­åŠ å…¥ field æ¥å…³è”çœŸæ­£çš„è¡¨å­—æ®µåç§°ã€‚ä¾‹å¦‚ï¼š12345userName: &#123; // &lt;-- ä½ èµ·çš„åˆ«å type: Sequelize.STRING(50), allowNull: false, field: 'username', // å…³è”æ•°æ®åº“è¡¨ä¸­çœŸæ­£çš„å­—æ®µå&#125;, æ•°æ®æŸ¥è¯¢æŸ¥è¯¢æ‰€æœ‰å®Œæˆè¡¨æ¨¡å‹çš„å®šä¹‰ä»¥åï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ findAll æ¥æŸ¥è¯¢è¡¨æ•°æ®äº†ï¼š1234567891011// æŸ¥è¯¢ users è¡¨ä¸­æ‰€æœ‰æ•°æ®UserModel.findAll().then(users =&gt; &#123; // è¿”å›çš„ users æ˜¯ä¸ªæ•°ç»„ users.forEach(user =&gt; &#123; // å¾ªç¯çš„æ¯ä¸ª user éƒ½æ˜¯ä¸ª Model å®ä¾‹ // è¯¥ Model å®ä¾‹åŒ…å« get æ–¹æ³•ï¼Œæˆ‘ä»¬èƒ½é€šè¿‡å®ƒè·å– username console.log(user.get('username')); &#125;);&#125;).catch(err =&gt; &#123; console.log(err);&#125;); å†™å®Œä¸Šé¢ä»£ç åï¼Œå†æ¬¡è¿è¡Œ app.js ï¼Œä½ å°±åº”è¯¥èƒ½å¤ŸæŸ¥è¯¢åˆ°æ•°æ®äº†~p.s. æŸ¥è¯¢ä¹‹å‰åˆ«å¿˜äº†åœ¨æ•°æ®åº“ä¸­æ’å…¥ä¸€äº›æ•°æ®ã€‚ æ¡ä»¶æŸ¥è¯¢é™¤äº†æŸ¥è¯¢å…¨éƒ¨æ•°æ®ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ where æŸ¥è¯¢æŒ‡å®šçš„æ•°æ®ï¼š12345678910// è¿™æ¬¡ä¸ç”¨ .then å½¢å¼ï¼Œè€Œé‡‡ç”¨ async + await(async function() &#123; // æŸ¥æ‰¾ username ä¸º 'æå…ƒèŠ³' çš„å”¯ä¸€æ•°æ® let res = await UserModel.findOne(&#123; where: &#123; username: 'æå…ƒèŠ³' &#125; &#125;) console.dir(res);&#125;)(); è€Œç±»ä¼¼å¤§äºå°äºè¿™æ ·çš„æŸ¥è¯¢ä¼šç¨æ˜¾éº»çƒ¦ä¸€ç‚¹ã€‚ä¾‹å¦‚æˆ‘ä»¬æ¥ç¼–å†™æŸ¥è¯¢ users è¡¨ä¸­å¹´é¾„å¤§äºæŸä¸ªå€¼çš„ä»£ç ï¼š123456789101112(async function () &#123; // æŸ¥æ‰¾æ»¡è¶³ age &gt; 24 çš„æ‰€æœ‰æ•°æ® let res = await UserModel.findAll(&#123; where: &#123; age: &#123; [Sequelize.Op.gt]: 24, &#125; &#125; &#125;) // æ‰“å°å‡ºç¬¦åˆæ¡ä»¶çš„ç”¨æˆ·çš„ username console.dir(res.map(r =&gt; r.get('username')));&#125;)(); å¤šæ¡ä»¶æŸ¥è¯¢é™¤äº†å•ä¸€æ¡ä»¶æŸ¥è¯¢ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡åµŒå¥— or æˆ– and è¿ç®—ç¬¦çš„é›†åˆæ¥ç”Ÿæˆå¤æ‚æ¡ä»¶è¯­å¥ã€‚ä¾‹å¦‚æˆ‘ä»¬æ¥æŸ¥è¯¢ å¹´é¾„å°äº25 æˆ–è€… æ€§åˆ«ä¸ºç”· çš„æ‰€æœ‰æ•°æ®ï¼š1234567891011121314151617181920(async function () &#123; let &#123; Op &#125; = Sequelize; // æŸ¥æ‰¾æ»¡è¶³ age &lt; 25 æˆ– gender = 'men' çš„æ‰€æœ‰æ•°æ® let res = await UserModel.findAll(&#123; where: &#123; [Op.or]: [ &#123; age: &#123; [Sequelize.Op.lt]: 25, &#125; &#125;, &#123; gender: 'men' &#125; ] &#125; &#125;) // æ‰“å°å‡ºç¬¦åˆæ¡ä»¶çš„ç”¨æˆ·çš„ username console.dir(res.map(r =&gt; r.get('username')));&#125;)(); ä»ä¸Šé¢å‡ ç»„æŸ¥è¯¢è¯­å¥æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œwhere é€šå¸¸ç”¨ attribute: value é”®å€¼å¯¹è·å–ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­ value å¯ä»¥æ˜¯åŒ¹é…ç­‰å¼çš„æ•°æ®æˆ–å…¶ä»–è¿ç®—ç¬¦çš„é”®å€¼å¯¹è±¡ã€‚æ›´å¤šæŸ¥è¯¢è¯­æ³•å¯åœ¨ä¸‹æ–¹é“¾æ¥æŸ¥è¯¢ï¼š Sequelize - Querying Sequelize - Queryingï¼ˆä¸­æ–‡æ–‡æ¡£ï¼‰ æŸ¥è¯¢é™åˆ¶ limit, offsetæˆ‘ä»¬è¿˜èƒ½é™åˆ¶æŸ¥è¯¢çš„æ•°é‡ï¼š1234567(async () =&gt; &#123; // åªä»è¡¨ä¸­æŸ¥è¯¢ä¸¤æ¡æ•°æ® let res = await UserModel.findAll(&#123; limit: 2, &#125;); console.log(res.map(r =&gt; r.get('username')));&#125;)(); è·³è¿‡å‰2æ¡æ•°æ®ï¼š123456(async () =&gt; &#123; let res = await UserModel.findAll(&#123; offset: 2, &#125;); console.log(res.map(r =&gt; r.get('username')));&#125;)(); è·³è¿‡å‰2æ¡æ•°æ®å¹¶è·å–3æ¡ï¼š1234567(async () =&gt; &#123; let res = await UserModel.findAll(&#123; offset: 2, limit: 3 &#125;); console.log(res.map(r =&gt; r.get('username')));&#125;)(); æŸ¥è¯¢æ’åºæˆ‘ä»¬è¿˜å¯ä»¥å°†æŸ¥è¯¢æ•°æ®è¿›è¡Œæ’åºï¼š123456789(async () =&gt; &#123; // æŸ¥è¯¢çš„ç»“æœæŒ‰å¹´é¾„é«˜åˆ°ä½æ’åº let res = await UserModel.findAll(&#123; order: [ ['age', 'desc'] ] &#125;); console.log(res.map(r =&gt; r.get('username')));&#125;)(); æŸ¥è¯¢è®°å½•æœ‰äº›æ—¶å€™æˆ‘ä»¬å¯èƒ½åªæ˜¯æƒ³å•çº¯çš„æŸ¥è¯¢æ•°æ®è¡¨ä¸­æœ‰å¤šå°‘æ¡æ•°æ®ï¼Œè¿™æ—¶å¯ä»¥ç”¨ count() æ–¹æ³•ï¼šjs(async () =&gt; { // æŸ¥è¯¢ users è¡¨ä¸­æœ‰å¤šå°‘æ¡æ•°æ® let count = await UserModel.count(); console.log(count);})();12345678910æˆ–è€…ä½¿ç”¨ `findAndCountAll()` æ–¹æ³•åœ¨æ•°æ®åº“ä¸­æœç´¢å¤šæ¡è®°å½•ï¼Œå®ƒèƒ½è¿”å›ç»™æˆ‘ä»¬**æ•°æ®å’Œæ€»è®¡æ•°**ï¼š```js(async () =&gt; &#123; // æŸ¥è¯¢ users è¡¨ä¸­çš„å‰ä¸¤æ¡æ•°æ®ï¼Œå¹¶è¿”å› users è¡¨ä¸­æ€»è®°å½•æ•° let res = await UserModel.findAndCountAll(&#123; limit: 2, &#125;); console.log(res);&#125;)(); æŸ¥è¯¢ç»“æœçš„æ ¼å¼å¦‚ä¸‹ï¼š123456&#123; count: æ€»è®°å½•æ•°, rows: [ &#123;ç¬¬ä¸€æ¡è®°å½•&#125;, &#123;ç¬¬äºŒæ¡è®°å½•&#125;, ... ]&#125; è¿™ä¸ªæ–¹æ³•å¯¹æˆ‘ä»¬ä¸ºå‰ç«¯æä¾›åˆ†é¡µåŠŸèƒ½å¾ˆæ–¹ä¾¿ï¼Œcountæ˜¯ç¬¦åˆæ¡ä»¶çš„æ€»è®°å½•æ•°ï¼Œè€Œrowsä¸­å¯ä»¥æ˜¯å½“å‰é¡µæ•°ä¸‹çš„è®°å½•æ•°ã€‚ æ•°æ®å¢åŠ æ—¢ç„¶èƒ½æŸ¥ï¼Œå½“ç„¶å°±èƒ½å¾€æ•°æ®åº“æ’å…¥æ•°æ®ï¼Œåœ¨ sequelize ä¸­ï¼Œæ’å…¥æ•°æ®å¯ä»¥ç”¨ build æ–¹æ³•ï¼š123456789101112131415// æ–°å»ºä¸€æ¡æ•°æ®ï¼ˆé™¤äº†buildå¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡ new UserModel(&#123;&#125;) çš„å½¢å¼åˆ›å»ºä¸€æ¡è®°å½•ï¼‰let wangwu = UserModel.build(&#123; username: 'ç‹äº”', age: 22, gender: 'men'&#125;);// **æ³¨æ„ï¼š** é€šè¿‡ new æˆ– build å‡ºæ¥çš„å¯¹è±¡ä¸ä¼šç«‹å³åŒæ­¥åˆ°æ•°æ®åº“ä¸­ï¼Œ// éœ€è¦ä½¿ç”¨åç»­çš„ä¸€äº›æ–¹æ³•ï¼ˆä¾‹å¦‚ save ï¼‰æ¥åŒæ­¥// ä½ è¿˜å¯ä»¥ä¿®æ”¹è¿™æ¡æ•°æ®wangwu.set('age', 25);// æœ€ååˆ«å¿˜äº†ä¿å­˜æ‰èƒ½æˆåŠŸæ’å…¥æ•°æ®wangwu.save(); å¦‚æœè¿è¡Œåæ²¡æŠ¥é”™ï¼Œå»æ•°æ®åº“åˆ·æ–°è¡¨å§ï¼Œæ•°æ®å·²ç»æˆåŠŸçš„æ’å…¥åˆ° users è¡¨äº†~ æ•°æ®ä¿®æ”¹å®é™…å¼€å‘ä¸­ä¿®æ”¹æ•°æ®æ˜¯å†å¹³å¸¸ä¸è¿‡çš„äº†ï¼Œæ¯”å¦‚ä¿®æ”¹ä¸€ç¯‡åšå®¢ï¼Œæ›´æ–°è‡ªå·±çš„ä¸ªäººä¿¡æ¯â€¦ åœ¨ sequelize ä¸­ï¼Œæˆ‘ä»¬è¿™æ ·ä¿®æ”¹æ•°æ®ï¼š1234567// æŸ¥è¯¢idä¸º2çš„ç”¨æˆ·æ•°æ®UserModel.findByPk(2).then(user =&gt; &#123; // æŸ¥è¯¢åˆ°ä»¥åä¿®æ”¹å…¶ age å­—æ®µä¸º 99 user.set('age', 99); // ä¿®æ”¹ååˆ«å¿˜äº†ä¿å­˜ user.save();&#125;); æ³¨æ„ï¼š åœ¨ Sequelize v5 ç‰ˆæœ¬ä»¥å‰ï¼Œé€šè¿‡idæŸ¥è¯¢æ•°æ®çš„æ–¹æ³•åä¸º findById ï¼Œä» v5 ç‰ˆæœ¬å¼€å§‹ï¼Œæ›´æ”¹ä¸º findByPk ã€‚å…¶å®æƒ³ä¸€ä¸‹è¿™æ ·éå¸¸åˆç†ï¼Œä»¥å‰çš„ findById å¤ªä¸»è§‚äº†ï¼Œè¦çŸ¥é“ä¸ä¸€å®šæ¯ä¸ªè¡¨çš„ä¸»é”®éƒ½ä¸º id ï¼Œæ‰€ä»¥æ›´æ”¹ä¸º findByPk åï¼Œè¡¨ç¤ºé€šè¿‡ä¸»é”®ï¼ˆPk -&gt; PrimaryKeyï¼‰æŸ¥æ‰¾ï¼Œsequelize ä¼šè‡ªåŠ¨é€šè¿‡ä½ åœ¨åˆ›å»ºè¡¨æ¨¡å‹æ—¶å®šä¹‰çš„ä¸»é”®å­—æ®µæŸ¥æ‰¾ã€‚ä¾‹å¦‚æˆ‘ä»¬ä¸€å¼€å§‹åœ¨å®šä¹‰ User æ¨¡å‹æ—¶ï¼Œå°±ç»™ id å­—æ®µæ·»åŠ äº† primaryKey: true, å±æ€§ã€‚ é™¤äº† set + update æ¥æ›´æ–°æ•°æ®ä»¥å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ update() æ–¹æ³•åšç›¸åŒçš„äº‹æƒ…ï¼š12345678(async function () &#123; // å…ˆæŸ¥è¯¢ let xiaohong = await UserModel.findByPk(3); // updateæ–¹æ³•ç›¸å½“äº set + save await xiaohong.update(&#123; age: 22, &#125;);&#125;)(); æ•°æ®åˆ é™¤å¦‚æœæƒ³è¦åˆ é™¤ä¸€æ¡æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨ destroy æ–¹æ³•ï¼š123456(async function () &#123; // å…ˆæŸ¥è¯¢ let wangwu = await UserModel.findByPk(4); // å¯¹æŸ¥è¯¢åˆ°çš„æ•°æ®è¿›è¡Œåˆ é™¤ wangwu.destroy();&#125;)(); å®Œæ•´ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194const Sequelize = require('sequelize');const sequelize = new Sequelize("miaov", "root", "root", &#123; // å…¶ä»–çš„æ•°æ®åº“è¿æ¥é…ç½® host: "127.0.0.1", // ä¸»æœº port: 8889, // ç«¯å£ dialect: "mysql" // æ•°æ®åº“ç±»å‹&#125;);// æµ‹è¯•è¿æ¥try &#123; sequelize.authenticate(); console.log('æ•°æ®åº“è¿æ¥æˆåŠŸ!');&#125; catch (err) &#123; console.log('è¿æ¥å¤±è´¥'); &#125;// å®šä¹‰æ¨¡å‹ï¼ˆç”¨å¯¹è±¡çš„æ–¹å¼æ¥æè¿°æ•°æ®åº“ä¸­çš„è¡¨ï¼‰const UserModel = sequelize.define('User', &#123; // å®šä¹‰å­—æ®µ id: &#123; // å¯¹å­—æ®µå±æ€§çš„å®šä¹‰ type: Sequelize.INTEGER(11), // å­—æ®µç±»å‹ allowNull: false, // ä¸å…è®¸ä¸ºç©º autoIncrement: true, // idè‡ªå¢é•¿ primaryKey: true, // è®¾ä¸ºä¸»é”® &#125;, username: &#123; type: Sequelize.STRING(50), allowNull: false, defaultValue: '', // è®¾ç½®å­—æ®µé»˜è®¤å€¼ &#125;, age: &#123; type: Sequelize.TINYINT(3), allowNull: false, &#125;, gender: &#123; type: Sequelize.ENUM(['men', 'women', 'other']), allowNull: false, defaultValue: 'men', &#125;,&#125;, &#123; // ç”¨æ¥è®¾ç½®å­—æ®µä»¥å¤–çš„å…¶ä»–ä¿¡æ¯ timestamps: false, // æ˜¯å¦ç»™æ¯æ¡è®°å½•æ·»åŠ  createAt å’Œ updateAt å­—æ®µï¼Œå¹¶åœ¨æ·»åŠ æ–°æ•°æ®å’Œæ›´æ–°æ•°æ®çš„æ—¶å€™è‡ªåŠ¨è®¾ç½®è¿™ä¸¤ä¸ªå­—æ®µçš„å€¼ï¼Œé»˜è®¤ä¸º true tableName: 'users', // è¯¥æ¨¡å‹æ˜ å°„çš„çœŸå®è¡¨å&#125;);// ä¸ºäº†æ–¹ä¾¿å­¦ä¹ ï¼Œä½¿ç”¨ä¸€ä¸ªå‡½æ•°åŒ…è£¹ä¸€ç»„ä»£ç // è¿™æ ·ä»£ç å°±ä¸ä¼šè¿è¡Œäº†ï¼Œä»è€Œé¿å…å¹²æ‰°å…¶ä»–ä»£ç çš„æ‰§è¡Œ// å¦‚æœæƒ³è¦æ­¤å‡½æ•°ä¸­ä»£ç æ‰§è¡Œï¼Œæ·»åŠ  `()` å°±å¥½// (function()&#123;...&#125;)(); &lt;-- åŠ ä¸Šæ‹¬å·(function() &#123; // æŸ¥è¯¢ users è¡¨ä¸­æ‰€æœ‰æ•°æ® UserModel.findAll().then(users =&gt; &#123; // è¿”å›çš„ users æ˜¯ä¸ªæ•°ç»„ users.forEach(user =&gt; &#123; // å¾ªç¯çš„æ¯ä¸ª user éƒ½æ˜¯ä¸ª Model å®ä¾‹ // è¯¥ Model å®ä¾‹åŒ…å« get æ–¹æ³•ï¼Œæˆ‘ä»¬èƒ½é€šè¿‡å®ƒè·å– username console.log(user.get('username')); &#125;); &#125;).catch(err =&gt; &#123; console.log(err); &#125;);&#125;);(async function() &#123; // æ–°å»ºä¸€æ¡æ•°æ®ï¼ˆé™¤äº†buildå¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡ new UserModel() çš„å½¢å¼åˆ›å»ºä¸€æ¡è®°å½•ï¼‰ let liyuanfang = UserModel.build(&#123; username: 'æå…ƒèŠ³', age: 09, gender: 'men' &#125;); // ä¿®æ”¹æ•°æ® liyuanfang.set('age', 25); // åˆ«å¿˜äº†ä¿å­˜ await liyuanfang.save();&#125;);(function() &#123; // æŸ¥è¯¢idä¸º2çš„ç”¨æˆ·æ•°æ® UserModel.findByPk(2).then(user =&gt; &#123; // æŸ¥è¯¢åˆ°ä»¥åä¿®æ”¹å…¶ age å­—æ®µä¸º 99 user.set('age', 99); // ä¿®æ”¹ååˆ«å¿˜äº†ä¿å­˜ user.save(); &#125;);&#125;);(async function() &#123; // å…ˆæŸ¥è¯¢ let xiaohong = await UserModel.findByPk(3); // updateæ–¹æ³•ç›¸å½“äº set + save await xiaohong.update(&#123; age: 18 &#125;);&#125;);(async function () &#123; // å…ˆæŸ¥è¯¢ let wangwu = await UserModel.findByPk(4); // å¯¹æŸ¥è¯¢åˆ°çš„æ•°æ®è¿›è¡Œåˆ é™¤ wangwu.destroy();&#125;);(async function() &#123; // æŸ¥æ‰¾ username ä¸º 'æå…ƒèŠ³' çš„å”¯ä¸€æ•°æ® let res = await UserModel.findOne(&#123; where: &#123; username: 'æå…ƒèŠ³' &#125; &#125;) console.dir(res);&#125;);(async function () &#123; // æŸ¥æ‰¾æ»¡è¶³ age &gt; 24 çš„æ‰€æœ‰æ•°æ® let res = await UserModel.findAll(&#123; where: &#123; age: &#123; [Sequelize.Op.gt]: 24, &#125; &#125; &#125;) // æ‰“å°å‡ºç¬¦åˆæ¡ä»¶çš„ç”¨æˆ·çš„ username console.dir(res.map(r =&gt; r.get('username')));&#125;);(async function () &#123; let &#123; Op &#125; = Sequelize; // æŸ¥æ‰¾æ»¡è¶³ age &lt; 25 æˆ– gender = 'men' çš„æ‰€æœ‰æ•°æ® let res = await UserModel.findAll(&#123; where: &#123; [Op.or]: [ &#123; age: &#123; [Sequelize.Op.lt]: 25, &#125; &#125;, &#123; gender: 'men' &#125; ] &#125; &#125;) // æ‰“å°å‡ºç¬¦åˆæ¡ä»¶çš„ç”¨æˆ·çš„ username console.dir(res.map(r =&gt; r.get('username')));&#125;);(async () =&gt; &#123; // åªä»è¡¨ä¸­æŸ¥è¯¢ä¸¤æ¡æ•°æ® let res = await UserModel.findAll(&#123; limit: 2, &#125;); console.log(res.map(r =&gt; r.get('username')));&#125;);(async () =&gt; &#123; // è·³è¿‡å‰2æ¡æ•°æ® let res = await UserModel.findAll(&#123; offset: 2, &#125;); console.log(res.map(r =&gt; r.get('username')));&#125;);(async () =&gt; &#123; // è·³è¿‡å‰2æ¡æ•°æ®å¹¶è·å–3æ¡ let res = await UserModel.findAll(&#123; offset: 2, limit: 3 &#125;); console.log(res.map(r =&gt; r.get('username')));&#125;);(async () =&gt; &#123; // æŸ¥è¯¢çš„ç»“æœæŒ‰å¹´é¾„é«˜åˆ°ä½æ’åº let res = await UserModel.findAll(&#123; order: [ ['age', 'desc'] ] &#125;); console.log(res.map(r =&gt; r.get('username')));&#125;);(async () =&gt; &#123; // æŸ¥è¯¢çš„ç»“æœæŒ‰å¹´é¾„é«˜åˆ°ä½æ’åº let count = await UserModel.count(); console.log(count);&#125;);(async () =&gt; &#123; // æŸ¥è¯¢ users è¡¨ä¸­çš„å‰ä¸¤æ¡æ•°æ®ï¼Œå¹¶è¿”å› users è¡¨ä¸­æ€»è®°å½•æ•° let res = await UserModel.findAndCountAll(&#123; limit: 2, &#125;); console.log(res);&#125;)(); ç‰ˆæœ¬å®‰è£…çš„ sequelize å’Œ mysql2 çš„ç‰ˆæœ¬ä¸ºï¼š1234"dependencies": &#123; "mysql2": "^1.6.5", "sequelize": "^5.3.1"&#125; èµ„æº Sequelize Docs Sequelize Docs ä¸­æ–‡ç‰ˆ]]></content>
      <categories>
        <category>åç«¯</category>
        <category>Node</category>
        <category>Sequelize</category>
      </categories>
      <tags>
        <tag>Node</tag>
        <tag>SQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[animationåŠ¨ç”»ï¼ˆäºŒï¼‰]]></title>
    <url>%2Fposts%2F20298%2F</url>
    <content type="text"><![CDATA[ä¼ é€é—¨ animationåŠ¨ç”»ï¼ˆä¸€ï¼‰ animationåŠ¨ç”»ï¼ˆäºŒï¼‰ è€è§„çŸ©ï¼ŒäºŒç³»åˆ—æ¥è°ˆè°ˆå…·ä½“æ¯ä¸ªåŠ¨ç”»å±æ€§çš„å«ä¹‰å’Œç”¨æ³•ï¼Œç®—æ˜¯ä¸€ä¸ªå¯¹çŸ¥è¯†ç‚¹çš„æ€»ç»“å§ã€‚ animation-name åŠ¨ç”»åç§°CSSè¯­æ³•ï¼šanimation-name: shrink ç”¨æ¥è®¾ç½®å…ƒç´ çš„åŠ¨ç”»åç§°ã€‚ animation-duration æŒç»­æ—¶é—´CSSè¯­æ³•ï¼šanimation-duration: 1s ç”¨æ¥æŒ‡å®šåŠ¨ç”»åœ¨ä¸€ä¸ªå‘¨æœŸå†…æ‰€èŠ±è´¹çš„æ—¶é—´ã€‚ animation-timing-function è¿åŠ¨æ›²çº¿CSSè¯­æ³•ï¼šanimation-timing-function: ease-in-out ç”¨æ¥è®¾ç½®å…ƒç´ çš„åŠ¨ç”»é€Ÿåº¦æ›²çº¿ï¼Œå®ƒçš„ç”¨æ³•å’Œ transition-timing-function ç±»ä¼¼ï¼Œæƒ³è¦äº†è§£è¯¦æƒ…çš„ç›´æ¥ç‚¹è¿™ä¸ªé“¾æ¥å§ã€‚ DEMO See the Pen animation-timing-function by JingW (@JingW) on CodePen. animation-delay åŠ¨ç”»å»¶è¿ŸCSSè¯­æ³•ï¼šanimation-delay: 1s ç”¨æ¥è®¾ç½®åŠ¨ç”»å»¶è¿Ÿå¤šå°‘ç§’/æ¯«ç§’åæ‰å¼€å§‹æ‰§è¡Œã€‚æ­£å€¼ï¼ˆä¾‹å¦‚2sï¼‰å°†åœ¨2såå¯åŠ¨åŠ¨ç”»ï¼›è´Ÿå€¼ï¼ˆä¾‹å¦‚-2sï¼‰å°†ç«‹å³æ‰§è¡ŒåŠ¨ç”»ï¼Œä½†æ˜¯åŠ¨ç”»ä¼šä»å®ƒçš„åŠ¨ç”»åºåˆ—ä¸­çš„ç¬¬2sä½ç½®å¤„ç«‹å³å¼€å§‹ã€‚ animation-iteration-count å¾ªç¯æ¬¡æ•°CSSè¯­æ³•ï¼šanimation-iteration-count: 1s ç”¨æ¥è®¾ç½®åŠ¨ç”»å¾ªç¯çš„æ¬¡æ•°ï¼Œé»˜è®¤å€¼æ˜¯1ï¼Œè¡¨ç¤ºåŠ¨ç”»åªæ’­æ”¾ä¸€æ¬¡ã€‚é™¤äº†ä½¿ç”¨æ­£æ•´æ•°æ¥è®¾ç½®æ¬¡æ•°å¤–ï¼Œè¿˜å¯ä»¥å°†å€¼è®¾ç½®ä¸º infinite ï¼Œè¡¨ç¤ºæ— é™å¾ªç¯ã€‚ animation-direction æ˜¯å¦åå‘CSSè¯­æ³•ï¼šanimation-direction: normal | reverse | alternate | alternate-reverse ç”¨æ¥è®¾ç½®åŠ¨ç”»åœ¨å¾ªç¯è¿‡ç¨‹ä¸­æ˜¯å¦åå‘è¿åŠ¨ï¼Œé»˜è®¤å€¼ä¸º normal ï¼Œå³æ­£å¸¸æ¨¡å¼ï¼ŒåŠ¨ç”»ä¼šä»ç¬¬ä¸€å¸§æ’­æ”¾åˆ°æœ€åä¸€å¸§ï¼›reverse è¡¨ç¤ºåå‘æ¨¡å¼ï¼ŒåŠ¨ç”»ä¼šä»æœ€åä¸€å¸§å€’ç€æ’­æ”¾åˆ°ç¬¬ä¸€å¸§ï¼›alternate è®¾ç½®åŠ¨ç”»å…ˆæ­£å‘æ’­æ”¾ï¼Œç¬¬äºŒæ¬¡å†ä»åå‘æ’­æ”¾ï¼Œäº¤æ›¿è¿›è¡Œï¼Œä¾‹å¦‚ animation ç³»åˆ—ä¸€ä¸­çš„æ¡ˆä¾‹ï¼›alternate-reverse åˆ™æ˜¯å…ˆè®©åŠ¨ç”»åå‘æ’­æ”¾ï¼Œç¬¬äºŒæ¬¡å†æ­£å‘æ’­æ”¾ï¼Œäº¤æ›¿è¿›è¡Œã€‚ animation-fill-mode åŠ¨ç”»å¡«å……æ¨¡å¼CSSè¯­æ³•ï¼šanimation-fill-mode: none | forwards | backwards | both ç”¨æ¥æŒ‡å®šåœ¨åŠ¨ç”»æ‰§è¡Œä¹‹å‰å’Œä¹‹åå¦‚ä½•ç»™åŠ¨ç”»çš„ç›®æ ‡åº”ç”¨æ ·å¼ã€‚è¿™ä¸ªå±æ€§åœ¨æˆ‘ç¬¬ä¸€æ¬¡æ¥è§¦æ—¶æ²¡å¤ªç†è§£ï¼Œç›´åˆ°æˆ‘çœ‹äº† segmentfault ä¸Šçš„ è¿™ç¯‡æ–‡ç«  ã€‚ åœ¨ç†è§£å®ƒä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦åœ¨è„‘æµ·é‡Œæœ‰ä¸ªæ¦‚å¿µï¼Œé‚£å°±æ˜¯ä¸€ä¸ªåŠ¨ç”»æ˜¯åˆ†ä¸ºåˆå§‹çŠ¶æ€ã€ç­‰å¾…æœŸã€åŠ¨ç”»æ‰§è¡ŒæœŸã€å®ŒæˆæœŸå››ä¸ªé˜¶æ®µçš„ã€‚è€Œä¸Šé¢ animation-fill-mode æ¥æ”¶çš„å››ä¸ªå€¼åˆ™åˆ†åˆ«å¯¹åº”ï¼š none è¡¨ç¤º ç­‰å¾…æœŸå’Œå®ŒæˆæœŸï¼Œå…ƒç´ æ ·å¼éƒ½ä¸ºåˆå§‹çŠ¶æ€æ ·å¼ï¼Œä¸å—åŠ¨ç”»å®šä¹‰ï¼ˆ@keyframesï¼‰çš„å½±å“ forwards è¡¨ç¤ºç­‰å¾…æœŸä¿æŒåˆå§‹æ ·å¼ï¼Œå®ŒæˆæœŸé—´ä¿æŒæœ€åä¸€å¸§æ ·å¼ backwards è¡¨ç¤ºç­‰å¾…æœŸä¸ºç¬¬ä¸€å¸§æ ·å¼ï¼Œå®ŒæˆæœŸè·³è½¬ä¸ºåˆå§‹æ ·å¼ both è¡¨ç¤º ç­‰å¾…æœŸæ ·å¼ä¸ºç¬¬ä¸€å¸§æ ·å¼ï¼Œå®ŒæˆæœŸä¿æŒæœ€åä¸€å¸§æ ·å¼ å•çº¯çš„æ–‡å­—ä¸ç›´è§‚ï¼Ÿç›¸ä¿¡ä¸‹é¢çš„è¿™ä¸ªdemoèƒ½è®©ä½ è±ç„¶å¼€æœ—ï¼š See the Pen animation-fill-mode by JingW (@JingW) on CodePen. animation-play-state åŠ¨ç”»æ’­æ”¾çŠ¶æ€CSSè¯­æ³•ï¼šanimation-play-state: running | paused ç”¨æ¥è®¾ç½®åŠ¨ç”»çš„æ’­æ”¾æˆ–è€…æš‚åœã€‚æ¯”å¦‚å¸Œæœ›åœ¨é¼ æ ‡ç»è¿‡çš„æ—¶å€™ï¼Œè®©åŠ¨ç”»å…ˆåœæ­¢ä¸‹æ¥ï¼Œé¼ æ ‡ç§»å¼€ä¹‹åå†ç»§ç»­æ’­æ”¾ï¼Œå°±å¯ä»¥é€šè¿‡è®¾ç½® .element:hover { animation-play-state: paused; } æ¥å®ç°ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªæ¡ˆä¾‹ï¼Œåœ¨é¼ æ ‡ç§»å…¥æ—¶é’ŸåæŒ‡é’ˆæš‚åœæ—‹è½¬ï¼›ç§»å‡ºåæ—¶é’Ÿç»§ç»­æ—‹è½¬ã€‚ See the Pen animation-play-stateé—¹é’Ÿç¤ºä¾‹ by JingW (@JingW) on CodePen.]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>CSS3</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[animationåŠ¨ç”»ï¼ˆä¸€ï¼‰]]></title>
    <url>%2Fposts%2F31280%2F</url>
    <content type="text"><![CDATA[ä¼ é€é—¨ animationåŠ¨ç”»ï¼ˆä¸€ï¼‰ animationåŠ¨ç”»ï¼ˆäºŒï¼‰ ä»‹ç» CSS Animations æ˜¯CSSçš„ä¸€ä¸ªæ¨¡å—ï¼Œå®ƒå®šä¹‰äº†å¦‚ä½•ç”¨å…³é”®å¸§æ¥éšæ—¶é—´æ¨ç§»å¯¹CSSå±æ€§çš„å€¼è¿›è¡ŒåŠ¨ç”»å¤„ç†ã€‚å…³é”®å¸§åŠ¨ç”»çš„è¡Œä¸ºå¯ä»¥é€šè¿‡æŒ‡å®šå®ƒä»¬çš„æŒç»­æ—¶é—´ï¼Œå®ƒä»¬çš„é‡å¤æ¬¡æ•°ä»¥åŠå®ƒä»¬å¦‚ä½•é‡å¤æ¥æ§åˆ¶ã€‚ â€”â€”â€”â€” å‡ºè‡ª CSS Animations | MDN è¯­æ³•1234/* ç®€å†™ */animation: åŠ¨ç”»åç§°ï¼Œä¸€ä¸ªå‘¨æœŸæ‰€èŠ±è´¹çš„æ—¶é—´ï¼Œè¿åŠ¨æ›²çº¿ï¼ˆé»˜è®¤easeï¼‰ï¼Œ åŠ¨ç”»å»¶è¿Ÿï¼ˆé»˜è®¤0ï¼‰ï¼Œæ’­æ”¾æ¬¡æ•°ï¼ˆé»˜è®¤1ï¼‰ï¼Œ æ˜¯å¦åå‘æ’­æ”¾åŠ¨ç”»ï¼ˆé»˜è®¤normalï¼‰ï¼Œæ˜¯å¦æš‚åœåŠ¨ç”»ï¼ˆé»˜è®¤runningï¼‰ å°±åƒåœ¨ä»‹ç»ä¸­å†™åˆ°çš„é‚£æ ·ï¼Œæ•´ä¸ª animations æ˜¯ä¸ªæ¨¡å—ï¼ŒåŒ…å«å¾ˆå¤šå±æ€§æ¥å®šä¹‰åŠ¨ç”»ï¼Œæ¯”æ–¹è¯´ animation-name ã€animation-duration å’Œ animation-delay ç­‰ç­‰ã€‚ä½†æœ¬ç€å¿«é€Ÿä¸Šæ‰‹çš„ç›®çš„ï¼Œç¬¬ä¸€ç¯‡æ–‡ç« ä¸»è¦å›´ç»• animation è¿™ä¸ªç®€å†™å±æ€§æ¥è®²ï¼Œå› ä¸ºç”¨å®ƒæœ€ç›´è§‚ï¼Œè€Œä¸”å°±ç»éªŒæ¥è®²ï¼Œæ—¥å¸¸ä½¿ç”¨æœ€å¤šçš„ä¹Ÿæ˜¯è¿™ä¸ªå±æ€§ã€‚ å¦‚ä½•ä½¿ç”¨ä¸€ä¸ªCSS3åŠ¨ç”»ç”±ä¸¤ä¸ªåŸºæœ¬é¡¹ç»„æˆï¼š å…³é”®å¸§ï¼ˆKeyforamesï¼‰ - ç”¨æ¥å®šä¹‰åŠ¨ç”»çš„é˜¶æ®µå’Œæ ·å¼ã€‚ åŠ¨ç”»å±æ€§ - åˆ†é…å…³é”®å¸§ï¼ˆ@keyframesï¼‰åˆ°ä¸€ä¸ªç‰¹å®šçš„csså…ƒç´ ï¼Œæ¥å®šä¹‰å®ƒçš„åŠ¨ç”»æ–¹å¼ã€‚ æˆ‘ä»¬å›´ç»•è¿™ä¸¤é¡¹è®¨è®ºï¼Œå¹¶åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­å®ç°ä¸€ä¸ªæŒ‰é’®ä¸æ–­æ”¾å¤§ç¼©å°çš„åŠ¨ç”»æ•ˆæœï¼š keyframeså…³é”®å¸§ keyframes å®šä¹‰äº†åŠ¨ç”»åœ¨æ¯ä¸ªé˜¶æ®µçš„åŠ¨ç”»æ•ˆæœã€‚å®ƒåŒ…æ‹¬ï¼š åŠ¨ç”»åç§°ï¼šå®šä¹‰åŠ¨ç”»çš„åç§° åŠ¨ç”»é˜¶æ®µï¼šæ•´ä¸ªåŠ¨ç”»é˜¶æ®µç”¨ç™¾åˆ†æ¯”æ¥è¡¨ç¤ºã€‚0% è¡¨ç¤ºåŠ¨ç”»çš„å¼€å§‹çŠ¶æ€ã€‚100% è¡¨ç¤ºåŠ¨ç”»çš„ç»“æŸçŠ¶æ€ã€‚å¯ä»¥åœ¨å…¶é—´æ·»åŠ å¤šä¸ªä¸­é—´çŠ¶æ€ï¼Œæ¯”å¦‚ 20%ï¼Œ60%â€¦ åŠ¨ç”»å±æ€§ï¼šç»™åŠ¨ç”»æ¯ä¸ªé˜¶æ®µå®šä¹‰çš„CSSå±æ€§ ç°åœ¨æˆ‘ä»¬æ¥ç¼–å†™ä¸€æ®µ @keyframes ã€‚åŠ¨ç”»åç§°å‘½åä¸º shrink ã€‚å®ƒåªæœ‰ç®€å•çš„ä¸¤ä¸ªé˜¶æ®µï¼š ç¬¬ä¸€é˜¶æ®µï¼ˆ0%ï¼‰ï¼šå…ƒç´ çš„ç¼©æ”¾æ¯”ä¾‹ä¸º 1:1 ç¬¬äºŒé˜¶æ®µï¼ˆ100%ï¼‰ï¼šå…ƒç´ çš„ç¼©æ”¾æ¯”ä¾‹ä¸º 1:0.8 12345678910@keyframes shrink &#123; 0% &#123; -webkit-transform: scale(1); transform: scale(1); &#125; 100% &#123; -webkit-transform: scale(0.8); transform: scale(0.8); &#125;&#125; åŠ¨ç”»å±æ€§æ¥ç€ï¼Œæˆ‘ä»¬ç»™è¦è®¾ç½®åŠ¨ç”»çš„å…ƒç´ æ·»åŠ ä¸ŠåŠ¨ç”»å±æ€§ã€‚è¦ä½¿åŠ¨ç”»ç”Ÿæ•ˆï¼Œæˆ‘ä»¬è‡³å°‘è¦æ·»åŠ ä»¥ä¸‹ä¸¤ä¸ªåŠ¨ç”»å±æ€§ï¼š animation-name: åŠ¨ç”»çš„åç§°ï¼Œåœ¨ @keyframes ä¸­å®šä¹‰ã€‚ animation-duration: åŠ¨ç”»çš„æŒç»­æ—¶é—´ï¼Œä»¥ç§’ä¸ºå•ä½ï¼ˆä¾‹å¦‚ 5sï¼‰æˆ–æ¯«ç§’ï¼ˆä¾‹å¦‚ 200msï¼‰ã€‚ 12345678button &#123; /* å…¶ä»–æ ·å¼ */ ... /* åŠ¨ç”»åç§°: shrink */ animation-name: shrink; /* åŠ¨ç”»æŒç»­æ—¶é—´: 0.5ç§’ */ animation-duration: .5s;&#125; è¿™æ ·æˆ‘ä»¬å°±å®ç°é¡µé¢åŠ è½½åï¼Œä¸€ä¸ªæŒ‰é’®ä»å¼€å§‹çš„åŸå§‹å¤§å°ï¼Œç»è¿‡0.5såå˜æˆäº†åŸå§‹å¤§å°çš„0.8çš„åŠ¨ç”»æ•ˆæœã€‚ç„¶è€Œæˆ‘ä»¬å¸Œæœ›æœ€ç»ˆçš„æ•ˆæœæ˜¯ä¸€ä¸ªæŒ‰é’®çš„ä¸æ–­æ”¾å¤§å’Œç¼©å°ï¼Œäº¤æ›¿è¿›è¡Œã€‚è¿™å°±å¾—æ·»åŠ  animation-iteration-count å’Œ animation-direction ä¸¤ä¸ªåŠ¨ç”»å±æ€§äº†ï¼Œå®ƒä»¬ä¸€ä¸ªç”¨æ¥å®šä¹‰å…ƒç´ åŠ¨ç”»çš„å¾ªç¯æ¬¡æ•°ï¼Œä¸€ä¸ªç”¨æ¥å®šä¹‰åŠ¨ç”»åœ¨å¾ªç¯è¿‡ç¨‹ä¸­æ˜¯å¦åå‘è¿åŠ¨ï¼š 1234567button &#123; ... /* åŠ¨ç”»çš„å¾ªç¯æ¬¡æ•°: æ— é™æ¬¡ */ animation-iteration-count: infinite; /* å¾ªç¯æ˜¯å¦åå‘ï¼šå…ˆæ­£å‘ååå‘ */ animation-direction: alternate;&#125; æœ€ç»ˆçš„ç®€å†™å½¢å¼å¦‚ä¸‹ï¼š 1234button &#123; ... animation: shrink .5s linear alternate infinite;&#125; å®Œæ•´æ•ˆæœï¼š See the Pen animation-shrink by JingW (@JingW) on CodePen. èµ„æº ğŸ“š animation | ä¸€ä¸ªCSS3åŠ¨ç”»åº“ ã€æ¨èã€‘ ç‚¹æˆ‘æŸ¥çœ‹æ•ˆæœ magic | å¦ä¸€ä¸ªCSS3åŠ¨ç”»åº“ ç‚¹æˆ‘æŸ¥çœ‹æ•ˆæœ]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>CSS3</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç”¨JSå®ç°ç¿»è½¬äºŒå‰æ ‘]]></title>
    <url>%2Fposts%2F50491%2F</url>
    <content type="text"><![CDATA[ç®€ä»‹ç¿»è½¬äºŒå‰æ ‘å°±æ˜¯æŠŠäºŒå‰æ ‘æ¯ä¸€å±‚çš„å·¦å³é¡ºåºé¢ å€’è¿‡æ¥ã€‚ ç¤ºä¾‹ è¾“å…¥ 12345 4 / \ 2 7 / \ / \1 3 6 9 è¾“å‡º 12345 4 / \ 7 2 / \ / \9 6 3 1 ç®—æ³•æ­¥éª¤å¦‚æœæ ¹èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œé‚£ä¹ˆå°†å·¦å³å­ç»“ç‚¹äº¤æ¢ï¼Œç„¶åå°†å·¦å³å­ç»“ç‚¹è¿›è¡Œé€’å½’è°ƒç”¨ã€‚ ä»£ç å®ç°1234567891011var invertTree = function(root) &#123; if (root !== null) &#123; var temp = root.left; root.left = root.right; root.right = temp; invertTree(root.left); invertTree(root.right); &#125; return root; &#125;;]]></content>
      <categories>
        <category>åç«¯</category>
        <category>ç®—æ³•ä¸æ•°æ®ç»“æ„</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[æœ‰åºè¡¨æŸ¥æ‰¾ä¹‹äºŒåˆ†æŸ¥æ‰¾]]></title>
    <url>%2Fposts%2F39853%2F</url>
    <content type="text"><![CDATA[ç®€ä»‹äºŒåˆ†æŸ¥æ‰¾åˆåæŠ˜åŠæŸ¥æ‰¾ã€‚å®ƒçš„å‰ææ˜¯æ‰€æ“ä½œçš„æ•°æ®é›†æ˜¯ä¸€ä¸ªæœ‰åºçš„æ•°æ®é›†ã€‚å®ƒçš„åŸºæœ¬æ€æƒ³æ˜¯ï¼šå¼€å§‹æ—¶ï¼Œå…ˆæ‰¾å‡ºæœ‰åºé›†åˆä¸­é—´çš„é‚£ä¸ªå…ƒç´ ã€‚å¦‚æœæ­¤å…ƒç´ æ¯”è¦æŸ¥æ‰¾çš„å…ƒç´ å¤§ï¼Œå°±æ¥ç€åœ¨è¾ƒå°çš„ä¸€ä¸ªåŠåŒºè¿›è¡ŒæŸ¥æ‰¾ï¼›åä¹‹ï¼Œå¦‚æœæ­¤å…ƒç´ æ¯”è¦æ‰¾çš„å…ƒç´ å°ï¼Œå°±åœ¨è¾ƒå¤§çš„ä¸€ä¸ªåŠåŒºè¿›è¡ŒæŸ¥æ‰¾ã€‚åœ¨æ¯ä¸ªæ›´å°çš„æ•°æ®é›†ä¸­é‡å¤è¿™ä¸ªæŸ¥æ‰¾è¿‡ç¨‹ï¼Œç›´åˆ°æ‰¾åˆ°è¦æŸ¥æ‰¾çš„å…ƒç´ æˆ–è€…æ•°æ®é›†ä¸èƒ½å†åˆ†å‰²ã€‚ å›¾è§£ é€‚ç”¨åœºæ™¯äºŒåˆ†æŸ¥æ‰¾å¯ä»¥åº”ç”¨äºä»»ä½•ç±»å‹çš„æ•°æ®ï¼Œä½†å‰ææ˜¯è¿™äº›æ•°æ®æ˜¯æŒ‰æŸç§è§„åˆ™è¿›è¡Œæ’åºçš„ã€‚è¿™ä½¿å¾—å®ƒåœ¨å¤„ç†é‚£äº›é¢‘ç¹æ’å…¥å’Œåˆ é™¤æ“ä½œçš„æ•°æ®é›†æ—¶ä¸å¤ªé«˜æ•ˆã€‚å› ä¸ºæ‰§è¡Œå®Œæ’å…¥å’Œåˆ é™¤æ“ä½œåï¼Œæ— æ³•ä¿è¯æ•°æ®é›†çš„æœ‰åºæ€§ï¼Œåœ¨æŸ¥æ‰¾å‰è¿˜å¾—å…ˆç»´æŠ¤ä¸€ä¸ªæœ‰åºæ•°æ®é›†ï¼Œä»è€Œå¯¼è‡´æŸ¥æ‰¾è¿‡ç¨‹ä»£ä»·å¤ªé«˜ã€‚æ­¤å¤–ï¼Œå…ƒç´ å¿…é¡»å­˜å‚¨åœ¨è¿ç»­çš„ç©ºé—´ä¸­ã€‚ å› æ­¤ï¼Œå½“å¾…æœç´¢çš„é›†åˆæ˜¯ç›¸å¯¹é™æ€çš„æ•°æ®é›†æ—¶ï¼Œæ­¤æ—¶ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚ ä»£ç ç¤ºä¾‹ï¼ˆJSï¼‰ éé€’å½’å®ç° 123456789101112131415161718192021var arr = [4, 9, 12, 13, 15, 33, 46, 49, 50, 77, 101];function binary_search(arr, target) &#123; var min = 0, max = arr.length; while (min &lt;= max) &#123; var mid = parseInt((min + max) / 2); if (target === arr[mid]) &#123; return mid; &#125; else if (target &gt; arr[mid]) &#123; min = mid + 1; &#125; else &#123; max = mid - 1; &#125; &#125; return -1;&#125;console.log(binary_search(arr, 33)); é€’å½’å®ç° 123456789101112131415161718192021var arr = [4, 9, 12, 13, 15, 33, 46, 49, 50, 77, 101];function binary_search(arr, min, max, target) &#123; if (min &gt; max) &#123; return -1; &#125; var mid = parseInt((min + max) / 2); if (target === arr[mid]) &#123; return mid; &#125; else if (target &gt; arr[mid]) &#123; min = mid + 1; return binary_search(arr, min, max, target); &#125; else &#123; max = mid - 1; return binary_search(arr, min, max, target); &#125;&#125;console.log(binary_search(arr, 0, arr.length - 1, 33));]]></content>
      <categories>
        <category>åç«¯</category>
        <category>ç®—æ³•ä¸æ•°æ®ç»“æ„</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[å¸¸è§æ’åºç®—æ³•]]></title>
    <url>%2Fposts%2F59937%2F</url>
    <content type="text"><![CDATA[å†’æ³¡æ’åºå†’æ³¡æ’åºæ˜¯ä¸€ç§äº¤æ¢æ’åºï¼ŒåŸºæœ¬æ€æƒ³æ˜¯ï¼šä¸¤ä¸¤æ¯”è¾ƒç›¸é‚»è®°å½•çš„å…³é”®å­—ï¼Œå¦‚æœååºåˆ™äº¤æ¢ï¼Œç›´åˆ°æ²¡æœ‰ååºçš„è®°å½•ä¸ºæ­¢ã€‚ ç®—æ³•æ­¥éª¤ æ¯”è¾ƒç›¸é‚»çš„å…ƒç´ ã€‚å¦‚æœç¬¬ä¸€ä¸ªæ¯”ç¬¬äºŒä¸ªå¤§ï¼Œå°±äº¤æ¢ä»–ä»¬ä¸¤ä¸ªã€‚ å¯¹æ¯ä¸€å¯¹ç›¸é‚»å…ƒç´ ä½œåŒæ ·çš„å·¥ä½œï¼Œä»å¼€å§‹ç¬¬ä¸€å¯¹åˆ°ç»“å°¾çš„æœ€åä¸€å¯¹ã€‚è¿™æ­¥åšå®Œåï¼Œæœ€åçš„å…ƒç´ ä¼šæ˜¯æœ€å¤§çš„æ•°ã€‚ é’ˆå¯¹æ‰€æœ‰çš„å…ƒç´ é‡å¤ä»¥ä¸Šçš„æ­¥éª¤ï¼Œé™¤äº†æœ€åä¸€ä¸ªã€‚ æŒç»­æ¯æ¬¡å¯¹è¶Šæ¥è¶Šå°‘çš„å…ƒç´ é‡å¤ä¸Šé¢çš„æ­¥éª¤ï¼Œç›´åˆ°æ²¡æœ‰ä»»ä½•ä¸€å¯¹æ•°å­—éœ€è¦æ¯”è¾ƒã€‚ åŠ¨å›¾æ¼”ç¤º â€”â€”â€”â€” åŠ¨å›¾æ¥è‡ªã€Šèœé¸Ÿæ•™ç¨‹ã€‹ è¯´æ˜ï¼šç»¿è‰²è¡¨ç¤ºå½“å‰æ­£åœ¨æ¯”è¾ƒçš„ä¸¤ä¸ªç›¸é‚»å…ƒç´ ï¼›æ©˜é»„è‰²è¡¨ç¤ºå·²æ’å®Œåºçš„å…ƒç´ ï¼Œä¸å†å‚ä¸åç»­çš„æ¯”è¾ƒ ä»£ç å®ç°ï¼ˆJSï¼‰123456789101112131415var arr = [3, 44, 38, 5, 47, 15, 36, 26, 27, 2, 46, 4, 19, 50, 48];function myBubbleSort(arr) &#123; var len = arr.length, temp; for (var i = 0; i &lt; len - 1; i++) &#123; // è¶Ÿæ•° for (var j = 0; j &lt; len - 1 - i; j++) &#123; // å½“å‰è¶Ÿè¦æ¯”è¾ƒçš„æ¬¡æ•° if (arr[j] &gt; arr[j+1]) &#123; // ç›¸é‚»å…ƒç´ ä¸¤ä¸¤æ¯”è¾ƒ temp = arr[j]; // å…ƒç´ äº¤æ¢ arr[j] = arr[j+1]; arr[j+1] = temp; &#125; &#125; &#125; return arr;&#125; ä»£ç ä¸å›¾ç‰‡é…åˆé£Ÿç”¨æ›´åŠ ~ é€‰æ‹©æ’åºé€‰æ‹©æ’åºæ˜¯ä¸€ç§ç®€å•ç›´è§‚çš„æ’åºç®—æ³•ï¼Œæ— è®ºä»€ä¹ˆæ•°æ®è¿›å»éƒ½æ˜¯ O(nÂ²) çš„æ—¶é—´å¤æ‚åº¦ã€‚æ‰€ä»¥ç”¨åˆ°å®ƒçš„æ—¶å€™ï¼Œæ•°æ®è§„æ¨¡è¶Šå°è¶Šå¥½ã€‚å”¯ä¸€çš„å¥½å¤„å¯èƒ½å°±æ˜¯ä¸å ç”¨é¢å¤–çš„å†…å­˜ç©ºé—´äº†å§ã€‚ ç®—æ³•æ­¥éª¤ é¦–å…ˆåœ¨æœªæ’åºåºåˆ—ä¸­æ‰¾åˆ°æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ ï¼Œå­˜æ”¾åˆ°æ’åºåºåˆ—çš„èµ·å§‹ä½ç½®ã€‚ å†ä»å‰©ä½™æœªæ’åºå…ƒç´ ä¸­ç»§ç»­å¯»æ‰¾æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ ï¼Œç„¶åæ”¾åˆ°å·²æ’åºåºåˆ—çš„æœ«å°¾ã€‚ é‡å¤ç¬¬2æ­¥ï¼Œç›´åˆ°æ‰€æœ‰å…ƒç´ å‡æ’åºå®Œæ¯•ã€‚ åŠ¨å›¾æ¼”ç¤º ä»£ç å®ç°ï¼ˆJSï¼‰123456789101112131415161718var arr = [3, 44, 38, 5, 47, 15, 36, 26, 27, 2, 46, 4, 19, 50, 48];function mySelectionSort(arr) &#123; var len = arr.length; var minIndex, temp; for (var i = 0; i &lt; len - 1; i++) &#123; // ç¬¬ i è½®é€‰æ‹© minIndex = i; // æ¯è½®å¼€å§‹å‡è®¾èµ·å§‹å…ƒç´ ä¸ºæœ€å°å€¼ for (var j = i + 1; j &lt; len; j++) &#123; // éå†å‰©ä½™æœªæ’åºå…ƒç´  if (arr[j] &lt; arr[minIndex]) &#123; // å¯»æ‰¾æœ€å°çš„æ•° minIndex = j; // å°†æœ€å°æ•°çš„ç´¢å¼•ä¿å­˜ &#125; &#125; temp = arr[i]; // äº¤æ¢èµ·å§‹å…ƒç´ ä¸çœŸæ­£çš„æœ€å°å€¼ arr[i] = arr[minIndex]; arr[minIndex] = temp; &#125; return arr;&#125; é…å›¾ï¼š æ’å…¥æ’åºæ’å…¥æ’åºçš„åŸç†åº”è¯¥æ˜¯æœ€å®¹æ˜“ç†è§£çš„ï¼Œå› ä¸ºåªè¦ä½ æ‰“è¿‡æ‰‘å…‹ç‰Œå°±åº”è¯¥èƒ½ç§’æ‡‚ã€‚æ’å…¥æ’åºæ˜¯ä¸€ç§æœ€ç®€å•ç›´è§‚çš„æ’åºç®—æ³•ï¼Œå®ƒçš„å·¥ä½œåŸç†æ˜¯é€šè¿‡æ„å»ºæœ‰åºåºåˆ—ï¼Œå¯¹äºæœªæ’åºæ•°æ®ï¼Œåœ¨å·²æ’åºåºåˆ—ä¸­ä»åå‘å‰æ‰«æï¼Œæ‰¾åˆ°ç›¸åº”ä½ç½®å¹¶æ’å…¥ã€‚ ç®—æ³•æ­¥éª¤ ä»ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹ï¼Œè¯¥å…ƒç´ å¯ä»¥è®¤ä¸ºå·²ç»è¢«æ’åºï¼› å–å‡ºä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œåœ¨å·²ç»æ’åºçš„å…ƒç´ åºåˆ—ä¸­ä»åå‘å‰æ‰«æï¼› å¦‚æœè¯¥å…ƒç´ ï¼ˆå·²æ’åºï¼‰å¤§äºæ–°å…ƒç´ ï¼Œå°†è¯¥å…ƒç´ ç§»åˆ°ä¸‹ä¸€ä½ç½®ï¼› é‡å¤æ­¥éª¤3ï¼Œç›´åˆ°æ‰¾åˆ°å·²æ’åºçš„å…ƒç´ å°äºæˆ–è€…ç­‰äºæ–°å…ƒç´ çš„ä½ç½®ï¼› å°†æ–°å…ƒç´ æ’å…¥åˆ°è¯¥ä½ç½®åï¼› é‡å¤æ­¥éª¤2~5ã€‚ åŠ¨å›¾æ¼”ç¤º ä»£ç å®ç°ï¼ˆJSï¼‰12345678910111213141516171819202122var arr = [3, 44, 38, 5, 47, 15, 36, 26, 27, 2, 46, 4, 19, 50, 48];function myInsertSort(arr) &#123; var len = arr.length; var insertItem; // è¦æ’å…¥çš„å…ƒç´  // ä»æ•°ç»„çš„ç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹å¾ªç¯å°†æ•°ç»„ä¸­çš„å…ƒç´ æ’å…¥ for (var i = 1; i &lt; len; i++) &#123; insertItem = arr[i]; // è®¾ç½®æ•°ç»„ä¸­çš„ç¬¬2ä¸ªå…ƒç´ ä¸ºç¬¬ä¸€æ¬¡éå†è¦æ’å…¥çš„æ•°æ® var j = i - 1; // å·²æ’åºå¥½æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ çš„ç´¢å¼• // å°†å·²æ’å¥½åºçš„å…ƒç´ ä»æœ€åä¸€ä¸ªå¾€å‰ä¾æ¬¡ä¸å¾…æ’å…¥å…ƒç´ æ¯”è¾ƒï¼Œ while (j &gt;= 0 &amp;&amp; insertItem &lt; arr[j]) &#123; // å¦‚æœè¦æ’å…¥çš„å…ƒç´ å°äºç¬¬jä¸ªå…ƒç´ ,å°±å°†ç¬¬jä¸ªå…ƒç´ å‘åç§»åŠ¨ arr[j + 1] = arr[j]; j--; &#125; // ç›´åˆ°è¦æ’å…¥çš„å…ƒç´ ä¸å°äºç¬¬jä¸ªå…ƒç´ ,å°†insertNoteæ’å…¥åˆ°æ•°ç»„ä¸­ arr[j + 1] = insertItem; &#125; return arr;&#125; 12345678// ä¾‹å¦‚forå¾ªç¯ä¸­ i ç­‰äº 2 æ—¶ï¼Œå·²æ’åºå®Œæ¯•çš„å…ƒç´ ä¸º[3,44]ï¼Œè¿›å…¥forå¾ªç¯ // å¾…æ’å…¥å…ƒç´ ä¸º arr[2]ï¼Œä¹Ÿå°±æ˜¯38; // j=i-1ä¹Ÿå°±æ˜¯2-1ç­‰äº1 // whileå¾ªç¯æ¯”è¾ƒï¼Œå¾…æ’å…¥å…ƒç´ 38æ˜¯å°äºarr[j]ï¼ˆj=1ï¼‰44 çš„ =&gt; æ¡ä»¶æˆç«‹ // arr[j+1]è¦ç­‰äºarr[j] =&gt; arr[2]è¦ç­‰äºarr[1] =&gt; arr[2]=44 =&gt; æ­¤åˆ»æ•°ç»„å‰ä¸‰ä¸ªå…ƒç´ ï¼š[3,44,44] // j-- =&gt; j=1-1ä¹Ÿå°±æ˜¯0 // å†æ¥ä¸€è½®whileæ¯”è¾ƒï¼Œå¾…æ’å…¥å…ƒç´ 38ç°åœ¨ä¸å°äºarr[j] ä¹Ÿå°±æ˜¯arr[0]çš„3ï¼Œæ‰€ä»¥ç›´æ¥é€€å‡ºwhileå¾ªç¯ // arr[j+1]=insertItem =&gt; arr[1]=38 =&gt; æ•°ç»„å‰ä¸‰æ’åºå®Œæ¯•ï¼š[3,38,44] å¸Œå°”æ’åºå¸Œå°”æ’åºä¹Ÿæ˜¯ä¸€ç§æ’å…¥æ’åºï¼Œå®ƒæ˜¯ç®€å•æ’å…¥æ’åºçš„ä¸€ä¸ªæ”¹è¿›ç‰ˆï¼Œä¹Ÿç§°ä¸ºç¼©å°å¢é‡æ’åºï¼ŒåŒæ—¶è¯¥ç®—æ³•æ˜¯å†²ç ´O(n2ï¼‰çš„ç¬¬ä¸€æ‰¹ç®—æ³•ä¹‹ä¸€ã€‚æœ¬æ–‡ä¼šä»¥å›¾è§£çš„æ–¹å¼è¯¦ç»†ä»‹ç»å¸Œå°”æ’åºçš„åŸºæœ¬æ€æƒ³åŠå…¶ä»£ç å®ç°ã€‚ å¸Œå°”æ’åºæ˜¯æŠŠè®°å½•æŒ‰ä¸‹æ ‡çš„ä¸€å®šå¢é‡åˆ†ç»„ï¼Œå¯¹æ¯ç»„ä½¿ç”¨ç›´æ¥æ’å…¥æ’åºç®—æ³•æ’åºï¼›éšç€å¢é‡é€æ¸å‡å°‘ï¼Œæ¯ç»„åŒ…å«çš„å…³é”®è¯è¶Šæ¥è¶Šå¤šï¼Œå½“å¢é‡å‡è‡³1æ—¶ï¼Œæ•´ä¸ªæ–‡ä»¶æ°è¢«åˆ†æˆä¸€ç»„ï¼Œç®—æ³•ä¾¿ç»ˆæ­¢ã€‚ ç®—æ³•æ­¥éª¤(ç¤ºä¾‹)åœ¨æ­¤æˆ‘ä»¬é€‰æ‹©å¢é‡ gap=æ•°ç»„é•¿åº¦length/2ï¼Œç¼©å°å¢é‡ç»§ç»­ä»¥ gap = gap/2 çš„æ–¹å¼ï¼Œè¿™ç§å¢é‡é€‰æ‹©æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªåºåˆ—æ¥è¡¨ç¤ºï¼š{n/2,(n/2)/2...1}ï¼Œç§°ä¸ºå¢é‡åºåˆ—ã€‚å½“ç„¶ï¼Œå¸Œå°”æ’åºçš„å¢é‡åºåˆ—æœ‰å¾ˆå¤šç§ï¼Œè¿™é‡Œé‡‡ç”¨çš„æ˜¯æ¯”è¾ƒå¸¸ç”¨çš„ä¸€ç§ä½œä¸ºç¤ºä¾‹ï¼š åœ¨ä¸Šé¢è¿™å¹…å›¾ä¸­ï¼š åˆå§‹æ—¶ï¼Œæœ‰ä¸€ä¸ªå¤§å°ä¸º 10 çš„æ— åºåºåˆ—ã€‚ åœ¨ç¬¬ä¸€è¶Ÿæ’åºä¸­ï¼Œæˆ‘ä»¬è®¾ gap1 = 10 / 2 = 5ï¼Œå³ç›¸éš”è·ç¦»ä¸º 5 çš„å…ƒç´ ç»„æˆä¸€ç»„ï¼Œå¯ä»¥åˆ†ä¸º 5 ç»„ã€‚æ¥ä¸‹æ¥ï¼ŒæŒ‰ç…§ç›´æ¥æ’å…¥æ’åºçš„æ–¹æ³•å¯¹æ¯ä¸ªç»„è¿›è¡Œæ’åºã€‚ åœ¨ç¬¬äºŒè¶Ÿæ’åºä¸­ï¼Œæˆ‘ä»¬æŠŠä¸Šæ¬¡çš„ gap ç¼©å°ä¸€åŠï¼Œå³ gap2 = gap1 / 2 = 2 (å–æ•´)ã€‚è¿™æ ·æ¯ç›¸éš”è·ç¦»ä¸º 2 çš„å…ƒç´ ç»„æˆä¸€ç»„ï¼Œå¯ä»¥åˆ†ä¸º 2 ç»„ã€‚æŒ‰ç…§ç›´æ¥æ’å…¥æ’åºçš„æ–¹æ³•å¯¹æ¯ä¸ªç»„è¿›è¡Œæ’åºã€‚ åœ¨ç¬¬ä¸‰è¶Ÿæ’åºä¸­ï¼Œå†æ¬¡æŠŠ gap ç¼©å°ä¸€åŠï¼Œå³gap3 = gap2 / 2 = 1ã€‚ è¿™æ ·ç›¸éš”è·ç¦»ä¸º 1 çš„å…ƒç´ ç»„æˆä¸€ç»„ï¼Œå³åªæœ‰ä¸€ç»„ã€‚æŒ‰ç…§ç›´æ¥æ’å…¥æ’åºçš„æ–¹æ³•å¯¹æ¯ä¸ªç»„è¿›è¡Œæ’åºã€‚æ­¤æ—¶ï¼Œæ’åºå·²ç»ç»“æŸã€‚ æ³¨æ„ï¼šå›¾ä¸­æœ‰ä¸¤ä¸ªç›¸ç­‰æ•°å€¼çš„å…ƒç´  5 å’Œ 5 ã€‚æˆ‘ä»¬å¯ä»¥æ¸…æ¥šçš„çœ‹åˆ°ï¼Œåœ¨æ’åºè¿‡ç¨‹ä¸­ï¼Œä¸¤ä¸ªå…ƒç´ ä½ç½®äº¤æ¢äº†ã€‚æ‰€ä»¥ï¼Œå¸Œå°”æ’åºæ˜¯ä¸ç¨³å®šçš„ç®—æ³•ã€‚ ä»£ç æ¼”ç¤ºï¼ˆJSï¼‰123456789101112131415161718192021222324var arr = [3, 44, 38, 5, 47, 15, 36, 26, 27, 2, 46, 4, 19, 50, 48];function myShellSort(arr) &#123; var gap = Math.floor(arr.length / 2); while (1 &lt;= gap) &#123; // æŠŠè·ç¦»ä¸º gap çš„å…ƒç´ ç¼–ä¸ºä¸€ä¸ªç»„ï¼Œæ‰«ææ‰€æœ‰ç»„ for (var i = gap; i &lt; arr.length; i++) &#123; var j = 0; var temp = arr[i]; // å¯¹è·ç¦»ä¸º gap çš„å…ƒç´ ç»„è¿›è¡Œæ’åº for (j = i - gap; j &gt;= 0 &amp;&amp; temp &lt; arr[j]; j = j - gap) &#123; arr[j + gap] = arr[j]; &#125; arr[j + gap] = temp; &#125; console.log(`gap = $&#123;gap&#125;`); console.log(arr); gap = Math.floor(gap / 2); // å‡å°å¢é‡ &#125; return arr;&#125; å½’å¹¶æ’åºå½’å¹¶æ’åºæ˜¯åˆ©ç”¨å½’å¹¶çš„æ€æƒ³å®ç°çš„æ’åºæ–¹æ³•ï¼Œè¯¥ç®—æ³•é‡‡ç”¨ç»å…¸çš„åˆ†æ²»ç­–ç•¥ï¼ˆåˆ†æ²»æ³•å°†é—®é¢˜åˆ†æˆä¸€äº›å°çš„é—®é¢˜ç„¶åé€’å½’æ±‚è§£ï¼Œè€Œæ²»çš„é˜¶æ®µåˆ™å°†åˆ†çš„é˜¶æ®µå¾—åˆ°çš„å„ç­”æ¡ˆâ€ä¿®è¡¥â€åœ¨ä¸€èµ·ï¼Œå³åˆ†è€Œæ²»ä¹‹)ã€‚ å¯ä»¥çœ‹åˆ°è¿™ç§ç»“æ„å¾ˆåƒä¸€æ£µå®Œå…¨äºŒå‰æ ‘ï¼Œä¸‹é¢çš„å½’å¹¶æ’åºä»£ç å°†ä¼šé‡‡ç”¨é€’å½’å»å®ç°ï¼ˆä½ ä¹Ÿå¯é‡‡ç”¨è¿­ä»£çš„æ–¹å¼å»å®ç°ï¼‰ã€‚åˆ†é˜¶æ®µå¯ä»¥ç†è§£ä¸ºå°±æ˜¯é€’å½’æ‹†åˆ†å­åºåˆ—çš„è¿‡ç¨‹ï¼Œé€’å½’æ·±åº¦ä¸ºlognã€‚ ç®—æ³•æ­¥éª¤ ç”³è¯·ç©ºé—´ï¼Œä½¿å…¶å¤§å°ä¸ºä¸¤ä¸ªå·²ç»æ’åºåºåˆ—ä¹‹å’Œï¼Œè¯¥ç©ºé—´ç”¨æ¥å­˜æ”¾åˆå¹¶åçš„åºåˆ— è®¾å®šä¸¤ä¸ªæŒ‡é’ˆï¼Œæœ€åˆä½ç½®åˆ†åˆ«ä¸ºä¸¤ä¸ªå·²ç»æ’åºåºåˆ—çš„èµ·å§‹ä½ç½® æ¯”è¾ƒä¸¤ä¸ªæŒ‡é’ˆæ‰€æŒ‡å‘çš„å…ƒç´ ï¼Œé€‰æ‹©ç›¸å¯¹å°çš„å…ƒç´ æ”¾å…¥åˆ°åˆå¹¶ç©ºé—´ï¼Œå¹¶ç§»åŠ¨æŒ‡é’ˆåˆ°ä¸‹ä¸€ä½ç½® é‡å¤æ­¥éª¤ 3 ç›´åˆ°æŸä¸€æŒ‡é’ˆè¾¾åˆ°åºåˆ—å°¾ å°†å¦ä¸€åºåˆ—å‰©ä¸‹çš„æ‰€æœ‰å…ƒç´ ç›´æ¥å¤åˆ¶åˆ°åˆå¹¶åºåˆ—å°¾ å›¾ç‰‡æ¼”ç¤ºå›¾ç‰‡æ¥è‡ªåšå®¢ã€Šå›¾è§£æ’åºç®—æ³•ä¹‹å½’å¹¶æ’åºã€‹ ä»£ç å®ç°123456789101112131415161718192021222324252627282930313233var arr = [3, 44, 38, 5, 47, 15, 36, 26, 27, 2, 46, 4, 19, 50, 48];function mergeSort(arr) &#123; // é‡‡ç”¨è‡ªä¸Šè€Œä¸‹çš„é€’å½’æ–¹æ³• var len = arr.length; if (len &lt; 2) return arr; var middle = Math.floor(len / 2), // å°†æœªæ’åºæ•°ç»„æ‹†åˆ†æˆä¸¤åŠåˆ†è€Œæ²»ä¹‹ left = arr.slice(0, middle), right = arr.slice(middle); return merge(mergeSort(left), mergeSort(right));&#125;function merge(left, right) &#123; var result = []; while (left.length &amp;&amp; right.length) &#123; // ä¸¤è¾¹çš„èµ·å§‹å…ƒç´ ç›¸äº’æ¯”è¾ƒï¼Œå§‹ç»ˆå°†å°çš„ä¸€æ–¹çš„å¤´å…ƒç´ å¼¹å‡ºï¼Œå¹¶pushåˆ°å‡†å¤‡å¥½çš„å®¹å™¨resultä¸­ if (left[0] &lt;= right[0]) &#123; result.push(left.shift()); &#125; else &#123; result.push(right.shift()); &#125; &#125; while (left.length) result.push(left.shift()); while (right.length) result.push(right.shift()); return result;&#125; å¿«é€Ÿæ’åºå¿«é€Ÿæ’åºçš„åŸºæœ¬æ€æƒ³æ˜¯ï¼šé€šè¿‡ä¸€è¶Ÿæ’åºå°†å¾…æ’è®°å½•åˆ†å‰²æˆç‹¬ç«‹çš„ä¸¤éƒ¨åˆ†ï¼Œå…¶ä¸­ä¸€éƒ¨åˆ†è®°å½•çš„å…ƒç´ å‡æ¯”å¦ä¸€éƒ¨åˆ†è®°å½•çš„å…ƒç´ å°ï¼Œç»§è€Œå†åˆ†åˆ«å¯¹è¿™ä¸¤éƒ¨åˆ†è®°å½•é€’å½’çš„è¿›è¡ŒåŒæ ·çš„æ’åºæ“ä½œã€‚ ç®—æ³•æ­¥éª¤ æŠŠæ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ å½“åšä¸€ä¸ªåŸºå‡†å€¼ï¼Œç§°ä¸ºâ€œåŸºå‡†â€ï¼ˆPivotï¼‰ é‡æ–°æ’åºæ•°åˆ—ï¼ŒæŠŠæ‰€æœ‰æ¯”åŸºå‡†å€¼å°çš„å…ƒç´ æ‘†æ”¾åœ¨åŸºå‡†å‰é¢ï¼Œæ‰€æœ‰æ¯”åŸºå‡†å€¼å¤§å…ƒç´ æ‘†æ”¾åœ¨åŸºå‡†åé¢ã€‚åœ¨è¿™ä¸ªåˆ†åŒºé€€å‡ºä¹‹åï¼Œè¯¥åŸºå‡†å°±å¤„äºæ•°åˆ—çš„ä¸­é—´ä½ç½®ã€‚è¿™ä¸ªç§°ä¸ºåˆ†åŒºï¼ˆpartitionï¼‰æ“ä½œï¼› é€’å½’åœ°æŠŠå°äºåŸºå‡†å€¼å…ƒç´ çš„å­æ•°åˆ—å’Œå¤§äºåŸºå‡†å€¼å…ƒç´ çš„å­æ•°åˆ—æ’åºï¼› åˆ†åŒºï¼ˆPartitionï¼‰æ€è·¯é¦–å…ˆæŠŠæœªæ’åºæ•°ç»„çš„ç¬¬ä¸€ä¸ªï¼ˆæœ€å·¦è¾¹ï¼‰å…ƒç´ è®¾ç½®ä¸ºåŸºå‡†ï¼ŒæŠŠå®ƒçš„ä½ç½®å«åš l ï¼š ç„¶åä¾æ¬¡å‘åæŸ¥çœ‹æ‰€æœ‰å…ƒç´ ï¼Œåœ¨æŸ¥çœ‹è¿‡ç¨‹ä¸­ï¼Œä¸æ–­çš„è°ƒæ•´åé¢å…ƒç´ çš„ä½ç½®ï¼Œä½¿å¾—åé¢çš„å…ƒç´ åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†éƒ½å°äº v ï¼›ä¸€éƒ¨åˆ†éƒ½å¤§äº v ã€‚ æˆ‘ä»¬ç”¨ j æ¥ä¸æ–­è®°å½•è¿™ä¸¤éƒ¨åˆ†çš„åˆ†å‰²çº¿ä½ç½®ã€‚è€Œ e å°±æ˜¯æˆ‘ä»¬è¦åˆ¤æ–­çš„ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œç”¨ç´¢å¼• i æ¥è¡¨ç¤ºï¼Œi ä¼šéå†æ¯ä¸€ä¸ªå…ƒç´ ï¼Œæ¥çœ‹è¯¥å¦‚ä½•è°ƒæ•´è¿™ä¸ªå…ƒç´ ã€‚ åœ¨ä¸‹å›¾ä¸­ï¼Œæˆ‘ä»¬ç”¨ arr[l+1 ... j] æ¥è¡¨ç¤ºå°äº v çš„æ©™è‰²éƒ¨åˆ†ï¼Œç”¨ arr[j+1 ... i-1] æ¥è¡¨ç¤ºå¤§äº v çš„ç´«è‰²éƒ¨åˆ†ã€‚ æ¥ä¸‹æ¥å°±è¦çœ‹å¦‚ä½•æ¥è°ƒæ•´ä¸‹ä¸€ä¸ªå…ƒç´  e çš„ä½ç½®ã€‚åˆ†æƒ…å†µè®¨è®ºï¼š å½“ e å¤§äº v æ—¶ï¼Œæˆ‘ä»¬ç›´æ¥è®© e èå…¥å¤§äº v çš„éƒ¨åˆ†ï¼Œå¹¶è®© i++ å½“ e å°äº v æ—¶ï¼Œæˆ‘ä»¬è®© e å’Œå¤§äº v éƒ¨åˆ†çš„ç¬¬ä¸€ä¸ªå…ƒç´ äº¤æ¢ä½ç½®ã€‚æŠŠ e èå…¥åˆ°å°äº v çš„éƒ¨åˆ†ã€‚æ­¤æ—¶å°±éœ€è¦è®©åˆ†éš”çº¿çš„ç´¢å¼•ä½ç½® j++ ï¼Œç›¸åº”çš„ï¼Œç´¢å¼• i çš„ä½ç½®ä¹Ÿè¦ i++ ä»¥ä¾¿æŸ¥çœ‹ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚ ä»¥è¿™æ ·çš„æ­¥éª¤æˆ‘ä»¬å°±èƒ½éå†å®Œæ•´ä¸ªæ•°ç»„ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º ç°åœ¨è¿˜å·®æœ€åä¸€ä¸ªæ­¥éª¤ï¼Œé‚£å°±æ˜¯æŠŠåŸºå‡†å€¼ v ï¼Œä¸å°äº v éƒ¨åˆ†çš„æœ€åä¸€ä¸ªå…ƒç´ äº¤æ¢ä½ç½®ã€‚æ­¤åˆ» v å·¦è¾¹éƒ½å°äºå®ƒï¼Œv å³è¾¹éƒ½å¤§äºå®ƒï¼Œè€Œ j æŒ‡å‘çš„å°±æ˜¯åŸºå‡†å€¼æ‰€åœ¨çš„ä½ç½®ã€‚è¿™æ ·æˆ‘ä»¬å°±å®Œæˆäº†åˆ†åŒºï¼ˆPartitionï¼‰æ“ä½œã€‚ ä»£ç å®ç°12345678910111213141516171819202122232425262728293031323334353637383940var arr = [3, 44, 38, 5, 47, 15, 36, 26, 27, 2, 46, 4, 19, 50, 48];function quickSort(arr, left, right) &#123; var len = arr.length, partitionIndex, // åˆ†åŒºç´¢å¼• left = typeof left != 'number' ? 0 : left, right = typeof right != 'number' ? len - 1 : right; if (left &gt;= right) return; // é€šè¿‡åˆ†åŒºæ‰¾åˆ°åˆ†éš”ç‚¹ï¼Œå†åˆ†åˆ«å¿«æ’å·¦å³ä¸¤éƒ¨åˆ† partitionIndex = partition(arr, left, right); quickSort(arr, left, partitionIndex - 1); quickSort(arr, partitionIndex + 1, right); return arr;&#125;function partition(arr, left, right) &#123; // åˆ†åŒºæ“ä½œ var v = left, // è®¾å®šåŸºå‡†å€¼ï¼ˆpivotï¼‰ j = left; // arr[l+1...j] ; arr[j+1...i] for (var i = j + 1; i &lt;= right; i++) &#123; if (arr[i] &lt; arr[v]) &#123; // å½“å‰è¦åˆ¤æ–­å…ƒç´  å°äº åŸºå‡†å…ƒç´ æ—¶ j++; // åˆ†éš”ç‚¹å³ç§» swap(arr, i, j); // è®© å½“å‰å…ƒç´  ä¸å¤§äº v éƒ¨åˆ†çš„ç¬¬ä¸€ä¸ªå…ƒç´ äº¤æ¢ä½ç½® &#125; // æ­¤å¤„ä¸ç”¨å†™ else ï¼Œå› ä¸ºå½“å¤§äºåŸºå‡†å…ƒç´ æ—¶ï¼Œç›´æ¥i++å°±å¥½ï¼Œ // è€Œi++ï¼Œforå¾ªç¯å·²ç»å¸®æˆ‘ä»¬åšäº† &#125; // å¾ªç¯å®Œæ¯•åï¼Œäº¤æ¢åŸºå‡†å€¼å’Œå°äºvéƒ¨åˆ†çš„æœ€åä¸€ä¸ªå…ƒç´ çš„ä½ç½® swap(arr, v, j); return j;&#125;function swap(arr, i, j) &#123; var temp = arr[i]; arr[i] = arr[j]; arr[j] = temp;&#125;console.log(quickSort(arr, 0, arr.length)); è®¡æ•°æ’åºè®¡æ•°æ’åºä¸æ˜¯åŸºäºæ¯”è¾ƒçš„æ’åºç®—æ³•ï¼Œå…¶æ ¸å¿ƒåœ¨äºå°†è¾“å…¥çš„æ•°æ®å€¼è½¬åŒ–ä¸ºé”®å­˜å‚¨åœ¨é¢å¤–å¼€è¾Ÿçš„æ•°ç»„ç©ºé—´ä¸­ã€‚ ä½œä¸ºä¸€ç§çº¿æ€§æ—¶é—´å¤æ‚åº¦çš„æ’åºï¼Œè®¡æ•°æ’åºè¦æ±‚è¾“å…¥çš„æ•°æ®å¿…é¡»æ˜¯æœ‰ç¡®å®šèŒƒå›´çš„æ•´æ•°ã€‚ ç®—æ³•æ­¥éª¤ æ‰¾å‡ºå¾…æ’åºçš„æ•°ç»„ä¸­æœ€å¤§å’Œæœ€å°çš„å…ƒç´ ï¼› ç»Ÿè®¡æ•°ç»„ä¸­æ¯ä¸ªå€¼ä¸º i çš„å…ƒç´ å‡ºç°çš„æ¬¡æ•°ï¼Œå­˜å…¥æ•°ç»„ Count çš„ç¬¬ i é¡¹ï¼› å¯¹æ‰€æœ‰çš„è®¡æ•°ç´¯åŠ ï¼ˆä» Count ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹ï¼Œæ¯ä¸€é¡¹å’Œå‰ä¸€é¡¹ç›¸åŠ ï¼‰ï¼› åå‘å¡«å……ç›®æ ‡æ•°ç»„ï¼šå°†æ¯ä¸ªå…ƒç´  i æ”¾åœ¨æ–°æ•°ç»„çš„ç¬¬ Count(i) é¡¹ï¼Œæ¯æ”¾ä¸€ä¸ªå…ƒç´ å°±å°† Count(i) å‡å»1ã€‚ ä»£ç å®ç°123456789101112131415161718192021222324252627282930var arr = [3, 44, 38, 5, 47, 15, 36, 26, 27, 2, 46, 4, 19, 50, 48];function countingSort(arr) &#123; var len = arr.length, Result = [], Count = [], min = max = arr[0]; // æŸ¥æ‰¾æœ€å¤§æœ€å°å€¼,å¹¶å°†arræ•°ç½®å…¥Countæ•°ç»„ä¸­,ç»Ÿè®¡å‡ºç°æ¬¡æ•° for (var i = 0; i &lt; len; i++) &#123; min = min &lt;= arr[i] ? min : arr[i]; max = max &gt;= arr[i] ? max : arr[i]; Count[arr[i]] = Count[arr[i]] ? Count[arr[i]] + 1 : 1; &#125; // ä»æœ€å°å€¼-&gt;æœ€å¤§å€¼,å°†è®¡æ•°é€é¡¹ç›¸åŠ  for (var j = min; j &lt; max; j++) &#123; Count[j + 1] = (Count[j + 1] || 0) + (Count[j] || 0); &#125; // Countä¸­,ä¸‹æ ‡ä¸ºarræ•°å€¼,æ•°æ®ä¸ºarræ•°å€¼å‡ºç°æ¬¡æ•°;åå‘å¡«å……æ•°æ®è¿›å…¥Resultæ•°æ® for (var k = len - 1; k &gt;= 0; k--) &#123; // Result[ä½ç½®] = arræ•°æ® Result[Count[arr[k]] - 1] = arr[k]; // å‡å°‘Countæ•°ç»„ä¸­ä¿å­˜çš„è®¡æ•° Count[arr[k]]--; &#125; return Result;&#125;console.log(countingSort(arr));]]></content>
      <categories>
        <category>åç«¯</category>
        <category>ç®—æ³•ä¸æ•°æ®ç»“æ„</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Vueçš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°]]></title>
    <url>%2Fposts%2F33186%2F</url>
    <content type="text"><![CDATA[åˆ›å»ºæœŸé—´çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°beforeCreateå®ä¾‹åˆšåœ¨å†…å­˜ä¸­è¢«åˆ›å»ºå‡ºæ¥ï¼Œæ­¤æ—¶è¿˜æ²¡æœ‰åˆå§‹åŒ–å¥½ data å’Œ methods å±æ€§ã€‚ ä½œç”¨æ‰§è¡Œ loading åŠ¨ç”»ã€‚ createdå®ä¾‹å·²ç»åœ¨å†…å­˜ä¸­åˆ›å»ºå®Œæ¯•ï¼Œdata å’Œ methods ç­‰å±æ€§ä¹Ÿå·²ç»åˆ›å»ºå®Œæˆã€‚ä½†æ­¤åˆ»è¿˜æ²¡æœ‰å¼€å§‹ç¼–è¯‘æ¨¡æ¿ã€‚ ä½œç”¨ ç»“æŸæ‰ loading åŠ¨ç”» åšä¸€äº›åˆå§‹åŒ–å·¥ä½œï¼Œæ¯”å¦‚å‡½æ•°è‡ªæ‰§è¡Œï¼Œå‘èµ·å¼‚æ­¥è¯·æ±‚è·å–æ•°æ® beforeMountæ­¤åˆ»å·²ç»å®Œæˆäº†æ¨¡æ¿çš„ç¼–è¯‘ï¼Œä½†è¿˜æ²¡æœ‰æŒ‚è½½åˆ°é¡µé¢ä¸Šã€‚æ¢å¥è¯è¯´ï¼Œæ­¤æ—¶é¡µé¢ä¸­ç±»ä¼¼ çš„è¯­æ³•è¿˜æ²¡æœ‰è¢«æ›¿æ¢æˆçœŸæ­£çš„æ•°æ®ã€‚ mountedæ­¤åˆ»å·²ç»å°†ç¼–è¯‘å¥½çš„æ¨¡æ¿æŒ‚è½½åˆ°äº†é¡µé¢ä¸­æŒ‡å®šçš„å®¹å™¨ä¸­æ˜¾ç¤ºã€‚ç”¨æˆ·å·²ç»å¯ä»¥çœ‹åˆ°æ¸²æŸ“å¥½çš„é¡µé¢äº†ã€‚ ä½œç”¨ ç”±äºæ­¤åˆ»å·²ç»æŠŠæ¨¡æ¿æŒ‚è½½åˆ°äº†é¡µé¢ï¼Œæ‰€ä»¥èƒ½å¤Ÿåœ¨æ­¤é’©å­å‡½æ•°ä¸­è·å– DOM èŠ‚ç‚¹ã€‚ æ­¤å‡½æ•°ä¸­ä¹Ÿèƒ½å‘èµ·å¼‚æ­¥è¯·æ±‚ è¿è¡ŒæœŸé—´çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°beforeUpdateçŠ¶æ€æ›´æ–°ä¹‹å‰æ‰§è¡Œæ­¤å‡½æ•°ï¼Œæ­¤åˆ» data ä¸­çš„çŠ¶æ€å€¼æ˜¯æœ€æ–°çš„ï¼Œä½†æ˜¯ç•Œé¢ä¸Šæ˜¾ç¤ºçš„æ•°æ®è¿˜æ˜¯æ—§çš„ã€‚å› æ­¤æ­¤æ—¶è¿˜æ²¡æœ‰å¼€å§‹é‡æ–°æ¸²æŸ“ DOM èŠ‚ç‚¹ã€‚ updatedå®ä¾‹æ›´æ–°å®Œæ¯•åè°ƒç”¨æ­¤å‡½æ•°ï¼Œæ­¤åˆ» data ä¸­çš„çŠ¶æ€å€¼å’Œç•Œé¢ä¸Šæ˜¾ç¤ºçš„æ•°æ®ï¼Œéƒ½å·²ç»å®Œæˆäº†æ›´æ–°ï¼Œç•Œé¢å·²ç»è¢«é‡æ–°æ¸²æŸ“å¥½äº†ã€‚ é”€æ¯æœŸé—´çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°beforeDestroyå®ä¾‹é”€æ¯ä¹‹å‰è°ƒç”¨ã€‚æ­¤åˆ»å®ä¾‹ä»ç„¶å®Œå…¨å¯ç”¨ã€‚ ä½œç”¨ä¸€åˆ‡ä½ æƒ³è¦åœ¨ç»„ä»¶é”€æ¯ä¹‹å‰åšäº‹ï¼Œä¾‹å¦‚å¼¹å‡ºç¡®è®¤çª—ï¼šâ€œä½ ç¡®è®¤åˆ é™¤XXXå—ï¼Ÿâ€ destroyedå®ä¾‹é”€æ¯åè°ƒç”¨ã€‚è°ƒç”¨åï¼ŒVue å®ä¾‹æŒ‡ç¤ºçš„æ‰€æœ‰ä¸œè¥¿éƒ½ä¼šè§£ç»‘å®šï¼Œæ‰€æœ‰çš„äº‹ä»¶ç›‘å¬å™¨ä¼šè¢«ç§»é™¤ï¼Œæ‰€æœ‰çš„å­å®ä¾‹ä¹Ÿä¼šè¢«é”€æ¯ã€‚]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>æ¡†æ¶</category>
      </categories>
      <tags>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[transitionè¿‡æ¸¡ï¼ˆäºŒï¼‰]]></title>
    <url>%2Fposts%2F13167%2F</url>
    <content type="text"><![CDATA[ä¼ é€é—¨ transitionè¿‡æ¸¡ï¼ˆä¸€ï¼‰ transitionè¿‡æ¸¡ï¼ˆäºŒï¼‰ ä¸Šç¯‡æ–‡ç« æ˜¯å¯¹ transitionè¿‡æ¸¡ çš„ä¸€ä¸ªç®€å•ä»‹ç»å’Œä½¿ç”¨ã€‚è¿™ç¯‡æ–‡ç« å°±æ¥èŠèŠå…·ä½“å±æ€§çš„å«ä¹‰å’Œç”¨æ³•ã€‚ transition-property è¿‡æ¸¡å±æ€§ä»ä¸Šä¸€ç¯‡æ–‡ç« èƒ½å¤ŸçŸ¥é“ transition-property æ˜¯æ‹¿æ¥è®¾ç½®å…ƒç´ ä¸­å‚ä¸è¿‡æ¸¡çš„å±æ€§çš„ã€‚å®ƒçš„å¯é€‰å€¼ä¸ºï¼š none æŒ‡æ‰€æœ‰å±æ€§éƒ½ä¸å‚ä¸è¿‡æ¸¡ all æŒ‡æ‰€æœ‰å±æ€§éƒ½å‚ä¸è¿‡æ¸¡ [IDENT] æŒ‡å®šä¸ªåˆ«å±æ€§å‚ä¸è¿‡æ¸¡ ä¸‹é¢æ¥çœ‹ä¸€ä¸ªæ¡ˆä¾‹ï¼š ğŸ‘‡æ¸©é¦¨æç¤ºï¼šä¸ºäº†æ–¹ä¾¿çœ‹æ•ˆæœï¼Œå¯ç‚¹å‡» CSS æŒ‰é’®æŠ˜å ä»£ç éƒ¨åˆ†ï¼Œä»…æ˜¾ç¤ºé¡µé¢ ğŸ‘‡ See the Pen transition-property-demo1 by JingW (@JingW) on CodePen. å½“ä½ ä¾æ¬¡å°†é¼ æ ‡ç§»å…¥ä¸Šæ–¹æ¼”ç¤ºdemoä¸­çš„ä¸‰ä¸ªæŒ‰é’®å°±ä¼šå‘ç°ï¼Œéƒ½åœ¨å„è‡ªä¸‹æ–¹æ˜¾ç¤ºå‡ºäº†ä¸€æ®µæ–‡æœ¬ã€‚æˆ‘ä»¬æƒ³è¦å®ç°çš„ï¼Œå°±æ˜¯è¿™æ®µæ–‡æœ¬çš„æ˜¾ç¤ºéœ€è¦æœ‰ä¸€ä¸ªè¿‡æ¸¡æ•ˆæœï¼Œä¸è¦å¤ªç”Ÿç¡¬ã€‚æœ€ç®€å•çš„ä¸€ç§å®ç°æ–¹æ¡ˆå°±æ˜¯é¼ æ ‡ç§»å…¥æŒ‰é’®å‰ï¼Œæ–‡æœ¬å®¹å™¨çš„ height: 0 ï¼Œé¼ æ ‡ç§»å…¥åå›ºå®šå®¹å™¨é«˜åº¦ height: 150px ï¼ˆç¬¬ä¸€ä¸ªæŒ‰é’®æ•ˆæœå°±ç”¨çš„æ­¤æ–¹æ¡ˆï¼‰ã€‚ä½†åœ¨å®é™…æƒ…å†µä¸­ï¼Œå¾€å¾€æ–‡æœ¬æ˜¯è‡ªé€‚åº”çš„ï¼Œé«˜åº¦æ— æ³•ç¡®å®šï¼Œæ‰€ä»¥å¾ˆè‡ªç„¶çš„ï¼Œæˆ‘ä»¬ä¼šæƒ³åˆ°å°† height: 150px è®¾ç½®ä¸º height: auto ï¼Œè¿™æ ·ä¸å°±èƒ½å¤Ÿå®ç°è‡ªé€‚åº”é«˜åº¦çš„å®¹å™¨è¿‡æ¸¡äº†å˜›ï¼Œè¿™å°±æ˜¯ç¬¬äºŒä¸ªæŒ‰é’®çš„ä¸€å¥—å®ç°æ–¹æ¡ˆã€‚ä½†ç»“æœå¤§å®¶éƒ½çŸ¥é“äº†ï¼Œæ–‡æœ¬å®¹å™¨ä¸å†æ‹¥æœ‰è¿‡æ¸¡çš„åŠ¨ç”»ï¼Œè€Œæ˜¯ç›´æ¥ä» 0px ç¬é—´å˜åŒ–åˆ° autoï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ ç­”æ¡ˆï¼šå¹¶ä¸æ˜¯æ‰€æœ‰çš„å±æ€§å’Œå±æ€§å€¼éƒ½èƒ½å­˜åœ¨è¿‡æ¸¡åŠ¨ç”»ã€‚ è¿™é‡Œç‰¹åˆ«éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœæƒ³è¦æŒ‡å®šæŸä¸ªå±æ€§æœ‰è¿‡æ¸¡çŠ¶æ€ï¼Œå°±éœ€è¦ä¿è¯æˆ‘ä»¬èƒ½å¤Ÿè®¡ç®—å‡ºè¿‡æ¸¡è¿‡ç¨‹ä¸­æ¯ä¸ªæ—¶é—´ç‚¹çš„å±æ€§å€¼ã€‚æ¯”å¦‚ï¼Œä» height: 0; è¿‡æ¸¡åˆ° height: 150px; ï¼Œè¿‡æ¸¡æ—¶é—´æ˜¯ t ï¼Œé‚£æˆ‘ä»¬å¯ä»¥ç®—å‡ºåœ¨ x æ—¶åˆ»çš„å±æ€§çŠ¶æ€æ˜¯ height: (150px-0)*x/t; ã€‚ï¼ˆæ³¨ï¼šè¿™é‡Œå…¬å¼æˆç«‹çš„å‰ææ˜¯å‡è®¾ transition-timing-function: linear; ï¼Œå¦‚æœtransition-timing-function ä¸ºå…¶ä»–å€¼ï¼Œä¸€æ ·å¯ä»¥è®¡ç®—ï¼Œåªä¸è¿‡ç®—æ³•ä¸åŒï¼‰ç„¶è€Œåˆšæ‰ç¬¬äºŒç§æ–¹æ¡ˆè®¾ç½®äº† height: auto;ï¼Œåˆ™åœ¨ x æ—¶åˆ»çš„å±æ€§çŠ¶æ€ä¸º height: (auto-0px)*x/t; ï¼Œæ˜¾ç„¶ï¼Œè¿™ç§çŠ¶æ€æ˜¯ä¸å­˜åœ¨çš„ã€æ— æ³•è¢«è®¡ç®—çš„ï¼Œå› æ­¤åœ¨è®¾ç½®é«˜åº¦å˜æˆ auto ä¹‹åï¼Œä¹Ÿè‡ªç„¶ä¸ä¼šå†æœ‰è¿‡æ¸¡åŠ¨ç”»äº†ã€‚ è§£å†³æ–¹æ¡ˆ ç¬¬ä¸‰ä¸ªæŒ‰é’®çš„æ•ˆæœå°±æ˜¯æˆ‘ä»¬çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œåœ¨é»˜è®¤çŠ¶æ€ä¸‹ï¼Œæˆ‘ä»¬ä¸è®¾ç½®æ–‡æœ¬å®¹å™¨çš„ height: 0 ï¼Œè€Œæ˜¯ç”¨ transform: scale(1, 0); æ¥ä»£æ›¿å®ƒï¼Œæ„æ€æ˜¯åœ¨åˆå§‹çŠ¶æ€ä¸‹ï¼Œæˆ‘ä»¬çš„æ–‡æœ¬å®¹å™¨æ¯”ä¾‹ä¸ºå®½1:1ï¼Œé«˜1:0ï¼Œæ¢å¥è¯è¯´ï¼Œå®½ä¸ºæˆ‘ä»¬è®¾ç½®çš„å®½ï¼Œä½†é«˜åº¦ä¸º0ã€‚åœ¨é¼ æ ‡ç§»å…¥æŒ‰é’®åï¼Œç”¨ transform: scale(1, 1); æ¥ä»£æ›¿æ–¹æ¡ˆäºŒä¸­çš„ height: auto ï¼Œè®¾ç½®æ–‡æœ¬å®¹å™¨çš„å®½é«˜ä¸º1ï¼Œè¿™æ ·å°±åˆèƒ½å‡ºç°è¿‡æ¸¡åŠ¨ç”»äº†ã€‚ å»¶ä¼¸ ç”±æ­¤è¿›è¡Œå»¶ä¼¸ï¼Œå†æ¯”å¦‚æ—¥å¸¸ä¸­æœ€å¸¸ä½¿ç”¨çš„æ§åˆ¶å…ƒç´ æ˜¾ç¤ºéšè—çš„ä»£ç æ˜¯ display: block; å’Œ display: none; ï¼Œè¿™ä¹Ÿæ˜¯ä¸å­˜åœ¨è¿‡æ¸¡åŠ¨ç”»çš„ï¼Œå› æ­¤ï¼Œå¯ä»¥è°ƒæ•´æ”¹ä¸ºä½¿ç”¨ opacity: 1; å’Œ opacity: 0; æ¥æ›¿æ¢ã€‚ transition-duration è¿‡æ¸¡èŠ±è´¹çš„æ—¶é—´è¿™ä¸ªå±æ€§æ²¡ä»€ä¹ˆå¯è®²çš„ï¼Œç”¨å®ƒæ¥è®¾ç½®å…ƒç´ è¿‡æ¸¡çš„æŒç»­æ—¶é—´ transition-timing-function æ•ˆæœæ›²çº¿è¿™ä¸ªå±æ€§æ˜¯è®¾ç½®è¿‡æ¸¡çš„åŠ¨ç”»ç±»å‹çš„ï¼Œæ¢å¥è¯è¯´ï¼Œå°±æ˜¯è®¾ç½®åœ¨è¿‡æ¸¡è¿‡ç¨‹ä¸­å…ƒç´ å€¼çš„å˜åŒ–é€Ÿåº¦ã€‚å®ƒçš„å¯é€‰å€¼åŒ…å«è¿™æ ·å‡ ç»„ï¼š ease | linear | ease-in | ease-out | ease-in-out step-start | step-end | steps([, [ start | end ] ]?) cubic-bezier(, , , ) é¢„è®¾çš„äº”ä¸ªæ—¶é—´æ›²çº¿ See the Pen transition-timing-function-äº”ä¸ªé¢„è®¾æ—¶é—´æ›²çº¿ by JingW (@JingW) on CodePen. é˜¶è·ƒå‡½æ•° stepç›´æ¥ä¸Šæ¡ˆä¾‹å§ï¼Œçœ‹å®Œæ•ˆæœå†æ¥è®²é˜¶è·ƒå‡½æ•°å‡ ä¸ªå‚æ•°çš„å…·ä½“å«ä¹‰ï¼š See the Pen transition-timing-function-é˜¶è·ƒå‡½æ•° by JingW (@JingW) on CodePen. å®é™…ä½“éªŒäº†é˜¶è·ƒå‡½æ•°å¸¦æ¥çš„æ•ˆæœååº”è¯¥å¯¹å…¶æœ‰ä¸ªå¤§æ¦‚è®¤çŸ¥äº†å§ã€‚é˜¶è·ƒå‡½æ•°æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæ­£æ•´æ•°ï¼ŒæŒ‡å®šé˜¶è·ƒå‡½æ•°çš„é—´éš”æ•°ï¼Œä½ å¯ä»¥ç†è§£ä¸ºæŠŠæ•´ä¸ªè¿‡æ¸¡è¿‡ç¨‹æ‹†æˆè‹¥å¹²ä»½å„¿ï¼›ç¬¬äºŒä¸ªå‚æ•°å¯é€‰ï¼Œå€¼ä¸º[ start | end ]ï¼Œå«åšè·ƒç‚¹ï¼ŒæŒ‡å®šæ˜¯åœ¨æ¯ä¸ªé—´éš”çš„èµ·ç‚¹è¿˜æ˜¯ç»ˆç‚¹å‘ç”Ÿé˜¶è·ƒå˜åŒ–ï¼Œé»˜è®¤å€¼ä¸ºendã€‚æŸ¥çœ‹ä¸Šé¢æ¡ˆä¾‹çš„cssä»£ç ï¼Œä½ ä¼šå‘ç°ä¸¤ç§ steps çš„ç®€å†™å½¢å¼ï¼šstep-start å’Œ step-end ï¼Œå®ƒä»¬åˆ†åˆ«ç­‰åŒäºï¼šstep-start = steps(1, start) å’Œ step-end = steps(1, end) ã€‚ cubic-bezier è´å¡å°”æ›²çº¿å‡½æ•°è´å¡å°”æ›²çº¿å‡½æ•°æ¥æ”¶å››ä¸ªå‚æ•°ï¼Œå–å€¼èŒƒå›´æ˜¯ 0 åˆ° 1 ä¹‹é—´çš„æ•°å€¼ï¼ˆåŒ…æ‹¬0å’Œ1ï¼‰ã€‚ è´å¡å°”æ›²çº¿å‡½æ•°ï¼Œå…¶å®å®šä¹‰çš„æ˜¯ å±æ€§çŠ¶æ€ ä¸ æ—¶é—´ çš„ä¸€ä¸ªå…³ç³»å‡½æ•°ã€‚å¦‚ä¸‹åæ ‡è½´æ‰€ç¤ºï¼š ä¸Šå›¾åæ ‡è½´ä¸­æ¨ªåæ ‡æ˜¯æ—¶é—´ï¼Œçºµåæ ‡æ˜¯å±æ€§çŠ¶æ€ï¼Œå³ä¸Šè§’çš„åæ ‡æ˜¯(1,1)ã€‚åœ¨æ—¶é—´æ›²çº¿ä¸­çš„æ¯ä¸€ä¸ªç‚¹ï¼Œè¡¨ç¤ºçš„å°±æ˜¯å¯¹åº”æ—¶åˆ»ä¸‹å±æ€§çš„å–å€¼ï¼Œæ¯ä¸ªç‚¹çš„æ–œç‡è¡¨ç¤ºçš„å°±æ˜¯åœ¨è¿™ä¸ªæ—¶åˆ»å±æ€§çš„å˜åŒ–é€Ÿåº¦ï¼Œå› æ­¤åœ¨æ—¶é—´æ›²çº¿ä¸­æ–œç‡è¶Šå°ï¼Œä¹Ÿå°±æ˜¯è¶Šå¹³ç¼“çš„åœ°æ–¹ï¼Œè¡¨ç¤ºå±æ€§å˜åŒ–é€Ÿåº¦è¶Šæ…¢ï¼›æ–œç‡è¶Šå¤§ï¼Œä¹Ÿå°±æ˜¯è¶Šé™¡å³­çš„åœ°æ–¹ï¼Œè¡¨ç¤ºå±æ€§å˜åŒ–é€Ÿåº¦è¶Šå¿«ã€‚å¦‚ä¸Šå›¾ä¸­å¼€å§‹è·Ÿç»“æŸçš„æ—¶å€™ï¼Œæ–œç‡éƒ½æ¯”è¾ƒå°ï¼Œè€Œä¸­é—´çš„é˜¶æ®µï¼Œæ–œç‡æ¯”è¾ƒå¤§ï¼Œå› æ­¤è¿™ä¸ªæ›²çº¿è¡¨ç¤ºçš„å°±æ˜¯åœ¨å˜åŒ–è¿‡ç¨‹ä¸­ç”±æ…¢åˆ°å¿«å†åˆ°æ…¢çš„ä¸€ä¸ªè¿‡ç¨‹ã€‚ å›åˆ°è´å¡å°”æ›²çº¿å‡½æ•°æ¥æ”¶çš„å››ä¸ªå‚æ•°ä¸Šï¼Œå‰ä¸¤ä¸ªæ˜¯ä¸Šå›¾ä¸­çº¢è‰²ç‚¹çš„åæ ‡(x1,y1)ï¼Œåä¸¤ä¸ªæ˜¯å›¾ä¸­è“è‰²ç‚¹çš„åæ ‡(x2,y2)ï¼Œä¹Ÿå°±æ˜¯ cubic-bezier(x1, y1, x2, y2) è¿™æ ·çš„å½¢å¼ã€‚æˆ‘ä»¬å¯ä»¥åœ¨ http://cubic-bezier.com/ è¿™ä¸ªå·¥å…·ä¸Šæ¥è°ƒæ•´æˆ‘ä»¬ç‹¬ç‰¹çš„è´å¡å°”æ›²çº¿ï¼Œé€šè¿‡æ‹–æ‹½çº¢è‰²è·Ÿè“è‰²ç‚¹ï¼Œå¯ä»¥å½¢æˆä¸ä¸€æ ·çš„è´å¡å°”æ›²çº¿ã€‚æˆ‘ä»¬å‘ç°ï¼Œå…¶å®è§„å®šå–å€¼èŒƒå›´åœ¨[0,1]ä¹‹é—´ï¼Œé’ˆå¯¹çš„æ˜¯xåæ ‡ï¼Œä¹Ÿå°±æ˜¯æ—¶é—´ï¼Œå› ä¸ºæ—¶é—´å¦‚æœè¶…è¿‡äº†è¿™ä¸ªèŒƒå›´ï¼Œå°±ä¼šå‡ºç°åœ¨åŒä¸€ä¸ªæ—¶åˆ»å¯¹åº”äº†ä¸¤ä¸ªä¸åŒçš„å±æ€§çŠ¶æ€ï¼Œè¿™ä¸ªæ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼›è€Œyåæ ‡æ˜¯å¯ä»¥è¶…è¿‡è¿™ä¸ªèŒƒå›´çš„ï¼Œå¦‚ä¸‹æˆ‘ä»¬é€šè¿‡æ‹–æ‹½ä¸¤ä¸ªç‚¹å½¢æˆäº†è¿™æ ·ä¸€ä¸ªæ›²çº¿ï¼š å®ƒè¡¨ç¤ºçš„æ˜¯åœ¨è¿‡æ¸¡è¿‡ç¨‹ä¸­å±æ€§å€¼ä¼šè¶…è¿‡ç»ˆæ­¢çŠ¶æ€çš„è®¾å®šå€¼ç„¶åå†å›åˆ°ç»ˆç‚¹ä½ç½®ï¼Œè¡¨ç°ä¸ºå›å¼¹çš„æ•ˆæœã€‚å¤§å®¶å¯ä»¥åœ¨ http://cubic-bezier.com/ ä¸Šè‡ªå·±æ‹–åŠ¨ä¸¤ä¸ªç‚¹å°è¯•ä¸€ä¸‹ï¼Œæœ€åç‚¹å‡» go æŒ‰é’®æŸ¥çœ‹æ•ˆæœã€‚ ä¸Šé¢ä¸¤ä¸ªå›¾çš„demoæ•ˆæœï¼š See the Pen transition-timing-function-è´å¡å°”æ›²çº¿ by JingW (@JingW) on CodePen. transition-delay å»¶è¿Ÿè¿™ä¸ªå±æ€§åŒæ ·æ²¡å•¥è®²çš„ï¼Œç”¨å®ƒæ¥è®¾ç½®å…ƒç´ å»¶è¿Ÿè¿‡æ¸¡çš„æ—¶é—´ã€‚ transition çš„ä¸è¶³ æ— æ³•åœ¨é¡µé¢åŠ è½½çš„æ—¶å€™è‡ªåŠ¨è§¦å‘ï¼Œå› ä¸ºåªæœ‰å½“å±æ€§å€¼å‘ç”Ÿæ”¹å˜çš„æ—¶å€™æ‰ä¼šè§¦å‘è¿‡æ¸¡åŠ¨ç”»ã€‚ æ— æ³•é‡å¤æ’­æ”¾è¿‡æ¸¡åŠ¨ç”»ï¼Œé™¤éå†æ¬¡è§¦å‘è¿‡æ¸¡äº‹ä»¶ã€‚ æ— æ³•è®¾ç½®å¤šç§çŠ¶æ€ï¼ˆkeyframes åªæœ‰ fromï¼Œtoï¼‰ï¼Œåªèƒ½ä»åˆå§‹çŠ¶æ€è¿‡æ¸¡åˆ°ç»ˆæ­¢çŠ¶æ€ï¼Œæ— æ³•å†è®¾ç½®å…¶ä»–çš„çŠ¶æ€ã€‚ transition è§„åˆ™ä½œç”¨çš„æ˜¯å•ä¸ªå±æ€§çš„è¿‡æ¸¡çŠ¶æ€ï¼Œä¸èƒ½æ¶‰åŠå¤šä¸ªå±æ€§ï¼Œå³ä½¿å®šä¹‰äº† transition: all 1s ease 0s; è¿™æ ·çš„è§„åˆ™ï¼Œå…¶å¯¹åº”çš„æ¯ä¸ªå±æ€§è¿‡æ¸¡åŠ¨ç”»ä¹Ÿéƒ½æ˜¯ç›¸äº’ç‹¬ç«‹ï¼Œç›¸å½“äºæ˜¯å®šä¹‰äº†å¾ˆå¤šä¸ª transition è§„åˆ™ï¼Œè€Œæ¯ä¸ª transition åªä½œç”¨äºä¸€ä¸ªå±æ€§ã€‚ èµ„æº Easing Functions Cheat Sheet cubic-bezier]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>CSS3</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[transitionè¿‡æ¸¡ï¼ˆä¸€ï¼‰]]></title>
    <url>%2Fposts%2F24967%2F</url>
    <content type="text"><![CDATA[ä¼ é€é—¨ transitionè¿‡æ¸¡ï¼ˆä¸€ï¼‰ transitionè¿‡æ¸¡ï¼ˆäºŒï¼‰ ä»‹ç» CSS3 è¿‡æ¸¡æ˜¯å…ƒç´ ä»ä¸€ç§æ ·å¼é€æ¸æ”¹å˜ä¸ºå¦ä¸€ç§çš„æ•ˆæœã€‚è¦å®ç°è¿™ä¸€ç‚¹ï¼Œå¿…é¡»è§„å®šä¸¤é¡¹å†…å®¹ï¼š æŒ‡å®šè¦æ·»åŠ æ•ˆæœçš„CSSå±æ€§ æŒ‡å®šæ•ˆæœçš„æŒç»­æ—¶é—´ã€‚ â€”â€”â€”â€” å‡ºè‡ª èœé¸Ÿæ•™ç¨‹ è¯­æ³•12345678/* åˆ†å¼€å†™ï¼š*/transition-property: csså±æ€§åç§°;transition-duration: è¿‡æ¸¡æ‰€èŠ±æ—¶é—´(é»˜è®¤0);transition-timing-function: è¿‡æ¸¡çš„æ—¶é—´æ›²çº¿(é»˜è®¤ease);transition-delay: å»¶è¿Ÿæ—¶é—´(é»˜è®¤0);/* ç®€å†™å½¢å¼ï¼š */transitionï¼š CSSå±æ€§ï¼ŒèŠ±è´¹æ—¶é—´ï¼Œæ•ˆæœæ›²çº¿(é»˜è®¤ease)ï¼Œå»¶è¿Ÿæ—¶é—´(é»˜è®¤0) æ —å­ ğŸŒ°å•ä¸ªå±æ€§çš„å˜åŒ– â€”&gt; æŒ‰é’® :hover æ•ˆæœä¸‹é¢çš„ä¸¤ä¸ªæŒ‰é’®ï¼Œåœ¨é¼ æ ‡ç§»å…¥æ—¶éƒ½è¢«è®¾ç½®äº† background: yellow; æ ·å¼ã€‚ä½†åªç»™ç¬¬ä¸€ä¸ªåŠ ä¸Šäº† transition: background 2s; å±æ€§ï¼Œæ„æ€æ˜¯å¦‚æœèƒŒæ™¯å‘ç”Ÿå˜åŒ–ï¼Œåˆ™ç»™2sçš„è¿‡æ¸¡æ•ˆæœã€‚ See the Pen XGvqMB by JingW (@JingW) on CodePen. å¤šä¸ªå±æ€§çš„å˜åŒ– â€”&gt; å•ç‹¬è®¾ç½®é’ˆå¯¹å¤šä¸ªå±æ€§è®¾ç½®è¿‡æ¸¡æ•ˆæœï¼Œç”¨é€—å·éš”å¼€å°±å¥½ã€‚ä¸‹é¢æ¡ˆä¾‹é¼ æ ‡ç§»å…¥åï¼Œä½¿æ­£æ–¹å½¢è¿‡æ¸¡åˆ°åœ†å½¢ï¼Œä¸”é¢œè‰²é€æ¸å˜æµ…ï¼Œæ ¸å¿ƒä»£ç ï¼š1transition: background .5s ease-out, border-radius .5s ease-in; See the Pen transition-å¤šå±æ€§ by JingW (@JingW) on CodePen. å¤šä¸ªå±æ€§çš„å˜åŒ– -&gt; allå¦‚æœè¦è¿‡æ¸¡çš„csså±æ€§è¾ƒå¤šï¼Œå¯ä»¥å°è¯•ä½¿ç”¨ all ä¸€æ­¥æå®šã€‚ä¸‹é¢æ¡ˆä¾‹ä¸­å°†é¼ æ ‡ç§»å…¥æ­£æ–¹å½¢ç›’å­ï¼Œä¼šä½¿å…¶æ…¢æ…¢ç¼©å°ä¸ºä¸€ä¸ªåœ†å½¢ï¼Œä¸”é¢œè‰²é€æ¸å˜æ·±ï¼Œæ ¸å¿ƒä»£ç ï¼š1transition: all .5s ease-out; See the Pen transition-å¤šå±æ€§-all by JingW (@JingW) on CodePen. å®ç”¨ demoä¸‹æ‹‰å¯¼èˆªèœå• See the Pen transition-ä¸‹æ‹‰å¯¼èˆª by JingW (@JingW) on CodePen.]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>CSS3</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HTML5çš„è‡ªå®šä¹‰å±æ€§]]></title>
    <url>%2Fposts%2F39974%2F</url>
    <content type="text"><![CDATA[åœ¨ HTML5 ä¸­æˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰å±æ€§ï¼Œå…¶æ ¼å¼ä¸º data-*=&quot;&quot; 1234567891011121314&lt;div id="demo" data-my-name="sw" data-age="10"&gt;&lt;script&gt;/* Node.dataset æ˜¯ä»¥å¯¹è±¡å½¢å¼å­˜åœ¨çš„ï¼Œå½“æˆ‘ä»¬ä¸ºåŒä¸€ä¸ª DOM èŠ‚ç‚¹æŒ‡å®šäº†å¤šä¸ªè‡ªå®šä¹‰å±æ€§æ—¶ï¼Œ Node.dataset åˆ™å­˜å‚¨äº†æ‰€æœ‰çš„è‡ªå®šä¹‰å±æ€§çš„å€¼ã€‚ */var demo = document.querySelector("#demo");//è·å–//æ³¨ï¼šå½“æˆ‘ä»¬å¦‚ä¸‹æ ¼å¼è®¾ç½®æ—¶ï¼Œåˆ™éœ€è¦ä»¥é©¼å³°æ ¼å¼æ‰èƒ½æ­£ç¡®è·å–var name = demo.dataset['myName'];var age = demo.dataset['age'];//è®¾ç½®demo.dataset['name'] = 'web developer';&lt;script/&gt; èµ„æºmdn - data-*]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>HTML</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[å¦‚ä½•ä½¿ç”¨webpack4]]></title>
    <url>%2Fposts%2F47462%2F</url>
    <content type="text"><![CDATA[ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ webpackç½‘é¡µä¸­å¼•ç”¨çš„å¸¸è§é™æ€èµ„æº ç±»å‹ é™æ€èµ„æº JS .js .jsx .coffee .tsï¼ˆTypeScript ç±» C# è¯­è¨€ï¼‰ CSS .css .less .sass .scss Images .jpg .png .gif .bmp .svg å­—ä½“æ–‡ä»¶ï¼ˆFontsï¼‰ .svg .ttf .eot .woff .woff2 æ¨¡æ¿æ–‡ä»¶ .ejs .jade .vueã€è¿™æ˜¯åœ¨webpackä¸­å®šä¹‰ç»„ä»¶çš„æ–¹å¼ï¼Œæ¨èè¿™ä¹ˆç”¨ã€‘ å¼•å…¥è¿‡å¤šé™æ€èµ„æºæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ ç½‘é¡µåŠ è½½é€Ÿåº¦æ…¢ï¼Œ å› æ­¤æˆ‘ä»¬è¦å‘èµ·å¾ˆå¤šçš„äºŒæ¬¡è¯·æ±‚ è¿˜è¦å¤„ç†é”™ç»¼å¤æ‚çš„ä¾èµ–å…³ç³» å¦‚ä½•è§£å†³ä¸Šè¿°ä¸¤ä¸ªé—®é¢˜ åˆå¹¶ã€å‹ç¼©ã€ç²¾çµå›¾ã€å›¾ç‰‡çš„ Base64 ç¼–ç  å¯ä»¥ä½¿ç”¨ requireJSã€ä¹Ÿå¯ä»¥ä½¿ç”¨ webpack æ¥è§£å†³å„ä¸ªåŒ…ä¹‹é—´çš„å¤æ‚ä¾èµ–å…³ç³» å¦‚ä½•å®Œç¾å®ç°ä¸Šè¿°çš„2ç§è§£å†³æ–¹æ¡ˆ ä½¿ç”¨ Gulpï¼Œ åŸºäº task ä»»åŠ¡ ä½¿ç”¨ webpackï¼Œ åŸºäºæ•´ä¸ªé¡¹ç›®è¿›è¡Œæ„å»º å€ŸåŠ©äº webpack è¿™ä¸ªå‰ç«¯è‡ªåŠ¨åŒ–æ„å»ºå·¥å…·ï¼Œå¯ä»¥å®Œç¾å®ç°èµ„æºçš„åˆå¹¶ã€æ‰“åŒ…ã€å‹ç¼©ã€æ··æ·†ç­‰è¯¸å¤šåŠŸèƒ½ ç®€ä»‹webpack æ˜¯åŸºäº Node.js å¼€å‘å‡ºæ¥çš„ä¸€ä¸ªå‰ç«¯é¡¹ç›®æ‰“åŒ…å·¥å…·ã€‚ å®‰è£… &amp; åˆæ­¥ä½¿ç”¨ å¦‚æœç¬¬ä¸€æ¬¡å®‰è£…ï¼Œéœ€è¦å…¨å±€å®‰è£… ã€ webpack &amp;&amp; webpack-cli ã€: 1npm install -g webpack webpack-cli åˆå§‹åŒ–é¡¹ç›® 123456# åˆ›å»ºæ–‡ä»¶å¤¹mkdir webpack4-demo# è¿›å…¥cd webpack4-demo# åˆå§‹åŒ–npm init -y ä»¥ä¸‹é¢çš„ç›®å½•ç»“æ„åˆ›å»ºæ–‡ä»¶ 123456789101112â”œâ”€â”€ package.jsonâ””â”€â”€ src â”œâ”€â”€ css â”‚ â””â”€â”€ index.css â”œâ”€â”€ images â”‚ â””â”€â”€ temp.png â”œâ”€â”€ index.html â”œâ”€â”€ js â”‚ â”œâ”€â”€ a.js â”‚ â”œâ”€â”€ b.js â”‚ â””â”€â”€ index.js â””â”€â”€ main.js index.css 1234567body &#123; display: flex;&#125;ul li &#123; box-shadow: 2px 2px 2px rgba(31, 31, 31, 0.05);&#125; index.html 123456789101112131415161718&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt; &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt; &lt;title&gt;Document&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;ul id="list"&gt; &lt;li&gt;1&lt;/li&gt; &lt;li&gt;2&lt;/li&gt; &lt;li&gt;3&lt;/li&gt; &lt;li&gt;4&lt;/li&gt; &lt;/ul&gt;&lt;/body&gt;&lt;/html&gt; js/a.js 1234567891011import b from './b'import $ from 'jquery'const a = &#123; init() &#123; console.log("æˆ‘æ˜¯ a æ¨¡å—ï¼Œç°åœ¨è¢«åˆå§‹åŒ–äº†") &#125;, binit() &#123; b.init() &#125;&#125;export default a js/b.js 123456const b = &#123; init() &#123; console.log("æˆ‘æ˜¯ b æ¨¡å—ï¼Œç°åœ¨è¢«åˆå§‹åŒ–äº†") &#125;&#125;export default b js/index.js 12345678910111213import $ from 'jquery'const index = &#123; // initåæ‰§è¡Œéš”è¡Œå˜è‰²çš„ä»£ç  init() &#123; // è®¾ç½®å¶æ•°è¡ŒèƒŒæ™¯è‰²ï¼Œç´¢å¼•ä»0å¼€å§‹ï¼Œ0æ˜¯å¶æ•° $('#list li:even').css('backgroundColor', 'lightblue') // è®¾ç½®å¥‡æ•°è¡ŒèƒŒæ™¯è‰² $('#list li:odd').css('backgroundColor', 'pink') &#125;&#125;export default index main.js 12345678910111213import a from './js/a'import b from './js/b'import index from './js/index'import './css/index.css'const main = () =&gt; &#123; console.log('å…¥å£å‡½æ•° main è¢«è°ƒç”¨äº†') a.init() a.binit() b.init() index.init()&#125;main() é¡¹ç›®æ ¹æ–‡ä»¶å¤¹ä¸‹æ‰§è¡Œå‘½ä»¤ npm i webpack webpack-cli -D ä½¿ç”¨ npm i jquery å®‰è£… jQuery ç±»åº“ ç›´æ¥åœ¨é¡µé¢ä¸Šå¼•ç”¨ main.js ä¼šæŠ¥é”™ï¼Œå› ä¸ºæµè§ˆå™¨ä¸è®¤è¯† import $ from &#39;jquery&#39; è¿™ç§JSè¯­æ³•ï¼Œéœ€è¦ä½¿ç”¨ webpack è¿›è¡Œå¤„ç†ï¼Œwebpack é»˜è®¤ä¼šæŠŠè¿™ç§é«˜çº§çš„è¯­æ³•è½¬æ¢ä¸ºä½çº§çš„æµè§ˆå™¨èƒ½è¯†åˆ«çš„è¯­æ³•ï¼š 12345678&lt;ul id="list"&gt; &lt;li&gt;1&lt;/li&gt; &lt;li&gt;2&lt;/li&gt; &lt;li&gt;3&lt;/li&gt; &lt;li&gt;4&lt;/li&gt;&lt;/ul&gt;&lt;!-- ç›´æ¥å¼•å…¥ä¼šæŠ¥é”™ --&gt;&lt;script src="./main.js"&gt;&lt;/script&gt; è¿è¡Œ webpack å…¥å£æ–‡ä»¶è·¯å¾„ æ¨¡å¼ è¿è¡Œ main.js å…¥å£æ–‡ä»¶ï¼š 123webpack src/main.js --mode development # å¼€å‘ç¯å¢ƒæˆ–è€…webpack src/main.js --mode production # ç”Ÿäº§ç¯å¢ƒ ä¸è¿‡æ¯æ¬¡éƒ½è¦è¾“å…¥è¿™ä¸ªå‘½ä»¤ï¼Œéå¸¸éº»çƒ¦ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨package.jsonçš„scriptsä¸­åŠ å…¥ä¸¤ä¸ªæŒ‡ä»¤æˆå‘˜ï¼š 1234"scripts": &#123; "dev": "webpack src/main.js --mode development", "build": "webpack src/main.js --mode production"&#125;, ä»¥ååªéœ€è¦åœ¨å‘½ä»¤è¡Œæ‰§è¡Œ npm run dev ä¾¿ç›¸å½“äºæ‰§è¡Œ webpack --mode development ï¼Œæ‰§è¡Œ npm run build ä¾¿ç›¸å½“äºæ‰§è¡Œ webpack --mode productionã€‚ ä½¿ç”¨é…ç½®æ–‡ä»¶ç®€åŒ–æ‰“åŒ…å‘½ä»¤ åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­åˆ›å»º webpack.config.js ç”±äºè¿è¡Œ webpack å‘½ä»¤çš„æ—¶å€™ï¼Œwebpack éœ€è¦æŒ‡å®šå…¥å£æ–‡ä»¶å’Œè¾“å‡ºæ–‡ä»¶çš„è·¯å¾„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨ webpack.config.js ä¸­é…ç½®è¿™ä¸¤ä¸ªè·¯å¾„ï¼š 1234567891011121314151617// å¯¼å…¥å¤„ç†è·¯å¾„çš„æ¨¡å—const path = require('path')// å¯¼å‡ºä¸€ä¸ªé…ç½®å¯¹è±¡ï¼Œå°†æ¥ webpack åœ¨å¯åŠ¨çš„æ—¶å€™ï¼Œ// ä¼šé»˜è®¤æ¥æŸ¥æ‰¾ webpack.config.js ï¼Œ// å¹¶è¯»å–è¿™ä¸ªæ–‡ä»¶ä¸­å¯¼å‡ºçš„é…ç½®å¯¹è±¡ï¼Œæ¥è¿›è¡Œæ‰“åŒ…å¤„ç†module.exports = &#123; // é…ç½®å…¥å£æ–‡ä»¶ï¼Œè¡¨ç¤ºè¦ä½¿ç”¨ webpack æ‰“åŒ…å“ªä¸ªæ–‡ä»¶ // è‹¥ä¸é…ç½® webpack å°†è‡ªåŠ¨æŸ¥æ‰¾ src ç›®å½•ä¸‹çš„ index.js æ–‡ä»¶ entry: &#123; main: path.join(__dirname, './src/main.js') &#125;, output: &#123; filename: "[name].bundle.[hash].js", //è¾“å‡ºæ–‡ä»¶åï¼Œ[name]è¡¨ç¤ºå…¥å£æ–‡ä»¶jsåï¼Œ[hash]ä¼šåœ¨åé¢ç”Ÿæˆéšæœºhashå€¼ path: path.join(__dirname, "./dist") //è¾“å‡ºæ–‡ä»¶è·¯å¾„ &#125;&#125; ç”±äºæ­¤æ—¶å·²ç»é…ç½®äº†å…¥å£æ–‡ä»¶ï¼Œpackage.json ä¸­çš„è„šæœ¬å‘½ä»¤å°±å¯ç®€åŒ–ä¸ºï¼š 12"dev": "webpack --mode development","build": "webpack --mode production" å®ç° webpack å®æ—¶æ‰“åŒ…æ„å»ºwebpack æä¾›äº†ä¸€ä¸ªå¯é€‰çš„æœ¬åœ°å¼€å‘æœåŠ¡å™¨ï¼Œè¿™ä¸ªæœ¬åœ°æœåŠ¡å™¨åŸºäº node.js æ„å»ºï¼Œå®ƒæ˜¯ä¸€ä¸ªå•ç‹¬çš„æ’ä»¶ï¼Œå«åš webpack-dev-server ï¼Œåœ¨ webpack ä¸­è¿›è¡Œé…ç½®ä¹‹å‰éœ€è¦å•ç‹¬å®‰è£…å®ƒä½œä¸ºé¡¹ç›®ä¾èµ–ã€‚ devServer ä½œä¸º webpack é…ç½®é€‰é¡¹ä¸­çš„ä¸€é¡¹ï¼Œä»¥ä¸‹æ˜¯å®ƒçš„ä¸€äº›é…ç½®é€‰é¡¹: contentBase ï¼šè®¾ç½®æœåŠ¡å™¨æ‰€è¯»å–æ–‡ä»¶çš„ç›®å½•ï¼Œå½“å‰æˆ‘ä»¬è®¾ç½®ä¸ºâ€./distâ€ port ï¼šè®¾ç½®ç«¯å£å·ï¼Œå¦‚æœçœç•¥ï¼Œé»˜è®¤ä¸º8080 inline ï¼šè®¾ç½®ä¸ºtrueï¼Œå½“æºæ–‡ä»¶æ”¹å˜æ—¶ä¼šè‡ªåŠ¨åˆ·æ–°é¡µé¢ historyApiFallback ï¼šè®¾ç½®ä¸ºtrueï¼Œæ‰€æœ‰çš„è·³è½¬å°†æŒ‡å‘index.html ç”±äºæ¯æ¬¡é‡æ–°ä¿®æ”¹ä»£ç ä¹‹åï¼Œéƒ½éœ€è¦æ‰‹åŠ¨è¿è¡Œ webpack æ‰“åŒ…çš„å‘½ä»¤ï¼Œæ¯”è¾ƒéº»çƒ¦ï¼Œæ‰€ä»¥ä½¿ç”¨ webpack-dev-server æ¥å®ç°ä»£ç å®æ—¶æ‰“åŒ…ç¼–è¯‘ï¼Œå½“ä¿®æ”¹ä»£ç ä¹‹åï¼Œä¼šè‡ªåŠ¨è¿›è¡Œæ‰“åŒ…æ„å»ºã€‚ è¿è¡Œ npm i webpack-dev-server -D å®‰è£…åˆ°å¼€å‘ä¾èµ– å®‰è£…å®Œæˆä¹‹åï¼Œä¿®æ”¹ä¹‹å‰åœ¨ package.json ä¸­æ·»åŠ çš„ dev æŒ‡ä»¤ï¼š 1"dev": "webpack-dev-server --mode development" è¿è¡ŒæŒ‡ä»¤ npm run dev ï¼Œå‘ç°å¯ä»¥è¿›è¡Œå®æ—¶æ‰“åŒ…ï¼Œä½†æ˜¯ dist ç›®å½•ä¸‹å¹¶æ²¡æœ‰ç”Ÿæˆ main.bundle.js æ–‡ä»¶ï¼Œè¿™æ˜¯å› ä¸º webpack-dev-server å°†æ‰“åŒ…å¥½çš„æ–‡ä»¶æ”¾åœ¨äº†å†…å­˜ä¸­ã€‚ æŠŠ bundle.js æ”¾åœ¨å†…å­˜ä¸­çš„å¥½å¤„æ˜¯ï¼šç”±äºéœ€è¦å®æ—¶æ‰“åŒ…ç¼–è¯‘ï¼Œæ‰€ä»¥æ”¾åœ¨å†…å­˜ä¸­é€Ÿåº¦ä¼šéå¸¸å¿« è¿™ä¸ªæ—¶å€™è®¿é—® webpack-dev-server å¯åŠ¨çš„ http://localhost:8080/ ç½‘ç«™ï¼Œå‘ç°æ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹çš„é¢æ¿ï¼Œéœ€è¦ç‚¹å‡»åˆ° src ç›®å½•ä¸‹ï¼Œæ‰èƒ½æ‰“å¼€æˆ‘ä»¬çš„ index é¦–é¡µï¼Œæ­¤æ—¶å¼•ç”¨ä¸åˆ° main.bundle.js æ–‡ä»¶ï¼Œéœ€è¦ä¿®æ”¹ index.html ä¸­ script çš„ src å±æ€§ä¸º:&lt;script src=&quot;../main.bundle.js&quot;&gt;&lt;/script&gt; ä¸ºäº†èƒ½åœ¨è®¿é—® http://localhost:8080/ çš„æ—¶å€™ç›´æ¥è®¿é—®åˆ° index é¦–é¡µï¼Œå¯ä»¥ä½¿ç”¨ --contentBase src æŒ‡ä»¤æ¥ä¿®æ”¹devæŒ‡ä»¤ï¼ŒæŒ‡å®šå¯åŠ¨çš„æ ¹ç›®å½•ï¼š 1"dev": "webpack-dev-server --mode development --contentBase src", æ’ä»¶ï¼ˆPluginsï¼‰æ’ä»¶ï¼ˆPluginsï¼‰æ˜¯ç”¨æ¥æ‹“å±• webpack åŠŸèƒ½çš„ï¼Œå®ƒä»¬ä¼šåœ¨æ•´ä¸ªæ„å»ºè¿‡ç¨‹ä¸­ç”Ÿæ•ˆï¼Œæ‰§è¡Œç›¸å…³çš„ä»»åŠ¡ã€‚Loaders å’Œ Plugins å¸¸å¸¸è¢«å¼„æ··ï¼Œä½†æ˜¯å®ƒä»¬å…¶å®æ˜¯å®Œå…¨ä¸åŒçš„ä¸œè¥¿ï¼Œå¯ä»¥è¿™ä¹ˆæ¥è¯´ï¼Œloaders æ˜¯åœ¨æ‰“åŒ…æ„å»ºè¿‡ç¨‹ä¸­ç”¨æ¥å¤„ç†æºæ–‡ä»¶çš„ï¼ˆJSXï¼ŒScssï¼ŒLess..ï¼‰ï¼Œä¸€æ¬¡å¤„ç†ä¸€ä¸ªï¼Œæ’ä»¶å¹¶ä¸ç›´æ¥æ“ä½œå•ä¸ªæ–‡ä»¶ï¼Œå®ƒç›´æ¥å¯¹æ•´ä¸ªæ„å»ºè¿‡ç¨‹å…¶ä½œç”¨ã€‚ ä½¿ç”¨ html-webpack-plugin æ’ä»¶é…ç½®å¯åŠ¨é¡µé¢ç”±äºä½¿ç”¨ --contentBase æŒ‡ä»¤çš„è¿‡ç¨‹æ¯”è¾ƒç¹çï¼Œéœ€è¦æŒ‡å®šå¯åŠ¨çš„ç›®å½•ï¼ŒåŒæ—¶è¿˜éœ€è¦ä¿®æ”¹ index.html ä¸­ script æ ‡ç­¾çš„ src å±æ€§ï¼Œæ‰€ä»¥æ¨èä½¿ç”¨ html-webpack-plugin æ’ä»¶é…ç½®å¯åŠ¨é¡µé¢ã€‚ è¿è¡Œ npm i html-webpack-plugin -D å®‰è£…åˆ°å¼€å‘ä¾èµ– ä¿®æ”¹ webpack.config.js é…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930// å¯¼å…¥å¤„ç†è·¯å¾„çš„æ¨¡å—const path = require('path')// å¯¼å…¥è‡ªåŠ¨ç”ŸæˆHTMlæ–‡ä»¶çš„æ’ä»¶const htmlWebpackPlugin = require('html-webpack-plugin')// å¯¼å‡ºä¸€ä¸ªé…ç½®å¯¹è±¡ï¼Œå°†æ¥ webpack åœ¨å¯åŠ¨çš„æ—¶å€™ï¼Œ// ä¼šé»˜è®¤æ¥æŸ¥æ‰¾ webpack.config.js ï¼Œ// å¹¶è¯»å–è¿™ä¸ªæ–‡ä»¶ä¸­å¯¼å‡ºçš„é…ç½®å¯¹è±¡ï¼Œæ¥è¿›è¡Œæ‰“åŒ…å¤„ç†module.exports = &#123; // é…ç½®å…¥å£æ–‡ä»¶ï¼Œè¡¨ç¤ºè¦ä½¿ç”¨ webpack æ‰“åŒ…å“ªä¸ªæ–‡ä»¶ // è‹¥ä¸é…ç½® webpack å°†è‡ªåŠ¨æŸ¥æ‰¾ src ç›®å½•ä¸‹çš„ index.js æ–‡ä»¶ entry: &#123; main: path.join(__dirname, './src/main.js') &#125;, output: &#123; filename: "[name].bundle.js", //è¾“å‡ºæ–‡ä»¶åï¼Œ[name]è¡¨ç¤ºå…¥å£æ–‡ä»¶jså path: path.join(__dirname, "./dist") //è¾“å‡ºæ–‡ä»¶è·¯å¾„ &#125;, plugins: [ // æ·»åŠ pluginsèŠ‚ç‚¹é…ç½®æ’ä»¶ new htmlWebpackPlugin(&#123; template: path.join(__dirname, './src/index.html'), //æ¨¡æ¿è·¯å¾„ filename: 'index.html', //è‡ªåŠ¨ç”Ÿæˆçš„HTMLæ–‡ä»¶çš„åç§° minify: &#123; // å‹ç¼©HTMLæ–‡ä»¶ removeComments: true, // ç§»é™¤HTMLä¸­çš„æ³¨é‡Š collapseWhitespace: true, // åˆ é™¤ç©ºç™½ç¬¦ä¸æ¢è¡Œç¬¦ minifyCSS: true // å‹ç¼©å†…è”css &#125;, &#125;) ]&#125; æ’¤é”€ package.json ä¸­ script èŠ‚ç‚¹ä¸­çš„ dev æŒ‡ä»¤ä¸ºï¼šdev&quot;: &quot;webpack-dev-server --mode development&quot; å°† index.html ä¸­ script æ ‡ç­¾æ³¨é‡Šæ‰ï¼Œå› ä¸º html-webpack-plugin æ’ä»¶ä¼šè‡ªåŠ¨æŠŠ main.bundle.js æ³¨å…¥åˆ° index.html é¡µé¢ä¸­ã€‚ å®ç°è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ã€çƒ­æ›´æ–°å’Œé…ç½®æµè§ˆå™¨çš„é»˜è®¤ç«¯å£å·æ–¹å¼1ï¼šä¿®æ”¹ package.json çš„ script èŠ‚ç‚¹å¦‚ä¸‹ï¼Œå…¶ä¸­ --open è¡¨ç¤ºè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ï¼Œ --port 4321 è¡¨ç¤ºæ‰“å¼€çš„ç«¯å£å·ä¸º 4321 ï¼Œ--hot è¡¨ç¤ºå¯ç”¨æµè§ˆå™¨çƒ­æ›´æ–°ï¼š 1"dev": "webpack-dev-server --open --port 4321 --hot --mode development", æ–¹å¼2ï¼š(ä¸ªäººæ¨è) ä¿®æ”¹ webpack.config.js æ–‡ä»¶ï¼Œæ–°å¢ devServer èŠ‚ç‚¹å¦‚ä¸‹ï¼š 123456789devServer: &#123; inline: true, //æ‰“åŒ…ååŠ å…¥ä¸€ä¸ª websocket å®¢æˆ·ç«¯ hot: true, // å¯ç”¨çƒ­æ›´æ–° çš„ ç¬¬1æ­¥ open: true, // è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ contentBase: path.resolve(__dirname, 'dist'), // æŒ‡å®šæ‰˜ç®¡çš„æ ¹ç›®å½•ï¼Œä¸æ³¨é‡Šçš„è¯ï¼Œæ— æ³•è®¿é—® src ä»¥å¤–çš„èµ„æºï¼Œæ¯”å¦‚ node_modules host: 'localhost', // ä¸»æœºåœ°å€ port: 4321, // è®¾ç½®å¯åŠ¨æ—¶å€™çš„è¿è¡Œç«¯å£ compress: true // å¼€å‘æœåŠ¡å™¨æ˜¯å¦å¯åŠ¨gzipç­‰å‹ç¼© &#125;, åœ¨å¤´éƒ¨å¼•å…¥ webpack æ¨¡å—ï¼š 12// å¯ç”¨çƒ­æ›´æ–°çš„ ç¬¬2æ­¥const webpack = require('webpack') åœ¨ plugins èŠ‚ç‚¹ä¸‹æ–°å¢ï¼š 12// å¯ç”¨çƒ­æ›´æ–°çš„ç¬¬ 3 æ­¥new webpack.HotModuleReplacementPlugin() Loadersloaders æ˜¯ webpack æœ€å¼ºå¤§çš„åŠŸèƒ½ä¹‹ä¸€ï¼Œé€šè¿‡ä¸åŒçš„ loader ï¼Œwebpack æœ‰èƒ½åŠ›è°ƒç”¨å¤–éƒ¨çš„è„šæœ¬æˆ–å·¥å…·ï¼Œå®ç°å¯¹ä¸åŒæ ¼å¼çš„æ–‡ä»¶çš„å¤„ç†ï¼Œä¾‹å¦‚æŠŠ scss è½¬ä¸º css ï¼Œå°† ES6 ã€ES7 ç­‰è¯­æ³•è½¬åŒ–ä¸ºå½“å‰æµè§ˆå™¨èƒ½è¯†åˆ«çš„è¯­æ³•ï¼Œå°† JSX è½¬åŒ–ä¸º js ç­‰å¤šé¡¹åŠŸèƒ½ã€‚ loaders éœ€è¦å•ç‹¬å®‰è£…å¹¶ä¸”éœ€è¦åœ¨ webpack.config.js ä¸­çš„ modules é…ç½®é¡¹ä¸‹è¿›è¡Œé…ç½®ï¼ŒLoadersçš„é…ç½®åŒ…æ‹¬ä»¥ä¸‹å‡ æ–¹é¢ï¼š testï¼šä¸€ä¸ªç”¨ä»¥åŒ¹é… loaders æ‰€å¤„ç†æ–‡ä»¶çš„æ‹“å±•åçš„æ­£åˆ™è¡¨è¾¾å¼ï¼ˆå¿…é¡»ï¼‰ loaderï¼šloaderçš„åç§°ï¼ˆå¿…é¡»ï¼‰ include/excludeï¼šæ‰‹åŠ¨æ·»åŠ å¿…é¡»å¤„ç†çš„æ–‡ä»¶ï¼ˆæ–‡ä»¶å¤¹ï¼‰æˆ–å±è”½ä¸éœ€è¦å¤„ç†çš„æ–‡ä»¶ï¼ˆæ–‡ä»¶å¤¹ï¼‰ï¼ˆå¯é€‰ï¼‰ï¼› optionsï¼šä¸ºloadersæä¾›é¢å¤–çš„è®¾ç½®é€‰é¡¹ï¼ˆå¯é€‰ï¼‰ æ‰“åŒ… css æ–‡ä»¶ è¿è¡Œnpm i style-loader css-loader --D ä¿®æ”¹ webpack.config.js è¿™ä¸ªé…ç½®æ–‡ä»¶ï¼š 12345678module: &#123; // ç”¨æ¥é…ç½®ç¬¬ä¸‰æ–¹loaderæ¨¡å—çš„ rules: [ // æ–‡ä»¶çš„åŒ¹é…è§„åˆ™ &#123; test: /\.css$/, use: ['style-loader', 'css-loader'] &#125; //å¤„ç†cssæ–‡ä»¶çš„è§„åˆ™ ]&#125;, æ³¨æ„ï¼šuse è¡¨ç¤ºä½¿ç”¨å“ªäº›æ¨¡å—æ¥å¤„ç† test æ‰€åŒ¹é…åˆ°çš„æ–‡ä»¶ï¼›use ä¸­ç›¸å…³ loader æ¨¡å—çš„è°ƒç”¨é¡ºåºæ˜¯ä»åå‘å‰è°ƒç”¨çš„ã€‚ æ‰“åŒ… less æ–‡ä»¶ å¦‚æœä½ ä¹ æƒ¯ä½¿ç”¨ less ï¼Œå¯ä»¥æ‰§è¡Œå‘½ä»¤ npm i less-loader less -D æ¥å®‰è£… less-loader ã€‚ ä¿®æ”¹ webpack.config.js é…ç½®æ–‡ä»¶ï¼š 1234&#123; test: /\.less$/, use: ['style-loader', 'css-loader', 'less-loader']&#125;, //é…ç½®å¤„ç† .less æ–‡ä»¶çš„ç¬¬ä¸‰æ–¹ loader è§„åˆ™ æ‰“åŒ… sass æ–‡ä»¶ ä¾‹å¦‚æˆ‘å¹³å¸¸ä¹ æƒ¯ç”¨ scssï¼Œæ‰€ä»¥ä¼šå®‰è£… sass-loader ï¼šæ‰§è¡Œå‘½ä»¤ npm i sass-loader node-sass --D åœ¨ webpack.config.js ä¸­æ·»åŠ å¤„ç† sass æ–‡ä»¶çš„ loader æ¨¡å—ï¼š 12345&#123; test: /\.scss$/, use: ['style-loader', 'css-loader', 'sass-loader']&#125;,// é…ç½®å¤„ç† .scss æ–‡ä»¶çš„ ç¬¬ä¸‰æ–¹ loader è§„åˆ™ï¼ˆnpm i sass-loaderåè¿˜éœ€è¦ npm i node-sassï¼Œå¦åˆ™ç¼–è¯‘æŠ¥é”™ï¼‰ å¤„ç† css ä¸­çš„å›¾ç‰‡è·¯å¾„ é¢„å¤‡å·¥ä½œï¼š åœ¨ src/css/index.css æ–‡ä»¶ä¸­ç»™ body æ·»åŠ ï¼šbackground-image: url(â€œ../images/temp.pngâ€); æ­¤æ—¶ä¿å­˜ä¼šç¼–è¯‘æŠ¥é”™ï¼Œå› ä¸º webpack æ— æ³•å¤„ç† css ä¸­çš„è·¯å¾„ï¼ˆæ­¤æ¡ˆä¾‹ä¸­ä¸ºâ€”â€”å›¾ç‰‡èµ„æºï¼‰ è¿è¡Œ npm i url-loader file-loader --D åœ¨ webpack.config.js ä¸­æ·»åŠ å¤„ç† url è·¯å¾„çš„ loader æ¨¡å—ï¼š 12345678910111213&#123; test: /\.(jpg|png|bmp|gif|jpeg)$/, use:[&#123; loader:'url-loader', options:&#123; outputPath:'images/',//è¾“å‡ºåˆ°imagesæ–‡ä»¶å¤¹ //æ˜¯æŠŠå°äº500Bçš„æ–‡ä»¶æ‰“æˆ Base64 çš„æ ¼å¼ï¼Œå†™å…¥JS // å¦‚æœä¸å°äºï¼Œurl-loader å°±ä¼šä½¿ç”¨ file-loader å¤„ç†å›¾ç‰‡ // æ‰€ä»¥å¿…é¡»å®‰è£…file-loader limit:500 &#125; &#125;]&#125;, // é…ç½®å›¾ç‰‡è·¯å¾„ å¤„ç† Bootstrap å­—ä½“çš„åŠ è½½é‡è¦(æ›´æ–°)ï¼šwebpack4åçš„ bootstrap å­—ä½“åŠ è½½å·²ç»ä¸èƒ½ä½¿ç”¨ä¸‹é¢è¯¥æ–¹æ³•ï¼Œå¦‚ä½•ä½¿ç”¨å¯ä»¥å‚è€ƒè¿™ç¯‡åšå®¢ï¼šwebpack 4.Xç‰ˆæœ¬çš„ç®€å•ä½¿ç”¨(å¤„ç†js/css/less/scss/url(å›¾ç‰‡)/å­—ä½“æ–‡ä»¶) é¢„å¤‡å·¥ä½œï¼š index.html å†™å…¥ æ¥å±•ç¤ºå­—ä½“å›¾ç‰‡ main.js å¯¼å…¥ import â€˜bootstrap/dist/css/bootstrap.cssâ€™ æ­¤æ—¶æŠ¥é”™ åœ¨ webpack.config.js ä¸­æ·»åŠ å¤„ç†å­—ä½“æ–‡ä»¶çš„ loader æ¨¡å—ï¼š 1234&#123; test: /\.(ttf|eot|svg|woff|woff2)$/, use: 'url-loader'&#125;, // å¤„ç† å­—ä½“æ–‡ä»¶çš„ loader æå–cssæ–‡ä»¶ï¼ˆæ’ä»¶ï¼ï¼‰å…ˆå®‰è£… mini-css-extract-plugin åŒ…ï¼š 1npm install mini-css-extract-plugin -D ç„¶ååœ¨ webpack.config.js ä¸­ä¿®æ”¹å¯¹cssæ–‡ä»¶å¤„ç†çš„é…ç½®ï¼š 123456789101112131415161718// æå–cssvar MiniCssExtractPlugin = require("mini-css-extract-plugin")rules: [ &#123; test: /\.css$/, use: [ process.env.NODE_ENV === 'development' ? 'style-loader' : MiniCssExtractPlugin.loader, 'css-loader'] //å¤„ç†css &#125;, ...]plugins: [ new MiniCssExtractPlugin(&#123; filename: 'style.css' &#125;), ...] æ·»åŠ æµè§ˆå™¨csså‰ç¼€é¦–å…ˆä¸‹è½½ loader ï¼š 1npm i postcss-loader autoprefixer -D ç„¶åæ ¹ç›®å½•æ·»åŠ  postcss.config.js 1234567module.exports = &#123; plugins: &#123; 'autoprefixer': &#123; browsers: 'last 5 version' // ä»£è¡¨æ„æ€ä¸ºæ¯ä¸ªä¸»æµæµè§ˆå™¨çš„æœ€å5ä¸ªç‰ˆæœ¬ &#125; &#125;&#125; æœ€ååœ¨ webpack.config.js ä¸­æ·»åŠ é…ç½®ï¼š 12345678910111213141516rules: [ &#123; test: /\.css$/, use: [ process.env.NODE_ENV === 'development' ? 'style-loader' : MiniCssExtractPlugin.loader, &#123; loader: 'css-loader', options: &#123; importLoaders: 1 &#125; &#125;, "postcss-loader" ] //å¤„ç†css &#125;, ...] ä½¿ç”¨ babel å¤„ç†é«˜çº§ JS è¯­æ³• åœ¨ main.js æ–‡ä»¶ä¸­æ·»åŠ  ES6 ä»£ç ï¼š 123456789101112131415// class å…³é”®å­—ï¼Œæ˜¯ES6ä¸­æä¾›çš„æ–°è¯­æ³•ï¼Œæ˜¯ç”¨æ¥ å®ç° ES6 ä¸­é¢å‘å¯¹è±¡ç¼–ç¨‹çš„æ–¹å¼class Person &#123; // ä½¿ç”¨ static å…³é”®å­—ï¼Œå¯ä»¥å®šä¹‰é™æ€å±æ€§ // æ‰€è°“çš„é™æ€å±æ€§ï¼Œå°±æ˜¯ å¯ä»¥ç›´æ¥é€šè¿‡ ç±»åï¼Œ ç›´æ¥è®¿é—®çš„å±æ€§ // å®ä¾‹å±æ€§ï¼š åªèƒ½é€šè¿‡ç±»çš„å®ä¾‹ï¼Œæ¥è®¿é—®çš„å±æ€§ï¼Œå«åšå®ä¾‹å±æ€§ static info = &#123; name: 'zs', age: 20 &#125;&#125;// è®¿é—® Person ç±»èº«ä¸Šçš„ info é™æ€å±æ€§console.log(Person.info)// åœ¨ webpack ä¸­ï¼Œé»˜è®¤åªèƒ½å¤„ç† ä¸€éƒ¨åˆ† ES6 çš„æ–°è¯­æ³•ï¼Œä¸€äº›æ›´é«˜çº§çš„ES6è¯­æ³•æˆ–è€… ES7 è¯­æ³•ï¼Œwebpack æ˜¯å¤„ç†ä¸äº†çš„ï¼›è¿™æ—¶å€™ï¼Œå°±éœ€è¦ å€ŸåŠ©äºç¬¬ä¸‰æ–¹çš„ loaderï¼Œæ¥å¸®åŠ©webpack å¤„ç†è¿™äº›é«˜çº§çš„è¯­æ³•ï¼Œå½“ç¬¬ä¸‰æ–¹loader æŠŠ é«˜çº§è¯­æ³•è½¬ä¸º ä½çº§çš„è¯­æ³•ä¹‹åï¼Œä¼šæŠŠç»“æœäº¤ç»™ webpack å»æ‰“åŒ…åˆ° bundle.js ä¸­// é€šè¿‡ Babel ï¼Œå¯ä»¥å¸®æˆ‘ä»¬å°† é«˜çº§çš„è¯­æ³•è½¬æ¢ä¸º ä½çº§çš„è¯­æ³• è¿è¡Œå¦‚ä¸‹ä¸¤å¥—å‘½ä»¤ï¼Œå®‰è£…ä¸¤å¥—åŒ…ï¼Œå»å®‰è£… Babel ç›¸å…³çš„loaderåŠŸèƒ½ï¼š 123456// ã€ç›¸å½“äºè½¬æ¢å·¥å…·ã€‘npm i -D @babel/core babel-loader @babel/plugin-transform-runtime @babel/runtime @babel/plugin-proposal-class-properties// ã€ç›¸å½“äºå­—å…¸ã€‘npm i -D @babel/preset-env// =====&gt; ã€Œè½¬æ¢å·¥å…·ã€æ ¹æ®ã€Œå­—å…¸ã€å°† es6 è½¬æ¢ æ‰“å¼€ webpack çš„é…ç½®æ–‡ä»¶ï¼Œåœ¨ module èŠ‚ç‚¹ä¸‹çš„ rules æ•°ç»„ä¸­ï¼Œæ·»åŠ ä¸€ä¸ªæ–°çš„åŒ¹é…è§„åˆ™ï¼š 12345&#123; test: /\.js$/, use: 'babel-loader', exclude: /node_modules/&#125; // é…ç½® Babel æ¥è½¬æ¢é«˜çº§çš„ESè¯­æ³• 2.2 æ³¨æ„ï¼š åœ¨é…ç½® babel çš„ loader è§„åˆ™çš„æ—¶å€™ï¼Œå¿…é¡» æŠŠ node_modules ç›®å½•ï¼Œé€šè¿‡ exclude é€‰é¡¹æ’é™¤æ‰ï¼šåŸå› æœ‰ä¿©ï¼š 2.2.1 å¦‚æœ ä¸æ’é™¤ node_modulesï¼Œ åˆ™Babel ä¼šæŠŠ node_modules ä¸­æ‰€æœ‰çš„ ç¬¬ä¸‰æ–¹ JS æ–‡ä»¶ï¼Œéƒ½æ‰“åŒ…ç¼–è¯‘ï¼Œè¿™æ ·ï¼Œä¼šéå¸¸æ¶ˆè€—CPUï¼ŒåŒæ—¶ï¼Œæ‰“åŒ…é€Ÿåº¦éå¸¸æ…¢ï¼› 2.2.2 å“ªæ€•ï¼Œæœ€ç»ˆï¼ŒBabel æŠŠ æ‰€æœ‰ node_modules ä¸­çš„JSè½¬æ¢å®Œæ¯•äº†ï¼Œä½†æ˜¯ï¼Œé¡¹ç›®ä¹Ÿæ— æ³•æ­£å¸¸è¿è¡Œï¼ åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸­ï¼Œæ–°å»ºä¸€ä¸ªå«åš .babelrc çš„ Babel é…ç½®æ–‡ä»¶ï¼Œè¿™ä¸ªé…ç½®æ–‡ä»¶ï¼Œå±äº JSON æ ¼å¼ï¼Œæ‰€ä»¥ï¼Œåœ¨å†™ .babelrc é…ç½®çš„æ—¶å€™ï¼Œå¿…é¡»ç¬¦åˆ JSON è¯­æ³•è§„èŒƒï¼š ä¸èƒ½å†™æ³¨é‡Šï¼Œå­—ç¬¦ä¸²å¿…é¡»ç”¨åŒå¼•å·ï¼š 123456789101112131415&#123; "presets": [ ["@babel/preset-env", &#123; "modules": false, "targets": &#123; "browsers": ["&gt; 1%", "last 2 versions", "not ie &lt;= 8"] &#125;, "useBuiltIns": "usage" &#125;] ], "plugins": [ "@babel/plugin-transform-runtime", "@babel/plugin-proposal-class-properties" ]&#125; webpack.config.jsé…ç½®é‡åˆ°Error: Cannot find module â€˜@babel/coreâ€™é—®é¢˜ å®˜æ–¹é»˜è®¤babel-loader | babel å¯¹åº”çš„ç‰ˆæœ¬éœ€è¦ä¸€è‡´: å³babel-loaderéœ€è¦æ­é…æœ€æ–°ç‰ˆæœ¬babel ä¸¤ç§è§£å†³æ–¹æ¡ˆ: å›é€€ä½ç‰ˆæœ¬ 1npm install -D babel-loader@7 babel-core babel-preset-env æ›´æ–°åˆ°æœ€é«˜ç‰ˆæœ¬: 1npm install -D babel-loader @babel/core @babel/preset-env webpack å‹ç¼©å’Œä¼˜åŒ–cssæ–‡ä»¶ä¸‹è½½ optimize-css-assets-webpack-plugin æ’ä»¶ï¼š 1npm i optimize-css-assets-webpack-plugin -D åœ¨ webpack.config.js ä¸­å¼•å…¥æ’ä»¶å¹¶æ·»åŠ é…ç½®ï¼š 12345678910111213141516// å‹ç¼©cssconst OptimizeCssAssetsPlugin = require('optimize-css-assets-webpack-plugin')plugins: [ new OptimizeCssAssetsPlugin(&#123; assetNameRegExp: /\.css$/g, //ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼ŒæŒ‡ç¤ºåº”ä¼˜åŒ–/æœ€å°åŒ–çš„èµ„äº§çš„åç§°ã€‚æä¾›çš„æ­£åˆ™è¡¨è¾¾å¼é’ˆå¯¹é…ç½®ä¸­ExtractTextPluginå®ä¾‹å¯¼å‡ºçš„æ–‡ä»¶çš„æ–‡ä»¶åè¿è¡Œï¼Œè€Œä¸æ˜¯æºCSSæ–‡ä»¶çš„æ–‡ä»¶åã€‚é»˜è®¤ä¸º/\.css$/g cssProcessor: require('cssnano'), //ç”¨äºä¼˜åŒ–\æœ€å°åŒ–CSSçš„CSSå¤„ç†å™¨ï¼Œé»˜è®¤ä¸ºcssnano cssProcessorOptions: &#123; safe: true, discardComments: &#123; removeAll: true &#125; &#125;, //ä¼ é€’ç»™cssProcessorçš„é€‰é¡¹ï¼Œé»˜è®¤ä¸º&#123;&#125; canPrint: true //ä¸€ä¸ªå¸ƒå°”å€¼ï¼ŒæŒ‡ç¤ºæ’ä»¶æ˜¯å¦å¯ä»¥å°†æ¶ˆæ¯æ‰“å°åˆ°æ§åˆ¶å°ï¼Œé»˜è®¤ä¸ºtrue &#125;),] å‹ç¼©å’Œä¼˜åŒ–jsæ–‡ä»¶123456789101112131415161718yarn add webpack-parallel-uglify-plugin -Dconst WebpackParallelUglifyPlugin = require('webpack-parallel-uglify-plugin')plugins: [new WebpackParallelUglifyPlugin(&#123; uglifyJS: &#123; output: &#123; beautify: false, //ä¸éœ€è¦æ ¼å¼åŒ– comments: false //ä¸ä¿ç•™æ³¨é‡Š &#125;, compress: &#123; warnings: false, // åœ¨UglifyJsåˆ é™¤æ²¡æœ‰ç”¨åˆ°çš„ä»£ç æ—¶ä¸è¾“å‡ºè­¦å‘Š drop_console: true, // åˆ é™¤æ‰€æœ‰çš„ `console` è¯­å¥ï¼Œå¯ä»¥å…¼å®¹ieæµè§ˆå™¨ collapse_vars: true, // å†…åµŒå®šä¹‰äº†ä½†æ˜¯åªç”¨åˆ°ä¸€æ¬¡çš„å˜é‡ reduce_vars: true // æå–å‡ºå‡ºç°å¤šæ¬¡ä½†æ˜¯æ²¡æœ‰å®šä¹‰æˆå˜é‡å»å¼•ç”¨çš„é™æ€å€¼ &#125; &#125; &#125;)] æå–å…¬å…±æ–‡ä»¶æˆ‘ä»¬å¯çœ‹åˆ° src/js/a.js å’Œ src/main.js éƒ½å¼•å…¥äº† src/js/b.js æ–‡ä»¶ï¼Œä¸ºä»€ä¹ˆè¦æå–å…¬å…±ä»£ç ï¼Œç®€å•æ¥è¯´ï¼Œå°±æ˜¯å‡å°‘ä»£ç å†—ä½™ï¼Œæé«˜åŠ è½½é€Ÿåº¦ã€‚å’Œä¹‹å‰çš„ webpack é…ç½®ä¸ä¸€æ ·ï¼š 1234567891011121314151617181920212223242526//ä¹‹å‰é…ç½®// new webpack.optimize.SplitChunksPlugin(&#123;// name: 'common', // å¦‚æœè¿˜è¦æå–å…¬å…±ä»£ç ,åœ¨æ–°å»ºä¸€ä¸ªå®ä¾‹// minChunks: 2, //é‡å¤ä¸¤æ¬¡ä¹‹åå°±æå–å‡ºæ¥// chunks: ['index', 'a'] // æŒ‡å®šæå–èŒƒå›´// &#125;),//ç°åœ¨é…ç½®optimization: &#123; splitChunks: &#123; cacheGroups: &#123; commons: &#123; // æŠ½ç¦»è‡ªå·±å†™çš„å…¬å…±ä»£ç  chunks: "initial", name: "common", // æ‰“åŒ…åçš„æ–‡ä»¶åï¼Œä»»æ„å‘½å minChunks: 2,//æœ€å°å¼•ç”¨2æ¬¡ minSize: 0 // åªè¦è¶…å‡º0å­—èŠ‚å°±ç”Ÿæˆä¸€ä¸ªæ–°åŒ… &#125;, vendor: &#123; // æŠ½ç¦»ç¬¬ä¸‰æ–¹æ’ä»¶ test: /node_modules/, // æŒ‡å®šæ˜¯node_modulesä¸‹çš„ç¬¬ä¸‰æ–¹åŒ… chunks: 'initial', name: 'vendor', // æ‰“åŒ…åçš„æ–‡ä»¶åï¼Œä»»æ„å‘½å // è®¾ç½®ä¼˜å…ˆçº§ï¼Œé˜²æ­¢å’Œè‡ªå®šä¹‰çš„å…¬å…±ä»£ç æå–æ—¶è¢«è¦†ç›–ï¼Œä¸è¿›è¡Œæ‰“åŒ… priority: 10 &#125;, &#125; &#125;&#125;, Source Maps è°ƒè¯•é…ç½®ä½œä¸ºå¼€å‘ï¼Œä»£ç è°ƒè¯•å½“ç„¶å°‘ä¸äº†ï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œç»è¿‡æ‰“åŒ…åçš„æ–‡ä»¶ï¼Œä½ æ˜¯ä¸å®¹æ˜“æ‰¾åˆ°å‡ºé”™çš„åœ°æ–¹çš„ï¼ŒSource Mapå°±æ˜¯ç”¨æ¥è§£å†³è¿™ä¸ªé—®é¢˜çš„ã€‚ é€šè¿‡å¦‚ä¸‹é…ç½®ï¼Œæˆ‘ä»¬ä¼šåœ¨æ‰“åŒ…æ—¶ç”Ÿæˆå¯¹åº”äºæ‰“åŒ…æ–‡ä»¶çš„ .map æ–‡ä»¶ï¼Œä½¿å¾—ç¼–è¯‘åçš„ä»£ç å¯è¯»æ€§æ›´é«˜ï¼Œæ›´æ˜“äºè°ƒè¯•ã€‚ 123456// webpack.config.js...module.exports = &#123; ... devtool: 'source-map' // ä¼šç”Ÿæˆå¯¹äºè°ƒè¯•çš„å®Œæ•´çš„.mapæ–‡ä»¶ï¼Œä½†åŒæ—¶ä¹Ÿä¼šå‡æ…¢æ‰“åŒ…é€Ÿåº¦&#125; é…ç½®å¥½åï¼Œæˆ‘ä»¬å†æ¬¡è¿è¡Œ npm run build è¿›è¡Œæ‰“åŒ…ï¼Œè¿™æ—¶æˆ‘ä»¬ä¼šå‘ç°åœ¨ dist æ–‡ä»¶å¤¹ä¸­å¤šå‡ºäº†ä¸€ä¸ª bundle.js.map å¦‚æœæˆ‘ä»¬çš„ä»£ç æœ‰ bug ï¼Œåœ¨æµè§ˆå™¨çš„è°ƒè¯•å·¥å…·ä¸­ä¼šæç¤ºé”™è¯¯å‡ºç°çš„ä½ç½®ï¼Œè¿™å°±æ˜¯ devtool: &#39;source-map&#39; é…ç½®é¡¹çš„ä½œç”¨ã€‚ å¼€å‘ç¯å¢ƒ VS ç”Ÿäº§ç¯å¢ƒnpm run devnpm run dev æ˜¯æˆ‘ä»¬å¼€å‘ç¯å¢ƒä¸‹æ‰“åŒ…çš„æ–‡ä»¶ï¼Œå½“ç„¶ç”±äº devServer å¸®æˆ‘ä»¬æŠŠæ–‡ä»¶æ”¾åˆ°å†…å­˜ä¸­äº†ï¼Œæ‰€ä»¥å¹¶ä¸ä¼šè¾“å‡ºæ‰“åŒ…åçš„ dist æ–‡ä»¶å¤¹ã€‚ npm run buildé€šè¿‡ npm run build ä¹‹åä¼šç”Ÿæˆä¸€ä¸ªdistç›®å½•æ–‡ä»¶å¤¹ï¼Œé‡Œé¢æœ‰æˆ‘ä»¬æ‰“åŒ…åçš„æ–‡ä»¶ã€‚ æ¸…ç†/distæ–‡ä»¶å¤¹(CleanwebpackPlugin)ä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°ï¼Œåœ¨æˆ‘ä»¬åˆ æ‰ /dist æ–‡ä»¶å¤¹ä¹‹å‰ï¼Œç”±äºå‰é¢çš„ä»£ç ç¤ºä¾‹é—ç•™ï¼Œå¯¼è‡´æˆ‘ä»¬çš„ /dist æ–‡ä»¶å¤¹æ¯”è¾ƒæ‚ä¹±ã€‚webpack ä¼šç”Ÿæˆæ–‡ä»¶ï¼Œç„¶åå°†è¿™äº›æ–‡ä»¶æ”¾ç½®åœ¨ /dist æ–‡ä»¶å¤¹ä¸­ï¼Œä½†æ˜¯ webpack æ— æ³•è¿½è¸ªåˆ°å“ªäº›æ–‡ä»¶æ˜¯å®é™…åœ¨é¡¹ç›®ä¸­ç”¨åˆ°çš„ã€‚ é€šå¸¸ï¼Œåœ¨æ¯æ¬¡æ„å»ºå‰æ¸…ç† /dist æ–‡ä»¶å¤¹ï¼Œæ˜¯æ¯”è¾ƒæ¨èçš„åšæ³•ï¼Œå› æ­¤åªä¼šç”Ÿæˆç”¨åˆ°çš„æ–‡ä»¶ï¼Œè¿™æ—¶å€™å°±ç”¨åˆ° CleanWebpackPlugin æ’ä»¶äº†ã€‚ 123456789101112npm i clean-webpack-plugin -D// webpack.config.js...const CleanWebpackPlugin = require(&apos;clean-webpack-plugin&apos;); // å¼•å…¥CleanWebpackPluginæ’ä»¶module.exports = &#123; ... plugins: [ ... new CleanWebpackPlugin(), // ä»¥å‰æ‹¬å·é‡Œé¢è¦ä¼ å…¥æ•°ç»„([dist])æ¥æŒ‡å®šè¦åˆ é™¤çš„ç›®å½•ï¼Œæ–°ç‰ˆ CleanWebpackPlugin ä¸éœ€è¦ä¼ ä»»ä½•å‚æ•°äº† ]&#125; æ’ä»¶çš„ä½¿ç”¨æ–¹æ³•éƒ½æ˜¯ä¸€æ ·çš„ï¼Œé¦–å…ˆå¼•å…¥ï¼Œç„¶ånewä¸€ä¸ªå®ä¾‹ï¼Œå®ä¾‹å¯ä¼ å…¥å‚æ•°ã€‚ ç°åœ¨æˆ‘ä»¬è¿è¡Œ npm run build åå°±ä¼šå‘ç°ï¼Œwebpack ä¼šå…ˆå°† /dist æ–‡ä»¶å¤¹åˆ é™¤ï¼Œç„¶åå†ç”Ÿäº§æ–°çš„ /dist æ–‡ä»¶å¤¹ã€‚ webpack4.x ç›¸å…³èµ„æº webpack4.xæœ€è¯¦ç»†å…¥é—¨è®²è§£ ä»åŸºç¡€åˆ°å®æˆ˜ æ‰‹æ‘¸æ‰‹å¸¦ä½ æŒæ¡æ–°ç‰ˆWebpack4.0è¯¦è§£ æ•™ä½ çœ‹æ–‡æ¡£ webpack3 ä¸ webpack4 ä½¿ç”¨å·®å¼‚ webpack4.xå¼€å‘ç¯å¢ƒé…ç½®]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>æ„å»ºå·¥å…·</category>
      </categories>
      <tags>
        <tag>webpack</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[cookieä¸sessionåŒºåˆ«]]></title>
    <url>%2Fposts%2F63891%2F</url>
    <content type="text"><![CDATA[ä¿å­˜çŠ¶æ€cookie æ˜¯é€šè¿‡åœ¨å®¢æˆ·ç«¯è®°å½•ä¿¡æ¯ç¡®å®šç”¨æˆ·èº«ä»½çš„ï¼Œè€Œ session åˆ™é€šè¿‡åœ¨æœåŠ¡å™¨ç«¯è®°å½•ä¿¡æ¯æ¥ç¡®å®šç”¨æˆ·èº«ä»½ã€‚ä¸‹é¢æ˜¯ç½‘ä¸Šæ‰¾åˆ°çš„ä¸¤å¼ å›¾ï¼Œèƒ½å¤Ÿå¯¹ cookie ä»¥åŠ session åœ¨å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯ä¼ é€’çš„è¿‡ç¨‹æœ‰ä¸ªè¾ƒæ¸…æ™°çš„è®¤è¯†ï¼š ä½¿ç”¨æ–¹å¼cookieæœºåˆ¶ï¼š é»˜è®¤æƒ…å†µä¸‹ï¼Œcookie ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œæµè§ˆå™¨å…³é—­å°±æ²¡äº†ï¼›è®¾ç½®è¿‡æœŸæ—¶é—´åï¼Œcookie ä¿å­˜åœ¨ç¡¬ç›˜ä¸Šï¼Œå…³é—­æµè§ˆå™¨ä»ç„¶å­˜åœ¨ï¼Œç›´åˆ°è¿‡æœŸæ—¶é—´ç»“æŸæ‰æ¶ˆå¤±ã€‚ cookie ä»¥æ–‡æœ¬å½¢å¼ä¿å­˜åœ¨å®¢æˆ·ç«¯ï¼Œæ¯æ¬¡è¯·æ±‚æ—¶éƒ½å¸¦ä¸Šå®ƒã€‚ sessionæœºåˆ¶ï¼š æ¯æ¬¡è¯·æ±‚ï¼ŒæœåŠ¡å™¨ä¼šæ£€æŸ¥æ˜¯å¦æœ‰ sessionid æœ‰ï¼ŒæœåŠ¡å™¨æ ¹æ® id è¿”å›å¯¹åº” session å¯¹è±¡ æ— ï¼ŒæœåŠ¡å™¨åˆ›å»ºæ–°çš„ session å¯¹è±¡ï¼Œå¹¶æŠŠ sessionid åœ¨æœ¬æ¬¡å“åº”ä¸­è¿”å›ç»™å®¢æˆ·ç«¯ã€‚ é€šå¸¸ä½¿ç”¨ cookie æ–¹å¼å­˜å‚¨ sessionid åˆ°å®¢æˆ·ç«¯ ç”¨æˆ·ç¦ç”¨ cookie æ—¶ï¼Œåˆ™æœåŠ¡ç«¯å¯ä»¥ä½¿ç”¨URLé‡å†™ï¼Œå¯ä»¥é€šè¿‡ response.encodeURL(url) è¿›è¡Œå®ç° å­˜å‚¨æ–¹å¼ cookie åªèƒ½ä¿å­˜å­—ç¬¦ä¸²ç±»å‹ï¼Œä»¥æ–‡æœ¬çš„æ–¹å¼ session èƒ½æ”¯æŒä»»ä½•ç±»å‹çš„å¯¹è±¡ å­˜å‚¨å¤§å° cookieå•ä¸ªä¸è¶…è¿‡4kb sessionæ²¡é™åˆ¶]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>JS</category>
      </categories>
      <tags>
        <tag>cookie</tag>
        <tag>session</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç¬”è®°]]></title>
    <url>%2Fposts%2F51696%2F</url>
    <content type="text"><![CDATA[å‰è¨€ä¹‹å‰å¯¹ç®—æ³•å’Œæ•°æ®ç»“æ„æ²¡æœ‰ä¸€ä¸ªç³»ç»Ÿçš„å­¦ä¹ ï¼Œä»ä»Šå¤©å¼€å§‹æŠ½ç©ºå•ƒå•ƒä¹¦å§ã€‚å°±ä»è¿™æœ¬ç¨‹æ°è€å¸ˆçš„ã€Šå¤§è¯æ•°æ®ç»“æ„ã€‹èµ·æ­¥ã€‚ p.s. åŸç¬”è®°æ˜¯å­˜æ”¾åœ¨å¹•å¸ƒä¸Šçš„ï¼Œæ–‡å­—ç‰ˆçœ‹ç€ä¸èˆ’æœå¯ä»¥ ç‚¹å‡»è¿™é‡Œ çœ‹æ€ç»´å¯¼å›¾ç‰ˆã€‚ æ•°æ®ç»“æ„ç»ªè®º åŸºæœ¬æ¦‚å¿µå’Œæœ¯è¯­ æ•°æ® å®šä¹‰ï¼šæ˜¯æè¿°å®¢è§‚äº‹ç‰©çš„ç¬¦å·ï¼Œæ˜¯è®¡ç®—æœºä¸­å¯ä»¥æ“ä½œçš„å¯¹è±¡ï¼Œæ˜¯èƒ½è¢«è®¡ç®—æœºè¯†åˆ«ï¼Œå¹¶è¾“å…¥ç»™è®¡ç®—æœºå¤„ç†çš„é›†åˆç¬¦å·ã€‚ æ€»ç»“ï¼šæ•°æ®å³ç¬¦å·ï¼Œå¿…å¤‡æ¡ä»¶ï¼š å¯ä»¥è¾“å…¥åˆ°è®¡ç®—æœºä¸­ èƒ½è¢«è®¡ç®—æœºç¨‹åºå¤„ç† ä¸¾ä¾‹ï¼š MP3æ˜¯å£°éŸ³æ•°æ® å›¾ç‰‡æ˜¯å›¾åƒæ•°æ® #æ•°æ®å¯¹è±¡ å®šä¹‰ï¼šæ˜¯æ€§è´¨ç›¸åŒçš„æ•°æ®å…ƒç´ çš„é›†åˆï¼Œæ˜¯æ•°æ®çš„å­é›† ä¸¾ä¾‹ï¼š äººï¼ˆéƒ½æœ‰å§“åã€ç”Ÿæ—¥ç­‰ç›¸åŒçš„æ•°æ®é¡¹ï¼‰ #æ•°æ®å…ƒç´  å®šä¹‰ï¼šæ˜¯ç»„æˆæ•°æ®çš„ã€æœ‰ä¸€å®šæ„ä¹‰çš„åŸºæœ¬å•ä½ï¼Œåœ¨è®¡ç®—æœºä¸­é€šå¸¸ä½œä¸ºæ•´ä½“å¤„ç†ã€‚ä¹Ÿè¢«æˆä¸ºè®°å½•ã€‚ ä¸¾ä¾‹ï¼š äººç±»ä¸­çš„äºº ç•œç±»ä¸­çš„ç‰›é©¬ç¾Š #æ•°æ®é¡¹ å®šä¹‰ï¼šä¸€ä¸ªæ•°æ®å…ƒç´ å¯ä»¥ç”±è‹¥å¹²ä¸ªæ•°æ®é¡¹ç»„æˆ ä¸¾ä¾‹ï¼š äººçš„å§“åã€å¹´é¾„ã€æ€§åˆ« æ•°æ®ç»“æ„ å®šä¹‰ï¼šæ˜¯ç›¸äº’ä¹‹é—´å­˜åœ¨ä¸€ç§æˆ–å¤šç§ç‰¹å®šå…³ç³»çš„æ•°æ®å…ƒç´ çš„é›†åˆ #é€»è¾‘ç»“æ„ å®šä¹‰ï¼šæŒ‡æ•°æ®å¯¹è±¡ä¸­æ•°æ®å…ƒç´ ä¹‹é—´çš„ç›¸äº’å…³ç³» ç±»å‹ #é›†åˆç»“æ„ åŒå±äºä¸€ä¸ªé›†åˆçš„æ•°æ®å…ƒç´  #çº¿æ€§ç»“æ„ æ•°æ®å…ƒç´ ä¹‹é—´æ˜¯ä¸€å¯¹ä¸€çš„å…³ç³» #æ ‘å½¢ç»“æ„ æ•°æ®å…ƒç´ ä¹‹é—´å­˜åœ¨ä¸€å¯¹å¤šçš„å±‚æ¬¡å…³ç³» #å›¾å½¢ç»“æ„ æ•°æ®å…ƒç´ æ˜¯å¤šå¯¹å¤šçš„å…³ç³» ç”¨ç¤ºæ„å›¾è¡¨ç¤ºæ•°æ®é€»è¾‘ç»“æ„æ—¶çš„æ³¨æ„ç‚¹ï¼š æ¯ä¸ªæ•°æ®å…ƒç´ æ˜¯ä¸€ä¸ªç»“ç‚¹ï¼Œç”¨åœ†åœˆè¡¨ç¤º å…ƒç´ ä¹‹é—´çš„é€»è¾‘å…³ç³»ç”¨è¿çº¿è¡¨ç¤ºï¼Œå¦‚æœæ­¤å…³ç³»æ˜¯æœ‰æ–¹å‘çš„ï¼Œé‚£ä¹ˆç”¨ç®­å¤´è¿çº¿è¡¨ç¤º #ç‰©ç†ç»“æ„ å®šä¹‰ï¼šæ˜¯æŒ‡æ•°æ®çš„é€»è¾‘ç»“æ„åœ¨è®¡ç®—æœºä¸­çš„å­˜å‚¨å½¢å¼ #é¡ºåºå­˜å‚¨ç»“æ„ å®šä¹‰ï¼šæ˜¯æŠŠæ•°æ®å…ƒç´ å­˜æ”¾åœ¨åœ°å€è¿ç»­çš„å­˜å‚¨å•å…ƒé‡Œï¼Œå…¶æ•°æ®é—´çš„é€»è¾‘å…³ç³»å’Œç‰©ç†å…³ç³»æ˜¯ä¸€è‡´çš„ #é“¾å¼å­˜å‚¨ç»“æ„ å®šä¹‰ï¼šæ˜¯æŠŠæ•°æ®å…ƒç´ å­˜æ”¾åœ¨ä»»æ„çš„å­˜å‚¨å•å…ƒé‡Œï¼Œè¿™ç»„å­˜å‚¨å•å…ƒå¯ä»¥ä½¿è¿ç»­çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸è¿ç»­çš„ã€‚ æ³¨æ„ï¼šæ•°æ®å…ƒç´ çš„å­˜å‚¨å…³ç³»å¹¶ä¸èƒ½åæ˜ å…¶é€»è¾‘å…³ç³»ï¼Œå› æ­¤éœ€è¦ç”¨ä¸€ä¸ªæŒ‡é’ˆå­˜æ”¾æ•°æ®å…ƒç´ çš„åœ°å€ï¼Œè¿™æ ·é€šè¿‡åœ°å€å°±å¯ä»¥æ‰¾åˆ°ç›¸å…³è”æ•°æ®å…ƒç´ çš„ä½ç½® ç®—æ³• åŸºæœ¬ç‰¹æ€§ï¼šè¾“å…¥ã€è¾“å‡ºã€æœ‰ç©·æ€§ã€ç¡®å®šæ€§å’Œå¯è¡Œæ€§ è®¾è®¡è¦æ±‚ï¼šæ­£ç¡®æ€§ã€å¯è¯»æ€§ã€å¥å£®æ€§ã€é«˜æ•ˆå’Œä½å­˜å‚¨é‡ åº¦é‡æ–¹æ³•ï¼šäº‹åç»Ÿè®¡ï¼ˆä¸ç§‘å­¦ã€ä¸å‡†ç¡®ï¼‰ã€äº‹å‰åˆ†æä¼°ç®— âœ… æ—¶é—´å¤æ‚åº¦ æ¦‚å¿µ è®¡ç®—å…¬å¼ï¼šT(n) = O(f(n)) T(n)ï¼š è¯­å¥æ€»çš„æ‰§è¡Œæ¬¡æ•° nï¼š é—®é¢˜è§„æ¨¡ f(n)ï¼š é—®é¢˜è§„æ¨¡ n çš„æŸä¸ªå‡½æ•° è¡¨ç¤ºéšé—®é¢˜è§„æ¨¡ n çš„å¢å¤§ï¼Œç®—æ³•æ‰§è¡Œæ—¶é—´çš„å¢é•¿ç‡å’Œ f(n) çš„å¢é•¿ç‡ç›¸åŒ å¤§Oè®°æ³• å®šä¹‰ï¼šç”¨å¤§å†™O()æ¥ä½“ç°æ—¶é—´å¤æ‚åº¦ï¼Œç®€ç§°ä¸ºå¤§Oè®°æ³• æ¨å¯¼å¤§Oé˜¶æ–¹æ³•ï¼š \1. ç”¨å¸¸æ•° 1 å–ä»£è¿è¡Œæ—¶é—´ä¸­çš„æ‰€æœ‰åŠ æ³•å¸¸æ•° \2. åœ¨ä¿®æ”¹åçš„è¿è¡Œæ¬¡æ•°å‡½æ•°ä¸­ï¼Œåªä¿ç•™æœ€é«˜é˜¶é¡¹ \3. å¦‚æœæœ€é«˜é˜¶é¡¹å­˜åœ¨ä¸”ä¸æ˜¯ 1ï¼Œåˆ™å»é™¤ä¸è¿™ä¸ªé¡¹ç›¸ä¹˜çš„å¸¸æ•° \4. å¾—åˆ°çš„ç»“æœå°±æ˜¯å¤§ O é˜¶ å¸¸æ•°é˜¶ ä¸¾ä¾‹ï¼šé«˜æ–¯ç®—æ³• æ­¤ç®—æ³•è¿è¡Œæ¬¡æ•°å‡½æ•°æ˜¯ f(n)=3 æ¨å¯¼ï¼šæŠŠå¸¸æ•°é¡¹ 3 æ”¹ä¸º 1 =&gt; å®ƒæ²¡æœ‰æœ€é«˜é˜¶ =&gt; å¤æ‚åº¦ï¼šO(1) çº¿æ€§é˜¶ æ¨å¯¼ï¼šå¾ªç¯ä½“ä¸­ä»£ç éœ€è¦æ‰§è¡Œ n æ¬¡ =&gt; å¤æ‚åº¦ï¼šO(n) å¯¹æ•°é˜¶ æ¨å¯¼ï¼šæ¯æ¬¡ count ä¹˜ä»¥ 2 åï¼Œå°±è·ç¦» n æ›´è¿‘ä¸€åˆ†ã€‚æ¢å¥è¯è¯´ï¼Œæœ‰å¤šå°‘ä¸ª 2 ç›¸ä¹˜åå¤§äº nï¼Œåˆ™ä¼šé€€å‡ºå¾ªç¯ã€‚ç”± 2^x=n å¾—åˆ° x=log(2)nã€‚æ‰€ä»¥æ­¤å¾ªç¯å¤æ‚åº¦ï¼šO(logn) å¹³æ–¹é˜¶ ä¸¾ä¾‹1 æ¨å¯¼ï¼šä¸¤å±‚å¾ªç¯ï¼Œæ¯å±‚å¾ªç¯ n æ¬¡ =&gt; å¤æ‚åº¦ï¼šO(n^2) å¦‚æœæŠŠå¤–å±‚ n æ”¹ä¸º mï¼Œåˆ™å¤æ‚åº¦ï¼šO(mâœ˜n) ä¸¾ä¾‹2 å¤æ‚åº¦ï¼šO(n^2) å¸¸è§æ—¶é—´å¤æ‚åº¦ å¸¸è§æ—¶é—´å¤æ‚åº¦æ‰€è€—è´¹çš„æ—¶é—´ä»å°åˆ°å¤§ï¼š ç©ºé—´å¤æ‚åº¦ æ¦‚å¿µ è®¡ç®—å…¬å¼ï¼šS(n) = O(f(n)) S(n)ï¼šè®¡ç®—ç®—æ³•æ‰€è€—çš„å­˜å‚¨ç©ºé—´ nï¼š é—®é¢˜è§„æ¨¡ f(n)ï¼š é—®é¢˜è§„æ¨¡ n æ‰€å å­˜å‚¨ç©ºé—´çš„å‡½æ•° å½“ä¸ç”¨é™å®šè¯åœ°ä½¿ç”¨â€œå¤æ‚åº¦â€æ—¶ï¼ŒæŒ‡çš„éƒ½æ˜¯æ—¶é—´å¤æ‚åº¦ å¿ƒå¾— æ˜ç™½ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¼°ç®—å¾ˆé‡è¦ï¼Œä¸è¦ä»¥â€œCPUè¶Šæ¥è¶Šå¿«ï¼Œä¸ç”¨è€ƒè™‘ç®—æ³•ä¼˜åŠ£â€ä¸ºå€Ÿå£ã€‚æ„šå…¬ç§»å±±å›ºç„¶å¯æ•¬ï¼Œä½†å‘æ˜ç‚¸è¯å’Œæ¨åœŸæœºæ›´åŠ å®åœ¨å’Œèªæ˜ çº¿æ€§è¡¨ å®šä¹‰ï¼šé›¶ä¸ªæˆ–å¤šä¸ªæ•°æ®å…ƒç´ çš„æœ‰é™åºåˆ— å…³é”®ç‚¹ï¼š æ˜¯ä¸€ä¸ªæœ‰é¡ºåºçš„åºåˆ— è‹¥å…ƒç´ å­˜åœ¨å¤šä¸ªï¼Œåˆ™ç¬¬ä¸€ä¸ªæ— å‰é©±ï¼Œæœ€åä¸€ä¸ªæ— åç»§ï¼Œä¸­é—´éƒ¨åˆ†éƒ½æœ‰ä¸”åªæœ‰ä¸€ä¸ªå‰é©±å’Œåç»§ çº¿æ€§è¡¨æ˜¯æœ‰é™çš„ ä¸¾ä¾‹ï¼š å¹¼å„¿å›­å°æœ‹å‹æŒ‰æ¬¡åºæ’é˜Ÿï¼Œå„è‡ªéƒ½çŸ¥é“ä»–å‰é¢äººæ˜¯è°ï¼Œæ–¹ä¾¿æ¸…ç‚¹äººæ•°ï¼ŒçŸ¥é“è°ä¸åœ¨ ä¸€å¹´çš„æ˜Ÿåº§åˆ—è¡¨ é¡ºåºå­˜å‚¨ç»“æ„ å®šä¹‰ï¼šç”¨ä¸€æ®µåœ°å€è¿ç»­çš„å­˜å‚¨å•å…ƒä¸€æ¬¡å­˜å‚¨çº¿æ€§è¡¨çš„æ•°æ®å…ƒç´  ä¸‰ä¸ªé‡è¦å±æ€§ï¼š å­˜å‚¨ç©ºé—´çš„èµ·å§‹ä½ç½® çº¿æ€§è¡¨çš„æœ€å¤§å­˜å‚¨å®¹é‡ çº¿æ€§è¡¨çš„å½“å‰é•¿åº¦ æ•°æ®é•¿åº¦ä¸çº¿æ€§è¡¨é•¿åº¦åŒºåˆ« æ•°æ®é•¿åº¦ï¼šï¼ˆä¾‹å¦‚ä¸€ä¸ªæ•°ç»„çš„é•¿åº¦ï¼‰æ˜¯å­˜æ”¾çº¿æ€§è¡¨çš„å­˜å‚¨ç©ºé—´çš„é•¿åº¦ï¼Œä¸€èˆ¬ä¸å˜ çº¿æ€§è¡¨é•¿åº¦ï¼šæ˜¯çº¿æ€§è¡¨ä¸­æ•°æ®å…ƒç´ çš„ä¸ªæ•°ï¼Œéšç€æ’å…¥ä¸åˆ é™¤ï¼Œè¿™ä¸ªé‡æ˜¯å¯å˜çš„ åœ¨ä»»æ„æ—¶åˆ»ï¼Œçº¿æ€§è¡¨é•¿åº¦åº”è¯¥ å°äºç­‰äº æ•°æ®é•¿åº¦ æ—¶é—´å¤æ‚åº¦ï¼š æ’å…¥æˆ–åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ ä¸º O(1) æ’å…¥æˆ–åˆ é™¤ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºO(n) ä¼˜ç¼ºç‚¹ ä¼˜ç‚¹ï¼š æ— éœ€ä¸ºäº†è¡¨ç¤ºè¡¨ä¸­å…ƒç´ ä¹‹é—´çš„é€»è¾‘å…³ç³»è€Œå¢åŠ é¢å¤–çš„å­˜å‚¨ç©ºé—´ å¯ä»¥å¿«é€Ÿåœ°å­˜å–è¡¨ä¸­ä»»æ„ä½ç½®çš„å…ƒç´  ç¼ºç‚¹ï¼š æ’å…¥å’Œåˆ é™¤æ“ä½œéœ€è¦ç§»åŠ¨å¤§é‡å…ƒç´  å½“çº¿æ€§è¡¨é•¿åº¦å˜åŒ–è¾ƒå¤§æ—¶ï¼Œéš¾ä»¥ç¡®å®šå­˜å‚¨ç©ºé—´çš„å®¹é‡ é€ æˆå­˜å‚¨ç©ºé—´çš„â€œç¢ç‰‡â€ é“¾å¼å­˜å‚¨ç»“æ„ å®šä¹‰ï¼šæ˜¯æŠŠæ•°æ®å…ƒç´ å­˜æ”¾åœ¨ä»»æ„çš„å­˜å‚¨å•å…ƒé‡Œï¼Œè¿™ç»„å­˜å‚¨å•å…ƒå¯ä»¥ä½¿è¿ç»­çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸è¿ç»­çš„ã€‚ ä¸é¡ºåºç»“æ„ä¸åŒï¼Œåœ¨é“¾å¼ç»“æ„ä¸­ï¼Œé™¤äº†è¦å­˜å‚¨æ•°æ®ä¿¡æ¯å¤–ï¼Œè¿˜è¦å­˜å‚¨å®ƒåç»§å…ƒç´ çš„å­˜å‚¨åœ°å€ å•é“¾è¡¨ å®šä¹‰ï¼šä¸€ä¸ªé“¾å¼ç»“æ„çš„ï¼Œæ¯ä¸ªç»“ç‚¹ä¸­åªåŒ…å«ä¸€ä¸ªæŒ‡é’ˆåŸŸçš„é“¾è¡¨å«åšå•é“¾è¡¨ å•é“¾è¡¨ç»“æ„ä¸é¡ºåºå­˜å‚¨ç»“æ„çš„ä¼˜ç¼ºç‚¹ å¯¹æ¯”ï¼š å­˜å‚¨åˆ†é…æ–¹å¼ï¼š é¡ºåºå­˜å‚¨ç»“æ„ç”¨ä¸€æ®µè¿ç»­çš„å­˜å‚¨å•å…ƒä¾æ¬¡å­˜å‚¨çº¿æ€§è¡¨çš„æ•°æ®å…ƒç´  å•é“¾è¡¨é‡‡ç”¨é“¾å¼å­˜å‚¨ç»“æ„ï¼Œç”¨ä¸€ç»„ä»»æ„çš„å­˜å‚¨å•å…ƒå­˜æ”¾çº¿æ€§è¡¨çš„å…ƒç´  æ—¶é—´æ€§èƒ½ï¼š æŸ¥æ‰¾ï¼š é¡ºåºå­˜å‚¨ç»“æ„ O(1) å•é“¾è¡¨ O(n) æ’å…¥ä¸åˆ é™¤ï¼š é¡ºåºå­˜å‚¨ç»“æ„éœ€è¦ç§»åŠ¨è¡¨é•¿ä¸€åŠçš„å…ƒç´ ï¼Œæ—¶é—´ä¸º O(n) å•é“¾è¡¨åœ¨æ‰¾å‡ºæŸä½ç½®çš„æŒ‡é’ˆåï¼Œæ’å…¥å’Œåˆ é™¤æ—¶é—´ä»…ä¸º O(1) ç©ºé—´æ€§èƒ½ï¼š é¡ºåºå­˜å‚¨ç»“æ„éœ€è¦é¢„åˆ†é…å­˜å‚¨ç©ºé—´ï¼Œåˆ†å¤§äº†æµªè´¹ï¼Œåˆ†å°äº†å®¹æ˜“æº¢å‡º å•é“¾è¡¨ä¸éœ€è¦åˆ†é…å­˜å‚¨ç©ºé—´ï¼Œåªè¦æœ‰å°±å¯ä»¥åˆ†é…ï¼Œå…ƒç´ ä¸ªæ•°ä¹Ÿä¸å—é™åˆ¶ ç»“è®ºï¼š è‹¥çº¿æ€§è¡¨éœ€è¦é¢‘ç¹æŸ¥æ‰¾ï¼Œå¾ˆå°‘è¿›è¡Œæ’å…¥å’Œåˆ é™¤æ“ä½œï¼Œå®œé‡‡ç”¨é¡ºåºå­˜å‚¨ç»“æ„ è‹¥éœ€è¦é¢‘ç¹æ’å…¥å’Œåˆ é™¤ï¼Œå®œé‡‡ç”¨å•é“¾è¡¨ç»“æ„ å½“çº¿æ€§è¡¨ä¸­çš„å…ƒç´ ä¸ªæ•°å˜åŒ–è¾ƒå¤§æˆ–æ ¹æœ¬ä¸çŸ¥é“å¤šå¤§æ—¶ï¼Œå®œé‡‡ç”¨å•é“¾è¡¨ç»“æ„ï¼Œè¿™æ ·ä¸ç”¨è€ƒè™‘å­˜å‚¨ç©ºé—´çš„å¤§å°é—®é¢˜ã€‚ è‹¥äº‹å…ˆçŸ¥é“å¤§è‡´é•¿åº¦ï¼Œæ¯”å¦‚ä¸€å¹´12ä¸ªæœˆï¼Œä¸€å‘¨7å¤©ï¼Œå®œé‡‡ç”¨é¡ºåºå­˜å‚¨ç»“æ„ å®é™…åº”ç”¨ï¼š ç”¨æˆ·æ³¨å†Œçš„ä¸ªäººä¿¡æ¯ï¼Œé™¤äº†æ³¨å†Œæ—¶æ’å…¥æ•°æ®å¤–ï¼Œç»å¤§å¤šæ•°æƒ…å†µéƒ½æ˜¯è¯»å–ï¼Œæ‰€ä»¥å®œé‡‡ç”¨é¡ºåºå­˜å‚¨ç»“æ„ æ¸¸æˆä¸­ç©å®¶çš„æ­¦å™¨è£…å¤‡åˆ—è¡¨ï¼Œéšç€æ¸¸æˆæ¨è¿›ï¼Œç©å®¶å¯èƒ½éšæ—¶å¢åŠ æˆ–åˆ é™¤ï¼Œæ‰€ä»¥å®œé‡‡ç”¨å•é“¾è¡¨ç»“æ„ é™æ€é“¾è¡¨ èƒŒæ™¯ï¼šæœ‰äº›ç¼–ç¨‹é«˜çº§è¯­è¨€ï¼ˆe.g. Basic, Fortranï¼‰æ²¡æœ‰æŒ‡é’ˆï¼Œè¿™æ ·é“¾è¡¨ç»“æ„å°±æ²¡æ³•å®ç°ã€‚ è§£å†³æ–¹æ¡ˆï¼šç”¨æ•°ç»„æ¥ä»£æ›¿æŒ‡é’ˆï¼Œæ¥æè¿°å•é“¾è¡¨ å®ç°ï¼šè®©æ•°ç»„å…ƒç´ éƒ½ç”±ä¸¤ä¸ªæ•°æ®åŸŸç»„æˆï¼Œdataå’Œcurã€‚dataç”¨æ¥å­˜å‚¨æ•°æ®å…ƒç´ ï¼Œcurï¼ˆæ¸¸æ ‡ï¼‰ç›¸å½“äºå•é“¾è¡¨ä¸­çš„nextæŒ‡é’ˆï¼Œå­˜æ”¾è¯¥å…ƒç´ çš„åç»§åœ¨æ•°ç»„ä¸­çš„ä¸‹æ ‡ã€‚ å®šä¹‰ï¼šè¿™ç§ç”¨æ•°ç»„æè¿°çš„é“¾è¡¨å«åšé™æ€é“¾è¡¨ã€‚è¿™ç§æè¿°æ–¹æ³•èµ·åä¸ºæ¸¸æ ‡å®ç°æ³•ã€‚ ä¸¾ä¾‹ï¼š å°† â€œç”²ä¹™ä¸™ä¸æˆŠå·±åºšâ€å­˜å…¥é™æ€é“¾è¡¨ï¼š ä¼˜ç¼ºç‚¹ï¼š ä¼˜ç‚¹ï¼š å†æ’å…¥å’Œåˆ é™¤æ“ä½œæ—¶ï¼Œåªéœ€è¦ä¿®æ”¹æ¸¸æ ‡ï¼Œä¸éœ€è¦ç§»åŠ¨å…ƒç´ ï¼Œä»è€Œæ”¹è¿›äº†åœ¨é¡ºåºå­˜å‚¨ç»“æ„ä¸­çš„æ’å…¥å’Œåˆ é™¤æ“ä½œéœ€è¦ç§»åŠ¨å¤§é‡å…ƒç´ çš„ç¼ºç‚¹ã€‚ ç¼ºç‚¹ï¼š æ²¡æœ‰è§£å†³è¿ç»­å­˜å‚¨åˆ†é…å¸¦æ¥çš„è¡¨é•¿éš¾ä»¥ç¡®å®šçš„é—®é¢˜ å¤±å»äº†é¡ºåºå­˜å‚¨ç»“æ„éšæœºå­˜å‚¨çš„ç‰¹æ€§ å¾ªç¯é“¾è¡¨ å®šä¹‰ï¼šå°†å•é“¾è¡¨ä¸­ç»ˆç«¯èŠ‚ç‚¹çš„æŒ‡é’ˆç«¯ç”±ç©ºæŒ‡é’ˆæ”¹ä¸ºæŒ‡å‘å¤´ç»“ç‚¹ï¼Œå°±ä½¿æ•´ä¸ªå•é“¾è¡¨å½¢æˆä¸€ä¸ªç¯ï¼Œè¿™ç§å¤´å°¾ç›¸æ¥çš„å•é“¾è¡¨ç§°ä¸ºå•å¾ªç¯é“¾è¡¨ï¼Œç®€ç§°å¾ªç¯é“¾è¡¨ã€‚ åŒå‘é“¾è¡¨ å®šä¹‰ï¼šåŒå‘é“¾è¡¨æ˜¯åœ¨å•é“¾è¡¨çš„æ¯ä¸ªç»“ç‚¹ä¸­ï¼Œå†è®¾ç½®ä¸€ä¸ªæŒ‡å‘å…¶å‰é©±ç»“ç‚¹çš„æŒ‡é’ˆåŸŸã€‚æ‰€ä»¥åœ¨åŒå‘é“¾è¡¨ä¸­çš„ç»“ç‚¹éƒ½æœ‰ä¸¤ä¸ªæŒ‡é’ˆåŸŸï¼Œä¸€ä¸ªæŒ‡å‘ç›´æ¥åç»§ï¼Œå¦ä¸€ä¸ªæŒ‡å‘ç›´æ¥å‰é©±ã€‚ æ ˆä¸é˜Ÿåˆ— æ ˆ å®šä¹‰ï¼šæ ˆæ˜¯é™å®šä»…åœ¨è¡¨å°¾è¿›è¡Œæ’å…¥å’Œåˆ é™¤æ“ä½œçš„çº¿æ€§è¡¨ æè¿°ï¼šæˆ‘ä»¬æŠŠå…è®¸æ’å…¥å’Œåˆ é™¤çš„ä¸€ç«¯ç§°ä¸ºæ ˆé¡¶ï¼Œå¦ä¸€ç«¯ç§°ä¸ºæ ˆåº•ï¼Œä¸å«ä»»ä½•æ•°æ®å…ƒç´ çš„æ ˆç§°ä¸ºç©ºæ ˆã€‚æ ˆåˆç§°ä¸ºåè¿›å…ˆå‡ºï¼ˆLast In First Outï¼‰çš„çº¿æ€§è¡¨ï¼Œç®€ç§° LIFO ç»“æ„ã€‚ ä¸¾ä¾‹ï¼šæµè§ˆå™¨çš„å‰è¿›åé€€ï¼ŒPhotoshop çš„å‰è¿›æ’¤é”€ã€‚ æ ˆçš„é¡ºåºå­˜å‚¨ç»“æ„ æ“ä½œï¼š æ ˆçš„æ’å…¥æ“ä½œï¼ˆpush å‹ï¼‰ï¼Œå«ä½œè¿›æ ˆï¼Œä¹Ÿç§°å‹æ ˆã€å…¥æ ˆã€‚ç±»ä¼¼å­å¼¹å…¥å¼¹å¤¹ã€‚ æ ˆçš„åˆ é™¤æ“ä½œï¼ˆpop å¼¹ï¼‰ï¼Œå«ä½œå‡ºæ ˆï¼Œä¹Ÿç§°å¼¹æ ˆã€‚ç±»ä¼¼å­å¼¹å‡ºå¤¹ã€‚ ä¸¤æ ˆå…±äº«ç©ºé—´ ç†è§£ï¼šä¸¤ä¸ªç›¸åŒç±»å‹çš„æ ˆï¼Œä¸ºå®ƒä»¬å„è‡ªå¼€è¾Ÿäº†æ•°ç»„ç©ºé—´ï¼Œææœ‰å¯èƒ½ç¬¬ä¸€ä¸ªæ ˆæ»¡ï¼Œå†è¿›æ ˆå°±æº¢å‡ºäº†ï¼Œè€Œå¦ä¸€ä¸ªæ ˆè¿˜æœ‰å¾ˆå¤šå­˜å‚¨ç©ºé—´ç©ºé—²ã€‚æ‰€ä»¥æˆ‘ä»¬å®Œå…¨å¯ä»¥ç”¨ä¸€ä¸ªæ•°ç»„æ¥å­˜å‚¨ä¸¤ä¸ªæ ˆã€‚ åšæ³•ï¼šæ•°ç»„çš„ä¸¤ä¸ªç«¯ç‚¹ï¼Œè®©ä¸€ä¸ªæ ˆçš„æ ˆåº•ä¸ºæ•°ç»„çš„å§‹ç«¯ï¼ˆä¸‹æ ‡0ï¼‰ï¼Œå¦ä¸€ä¸ªæ ˆä¸ºæ ˆçš„æœ«ç«¯ï¼ˆn-1ï¼‰ã€‚ä¸¤æ ˆå¦‚æœå¢åŠ å…ƒç´ ï¼Œå°±æ˜¯ä¸¤ç«¯å‘ä¸­é—´å»¶ä¼¸ã€‚ å…³é”®æ€è·¯ï¼š \1. ä¸¤ä¸ªtopæ˜¯æ•°ç»„ä¸¤ç«¯çš„æ ˆé¡¶æŒ‡é’ˆï¼Œåªè¦å®ƒä¿©ä¸è§é¢ï¼Œä¸¤ä¸ªæ ˆå°±éƒ½å¯ä»¥ä¸€ç›´ä½¿ç”¨ã€‚ \2. æ ˆ1ä¸ºç©ºæ—¶ï¼Œå°±æ˜¯top1ç­‰äº-1æ—¶ï¼›å½“top2ç­‰äºnæ—¶ï¼Œå³æ˜¯æ ˆ2ä¸ºç©ºæ—¶ã€‚ \3. ä½•æ—¶æ ˆæ»¡ï¼štop1ç­‰äºn-1æ—¶æ ˆ1æ»¡ï¼›top2ç­‰äº0æ—¶ï¼Œæ ˆ2æ»¡ï¼Œæ‰€ä»¥æ¨å¯¼å‡ºï¼Œtop1+1==top2ä¸ºæ ˆæ»¡ æ ˆçš„é“¾å¼å­˜å‚¨ç»“æ„ æ ˆé¡¶å­˜æ”¾ä½ç½®ï¼š ç”±äºå•é“¾è¡¨æœ‰å¤´æŒ‡é’ˆï¼Œè€Œæ ˆé¡¶æŒ‡é’ˆä¹Ÿæ˜¯å¿…é¡»çš„ï¼Œæ‰€ä»¥æŠŠå®ƒä¿©åˆäºŒä¸ºä¸€ï¼Œå°†æ ˆé¡¶æ”¾åœ¨å•é“¾è¡¨çš„å¤´éƒ¨ã€‚ ä¸éœ€è¦å¤´ç»“ç‚¹ï¼š éƒ½å·²ç»æœ‰äº†æ ˆé¡¶åœ¨å¤´éƒ¨ï¼Œæ‰€ä»¥å•é“¾è¡¨çš„å¤´ç»“ç‚¹ä¹Ÿå¤±å»äº†æ„ä¹‰ï¼Œæ‰€ä»¥ä¸éœ€è¦å¤´ç»“ç‚¹ã€‚ ç¤ºæ„å›¾ï¼š æ ˆçš„åº”ç”¨ #é€’å½’ #å››åˆ™è¿ç®—è¡¨è¾¾å¼æ±‚å€¼ é˜Ÿåˆ— å®šä¹‰ï¼šé˜Ÿåˆ—æ˜¯åªå…è®¸åœ¨ä¸€ç«¯è¿›è¡Œæ’å…¥æ“ä½œã€è€Œåœ¨å¦ä¸€ç«¯è¿›è¡Œåˆ é™¤æ“ä½œçš„çº¿æ€§è¡¨ æè¿°ï¼šé˜Ÿåˆ—æ˜¯ä¸€ç§å…ˆè¿›å…ˆå‡ºï¼ˆFirst In First Outï¼‰çš„çº¿æ€§è¡¨ï¼Œç®€ç§° FIFOã€‚å…è®¸æ’å…¥çš„ä¸€ç«¯ç§°ä¸ºé˜Ÿå°¾ï¼Œå…è®¸åˆ é™¤çš„ä¸€ç«¯ç§°ä¸ºé˜Ÿå¤´ã€‚ ä¸¾ä¾‹ï¼šé”®ç›˜çš„è¾“å…¥ï¼Œè®°äº‹æœ¬ä¸Šçš„è¾“å‡ºã€‚ é˜Ÿåˆ—çš„é¡ºåºå­˜å‚¨ç»“æ„ ç¼ºç‚¹ï¼š ç”±äºä»é˜Ÿå¤´å‡ºï¼Œå¯¼è‡´åé¢å…ƒç´ éƒ½å¾—å‘å‰ç§»åŠ¨ï¼Œæ—¶é—´å¤æ‚åº¦ O(n) è§£å†³ï¼š å¾ªç¯é˜Ÿåˆ— è®©å¤´å°¾ç›¸æ¥ é˜Ÿåˆ—çš„é“¾å¼å­˜å‚¨ç»“æ„ é¡ºåºå­˜å‚¨å’Œé“¾å¼å­˜å‚¨çš„é€‰æ‹© å¯ä»¥ç¡®å®šé˜Ÿåˆ—é•¿åº¦æœ€å¤§å€¼æ—¶ï¼Œå»ºè®®å¾ªç¯é˜Ÿåˆ— æ— æ³•é¢„ä¼°é˜Ÿåˆ—é•¿åº¦æ—¶ï¼Œä½¿ç”¨é“¾é˜Ÿåˆ— ä¸² å®šä¹‰ï¼šæ˜¯ç”±é›¶ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ç»„æˆçš„æœ‰é™åºåˆ—ï¼Œåˆåå­—ç¬¦ä¸² ç®—æ³• æœ´ç´ çš„æ¨¡å¼åŒ¹é…ç®—æ³• ä»å¤´å¼€å§‹ä¾æ¬¡å¾€åæ¯”è¾ƒã€ä¸æ¨èã€‘ KMPæ¨¡å¼åŒ¹é…ç®—æ³• æ•° å®šä¹‰ï¼š æ ‘æ˜¯ n(n&gt;=0) ä¸ªç»“ç‚¹çš„æœ‰é™é›†ã€‚n=0 æ—¶ç§°ä¸ºç©ºæ ‘ã€‚åœ¨ä»»æ„ä¸€æ£µéç©ºæ ‘ä¸­ï¼š \1. æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªç‰¹å®šçš„ç§°ä¸ºæ ¹ï¼ˆRootï¼‰çš„ç»“ç‚¹ \2. å½“ n &gt; 1 æ—¶ï¼Œå…¶ä½™ç»“ç‚¹å¯åˆ†ä¸º m(m &gt; 0) ä¸ªäº’ä¸ç›¸äº¤çš„æœ‰é™é›† T1ã€T2 â€¦ ã€Tmï¼Œå…¶ä¸­æ¯ä¸€ä¸ªé›†åˆæœ¬èº«åˆæ˜¯ä¸€æ£µæ ‘ï¼Œå¹¶ä¸”ç§°ä¸ºæ ¹çš„å­æ ‘ï¼ˆSubTreeï¼‰ ç»“ç‚¹åˆ†ç±» å®šä¹‰ï¼šç»“ç‚¹æ‹¥æœ‰çš„å­æ ‘æ•°ç§°ä¸ºç»“ç‚¹çš„åº¦ã€‚åº¦ä¸º 0 çš„ç»“ç‚¹ç§°ä¸ºå¶ç»“ç‚¹æˆ–ç»ˆç«¯ç»“ç‚¹ï¼›åº¦ä¸ä¸º 0 çš„ç»“ç‚¹ç§°ä¸ºéç»ˆç«¯ç»“ç‚¹æˆ–åˆ†æ”¯ç»“ç‚¹ã€‚é™¤æ ¹ç»“ç‚¹å¤–ï¼Œåˆ†æ”¯ç»“ç‚¹ä¹Ÿç§°ä¸ºå†…éƒ¨ç»“ç‚¹ã€‚æ ‘çš„åº¦æ˜¯æ ‘å†…å„ç»“ç‚¹çš„åº¦çš„æœ€å¤§å€¼ã€‚ä¸‹é¢æ ‘ç»“ç‚¹çš„åº¦çš„æœ€å¤§å€¼æ˜¯ç»“ç‚¹ D çš„åº¦ï¼Œä¸º 3ï¼Œæ‰€ä»¥æ ‘çš„åº¦ä¹Ÿä¸º 3 ã€‚ ç»“ç‚¹é—´å…³ç³» æ ‘çš„å…¶ä»–ç›¸å…³æ¦‚å¿µ ç»“ç‚¹çš„å±‚æ¬¡ ä»æ ¹å¼€å§‹å®šä¹‰èµ·ï¼Œæ ¹ä¸ºç¬¬ä¸€å±‚ã€‚ æ ‘ä¸­ç»“ç‚¹çš„æœ€å¤§å±‚æ¬¡ç§°ä¸ºæ ‘çš„æ·±åº¦æˆ–é«˜åº¦ï¼Œä¸‹å›¾æ ‘æ·±åº¦ä¸º 4 æ ‘ä¸çº¿æ€§è¡¨ç»“æ„çš„å¯¹æ¯” é˜¿è¨å¾· äºŒå‰æ ‘ å®šä¹‰ï¼šäºŒå‰æ ‘æ˜¯ n(n&gt;=0)ä¸ªç»“ç‚¹çš„æœ‰é™é›†åˆï¼Œè¯¥é›†åˆæˆ–ä¸ºç©ºé›†ï¼ˆç§°ä¸ºç©ºäºŒå‰æ ‘ï¼‰ï¼Œæˆ–ç”±ä¸€ä¸ªæ ¹èŠ‚ç‚¹å’Œä¸¤æ£µäº’ä¸ç›¸äº¤çš„ã€åˆ†åˆ«ç§°ä¸ºæ ¹èŠ‚ç‚¹çš„å·¦å­æ ‘å’Œå³å­æ ‘çš„äºŒå‰æ ‘ç»„æˆã€‚ ç‰¹ç‚¹ï¼š æ¯ä¸ªç»“ç‚¹æœ€å¤šæœ‰ä¸¤æ£µå­æ ‘ å·¦å­æ ‘å’Œå³å­æ ‘æ˜¯æœ‰é¡ºåºçš„ï¼Œæ¬¡åºä¸èƒ½ä»»æ„é¢ å€’ å³ä½¿æ ‘ä¸­æŸç»“ç‚¹åªæœ‰ä¸€æ£µæ ‘ï¼Œä¹Ÿè¦åŒºåˆ†å·¦å³å­æ ‘ ç‰¹æ®ŠäºŒå‰æ ‘ #æ–œæ ‘ å®šä¹‰ï¼š æ‰€æœ‰ç»“ç‚¹éƒ½åœ¨å·¦å­æ ‘çš„äºŒå‰æ ‘å«å·¦æ–œæ ‘ æ‰€æœ‰ç»“ç‚¹éƒ½åœ¨å³å­æ ‘çš„äºŒå‰æ ‘å«å³æ–œæ ‘ è¿™ç§ç‰¹æ®Šæ ‘å’Œçº¿æ€§è¡¨ç»“æ„ä¸€æ ·ï¼Œæ‰€ä»¥çº¿æ€§è¡¨ç»“æ„å¯ä»¥ç†è§£ä¸ºæ˜¯æ ‘çš„ä¸€ç§ç‰¹æ®Šå½¢å¼ #æ»¡äºŒå‰æ ‘ #å®Œå…¨äºŒå‰æ ‘ å®šä¹‰ï¼šå¯¹ä¸€æ£µå…·æœ‰ n ä¸ªç»“ç‚¹çš„äºŒå‰æ ‘æŒ‰å±‚åºç¼–å·ï¼Œå¦‚æœç¼–å·ä¸º i (i &lt;= i &lt;= n) çš„ç»“ç‚¹ä¸åŒæ ·æ·±åº¦çš„æ»¡äºŒå‰æ ‘ä¸­ç¼–å·ä¸º i çš„ç»“ç‚¹åœ¨äºŒå‰æ ‘ä¸­çš„ä½ç½®å®Œå…¨ç›¸åŒï¼Œåˆ™è¿™è¯¾äºŒå‰æ ‘ç§°ä¸ºå®Œå…¨äºŒå‰æ ‘ã€‚ å¦‚ä½•åˆ¤å®šï¼šåœ¨çœ‹æ ‘æ—¶ï¼Œå¿ƒä¸­é»˜é»˜ç»™æ¯ä¸ªç»“ç‚¹æŒ‰ç…§æ»¡äºŒå‰æ ‘çš„ç»“æ„é€å±‚é¡ºåºç¼–å·ï¼Œå¦‚æœç¼–å·å‡ºç°ç©ºæŒ¡ï¼Œå°±è¯´æ˜ä¸æ˜¯å®Œå…¨äºŒå‰æ ‘ï¼Œå¦åˆ™å°±æ˜¯ã€‚ ä¸‹é¢å‡ ä¸ªéƒ½ä¸æ˜¯ï¼š 9è·Ÿ11ä¹‹é—´æœ‰ç©ºæŒ¡ 5è·Ÿ8ï¼Œ9ä¹‹é—´æœ‰ç©ºæŒ¡ 9è·Ÿ12ä¹‹é—´æœ‰ç©ºæŒ¡ å­˜å‚¨ç»“æ„ äºŒå‰æ ‘é¡ºåºå­˜å‚¨ç»“æ„ï¼ˆé€‚ç”¨äºå®Œå…¨äºŒå‰æ ‘ï¼‰ äºŒå‰é“¾è¡¨ éå†äºŒå‰æ ‘ #äºŒå‰æ ‘éå†æ–¹æ³• å‰åºéå† éå†é¡ºåºï¼šABDGHCEIF ä¸­åºéå† éå†é¡ºåºï¼šGDHBAEICF ååºéå† éå†é¡ºåºï¼šGHDBIEFCA å±‚åºéå† éå†é¡ºåºï¼šABCDEFGHI å›¾]]></content>
      <categories>
        <category>åç«¯</category>
        <category>ç®—æ³•ä¸æ•°æ®ç»“æ„</category>
      </categories>
      <tags>
        <tag>è¯»ä¹¦ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¦‚ä½•è§£å†³0.1+0.2ä¸ç­‰äº0.3çš„é—®é¢˜]]></title>
    <url>%2Fposts%2F21245%2F</url>
    <content type="text"><![CDATA[ä¸ºä½•ä¼šå‡ºç°æ­¤é—®é¢˜ï¼Ÿæ€»ç»“ä¸€å¥è¯ï¼šè¿™æ˜¯å› ä¸ºäºŒè¿›åˆ¶æ¨¡æ‹Ÿåè¿›åˆ¶è¿›è¡Œè¿ç®—æ—¶çš„ç²¾åº¦é—®é¢˜ã€‚ å…·ä½“å¯æŸ¥çœ‹ 0.1 + 0.2ä¸ç­‰äº0.3ï¼Ÿä¸ºä»€ä¹ˆJavaScriptæœ‰è¿™ç§â€œéªšâ€æ“ä½œï¼Ÿ è¿™ç¯‡æ˜é‡‘æ–‡ç« ã€‚ å¦‚ä½•è§£å†³Number.EPSILONç¬¬ä¸€ç§æ–¹æ³•æ˜¯åˆ©ç”¨ Number.EPSILON ï¼Œè¿™ä¸ªå€¼æ— é™æ¥è¿‘äº0ã€‚0.1+0.2çš„ç²¾åº¦è¯¯å·®åœ¨è¿™ä¸ªå€¼çš„èŒƒå›´å†…ï¼š12345function numbersEqual(a,b)&#123; return Math.abs(a-b)&lt;Number.EPSILON;&#125;var a=0.1+0.2ï¼Œ b=0.3;console.log(numbersEqual(a,b)); //true å†…ç½®å‡½æ•°toFixedåˆ©ç”¨ parseFloat + å†…ç½®å‡½æ•°toFixedï¼š123456function formatNum(num, fixed = 10) &#123; // a.toFixed(fixed) å…ˆè½¬ä¸ºå°æ•°ç‚¹10ä½çš„å­—ç¬¦ä¸² "0.3000000000" return parseFloat(a.toFixed(fixed)) // ç„¶åé€šè¿‡parseFloatè½¬ä¸ºæµ®ç‚¹æ•°&#125;var a = 0.1 + 0.2;console.log(formatNum(a)); //0.3 å†…ç½®å‡½æ•°toPrecisionæˆ‘å¹³å¸¸ç”¨æ­¤å‡½æ•°æ¥è®¡ç®—ç²¾åº¦ï¼Œå…·ä½“å¯å‚è€ƒ Number.prototype.toPrecision() | MDNï¼š123// å†…ç½®å‡½æ•°toPrecision(ä¸­æ–‡ï¼šç²¾ç¡®ï¼Œç²¾åº¦)// å‚æ•°æ˜¯ç²¾åº¦.æ¯”å¦‚5.1234ï¼Œä¼ 2è¿”å›5.1ï¼Œä¼ 1è¿”å›5ï¼›0.2+0.1ä¼ 2è¿”å›0.30(0.1 + 0.2).toPrecision(10) == 0.3 // true]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>JS</category>
      </categories>
      <tags>
        <tag>æŠ€å·§</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Promiseç”¨æ³•]]></title>
    <url>%2Fposts%2F7878%2F</url>
    <content type="text"><![CDATA[Promiseæ˜¯ä»€ä¹ˆPromise æ˜¯ä¸€ç§å¼‚æ­¥ç¼–ç¨‹çš„è§£å†³æ–¹æ¡ˆï¼Œæ¯”ä¼ ç»Ÿçš„å¼‚æ­¥è§£å†³æ–¹æ¡ˆã€å›è°ƒå‡½æ•°ã€‘å’Œã€äº‹ä»¶ã€‘æ›´åˆç†ã€æ›´å¼ºå¤§ã€‚ è¯ç”Ÿçš„åŸå› å¼‚æ­¥ç½‘ç»œè¯·æ±‚çš„å›è°ƒåœ°ç‹±ï¼Œè€Œä¸”æˆ‘ä»¬è¿˜å¾—å¯¹æ¯æ¬¡è¯·æ±‚çš„ç»“æœè¿›è¡Œä¸€äº›å¤„ç†ï¼Œä»£ç ä¼šæ›´åŠ è‡ƒè‚¿ã€‚ä¸€å¼ å›¾å®Œç¾è¯ é‡Šï¼šä¸å¤Ÿï¼Ÿå†åŠ ä¸€å¼ ï¼š Promiseçš„ä¸‰ç§çŠ¶æ€ pedding ç­‰å¾…ï¼ˆé»˜è®¤çŠ¶æ€ã€‚å¼‚æ­¥ä»£ç æ‰§è¡Œå®Œæ¯•åä¼šè½¬æ¢ä¸ºä»¥ä¸‹ä¸¤ç§çŠ¶æ€ï¼‰ resolve æˆåŠŸ reject å¤±è´¥ åŸºæœ¬ç”¨æ³•è¯­æ³• Promise: æ„é€ å‡½æ•° æ¥å—ä¸€ä¸ªå‚æ•°ï¼šcallbackï¼Œæˆ‘ä»¬æŠŠè¦æ‰§è¡Œçš„å¼‚æ­¥ä»»åŠ¡æ”¾ç½®åœ¨è¿™ä¸ªcallbackä¸­ then: Promiseå¯¹è±¡ä¸‹çš„ä¸€ä¸ªæ–¹æ³•ï¼šè¯¥æ–¹æ³•åœ¨Promiseå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜çš„æ—¶å€™è§¦å‘thençš„å›è°ƒ 12345678910111213//defined Promise async functionfunction asyncFun()&#123; return new Promise((resolve, reject) =&gt; &#123; if (resolve) &#123; resolve(/*resolve parameter*/); &#125;else&#123; reject(new Error(/*Error*/)); &#125; &#125;)&#125;//use Promise&amp;thenasyncFun().then(/*function*/).then(/*function*/)... Promiseç‰¹æ€§ç«‹å³æ‰§è¡Œ12345678910111213141516let p = new Promise((resolve, reject) =&gt; &#123; // å½“Promiseè¢«å®ä¾‹åŒ–çš„æ—¶å€™ï¼Œcallbackçš„å¼‚æ­¥ä»»åŠ¡å°±ä¼šè¢«æ‰§è¡Œ console.log("ä¸€ä¸ªPromiseå¯¹è±¡è¢«åˆ›å»ºå‡ºæ¥"); resolve("success");&#125;);console.log("flag");p.then((data) =&gt; &#123; console.log(data);&#125;);// æ‰§è¡Œç»“æœï¼š// ä¸€ä¸ªPromiseå¯¹è±¡è¢«åˆ›å»ºå‡ºæ¥// flag// success çŠ¶æ€ä¸å¯é€†1234567891011let p = new Promise((resolve, reject) =&gt; &#123; resolve("success"); reject("reject");&#125;);p.then((data) =&gt; &#123; console.log(data);&#125;);// æ‰§è¡Œç»“æœï¼š// success é“¾å¼è°ƒç”¨12345678910111213141516171819let p = new Promise((resolve, reject) =&gt; &#123; // é€šè¿‡ä¼ å…¥çš„resolve, rejectï¼Œå»æ”¹å˜å½“å‰Promiseä»»åŠ¡çš„çŠ¶æ€ // resolve, reject æ˜¯ä¸¤ä¸ªå‡½æ•°ï¼Œè°ƒç”¨ resolve ï¼Œä¼šæŠŠçŠ¶æ€æ”¹æˆ resolved ï¼Œè°ƒç”¨ reject å‡½æ•°ä¼šæŠŠçŠ¶æ€æ”¹æˆ rejected setTimeout(() =&gt; &#123; console.log(1); reject(); &#125;, 1000);&#125;);// thenæ¥å—ä¸¤ä¸ªå‚æ•°ï¼šè¿™ä¸¤ä¸ªå‚æ•°éƒ½æ˜¯å›è°ƒï¼Œå½“å¯¹åº”çš„ promise å¯¹è±¡çš„çŠ¶æ€å˜æˆäº†resolvedï¼Œé‚£ä¹ˆ then çš„ç¬¬ä¸€ä¸ª callback å°±ä¼šè¢«æ‰§è¡Œï¼Œå¦‚æœçŠ¶æ€å˜æˆäº† rejected ï¼Œé‚£ä¹ˆ then çš„ç¬¬äºŒä¸ª callback å°±ä¼šè¢«æ‰§è¡Œp.then(() =&gt; &#123; console.log('æˆåŠŸ');&#125;, () =&gt; &#123; console.log('å¤±è´¥');&#125; );// æ‰§è¡Œç»“æœï¼š// 1// å¤±è´¥ thençš„å›è°ƒå¼‚æ­¥æ€§1234567891011121314151617let p = new Promise((resolve, reject) =&gt; &#123; console.log("æˆ‘æ˜¯Promiseçš„callbackä¸­çš„ä»£ç "); setTimeout(() =&gt; &#123; resolve("æˆ‘1såæ‰ä¼šè¢«æ‰§è¡Œ"); &#125;, 1000);&#125;);p.then((data) =&gt; &#123; console.log(data);&#125;);console.log("æˆ‘æ˜¯ä¸»çº¿ç¨‹ä¸­çš„åŒæ­¥ä»£ç ");// æ‰§è¡Œç»“æœï¼š// æˆ‘æ˜¯Promiseçš„callbackä¸­çš„ä»£ç // æˆ‘æ˜¯ä¸»çº¿ç¨‹ä¸­çš„åŒæ­¥ä»£ç // æˆ‘1såæ‰ä¼šè¢«æ‰§è¡Œ è§£é‡Šï¼šPromise çš„ callback å›è°ƒå‡½æ•°ä¸­çš„ä»£ç æ˜¯ç«‹å³æ‰§è¡Œçš„ï¼ˆsetTimeout è¿™ä¸ªå®šæ—¶å™¨ä¹Ÿæ˜¯ç«‹å³æ‰§è¡Œçš„ï¼Œåªæ˜¯å‡½æ•°å†…çš„ resolve è¢«å»¶è¿Ÿ1sæ‰§è¡Œï¼Œè·Ÿ Promise æœ¬èº«çš„ç«‹å³æ‰§è¡Œæ²¡å…³ç³»ï¼‰ï¼Œä½† then æ–¹æ³•ä¸­çš„å›è°ƒå‡½æ•°æ‰§è¡Œåˆ™æ˜¯å¼‚æ­¥çš„ï¼Œå› æ­¤ï¼Œ&quot;æˆ‘1såæ‰ä¼šè¢«æ‰§è¡Œ&quot; ä¼šåœ¨æœ€åè¾“å‡ºã€‚ å¼‚å¸¸çš„æ•è·Promiseçš„å¼‚å¸¸æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥æ•è·ï¼Œä¸€ç§æ˜¯ then çš„ç¬¬äºŒä¸ªå›è°ƒï¼›ä¸€ç§ .catch() æ¥æ•è·å‰ä¸€ä¸ª Promise æŠ›å‡ºçš„é”™è¯¯ã€‚ 123456789101112let p = new Promise((resolve, reject) =&gt; &#123; reject("error");&#125;);p.then(data =&gt; &#123; console.log("success")&#125;, error =&gt; &#123; console.log(error);&#125;);// æ‰§è¡Œç»“æœï¼š// error 123456789101112let p = new Promise((resolve, reject) =&gt; &#123; reject("error");&#125;);p.then(data =&gt; &#123; console.log("success")&#125;).catch(error =&gt; &#123; console.log("catch:" + error);&#125;);// æ‰§è¡Œç»“æœï¼š// catch:error Promise.all å’Œ Promise.racePromise.allPromise.all æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œå®ƒå¿…é¡»æ˜¯å¯ä»¥è¿­ä»£çš„ï¼Œä¾‹å¦‚æ•°ç»„ã€‚å®ƒé€šå¸¸ç”¨æ¥å¤„ç†ä¸€äº›å¹¶å‘çš„å¼‚æ­¥æ“ä½œï¼Œå³å®ƒä»¬çš„ç»“æœäº’ä¸å¹²æ‰°ï¼Œä½†æ˜¯åˆéœ€è¦å¼‚æ­¥æ‰§è¡Œã€‚å½“æ‰€æœ‰ Promise éƒ½æˆåŠŸçš„æ—¶å€™ï¼Œæ•´ä¸ª Promise.all æ‰æˆåŠŸã€‚æˆåŠŸè°ƒç”¨åè¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„çš„å€¼æ˜¯æœ‰åºçš„ï¼Œé¡ºåºå°±æ˜¯ä¼ å…¥å‚æ•°çš„æ•°ç»„é¡ºåºï¼š æˆåŠŸçš„æƒ…å†µ 123456789101112let arr = [1, 2, 3];let tasks = arr.map(num =&gt; &#123; return new Promise((resolve, reject) =&gt; &#123; resolve(num * 5); &#125;);&#125;);Promise.all(tasks).then(data =&gt; &#123; // æœ‰åºè¾“å‡º console.log(arr); // [1, 2, 3] console.log(data); // [5, 10, 15]&#125;); å¤±è´¥çš„æƒ…å†µ 1234567891011121314151617let arr = [1, 2, 3];let tasks = arr.map(num =&gt; &#123; return new Promise((resolve, reject) =&gt; &#123; if (num === 3) &#123; reject('rejected'); &#125; resolve(num * 5); &#125;);&#125;);Promise.all(tasks).then(data =&gt; &#123; // è¿™é‡Œä¸ä¼šæ‰§è¡Œ console.log(arr); console.log(data);&#125;).catch(err =&gt; &#123; console.log(err); // rejected&#125;); Promise.racePromise.race å’Œ Promise.all ç±»ä¼¼ï¼Œéƒ½æ¥æ”¶ä¸€ä¸ªå¯ä»¥è¿­ä»£çš„å‚æ•°ï¼Œä½†æ˜¯ä¸åŒä¹‹å¤„æ˜¯ Promise.race çš„çŠ¶æ€å˜åŒ–ä¸æ˜¯å…¨éƒ¨å—å‚æ•°å†…çš„çŠ¶æ€å½±å“ï¼Œä¸€æ—¦å‚æ•°å†…æœ‰ä¸€ä¸ªå€¼çš„çŠ¶æ€å‘ç”Ÿçš„æ”¹å˜ï¼Œé‚£ä¹ˆè¯¥ Promise çš„çŠ¶æ€å°±æ˜¯æ”¹å˜çš„çŠ¶æ€ã€‚å°±è·Ÿ race å•è¯çš„å­—é¢æ„æ€ä¸€æ ·ï¼Œè°è·‘çš„å¿«è°èµ¢ã€‚ 12345678910111213141516171819let p1 = new Promise((resolve, reject) =&gt; &#123; setTimeout(resolve, 300, 'p1 doned');&#125;);var p2 = new Promise((resolve, reject) =&gt; &#123; setTimeout(resolve, 50, 'p2 doned');&#125;);var p3 = new Promise((resolve, reject) =&gt; &#123; setTimeout(reject, 100, 'p3 rejected');&#125;);Promise.race([p1, p2, p3]).then(data =&gt; &#123; // æ˜¾ç„¶p2æ›´å¿«ï¼Œæ‰€ä»¥çŠ¶æ€å˜æˆäº†fulfilled // å¦‚æœp3æ›´å¿«ï¼Œé‚£ä¹ˆçŠ¶æ€å°±ä¼šå˜æˆrejected console.log(data); // p2 doned&#125;).catch(function(err) &#123; console.log(err); // ä¸æ‰§è¡Œ&#125;);]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>JS</category>
      </categories>
      <tags>
        <tag>Promise</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[letå’Œconstå’Œvarçš„åŒºåˆ«]]></title>
    <url>%2Fposts%2F37021%2F</url>
    <content type="text"><![CDATA[const å’Œ let å¼‚åŒä¸åŒç‚¹ let å®šä¹‰å˜é‡å¯ä»¥åªå£°æ˜ä¸èµ‹å€¼ const å®šä¹‰å¸¸é‡å£°æ˜æ—¶å¿…é¡»èµ‹å€¼ï¼Œä¸€æ—¦å®šä¹‰ä¸å¯è½»æ˜“æ”¹å˜ ç›¸åŒç‚¹è§£å†³ var æ²¡æœ‰å—ä½œç”¨åŸŸ,ã€å˜é‡æå‡ã€å¯ä»¥é‡å¤å£°æ˜çš„é—®é¢˜ã€‚ let å’Œ const æœ‰è‡ªå·±çš„å—ä½œç”¨åŸŸ, ä¸å­˜åœ¨å˜é‡æå‡é—®é¢˜, åŒä¸€å—ä½œç”¨åŸŸä¸­ä¸å¯é‡å¤å£°æ˜ï¼ˆä¼šæŠ¥é”™ï¼‰ã€‚ let/const å’Œ var åŒºåˆ« var æœ‰å˜é‡æå‡ï¼Œlet/const æ²¡æœ‰ let/const çš„ä½œç”¨åŸŸæ˜¯å—ï¼Œè€Œ var çš„ä½œç”¨åŸŸæ˜¯å‡½æ•° let/const æœ‰æš‚æ—¶æ€§æ­»åŒºï¼Œåªè¦ let/const å£°æ˜çš„å˜é‡ï¼Œåœ¨æœªå£°æ˜ä¹‹å‰ä½¿ç”¨æˆ–è€…èµ‹å€¼éƒ½ä¼šæŠ¥é”™ï¼ˆReferenceErrorï¼‰ let/const ä¸èƒ½è¢«é‡å¤å®šä¹‰]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>JS</category>
      </categories>
      <tags>
        <tag>ES6</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å‡½æ•°ä¸­çš„restå‚æ•°]]></title>
    <url>%2Fposts%2F29820%2F</url>
    <content type="text"><![CDATA[ä»€ä¹ˆæ˜¯ REST å‚æ•°RESTå‚æ•°ç¿»è¯‘è¿‡æ¥å°±æ˜¯å‰©ä½™å‚æ•°ï¼ŒMDNä¸Šçš„å®šä¹‰æ˜¯ï¼š å‰©ä½™å‚æ•°è¯­æ³•å…è®¸æˆ‘ä»¬å°†ä¸€ä¸ªä¸å®šæ•°é‡çš„å‚æ•°è¡¨ç¤ºä¸ºä¸€ä¸ªæ•°ç»„ã€‚ ç¤ºä¾‹è¯´æ˜123456789101112131415161718192021function sum(...theArgs) &#123; return theArgs.reduce((previous, current) =&gt; &#123; return previous + current; &#125;);&#125;console.log(sum(1, 2, 3));// expected output: 6console.log(sum(1, 2, 3, 4));// expected output: 10// ä¸‹ä¾‹ä¸­ï¼Œå‰©ä½™å‚æ•°åŒ…å«äº†ä»ç¬¬äºŒä¸ªåˆ°æœ€åçš„æ‰€æœ‰å®å‚ï¼Œç„¶åç”¨ç¬¬ä¸€ä¸ªå®å‚ä¾æ¬¡ä¹˜ä»¥å®ƒä»¬function multiply(multiplier, ...theArgs) &#123; return theArgs.map(function (element) &#123; return multiplier * element; &#125;);&#125;var arr = multiply(2, 1, 2, 3); console.log(arr); // [2, 4, 6] rest å‚æ•°å’Œ arguments å¯¹è±¡çš„åŒºåˆ«å‰©ä½™å‚æ•°å’Œ argumentså¯¹è±¡ä¹‹é—´çš„åŒºåˆ«ä¸»è¦æœ‰ä¸‰ä¸ªï¼š å‰©ä½™å‚æ•°åªåŒ…å«é‚£äº›æ²¡æœ‰å¯¹åº”å½¢å‚çš„å®å‚ï¼Œè€Œ arguments å¯¹è±¡åŒ…å«äº†ä¼ ç»™å‡½æ•°çš„æ‰€æœ‰å®å‚ã€‚ argumentså¯¹è±¡ä¸æ˜¯ä¸€ä¸ªçœŸæ­£çš„æ•°ç»„ï¼Œè€Œå‰©ä½™å‚æ•°æ˜¯çœŸæ­£çš„ Arrayå®ä¾‹ï¼Œä¹Ÿå°±æ˜¯è¯´ä½ èƒ½å¤Ÿåœ¨å®ƒä¸Šé¢ç›´æ¥ä½¿ç”¨æ‰€æœ‰çš„æ•°ç»„æ–¹æ³•ï¼Œæ¯”å¦‚ sortï¼Œmapï¼ŒforEachæˆ–popã€‚ argumentså¯¹è±¡è¿˜æœ‰ä¸€äº›é™„åŠ çš„å±æ€§ ï¼ˆå¦‚calleeå±æ€§ï¼‰ã€‚ arguments.callee å±æ€§åŒ…å«å½“å‰æ­£åœ¨æ‰§è¡Œçš„å‡½æ•°ã€‚]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>JS</category>
      </categories>
      <tags>
        <tag>ES6</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JSä¸­å¦‚ä½•å®ç°ç»§æ‰¿]]></title>
    <url>%2Fposts%2F2751%2F</url>
    <content type="text"><![CDATA[ç»„åˆç»§æ‰¿ï¼ˆåŸå‹é“¾ + å€Ÿç”¨æ„é€ å‡½æ•°ï¼‰12345678910111213141516171819202122232425262728// ç»„åˆç»§æ‰¿:åŸå‹ç»§æ‰¿+å€Ÿç”¨ï¼ˆè°ƒç”¨ï¼‰æ„é€ å‡½æ•°ç»§æ‰¿function Person(name, age, sex) &#123; this.name = name; this.age = age; this.sex = sex;&#125;Person.prototype.sayHi = function () &#123; console.log("Hello world");&#125;;function Student(name, age, sex, score) &#123; // å€Ÿç”¨æ„é€ å‡½æ•° Person.call(this,name,age,sex); this.score = score;&#125;// æ”¹å˜åŸå‹æŒ‡å‘----ç»§æ‰¿// æˆ‘ä»¬è®© Student.prototype æŒ‡å‘ä¸€ä¸ªPersonçš„å®ä¾‹å¯¹è±¡// è¿™ä¸ªå¯¹è±¡çš„__proto__æŒ‡å‘çš„æ˜¯Person.prototype// æ‰€ä»¥æˆ‘ä»¬å°±å¯ä»¥å€ŸåŠ©è¿™ä¸ªå®ä¾‹å¯¹è±¡æ‹¿åˆ°sayHiæ–¹æ³•ï¼Œå®ç°ç»§æ‰¿Student.prototype=new Person();Student.prototype.eat = function () &#123; console.log("åƒä¸œè¥¿");&#125;;var stu = new Student("Lance", 20, "ç”·", "100åˆ†");stu.sayHi();var stu2 = new Student("Jerry", 19, "ç”·", "101åˆ†");stu2.eat();//å±æ€§å’Œæ–¹æ³•éƒ½è¢«ç»§æ‰¿äº† å¯„ç”Ÿç»„åˆç»§æ‰¿ï¼ˆç»„åˆç»§æ‰¿å‡çº§ç‰ˆï¼‰123456789101112131415161718192021222324252627282930function object(o) &#123; function F()&#123;&#125; F.prototype = o; return new F();&#125;function inheritPrototype(subType, superType) &#123; var prototype = object(superType.prototype); // åˆ›å»ºäº†çˆ¶ç±»åŸå‹çš„æµ…å¤åˆ¶ prototype.constructor = subType; // ä¿®æ­£åŸå‹çš„æ„é€ å‡½æ•° subType.prototype = prototype; // å°†å­ç±»çš„åŸå‹æ›¿æ¢ä¸ºè¿™ä¸ªåŸå‹&#125; function SuperType(name)&#123; this.name = name; this.colors = ["red", "blue", "green"];&#125; SuperType.prototype.sayName = function() &#123; alert(this.name);&#125;; function SubType(name, age) &#123; SuperType.call(this, name); this.age = age;&#125;// æ ¸å¿ƒï¼šå› ä¸ºæ˜¯å¯¹çˆ¶ç±»åŸå‹çš„å¤åˆ¶ï¼Œæ‰€ä»¥ä¸åŒ…å«çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œä¹Ÿå°±ä¸ä¼šè°ƒç”¨ä¸¤æ¬¡çˆ¶ç±»çš„æ„é€ å‡½æ•°é€ æˆæµªè´¹inheritPrototype(SubType, SuperType);SubType.prototype.sayAge = function() &#123; alert(this.age);&#125; ES6ç»§æ‰¿å†™æ³•12345678910class Person &#123; constructor(name, age) &#123;this.name=name;this.age=age&#125; sayHi() &#123;&#125;&#125;class Student extends Person &#123; constructor(name, age, weight) &#123; super(name, age); this.weight = weight; &#125; run() &#123;&#125;&#125; åœ¨åŸå‹é“¾ç»§æ‰¿æ—¶ï¼Œä¸ºä»€ä¹ˆä¸ç›´æ¥ Student.prototype = Person.prototype ï¼Ÿå› ä¸ºå¯¹è±¡çš„èµ‹å€¼åªæ˜¯å¼•ç”¨çš„èµ‹å€¼, ä¸Šé¢ä¸¤è€…éƒ½æŒ‡å‘åŒä¸€ä¸ªå†…å­˜åœ°å€ï¼Œåªè¦éšä¾¿é€šè¿‡1ä¸ªé€”å¾„å°±èƒ½ä¿®æ”¹è¯¥å†…å­˜åœ°å€çš„å¯¹è±¡ï¼Œè¿™æ ·å­ç±»å°±æ— æ³•å•ç‹¬æ‰©å±•æ–¹æ³•ï¼Œè€Œä¸”ä¼šå½±å“çˆ¶ç±»ã€‚ ç»„åˆç»§æ‰¿çš„ç¼ºç‚¹ç¼ºç‚¹å°±æ˜¯è°ƒç”¨äº†ä¸¤æ¬¡çˆ¶ç±»çš„æ„é€ å‡½æ•°ã€‚ç¬¬ä¸€æ¬¡ç»™å­ç±»çš„åŸå‹æ·»åŠ äº†çˆ¶ç±»æ„é€ å‡½æ•°ä¸­çš„å±æ€§æ–¹æ³•ï¼›ç¬¬äºŒæ¬¡åˆç»™å­ç±»çš„æ„é€ å‡½æ•°æ·»åŠ äº†çˆ¶ç±»çš„æ„é€ å‡½æ•°çš„å±æ€§æ–¹æ³•ï¼Œä»è€Œè¦†ç›–äº†å­ç±»åŸå‹ä¸­çš„åŒåå‚æ•°ã€‚è¿™ç§è¢«è¦†ç›–çš„æƒ…å†µé€ æˆäº†æ€§èƒ½ä¸Šçš„æµªè´¹ï¼š1234567891011121314function SuperType() &#123; this.name = 'parent'; this.arr = [1, 2, 3];&#125; SuperType.prototype.say = function() &#123; console.log('this is parent')&#125; function SubType() &#123; SuperType.call(this) // ç¬¬äºŒæ¬¡è°ƒç”¨SuperType&#125; SubType.prototype = new SuperType() // ç¬¬ä¸€æ¬¡è°ƒç”¨SuperType]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>JS</category>
      </categories>
      <tags>
        <tag>ç»§æ‰¿</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¯¹thisæŒ‡å‘çš„åˆ¤å®š]]></title>
    <url>%2Fposts%2F33207%2F</url>
    <content type="text"><![CDATA[å¯¹ this çš„ç†è§£å¯¹äºthisæŒ‡å‘çš„åˆ¤å®šï¼Œæ—¶åˆ»è®°ä½ä¸‹é¢ä¸¤ç‚¹å°±å¥½ï¼š æ™®é€šå‡½æ•°çš„ this æŒ‡å‘æ˜¯åœ¨å‡½æ•°çš„æ‰§è¡ŒæœŸé—´ç»‘å®šçš„ï¼Œæ¢å¥è¯è¯´ this æ€»æ˜¯æŒ‡å‘å‡½æ•°çš„ç›´æ¥è°ƒç”¨è€… ç®­å¤´å‡½æ•°çš„ this æŒ‡å‘æ˜¯åœ¨å‡½æ•°åˆ›å»ºæœŸé—´å°±ç»‘å®šå¥½äº†çš„ï¼ŒæŒ‡å‘çš„æ˜¯åˆ›å»ºè¯¥ç®­å¤´å‡½æ•°æ‰€åœ¨çš„ä½œç”¨åŸŸå¯¹è±¡ æ™®é€šå‡½æ•°ä¸­çš„thisè¿™é‡Œç›´æ¥å¼•ç”¨ You-Dont-Know-JS ä¸­å¯¹ this çš„åˆ¤å®šæ­¥éª¤ï¼š å‡½æ•°æ˜¯é€šè¿‡ new è¢«è°ƒç”¨çš„å—ï¼ˆnew ç»‘å®šï¼‰ï¼Ÿå¦‚æœæ˜¯ï¼Œthis å°±æ˜¯æ–°æ„å»ºçš„å¯¹è±¡ã€‚var bar = new foo() å‡½æ•°æ˜¯é€šè¿‡ call æˆ– apply è¢«è°ƒç”¨ï¼ˆæ˜ç¡®ç»‘å®šï¼‰ï¼Œç”šè‡³æ˜¯éšè—åœ¨ bind ç¡¬ç»‘å®š ä¹‹ä¸­å—ï¼Ÿå¦‚æœæ˜¯ï¼Œthis å°±æ˜¯é‚£ä¸ªè¢«æ˜ç¡®æŒ‡å®šçš„å¯¹è±¡ã€‚var bar = foo.call( obj2 ) å‡½æ•°æ˜¯é€šè¿‡ç¯å¢ƒå¯¹è±¡ï¼ˆä¹Ÿç§°ä¸ºæ‹¥æœ‰è€…æˆ–å®¹å™¨å¯¹è±¡ï¼‰è¢«è°ƒç”¨çš„å—ï¼ˆéšå«ç»‘å®šï¼‰ï¼Ÿå¦‚æœæ˜¯ï¼Œthis å°±æ˜¯é‚£ä¸ªç¯å¢ƒå¯¹è±¡ã€‚var bar = obj1.foo() å¦åˆ™ï¼Œä½¿ç”¨é»˜è®¤çš„ thisï¼ˆé»˜è®¤ç»‘å®šï¼‰ã€‚å¦‚æœåœ¨ strict mode ä¸‹ï¼Œå°±æ˜¯ undefinedï¼Œå¦åˆ™æ˜¯ global å¯¹è±¡ã€‚var bar = foo() å¸¸è§thisæŒ‡å‘ æ™®é€šå‡½æ•°ä¸­this â€”â€”&gt; window æ„é€ å‡½æ•°ä¸­this â€”â€”&gt; newå‡ºæ¥çš„å®ä¾‹å¯¹è±¡ æ–¹æ³•ä¸­çš„this â€”â€”&gt; å®ä¾‹å¯¹è±¡ åŸå‹ä¸­çš„æ–¹æ³•ä¸­çš„this â€”â€”&gt; å®ä¾‹å¯¹è±¡ å®šæ—¶å™¨ä¸­çš„this â€”â€”&gt; window]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>JS</category>
      </categories>
      <tags>
        <tag>this</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ•°ç»„çš„éå†æ–¹æ³•]]></title>
    <url>%2Fposts%2F64478%2F</url>
    <content type="text"><![CDATA[ä¸‹é¢æ˜¯æ€»ç»“çš„æ•°ç»„éå†çš„å¸¸è§æ–¹æ³• forå¾ªç¯ æ ‡å‡†forå¾ªç¯ forEach((å½“å‰å€¼, å½“å‰ç´¢å¼•, å½“å‰æ•°ç»„) =&gt; {â€¦}, [, ç»‘å®šçš„this])` æ— æ³•ä¸­é€”é€€å‡ºå¾ªç¯ï¼Œåªèƒ½ç”¨ return é€€å‡ºæœ¬æ¬¡å›è°ƒï¼Œè¿›è¡Œä¸‹ä¸€æ¬¡å›è°ƒ å®ƒæ€»æ˜¯è¿”å› undefined å€¼ï¼Œå³ä½¿ä½  return äº†ä¸€ä¸ªå€¼ forâ€¦inï¼ˆä¸æ¨èï¼‰ä¼šæŠŠç»§æ‰¿é“¾çš„å¯¹è±¡å±æ€§éƒ½ä¼šéå†ä¸€éï¼Œè€Œä¸”æ•°ç»„éå†ä¸ä¸€å®šæŒ‰æ¬¡åº for-in å¾ªç¯è¿”å›çš„æ˜¯æ‰€æœ‰èƒ½é€šè¿‡å¯¹è±¡è®¿é—®çš„ã€å¯æšä¸¾çš„å±æ€§ for (variable of iterable)ï¼ˆES6ï¼‰å¯è¿­ä»£Arrayï¼ŒMapï¼ŒSetï¼ŒStringç­‰ï¼ˆè¿­ä»£çš„æ˜¯å€¼valueï¼‰ åœ¨ for..of ä¸­å¦‚æœéå†ä¸­é€”è¦é€€å‡ºï¼Œå¯ä»¥ä½¿ç”¨ break é€€å‡ºå¾ªç¯ ES5 map (ä¸æ”¹å˜åŸæ•°ç»„) ä¼šç»™åŸæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æŒ‰é¡ºåºè°ƒç”¨ä¸€æ¬¡ callback å‡½æ•° reduce (ä¸æ”¹å˜åŸæ•°ç»„) æ•°ç»„ä¸­çš„å‰é¡¹å’Œåé¡¹åšæŸç§è®¡ç®—,å¹¶ç´¯è®¡æœ€ç»ˆå€¼ã€‚ 123456789// è¯­æ³•ï¼š// arr.reduce(function(total, currentValue, currentIndex, arr), initialValue)// callback å‚æ•°// (ç´¯ç§¯å™¨, å½“å‰å…ƒç´ , å½“å‰å…ƒç´ ç´¢å¼•, å½“å‰æ•°ç»„)// initialValue:æŒ‡å®šç¬¬ä¸€æ¬¡å›è°ƒ çš„ç¬¬ä¸€ä¸ªå‚æ•°var wallets = [4, 7.8, 3]var totalMoney = wallets.reduce(function (countedMoney, curMoney) &#123; return countedMoney + curMoney;&#125;, 0) filter (ä¸æ”¹å˜åŸæ•°ç»„) 1234var arr = [2, 3, 4, 5, 6]var morearr = arr.filter(function (number) &#123; return number &gt; 3&#125;) // [4,5,6] every (ä¸æ”¹å˜åŸæ•°ç»„) æµ‹è¯•æ•°ç»„çš„æ‰€æœ‰å…ƒç´ æ˜¯å¦éƒ½é€šè¿‡äº†æŒ‡å®šå‡½æ•°çš„æµ‹è¯• å¦‚æœæ•°ç»„ä¸­æ£€æµ‹åˆ°æœ‰ä¸€ä¸ªå…ƒç´ ä¸æ»¡è¶³ï¼Œåˆ™æ•´ä¸ªè¡¨è¾¾å¼è¿”å› false ï¼Œä¸”å‰©ä½™çš„å…ƒç´ ä¸ä¼šå†è¿›è¡Œæ£€æµ‹ å¦‚æœæ‰€æœ‰å…ƒç´ éƒ½æ»¡è¶³æ¡ä»¶ï¼Œåˆ™è¿”å› true 1234var arr = [1,2,3,4,5]var result = arr.every(function (item, index) &#123; return item &gt; 2&#125;) // false some (ä¸æ”¹å˜åŸæ•°ç»„) æµ‹è¯•æ˜¯å¦è‡³å°‘æœ‰ä¸€ä¸ªå…ƒç´ é€šè¿‡ callback ä¸­çš„æ¡ä»¶ã€‚å¯¹äºæ”¾åœ¨ç©ºæ•°ç»„ä¸Šçš„ä»»ä½•æ¡ä»¶ï¼Œæ­¤æ–¹æ³•è¿”å› false å¦‚æœæœ‰ä¸€ä¸ªå…ƒç´ æ»¡è¶³æ¡ä»¶ï¼Œåˆ™è¡¨è¾¾å¼è¿”å›true, å‰©ä½™çš„å…ƒç´ ä¸ä¼šå†æ‰§è¡Œæ£€æµ‹ å¦‚æœæ²¡æœ‰æ»¡è¶³æ¡ä»¶çš„å…ƒç´ ï¼Œåˆ™è¿”å›false 12345678// some(callback, thisArg)// callback:// (å½“å‰å…ƒç´ , å½“å‰ç´¢å¼•, è°ƒç”¨someçš„æ•°ç»„)var arr = [1,2,3,4,5]var result = arr.some(function (item,index) &#123; return item &gt; 3&#125;) // true ES6 find() &amp; findIndex() æ ¹æ®æ¡ä»¶æ‰¾åˆ°æ•°ç»„æˆå‘˜ find å®šä¹‰ï¼šç”¨äºæ‰¾å‡ºç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„æ•°ç»„æˆå‘˜ï¼Œå¹¶è¿”å›è¯¥æˆå‘˜ï¼Œå¦‚æœæ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„æˆå‘˜ï¼Œåˆ™è¿”å› undefined findIndex å®šä¹‰ï¼šè¿”å›ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„æ•°ç»„æˆå‘˜çš„ä½ç½®ï¼Œå¦‚æœæ‰€æœ‰æˆå‘˜éƒ½ä¸ç¬¦åˆæ¡ä»¶ï¼Œåˆ™è¿”å›-1 123456789101112// è¯­æ³•let new_array = arr.find(function(currentValue, index, arr), thisArg)let new_array = arr.findIndex(function(currentValue, index, arr), thisArg)// è¿™ä¸¤ä¸ªæ–¹æ³•éƒ½å¯ä»¥è¯†åˆ«NaN,å¼¥è¡¥äº†indexOfçš„ä¸è¶³// findlet a = [1, 4, -5, 10].find((n) =&gt; n &lt; 0); // è¿”å›å…ƒç´ -5let b = [1, 4, -5, 10,NaN].find((n) =&gt; Object.is(NaN, n)); // è¿”å›å…ƒç´ NaN// findIndexlet a = [1, 4, -5, 10].findIndex((n) =&gt; n &lt; 0); // è¿”å›ç´¢å¼•2let b = [1, 4, -5, 10,NaN].findIndex((n) =&gt; Object.is(NaN, n)); // è¿”å›ç´¢å¼•4 keys() &amp; values() &amp; entries() éå†é”®åã€éå†é”®å€¼ã€éå†é”®å+é”®å€¼ ä¸‰ä¸ªæ–¹æ³•éƒ½è¿”å›ä¸€ä¸ªæ–°çš„ Array Iterator å¯¹è±¡ï¼Œå¯¹è±¡æ ¹æ®æ–¹æ³•ä¸åŒåŒ…å«ä¸åŒçš„å€¼ 1234567891011121314151617181920// è¯­æ³•array.keys() array.values() array.entries()for (let index of ['a', 'b'].keys()) &#123; console.log(index);&#125;// 0// 1for (let elem of ['a', 'b'].values()) &#123; console.log(elem);&#125;// 'a'// 'b'for (let [index, elem] of ['a', 'b'].entries()) &#123; console.log(index, elem);&#125;// 0 "a"// 1 "b"]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>JS</category>
      </categories>
      <tags>
        <tag>æ•°ç»„</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[null å’Œ undefined çš„åŒºåˆ«]]></title>
    <url>%2Fposts%2F63928%2F</url>
    <content type="text"><![CDATA[å«ä¹‰ null è¡¨ç¤ºä¸€ä¸ªå¯¹è±¡æ˜¯â€œæ²¡æœ‰å€¼â€çš„å€¼ï¼Œä¹Ÿå°±æ˜¯å€¼ä¸ºâ€œç©ºâ€ undefined è¡¨ç¤ºä¸€ä¸ªå˜é‡å£°æ˜äº†æ²¡æœ‰åˆå§‹åŒ–(èµ‹å€¼) ç±»å‹ undefined çš„ç±»å‹(typeof)æ˜¯ undefined null çš„ç±»å‹(typeof)æ˜¯ object åŒç­‰ä¸‰ç­‰å¦å¤–ï¼Œåœ¨éªŒè¯ null æ—¶ï¼Œä¸€å®šè¦ä½¿ç”¨ === ï¼Œå› ä¸º == æ— æ³•åˆ†è¾¨ null å’Œ undefined ï¼š12null == undefined // true null === undefined // false æ€»ç»“undefined å˜é‡æå‡ï¼šåªå£°æ˜æœªå®šä¹‰é»˜è®¤å€¼å°±æ˜¯ undefined ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼šæ²¡æœ‰æ˜ç¡®çš„æ‰§è¡Œä¸»ä½“ï¼Œthis å°±æ˜¯ undefined å¯¹è±¡æ²¡æœ‰è¿™ä¸ªå±æ€§åï¼Œå±æ€§å€¼æ˜¯ undefined å‡½æ•°å®šä¹‰å½¢å‚ä¸ä¼ å€¼ï¼Œé»˜è®¤å°±æ˜¯ undefined å‡½æ•°æ²¡æœ‰è¿”å›å€¼ï¼ˆæ²¡æœ‰ return æˆ–è€… return; ï¼‰ï¼Œé»˜è®¤è¿”å›çš„å°±æ˜¯ undefined æ•°ç»„è¶Šç•Œå–å€¼ä¹Ÿæ˜¯ undefined ï¼ˆarr=[1,2]; arr[10] =&gt; undefinedï¼‰ â€¦ null æ‰‹åŠ¨è®¾ç½®å˜é‡çš„å€¼æˆ–è€…å¯¹è±¡æŸä¸ªå±æ€§å€¼ä¸ºnullï¼ˆæ­¤æ—¶ä¸èµ‹å€¼ï¼Œåé¢ä¼šèµ‹å€¼ï¼‰ åœ¨ JS çš„ DOM å…ƒç´ è·å–ä¸­ï¼Œå¦‚æœæ²¡æœ‰è·å–åˆ°æŒ‡å®šçš„å…ƒç´ å¯¹è±¡ï¼Œç»“æœä¸€èˆ¬éƒ½æ˜¯null Object.prototype.proto çš„å€¼ä¹Ÿæ˜¯ null æ­£åˆ™æ•è·çš„æ—¶å€™ï¼Œå¦‚æœæ²¡æœ‰æ•è·åˆ°ç»“æœï¼Œé»˜è®¤ä¹Ÿæ˜¯null â€¦ å…¶ä»–Javascriptä¼šå°†æœªèµ‹å€¼çš„å˜é‡é»˜è®¤å€¼è®¾ä¸ºundefinedï¼›Javascriptä»æ¥ä¸ä¼šå°†å˜é‡è®¾ä¸ºnullã€‚å®ƒæ˜¯ç”¨æ¥è®©ç¨‹åºå‘˜è¡¨æ˜æŸä¸ªç”¨varå£°æ˜çš„å˜é‡æ—¶æ²¡æœ‰å€¼çš„ã€‚]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>JS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[å¯¹é—­åŒ…çš„ç†è§£]]></title>
    <url>%2Fposts%2F29980%2F</url>
    <content type="text"><![CDATA[ä»€ä¹ˆæ˜¯é—­åŒ…æˆ‘ä¸€ç›´è®¤ä¸ºï¼ŒMDNæ˜¯å‰ç«¯å­¦ä¹ çš„åœ¨çº¿æŒ‡å—ã€‚åªè¦æœ‰ä¸æ‡‚çš„è¯­æ³•ï¼Œæˆ–è€…ä¸æ‡‚çš„æ¦‚å¿µï¼ŒæŸ¥æ‰¾èµ„æ–™çš„é¦–é€‰å°±åº”è¯¥æ˜¯å®ƒã€‚è™½ç„¶æ—©äº›å¹´åšiOSå¼€å‘çš„æ—¶å€™å°±å°±æ¥è§¦è¿‡é—­åŒ…ï¼Œä½†å¦‚ä»Šå·²ç»å¿˜å¾—ä¸€å¹²äºŒå‡€ï¼Œæ‰€ä»¥åœ¨æƒ³è¦äº†è§£é—­åŒ…çš„æ—¶å€™ï¼Œç¬¬ä¸€ä»¶äº‹å°±æ˜¯åœ¨MDNä¸­æœç´¢ã€‚å…¶ä¸­ç»™åˆ°äº†ä¸€ä¸ªé—­åŒ…çš„ä¾‹å­ï¼š 12345678910function makeFunc() &#123; var name = "Mozilla"; // name æ˜¯ä¸€ä¸ªè¢« init åˆ›å»ºçš„å±€éƒ¨å˜é‡ function displayName() &#123; // displayName() æ˜¯å†…éƒ¨å‡½æ•°,ä¸€ä¸ªé—­åŒ… alert(name); // ä½¿ç”¨äº†çˆ¶å‡½æ•°ä¸­å£°æ˜çš„å˜é‡ &#125; return displayName; // è¿”å› displayName è¿™ä¸ªå‡½æ•°&#125;var myFunc = makeFunc();myFunc(); // å½“æ‰§è¡ŒmyFuncæ—¶ï¼Œå…¶å®è°ƒç”¨äº†displayNameï¼Œä¼šå¼¹çª—æ˜¾ç¤º"Mozilla" åœ¨ä¸Šé¢è¿™ä¸ªä¾‹å­ä¸­ï¼Œä¸€ä¸ªå‡½æ•°å¥—äº†ä¸€ä¸ªå‡½æ•°ï¼Œä¸”è¿™ä¸ªå†…éƒ¨å‡½æ•°ä½¿ç”¨åˆ°äº†å¤–éƒ¨å‡½æ•°ä¸­çš„å˜é‡ï¼Œè¿™ä¸ªæ—¶å€™å°±å½¢æˆäº†é—­åŒ…ã€‚æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿå…¶ä¸­ä¸€ä¸ªç”¨å¤„å°±å¦‚ä¸Šé¢ä»£ç æ‰€ç¤ºï¼Œèƒ½å¤Ÿè®© makeFunc å‡½æ•°å¤–é¢ä¹Ÿèƒ½è®¿é—® name è¿™ä¸ªå±€éƒ¨å˜é‡ã€‚æ¢å¥è¯è¯´ï¼Œé—­åŒ…ç¼“å­˜äº†æ•°æ®ï¼Œå»¶é•¿äº†ä½œç”¨åŸŸé“¾ã€‚ Kyle Simpsonç¼–å†™çš„You-Dont-Know-JSä¸­å¯¹é—­åŒ…çš„æ€»ç»“æˆ‘è§‰å¾—å¾ˆç²¾é«“ï¼š é—­åŒ…å°±æ˜¯å½“ä¸€ä¸ªå‡½æ•°å³ä½¿æ˜¯åœ¨å®ƒçš„è¯æ³•ä½œç”¨åŸŸä¹‹å¤–è¢«è°ƒç”¨æ—¶ï¼Œä¹Ÿå¯ä»¥è®°ä½å¹¶è®¿é—®å®ƒçš„è¯æ³•ä½œç”¨åŸŸã€‚ é—­åŒ…çš„ç‰¹æ€§ å‡½æ•°å†…å†åµŒå¥—å‡½æ•° å†…éƒ¨å‡½æ•°å¯ä»¥å¼•ç”¨å¤–å±‚çš„å‚æ•°å’Œå˜é‡ å‚æ•°å’Œå˜é‡ä¸ä¼šè¢«åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶ é—­åŒ…çš„ç”¨é€”è¯»å–æ­£ç¡®çš„å€¼ä¸€ä¸ªç»å…¸çš„ä¾‹å­ï¼Œç»™ ul&gt;li ä¸‹é¢çš„æ¯ä¸ª li èŠ‚ç‚¹æ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼Œè®©å…¶å¼¹å‡ºå½“å‰ li å…ƒç´ çš„ç´¢å¼•ï¼š1234567891011121314&lt;ul id="testUL"&gt; &lt;li&gt; index = 0&lt;/li&gt; &lt;li&gt; index = 1&lt;/li&gt; &lt;li&gt; index = 2&lt;/li&gt; &lt;li&gt; index = 3&lt;/li&gt;&lt;/ul&gt;&lt;script type="text/javascript"&gt; var nodes = document.getElementsByTagName("li"); for (var i = 0; i &lt; nodes.length; i += 1) &#123; nodes[i].onclick = function () &#123; console.log(i); &#125; &#125;&lt;/script&gt; è¿è¡Œä¸Šè¿°ä»£ç åå°±ä¼šå‘ç°ï¼Œæ¯æ¬¡æ‰“å°çš„ç»“æœéƒ½æ˜¾ç¤ºä¸º4ï¼Œè€Œä¸æ˜¯çœŸæ­£çš„ç´¢å¼•å€¼ã€‚è¿™æ˜¯å› ä¸ºç‚¹å‡»äº‹ä»¶çš„åŒ¿åå‡½æ•°å‘ç”Ÿåœ¨forå¾ªç¯ä¹‹åï¼Œè€Œforå¾ªç¯æ‰§è¡Œå®Œæ¯•æ—¶ i çš„å€¼å°±ä¸º4ï¼Œæ‰€ä»¥ç‚¹è°éƒ½æ˜¯åŒæ ·çš„ç»“æœã€‚é‚£ä¹ˆè¿™ä¸ªæ—¶å€™å°±èƒ½é€šè¿‡ç«‹å³æ‰§è¡Œå‡½æ•° + é—­åŒ…çš„æ–¹æ³•è§£å†³æ­¤é—®é¢˜ï¼š 1234567891011&lt;script type="text/javascript"&gt; var nodes = document.getElementsByTagName("li"); for (var i = 0; i &lt; nodes.length; i += 1) &#123; nodes[i].onclick = (function (i) &#123; // 1. IIFEåˆ›å»ºä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸ return function () &#123; // 4. è¿”å›è¿™ä¸ªåŒ¿åå‡½æ•°ï¼Œå»¶é•¿ä½œç”¨åŸŸé“¾ // 3. å†…éƒ¨åµŒå¥—çš„åŒ¿åå‡½æ•°ä½¿ç”¨åˆ°äº†IIFEçš„å‚æ•°iï¼Œå½¢æˆé—­åŒ… console.log(i); &#125; &#125;)(i); // 2. ç»™IIFEä¼ é€’æ¯æ¬¡forå¾ªç¯çš„i &#125;&lt;/script&gt; è¿™ä¸ªæ—¶å€™è§¦å‘clickäº‹ä»¶ï¼Œæ‰“å°çš„å€¼å°±æ˜¯liå…ƒç´ çš„ç´¢å¼•äº†ã€‚ é«˜çº§æ’ä»–è¿™ä¸ªä¾‹å­æœ‰ç‚¹åƒä¸Šé¢çš„ï¼Œç°åœ¨æˆ‘ä»¬è¦ä¸ªéœ€æ±‚ï¼šåœ¨ä¸€ä¸ª ul li åˆ—è¡¨ä¸­ï¼Œé¼ æ ‡ç§»å…¥æ—¶é«˜äº®å½“å‰liæ ‡ç­¾ï¼Œç§»é™¤ä¹‹å‰liæ ‡ç­¾çš„é«˜äº®çŠ¶æ€ã€‚ å¸¸è§„å†™æ³•å¦‚ä¸‹ï¼š 12345678910111213141516// å‡è®¾ç»™liæ·»åŠ activeç±»å¯ä»¥è®©æ ‡ç­¾é«˜äº®window.onload = function() &#123; let list = document.querySelectorAll('li') // éå†æ¯ä¸ªæ ‡ç­¾ for (let i = 0; i &lt; list.length; i++) &#123; const li = list[i] li.onmouseover = function() &#123; // mouseoverè§¦å‘åéå†æ•´ä¸ªåˆ—è¡¨ï¼Œå°†æ‰€æœ‰æ ‡ç­¾classè®¾ä¸ºç©º for (let j = 0; j &lt; list.length; j++) &#123; list[j].className = '' &#125; // æœ€åç»™å½“å‰liæ ‡ç­¾æ·»åŠ active this.className = 'active' &#125; &#125; &#125; ä¸Šé¢çš„ä»£ç èƒ½å¤Ÿå®ç°åŠŸèƒ½ï¼Œç„¶è€Œä¸€æ—¦åˆ—è¡¨éå¸¸é•¿æ€§èƒ½å°±ä¸é«˜ï¼Œæ‰€ä»¥å¯ä»¥åˆ©ç”¨é—­åŒ…æ¥ç¼“å­˜liæ ‡ç­¾çš„ç´¢å¼•ï¼Œä½¿å…¶ä¸æ ‡ç­¾ä¸€ä¸€å¯¹åº”ï¼š 123456789101112131415161718window.onload = function() &#123; let list = document.querySelectorAll('li') // è®°å½•ä¸Šä¸€æ¬¡é€‰ä¸­çš„liæ ‡ç­¾çš„å¯¹åº”ç´¢å¼• let preActiveIndex = 0 for (let i = 0; i &lt; list.length; i++) &#123; (function(j) &#123; const li = list[i] li.onmouseover = function() &#123; // æ¸…é™¤ä¸Šæ¬¡liæ ‡ç­¾çš„é«˜äº® list[preActiveIndex].className = '' // è®¾ç½®å½“å‰ä½é«˜äº® this.className = 'active' // èµ‹å€¼ preActiveIndex = j &#125; &#125;)(i) &#125;&#125; æ¨¡å—åŒ–å¼€å‘åœ¨å›¢é˜Ÿå¼€å‘ä¸­ï¼Œä¸ºäº†é¿å…å‘½åå†²çªé€šå¸¸ä¸åŒæˆå‘˜ä¼šæŠŠè‡ªå·±çš„ä»£ç å•ç‹¬å°è£…èµ·æ¥ï¼Œæœ€åreturnä¸€ä¸ªå¯¹è±¡å‡ºå»ï¼ŒæŒ‚è½½åˆ°windowä¸Šã€‚è¿™æ ·å…¶ä»–äººä¹Ÿå¯ä»¥ä½¿ç”¨ï¼Œè€Œä¸”èƒ½åœ¨ä¸€å®šç¨‹åº¦ä¸Šé¿å…å‘½åå†²çªï¼š 1234567891011121314151617(function(w) &#123; var money = 1000; function get() &#123; money *= 10 console.log("èµšäº†ä¸€ç¬”é’±ï¼Œæ€»èµ„äº§ï¼š" + money + "å…ƒ") &#125; function send() &#123; money-- console.log("èŠ±äº†ä¸€ç¬”é’±ï¼Œæ€»èµ„äº§ï¼š" + money + "å…ƒ") &#125; // å‘å¤–æš´éœ²å¯¹è±¡ w.myTools = &#123; get, set &#125;&#125;)(window) å‡½æ•°èŠ‚æµé˜²æŠ–åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿç»å¸¸ç”¨åˆ°å‡½æ•°èŠ‚æµä¸é˜²æŠ–ï¼Œé€šå¸¸æˆ‘ä»¬ä¼šå°†å®ƒä»¬å°è£…ä¸ºå‡½æ•°ï¼Œè¿™æ ·å¯ä»¥åœ¨éœ€è¦çš„åœ°æ–¹ç›´æ¥è°ƒç”¨ä½¿ç”¨ï¼Œè¿˜ä¸ä¼šæ±¡æŸ“å…¨å±€ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt; &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt; &lt;title&gt;é˜²æŠ–èŠ‚æµ&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;input id="input" type="text"&gt; &lt;!-- å‡½æ•°é˜²æŠ– --&gt; &lt;script&gt; function debounce(fn, delay) &#123; var timer = null return function() &#123; var ctx = this, args = arguments if (timer) &#123; window.clearTimeout(timer) &#125; timer = setTimeout(function() &#123; fn.apply(ctx, args) timer = null &#125;, delay); &#125; &#125; // æœç´¢æ¡†åšå‡½æ•°é˜²æŠ–é¿å…ç”¨æˆ·é«˜é¢‘è¾“å…¥å†…å®¹ input.addEventListener('input', debounce(function(e) &#123; console.log(e.target.value) &#125;, 500)) &lt;/script&gt; &lt;!-- å‡½æ•°èŠ‚æµ --&gt; &lt;script&gt; function throttle(fn, delay) &#123; var canUse = true return function() &#123; var ctx = this, args = arguments if (canUse) &#123; fn.apply(ctx, args) canUse = false setTimeout(() =&gt; &#123; canUse = true &#125;, delay); &#125; &#125; &#125; // å¯¹äºåƒonresizeè¿™æ ·çš„é«˜é¢‘äº‹ä»¶ï¼Œå¯ä»¥ä½¿ç”¨å‡½æ•°èŠ‚æµè®©å…¶å›è°ƒå‡½æ•°ä¸­çš„ä»£ç éš”ä¸€æ®µæ—¶é—´å†æ¬¡æ‰§è¡Œ window.onresize = throttle(function(e) &#123; input.value = Math.random() * 100 &#125;, 1000) &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; å†…å­˜æ³„æ¼å…¶å®é—­åŒ…å¹¶ä¸ä¼šé€ æˆå†…å­˜æ³„æ¼ï¼Œç°åœ¨çš„åƒåœ¾å›æ”¶æœºåˆ¶å·²ç»å¾ˆæˆç†Ÿäº†ã€‚ä½†æ—©æœŸçš„IEï¼ˆie4-ie6ï¼‰ç‰ˆæœ¬é‡Œï¼Œå¯¹å®¿ä¸»å¯¹è±¡ï¼ˆä¹Ÿå°±æ˜¯documentå¯¹è±¡ï¼‰é‡‡ç”¨æ˜¯å¼•ç”¨è®¡æ•°çš„åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œé—­åŒ…å¯¼è‡´å†…å­˜æ³„æ¼çš„ä¸€ä¸ªåŸå› å°±æ˜¯è¿™ä¸ªç®—æ³•çš„ä¸€ä¸ªç¼ºé™·ã€‚å¾ªç¯å¼•ç”¨ä¼šå¯¼è‡´æ²¡æ³•å›æ”¶ï¼Œè¿™ä¸ªå¾ªç¯å¼•ç”¨åªé™å®šäºæœ‰å®¿ä¸»å¯¹è±¡å‚ä¸çš„å¾ªç¯å¼•ç”¨ï¼Œè€Œjså¯¹è±¡ä¹‹é—´å³ä½¿å½¢æˆå¾ªç¯å¼•ç”¨ï¼Œä¹Ÿä¸ä¼šäº§ç”Ÿå†…å­˜æ³„æ¼ï¼Œå› ä¸ºå¯¹jså¯¹è±¡çš„å›æ”¶ç®—æ³•ä¸æ˜¯è®¡æ•°çš„æ–¹å¼ï¼š 12345678910111213141516171819202122232425function closure()&#123; var oDiv = document.getElementById('oDiv');//oDivç”¨å®Œä¹‹åä¸€ç›´é©»ç•™åœ¨å†…å­˜ä¸­ oDiv.onclick = function () &#123; alert('oDiv.innerHTML');//è¿™é‡Œç”¨oDivå¯¼è‡´å†…å­˜æ³„éœ² &#125;;&#125;// ä»¥ä¸Šä»£ç åˆ›å»ºäº†ä¸€ä¸ªä½œä¸º div å…ƒç´ äº‹ä»¶å¤„ç†ç¨‹åºçš„é—­åŒ…ï¼Œè€Œè¿™ä¸ªé—­åŒ…åˆ™åˆåˆ›å»ºäº†ä¸€ä¸ªå¾ªç¯å¼•ç”¨ã€‚// ç”±äºåŒ¿åå‡½æ•°ä¿å­˜äº†ä¸€ä¸ªå¯¹closure()çš„æ´»åŠ¨å¯¹è±¡çš„å¼•ç”¨ï¼Œå› æ­¤å°±ä¼šå¯¼è‡´æ— æ³•å‡å°‘ div çš„å¼•ç”¨æ•°ã€‚// åªè¦åŒ¿åå‡½æ•°å­˜åœ¨ï¼Œelement çš„å¼•ç”¨æ•°è‡³å°‘ä¹Ÿæ˜¯1ï¼Œå› æ­¤å®ƒæ‰€å ç”¨çš„å†…å­˜å°±æ°¸è¿œä¸ä¼šè¢«å›æ”¶closure();//æœ€ååº”å°†oDivè§£é™¤å¼•ç”¨æ¥é¿å…å†…å­˜æ³„éœ²function closure()&#123; var oDiv = document.getElementById('oDiv'); var test = oDiv.innerHTML; oDiv.onclick = function () &#123; alert(test); &#125;; oDiv = null;&#125;// è§£å†³åŠæ³•: æŠŠ oDiv.innerHTML çš„ä¸€ä¸ªå‰¯æœ¬ä¿å­˜åœ¨ä¸€ä¸ªå˜é‡ä¸­ï¼Œ// ä»è€Œæ¶ˆé™¤é—­åŒ…ä¸­è¯¥å˜é‡çš„å¾ªç¯å¼•ç”¨,åŒæ—¶å°† oDiv å˜é‡è®¾ä¸ºnullã€‚ æ‰€ä»¥æˆ‘ä»¬è¦ä¿æŒè‰¯å¥½çš„ç¼–ç¨‹ä¹ æƒ¯ï¼Œåœ¨ä½¿ç”¨å®Œé—­åŒ…åè®°å¾—é‡Šæ”¾å†…å­˜ï¼š 123456789101112function fn1() &#123; var arr = new Array(9999999999999) function fn2() &#123; console.log(arr) &#125; return fn2&#125;var f = fn1()f() // è°ƒç”¨å®Œåæ²¡æœ‰é‡Šæ”¾ï¼Œarrå°±ä¼šä¸€ç›´åœ¨å†…å­˜ä¸­å ç€ï¼Œå¯¼è‡´å†…å­˜æ³„æ¼// è®°å¾—é‡Šæ”¾f = null]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>JS</category>
      </categories>
      <tags>
        <tag>é—­åŒ…</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JSæ•°ç»„æœ‰å“ªäº›å¸¸ç”¨æ–¹æ³•]]></title>
    <url>%2Fposts%2F21501%2F</url>
    <content type="text"><![CDATA[æ”¹å˜åŸæ•°ç»„çš„æ–¹æ³•splice() æ·»åŠ /åˆ é™¤æ•°ç»„å…ƒç´  splice() æ–¹æ³•å‘/ä»æ•°ç»„ä¸­æ·»åŠ /åˆ é™¤é¡¹ç›®ï¼Œç„¶åè¿”å›è¢«åˆ é™¤çš„é¡¹ç›® array.splice(index,howmany,item1,â€¦..,itemX) indexï¼šå¿…éœ€ã€‚æ•´æ•°ï¼Œè§„å®šæ·»åŠ /åˆ é™¤é¡¹ç›®çš„ä½ç½®ï¼Œä½¿ç”¨è´Ÿæ•°å¯ä»æ•°ç»„ç»“å°¾å¤„è§„å®šä½ç½®ã€‚ howmanyï¼šå¯é€‰ã€‚è¦åˆ é™¤çš„é¡¹ç›®æ•°é‡ã€‚å¦‚æœè®¾ç½®ä¸º 0ï¼Œåˆ™ä¸ä¼šåˆ é™¤é¡¹ç›®ã€‚ item1, â€¦, itemXï¼š å¯é€‰ã€‚å‘æ•°ç»„æ·»åŠ çš„æ–°é¡¹ç›®ã€‚ è¿”å›å€¼: å¦‚æœæœ‰å…ƒç´ è¢«åˆ é™¤,è¿”å›åŒ…å«è¢«åˆ é™¤é¡¹ç›®çš„æ–°æ•°ç»„ã€‚ åˆ é™¤å…ƒç´ 1234567// ä»æ•°ç»„ä¸‹æ ‡0å¼€å§‹ï¼Œåˆ é™¤3ä¸ªå…ƒç´ let a = [1, 2, 3, 4, 5, 6, 7];let item = a.splice(0, 3); // [1,2,3]console.log(a); // [4,5,6,7]// ä»æœ€åä¸€ä¸ªå…ƒç´ å¼€å§‹åˆ é™¤3ä¸ªå…ƒç´ ï¼Œå› ä¸ºæœ€åä¸€ä¸ªå…ƒç´ ï¼Œæ‰€ä»¥åªåˆ é™¤äº†7let item = a.splice(-1, 3); // [7] åˆ é™¤å¹¶æ·»åŠ 123456789// ä»æ•°ç»„ä¸‹æ ‡0å¼€å§‹ï¼Œåˆ é™¤3ä¸ªå…ƒç´ ï¼Œå¹¶æ·»åŠ å…ƒç´ 'æ·»åŠ 'let a = [1, 2, 3, 4, 5, 6, 7];let item = a.splice(0,3,'æ·»åŠ '); // [1,2,3]console.log(a); // ['æ·»åŠ ',4,5,6,7]// ä»æ•°ç»„æœ€åç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹ï¼Œåˆ é™¤3ä¸ªå…ƒç´ ï¼Œå¹¶æ·»åŠ ä¸¤ä¸ªå…ƒç´ 'æ·»åŠ 1'ã€'æ·»åŠ 2'let b = [1, 2, 3, 4, 5, 6, 7];let item = b.splice(-2,3,'æ·»åŠ 1','æ·»åŠ 2'); // [6,7]console.log(b); // [1,2,3,4,5,'æ·»åŠ 1','æ·»åŠ 2'] ä¸åˆ é™¤åªæ·»åŠ 1234567let a = [1, 2, 3, 4, 5, 6, 7];let item = a.splice(0,0,'æ·»åŠ 1','æ·»åŠ 2'); // [] æ²¡æœ‰åˆ é™¤å…ƒç´ ï¼Œè¿”å›ç©ºæ•°ç»„console.log(a); // ['æ·»åŠ 1','æ·»åŠ 2',1,2,3,4,5,6,7]let b = [1, 2, 3, 4, 5, 6, 7];let item = b.splice(-1,0,'æ·»åŠ 1','æ·»åŠ 2'); // [] æ²¡æœ‰åˆ é™¤å…ƒç´ ï¼Œè¿”å›ç©ºæ•°ç»„console.log(b); // [1,2,3,4,5,6,'æ·»åŠ 1','æ·»åŠ 2',7] åœ¨æœ€åä¸€ä¸ªå…ƒç´ çš„å‰é¢æ·»åŠ ä¸¤ä¸ªå…ƒç´  sort() æ•°ç»„æ’åº å®šä¹‰: sort()æ–¹æ³•å¯¹æ•°ç»„å…ƒç´ è¿›è¡Œæ’åºï¼Œå¹¶è¿”å›è¿™ä¸ªæ•°ç»„ã€‚ å‚æ•°å¯é€‰: è§„å®šæ’åºé¡ºåºçš„æ¯”è¾ƒå‡½æ•°ã€‚ é»˜è®¤æƒ…å†µä¸‹sort()æ–¹æ³•æ²¡æœ‰ä¼ æ¯”è¾ƒå‡½æ•°çš„è¯ï¼Œé»˜è®¤æŒ‰å­—æ¯å‡åºï¼Œå¦‚æœä¸æ˜¯å…ƒç´ ä¸æ˜¯å­—ç¬¦ä¸²çš„è¯ï¼Œä¼šè°ƒç”¨toString()æ–¹æ³•å°†å…ƒç´ è½¬åŒ–ä¸ºå­—ç¬¦ä¸²çš„Unicode(ä¸‡å›½ç )ä½ç‚¹ï¼Œç„¶åå†æ¯”è¾ƒå­—ç¬¦ã€‚ ä¸ä¼ å‚1234567// å­—ç¬¦ä¸²æ’åˆ— çœ‹èµ·æ¥å¾ˆæ­£å¸¸var a = ["Banana", "Orange", "Apple", "Mango"];a.sort(); // ["Apple","Banana","Mango","Orange"]// æ•°å­—æ’åºçš„æ—¶å€™ å› ä¸ºè½¬æ¢æˆUnicodeå­—ç¬¦ä¸²ä¹‹åï¼Œæœ‰äº›æ•°å­—ä¼šæ¯”è¾ƒå¤§ä¼šæ’åœ¨åé¢ è¿™æ˜¾ç„¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„var a = [10, 1, 3, 20,25,8];console.log(a.sort()) // [1,10,20,25,3,8]; æ¯”è¾ƒå‡½æ•°çš„ä¸¤ä¸ªå‚æ•°ï¼š sortçš„æ¯”è¾ƒå‡½æ•°æœ‰ä¸¤ä¸ªé»˜è®¤å‚æ•°ï¼Œè¦åœ¨å‡½æ•°ä¸­æ¥æ”¶è¿™ä¸¤ä¸ªå‚æ•°ï¼Œè¿™ä¸¤ä¸ªå‚æ•°æ˜¯æ•°ç»„ä¸­ä¸¤ä¸ªè¦æ¯”è¾ƒçš„å…ƒç´ ï¼Œé€šå¸¸æˆ‘ä»¬ç”¨ a å’Œ b æ¥æ”¶ä¸¤ä¸ªå°†è¦æ¯”è¾ƒçš„å…ƒç´ ï¼š è‹¥æ¯”è¾ƒå‡½æ•°è¿”å›å€¼&lt;0ï¼Œé‚£ä¹ˆaå°†æ’åˆ°bçš„å‰é¢; è‹¥æ¯”è¾ƒå‡½æ•°è¿”å›å€¼=0ï¼Œé‚£ä¹ˆa å’Œ b ç›¸å¯¹ä½ç½®ä¸å˜ï¼› è‹¥æ¯”è¾ƒå‡½æ•°è¿”å›å€¼&gt;0ï¼Œé‚£ä¹ˆb æ’åœ¨a å°†çš„å‰é¢ï¼› æ•°å­—å‡é™åº12345678910var array = [10, 1, 3, 4, 20, 4, 25, 8]; array.sort(function(a,b)&#123; return a-b;&#125;);console.log(array); // [1,3,4,4,8,10,20,25];array.sort(function(a,b)&#123; return b-a;&#125;);console.log(array); // [25,20,10,8,4,4,3,1]; pop() åˆ é™¤ä¸€ä¸ªæ•°ç»„ä¸­çš„æœ€åçš„ä¸€ä¸ªå…ƒç´  å®šä¹‰: pop() æ–¹æ³•åˆ é™¤ä¸€ä¸ªæ•°ç»„ä¸­çš„æœ€åçš„ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶ä¸”è¿”å›è¿™ä¸ªå…ƒç´ ã€‚ 123let a = [1,2,3];let item = a.pop(); // 3console.log(a); // [1,2] shift() åˆ é™¤æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´  å®šä¹‰: shift()æ–¹æ³•åˆ é™¤æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›è¿™ä¸ªå…ƒç´ ã€‚ 123let a = [1,2,3];let item = a.shift(); // 1console.log(a); // [2,3] push() å‘æ•°ç»„çš„æœ«å°¾æ·»åŠ å…ƒç´  å®šä¹‰ï¼špush() æ–¹æ³•å¯å‘æ•°ç»„çš„æœ«å°¾æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›æ–°çš„é•¿åº¦ã€‚ å‚æ•°: item1, item2, â€¦, itemX ,è¦æ·»åŠ åˆ°æ•°ç»„æœ«å°¾çš„å…ƒç´  123let a = [1,2,3];let item = a.push('æœ«å°¾', '233'); // 5console.log(a); // [1,2,3,'æœ«å°¾', '233'] unshift() å®šä¹‰ï¼šunshift() æ–¹æ³•å¯å‘æ•°ç»„çš„å¼€å¤´æ·»åŠ ä¸€ä¸ªæˆ–æ›´å¤šå…ƒç´ ï¼Œå¹¶è¿”å›æ–°çš„é•¿åº¦ã€‚ å‚æ•°: item1, item2, â€¦, itemX ,è¦æ·»åŠ åˆ°æ•°ç»„å¼€å¤´çš„å…ƒç´  123let a = [1, 2, 3];let item = a.unshift('å¼€å¤´', 'å¼€å¤´2'); // 5console.log(a); // [ 'å¼€å¤´', 'å¼€å¤´2', 1, 2, 3 ] reverse() é¢ å€’æ•°ç»„ä¸­å…ƒç´ çš„é¡ºåº å®šä¹‰: reverse() æ–¹æ³•ç”¨äºé¢ å€’æ•°ç»„ä¸­å…ƒç´ çš„é¡ºåºã€‚ 123let a = [1,2,3];a.reverse(); console.log(a); // [3,2,1] ä¸æ”¹å˜åŸæ•°ç»„çš„æ–¹æ³•slice() æµ…æ‹·è´æ•°ç»„çš„å…ƒç´  å®šä¹‰ï¼š æ–¹æ³•è¿”å›ä¸€ä¸ªä»å¼€å§‹åˆ°ç»“æŸï¼ˆä¸åŒ…æ‹¬ç»“æŸï¼‰é€‰æ‹©çš„æ•°ç»„çš„ä¸€éƒ¨åˆ†æµ…æ‹·è´åˆ°ä¸€ä¸ªæ–°æ•°ç»„å¯¹è±¡ï¼Œä¸”åŸæ•°ç»„ä¸ä¼šè¢«ä¿®æ”¹ã€‚ è¯­æ³•ï¼šarray.slice(begin, end); 12345678910111213let a= ['hello','world'];let b=a.slice(0,1); // ['hello']// æ–°æ•°ç»„æ˜¯æµ…æ‹·è´çš„ï¼Œå…ƒç´ æ˜¯ç®€å•æ•°æ®ç±»å‹ï¼Œæ”¹å˜ä¹‹åä¸ä¼šäº’ç›¸å¹²æ‰°ã€‚// å¦‚æœæ˜¯å¤æ‚æ•°æ®ç±»å‹(å¯¹è±¡,æ•°ç»„)çš„è¯ï¼Œæ”¹å˜å…¶ä¸­ä¸€ä¸ªï¼Œå¦å¤–ä¸€ä¸ªä¹Ÿä¼šæ”¹å˜ã€‚a[0]='æ”¹å˜åŸæ•°ç»„';console.log(a,b); // ['æ”¹å˜åŸæ•°ç»„','world'] ['hello']let a= [&#123;name:'OBKoro1'&#125;];let b=a.slice();console.log(b,a); // [&#123;"name":"OBKoro1"&#125;] [&#123;"name":"OBKoro1"&#125;]// a[0].name='æ”¹å˜åŸæ•°ç»„';// console.log(b,a); // [&#123;"name":"æ”¹å˜åŸæ•°ç»„"&#125;] [&#123;"name":"æ”¹å˜åŸæ•°ç»„"&#125;] join() æ•°ç»„è½¬å­—ç¬¦ä¸² å®šä¹‰: join() æ–¹æ³•ç”¨äºæŠŠæ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ é€šè¿‡æŒ‡å®šçš„åˆ†éš”ç¬¦è¿›è¡Œåˆ†éš”æ”¾å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¿”å›ç”Ÿæˆçš„å­—ç¬¦ä¸²ã€‚ è¯­æ³•: array.join(str) 12345678910111213let a= ['hello','world'];let str=a.join(); // 'hello,world'let str2=a.join('+'); // 'hello+world'let a= [['OBKoro1','23'],'test'];let str1=a.join(); // OBKoro1,23,testlet b= [&#123;name:'OBKoro1',age:'23'&#125;,'test'];let str2 = b.join(); // [object Object],test// å¯¹è±¡è½¬å­—ç¬¦ä¸²æ¨èJSON.stringify(obj);// ç»“è®ºï¼š// join()/toString()æ–¹æ³•åœ¨æ•°ç»„å…ƒç´ æ˜¯æ•°ç»„çš„æ—¶å€™ï¼Œä¼šå°†é‡Œé¢çš„æ•°ç»„ä¹Ÿè°ƒç”¨join()/toString(),// å¦‚æœæ˜¯å¯¹è±¡çš„è¯ï¼Œå¯¹è±¡ä¼šè¢«è½¬ä¸º[object Object]å­—ç¬¦ä¸²ã€‚ join() æ•°ç»„è½¬å­—ç¬¦ä¸² å®šä¹‰: join() æ–¹æ³•ç”¨äºæŠŠæ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ é€šè¿‡æŒ‡å®šçš„åˆ†éš”ç¬¦è¿›è¡Œåˆ†éš”æ”¾å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¿”å›ç”Ÿæˆçš„å­—ç¬¦ä¸²ã€‚ è¯­æ³•: array.join(str) 12345678910111213let a= ['hello','world'];let str=a.join(); // 'hello,world'let str2=a.join('+'); // 'hello+world'let a= [['OBKoro1','23'],'test'];let str1=a.join(); // OBKoro1,23,testlet b= [&#123;name:'OBKoro1',age:'23'&#125;,'test'];let str2 = b.join(); // [object Object],test// å¯¹è±¡è½¬å­—ç¬¦ä¸²æ¨èJSON.stringify(obj);// ç»“è®ºï¼š// join()/toString()æ–¹æ³•åœ¨æ•°ç»„å…ƒç´ æ˜¯æ•°ç»„çš„æ—¶å€™ï¼Œä¼šå°†é‡Œé¢çš„æ•°ç»„ä¹Ÿè°ƒç”¨join()/toString(),// å¦‚æœæ˜¯å¯¹è±¡çš„è¯ï¼Œå¯¹è±¡ä¼šè¢«è½¬ä¸º[object Object]å­—ç¬¦ä¸²ã€‚ concat å®šä¹‰ï¼š æ–¹æ³•ç”¨äºåˆå¹¶ä¸¤ä¸ªæˆ–å¤šä¸ªæ•°ç»„ï¼Œè¿”å›ä¸€ä¸ªæ–°æ•°ç»„ã€‚ è¯­æ³•ï¼švar newArr =oldArray.concat(arrayX,arrayX,â€¦â€¦,arrayX) å‚æ•°ï¼šarrayXï¼ˆå¿…é¡»ï¼‰ï¼šè¯¥å‚æ•°å¯ä»¥æ˜¯å…·ä½“çš„å€¼ï¼Œä¹Ÿå¯ä»¥æ˜¯æ•°ç»„å¯¹è±¡ã€‚å¯ä»¥æ˜¯ä»»æ„å¤šä¸ªã€‚ 1234567891011121314let a = [1, 2, 3];let b = [4, 5, 6];//è¿æ¥ä¸¤ä¸ªæ•°ç»„let newVal=a.concat(b); // [1,2,3,4,5,6]// è¿æ¥ä¸‰ä¸ªæ•°ç»„let c = [7, 8, 9]let newVal2 = a.concat(b, c); // [1,2,3,4,5,6,7,8,9]// æ·»åŠ å…ƒç´ let newVal3 = a.concat('æ·»åŠ å…ƒç´ ',b, c,'å†åŠ ä¸€ä¸ª'); // [1,2,3,"æ·»åŠ å…ƒç´ ",4,5,6,7,8,9,"å†åŠ ä¸€ä¸ª"]// åˆå¹¶åµŒå¥—æ•°ç»„ ä¼šæµ…æ‹·è´åµŒå¥—æ•°ç»„let d = [1,2 ];let f = [3,[4]];let newVal4 = d.concat(f); // [1,2,3,[4]] ES6æ‰©å±•è¿ç®—ç¬¦...åˆå¹¶æ•°ç»„123let a = [2, 3, 4, 5]let b = [ 4,...a, 4, 4]console.log(a,b); // [2, 3, 4, 5] [4,2,3,4,5,4,4] indexOf() æŸ¥æ‰¾æ•°ç»„æ˜¯å¦å­˜åœ¨æŸä¸ªå…ƒç´ ï¼Œè¿”å›ä¸‹æ ‡ å®šä¹‰: è¿”å›åœ¨æ•°ç»„ä¸­å¯ä»¥æ‰¾åˆ°ä¸€ä¸ªç»™å®šå…ƒç´ çš„ç¬¬ä¸€ä¸ªç´¢å¼•ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¿”å›-1ã€‚ p.s. å­—ç¬¦ä¸²ä¹Ÿæœ‰æ­¤æ–¹æ³•ï¼Œè¦æ³¨æ„å½“ â€˜lanceâ€™.indexOf(â€˜â€™) ä¸€ä¸ªç©ºå­—ç¬¦ä¸²æ—¶ï¼Œè¿”å›0è€Œä¸æ˜¯-1 è¯­æ³•ï¼šarray.indexOf(searchElement,fromIndex) å‚æ•°ï¼š searchElement(å¿…é¡»):è¢«æŸ¥æ‰¾çš„å…ƒç´  fromIndex(å¯é€‰):å¼€å§‹æŸ¥æ‰¾çš„ä½ç½®(ä¸èƒ½å¤§äºç­‰äºæ•°ç»„çš„é•¿åº¦ï¼Œè¿”å›-1)ï¼Œæ¥å—è´Ÿå€¼ï¼Œé»˜è®¤å€¼ä¸º0ã€‚ ä¸¥æ ¼ç›¸ç­‰çš„æœç´¢: æ•°ç»„çš„indexOfæœç´¢è·Ÿå­—ç¬¦ä¸²çš„indexOfä¸ä¸€æ ·,æ•°ç»„çš„indexOfä½¿ç”¨ä¸¥æ ¼ç›¸ç­‰===æœç´¢å…ƒç´ ï¼Œå³æ•°ç»„å…ƒç´ è¦å®Œå…¨åŒ¹é…æ‰èƒ½æœç´¢æˆåŠŸã€‚ æ³¨æ„ï¼šindexOf()ä¸èƒ½è¯†åˆ«NaN 1234let a=['å•¦å•¦',2,4,24,NaN]console.log(a.indexOf('å•¦')); // -1 console.log(a.indexOf('NaN')); // -1 console.log(a.indexOf('å•¦å•¦')); // 0 lastIndexOf() æŸ¥æ‰¾æŒ‡å®šå…ƒç´ åœ¨æ•°ç»„ä¸­çš„æœ€åä¸€ä¸ªä½ç½® å®šä¹‰: æ–¹æ³•è¿”å›æŒ‡å®šå…ƒç´ ,åœ¨æ•°ç»„ä¸­çš„æœ€åä¸€ä¸ªçš„ç´¢å¼•ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è¿”å› -1ã€‚ï¼ˆä»æ•°ç»„åé¢å¾€å‰æŸ¥æ‰¾ï¼‰ è¯­æ³•ï¼šarr.lastIndexOf(searchElement,fromIndex) å‚æ•°: searchElement(å¿…é¡»): è¢«æŸ¥æ‰¾çš„å…ƒç´  fromIndex(å¯é€‰): é€†å‘æŸ¥æ‰¾å¼€å§‹ä½ç½®ï¼Œé»˜è®¤å€¼æ•°ç»„çš„ é•¿åº¦-1ï¼Œå³æŸ¥æ‰¾æ•´ä¸ªæ•°ç»„ã€‚ å…³äºfromIndexæœ‰ä¸‰ä¸ªè§„åˆ™: æ­£å€¼ã€‚å¦‚æœè¯¥å€¼å¤§äºæˆ–ç­‰äºæ•°ç»„çš„é•¿åº¦ï¼Œåˆ™æ•´ä¸ªæ•°ç»„ä¼šè¢«æŸ¥æ‰¾ã€‚ è´Ÿå€¼ã€‚å°†å…¶è§†ä¸ºä»æ•°ç»„æœ«å°¾å‘å‰çš„åç§»ã€‚(æ¯”å¦‚-2ï¼Œä»æ•°ç»„æœ€åç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹å¾€å‰æŸ¥æ‰¾) è´Ÿå€¼ã€‚å…¶ç»å¯¹å€¼å¤§äºæ•°ç»„é•¿åº¦ï¼Œåˆ™æ–¹æ³•è¿”å› -1ï¼Œå³æ•°ç»„ä¸ä¼šè¢«æŸ¥æ‰¾ã€‚ 12345let a=['OB',4,'Koro1',1,2,'Koro1',3,4,5,'Koro1']; // æ•°ç»„é•¿åº¦ä¸º10// let b=a.lastIndexOf('Koro1',4); // ä»ä¸‹æ ‡4å¼€å§‹å¾€å‰æ‰¾ è¿”å›ä¸‹æ ‡2// let b=a.lastIndexOf('Koro1',100); // å¤§äºæˆ–æ•°ç»„çš„é•¿åº¦ æŸ¥æ‰¾æ•´ä¸ªæ•°ç»„ è¿”å›9// let b=a.lastIndexOf('Koro1',-11); // -1 æ•°ç»„ä¸ä¼šè¢«æŸ¥æ‰¾let b=a.lastIndexOf('Koro1',-9); // ä»ç¬¬äºŒä¸ªå…ƒç´ 4å¾€å‰æŸ¥æ‰¾ï¼Œæ²¡æœ‰æ‰¾åˆ° è¿”å›-1 ES7 includes() æŸ¥æ‰¾æ•°ç»„æ˜¯å¦åŒ…å«æŸä¸ªå…ƒç´  è¿”å›å¸ƒå°” å®šä¹‰ï¼š è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæŸä¸ªæ•°ç»„æ˜¯å¦åŒ…å«ç»™å®šçš„å€¼ è¯­æ³•ï¼šarray.includes(searchElement,fromIndex=0) å‚æ•°ï¼š searchElement(å¿…é¡»):è¢«æŸ¥æ‰¾çš„å…ƒç´  fromIndex(å¯é€‰):é»˜è®¤å€¼ä¸º0ï¼Œå‚æ•°è¡¨ç¤ºæœç´¢çš„èµ·å§‹ä½ç½®ï¼Œæ¥å—è´Ÿå€¼ã€‚æ­£å€¼è¶…è¿‡æ•°ç»„é•¿åº¦ï¼Œæ•°ç»„ä¸ä¼šè¢«æœç´¢ï¼Œè¿”å›falseã€‚è´Ÿå€¼ç»å¯¹å€¼è¶…è¿‡é•¿æ•°ç»„åº¦ï¼Œé‡ç½®ä»0å¼€å§‹æœç´¢ã€‚ includesæ–¹æ³•æ˜¯ä¸ºäº†å¼¥è¡¥indexOfæ–¹æ³•çš„ç¼ºé™·è€Œå‡ºç°çš„: indexOfæ–¹æ³•ä¸èƒ½è¯†åˆ«NaN indexOfæ–¹æ³•æ£€æŸ¥æ˜¯å¦åŒ…å«æŸä¸ªå€¼ä¸å¤Ÿè¯­ä¹‰åŒ–ï¼Œéœ€è¦åˆ¤æ–­æ˜¯å¦ä¸ç­‰äº-1ï¼Œè¡¨è¾¾ä¸å¤Ÿç›´è§‚ 12345let a=['OB','Koro1',1,NaN];// let b=a.includes(NaN); // true è¯†åˆ«NaN// let b=a.includes('Koro1',100); // false è¶…è¿‡æ•°ç»„é•¿åº¦ ä¸æœç´¢// let b=a.includes('Koro1',-3); // true ä»å€’æ•°ç¬¬ä¸‰ä¸ªå…ƒç´ å¼€å§‹æœç´¢ // let b=a.includes('Koro1',-100); // true è´Ÿå€¼ç»å¯¹å€¼è¶…è¿‡æ•°ç»„é•¿åº¦ï¼Œæœç´¢æ•´ä¸ªæ•°ç»„]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>JS</category>
      </categories>
      <tags>
        <tag>æ•°ç»„</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å»é™¤å›¾ç‰‡ä¸Šä¸‹å·¦å³é—´éš™]]></title>
    <url>%2Fposts%2F31251%2F</url>
    <content type="text"><![CDATA[æƒ…æ™¯å½“åœ¨å®šå®½çˆ¶å®¹å™¨ä¸‹æœ‰å¤šå¼ å›¾ç‰‡é¡ºåºæ’åˆ—æ—¶ï¼Œå›¾ç‰‡çš„ä¸Šä¸‹å·¦å³ä¹‹é—´éƒ½æœ‰é—´éš™ï¼š See the Pen KEBmRP by JingW (@JingW) on CodePen. åŸå›  å·¦å³ï¼šå› ä¸º img æ˜¯ inline-block å…ƒç´ ï¼Œå…ƒç´ ä»£ç ä¹‹é—´æœ‰ã€æ¢è¡Œï¼ˆå›è½¦ï¼‰ï¼Œç©ºæ ¼ï¼Œtabã€æ—¶ä¼šäº§ç”Ÿå·¦å³é—´éš™ã€‚ ä¸Šä¸‹ï¼šè¡Œå†…å…ƒç´ é»˜è®¤ä¸çˆ¶å®¹å™¨åŸºçº¿å¯¹é½ï¼Œè€ŒåŸºçº¿ä¸çˆ¶å®¹å™¨åº•éƒ¨æœ‰ä¸€å®šé—´éš™ï¼Œæ‰€ä»¥ä¸Šä¸‹å›¾ç‰‡é—´æœ‰é—´éš™ã€‚ è§£å†³æ–¹æ¡ˆ ç§»é™¤ä¸Šä¸‹é—´éš™ï¼š imgæœ¬èº«è®¾ç½® display: block; çˆ¶å…ƒç´ è®¾ç½® font-size: 0; ï¼ˆåŸºçº¿ä¸å­—ä½“å¤§å°æœ‰å…³ï¼Œå­—ä½“ä¸ºé›¶ï¼ŒåŸºçº¿é—´å°±æ²¡è·ç¦»äº†ï¼‰ imgæœ¬èº«è®¾ç½® vertical-align: bottom;ï¼ˆè®©inline-block çš„ img ä¸æ¯è¡Œçš„åº•éƒ¨å¯¹é½ï¼‰ ç§»é™¤å·¦å³é—´è·ï¼š è¡Œå†…å…ƒç´ é—´ä¸è¦æœ‰æ¢è¡Œï¼Œè¿æˆä¸€è¡Œå†™æ¶ˆé™¤é—´éš™ï¼ˆé˜…è¯»æ€§å·®ï¼Œä¸æ¨èï¼‰ ç¬¬ä¸€è¡Œimgç»“å°¾å†™ä¸Š &lt;!-- ï¼Œç¬¬äºŒè¡Œimgå¼€å¤´è·Ÿä¸Š --&gt; ã€‚å³åˆ©ç”¨æ³¨é‡Šæ¶ˆé™¤é—´è· çˆ¶å…ƒç´  font-size: 0]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>æŠ€å·§</tag>
        <tag>å›¾ç‰‡</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¦‚ä½•æ¸…é™¤æµ®åŠ¨]]></title>
    <url>%2Fposts%2F12906%2F</url>
    <content type="text"><![CDATA[ä¸ºä»€ä¹ˆè¦æ¸…é™¤æµ®åŠ¨å…¶å®æµ®åŠ¨ï¼ˆe.g. float: left;ï¼‰æœ¬è´¨ä¸Šæ˜¯ç”¨æ¥åšæ–‡å­—æ··æ’çš„ï¼Œä½†å´è¢«æˆ‘ä»¬æ‹¿æ¥åšå¸ƒå±€ï¼Œè¿™ä¸ªæ—¶å€™è™½ç„¶å®ç°äº†æŸäº›æ•ˆæœï¼Œä½†ä¹Ÿå¸¦æ¥äº†ä¸å°‘å‰¯ä½œç”¨ã€‚ ç”±äºæµ®åŠ¨å…ƒç´ ä¸å†å æœ‰åŸæ–‡æ¡£æµçš„ä½ç½®ï¼Œæ‰€ä»¥å®ƒä¼šå¯¹åç»­å…ƒç´ çš„æ’ç‰ˆå¸¦æ¥å½±å“ï¼ˆæ— è§†æµ®åŠ¨å…ƒç´ ï¼Œå°±å½“å®ƒä¸å­˜åœ¨è¿‡ï¼‰ã€‚å› æ­¤æˆ‘ä»¬å¾ˆå¤šæ—¶å€™è¦åšçš„ï¼Œå°±æ˜¯æ¶ˆé™¤æµ®åŠ¨å…ƒç´ é€ æˆçš„å½±å“ã€‚æ¸…é™¤æµ®åŠ¨çš„æœ¬è´¨ä¸»è¦æ˜¯ä¸ºäº†è§£å†³çˆ¶å…ƒç´ å› ä¸ºå­å…ƒç´ æµ®åŠ¨é€ æˆçš„å†…éƒ¨é«˜åº¦ä¸º0çš„é—®é¢˜ã€‚ clearæ¸…é™¤æµ®åŠ¨çš„æ ¸å¿ƒcsså±æ€§æ˜¯ clear ï¼ŒåŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š 123é€‰æ‹©å™¨: &#123; clear: å±æ€§å€¼;&#125; å±æ€§å€¼ æè¿° left ä¸å…è®¸å·¦ä¾§æœ‰æµ®åŠ¨å…ƒç´ ï¼ˆæ¸…é™¤å·¦ä¾§æµ®åŠ¨çš„å½±å“ï¼‰ right ä¸å…è®¸å³ä¾§æœ‰æµ®åŠ¨å…ƒç´ ï¼ˆæ¸…é™¤å³ä¾§æµ®åŠ¨çš„å½±å“ï¼‰ both åŒæ—¶æ¸…é™¤å·¦å³ä¸¤ä¾§æµ®åŠ¨çš„å½±å“ æ¸…é™¤æµ®åŠ¨å¸¸è§æ–¹æ¡ˆé¢å¤–æ ‡è®°æ³•åœ¨æµ®åŠ¨å…ƒç´ åé¢æ·»åŠ ä¸€ä¸ªç©ºæ ‡ç­¾ï¼Œä¾‹å¦‚ï¼š 12&lt;div style="float: left;"&gt;&lt;/div&gt;&lt;div style="clear: both;"&gt;&lt;/div&gt; ä¼˜ç‚¹ï¼šé€šä¿—æ˜“æ‡‚ï¼Œä¹¦å†™æ–¹ä¾¿ç¼ºç‚¹ï¼šåŠ å…¥äº†è¿‡å¤šçš„æ²¡æœ‰å®é™…å«ä¹‰çš„é¢å¤–æ ‡ç­¾ï¼Œç»“æ„åŒ–å·®ã€‚ çˆ¶å…ƒç´ æ·»åŠ overflowé€šè¿‡è§¦å‘BFCè¾¾åˆ°æ¸…é™¤æµ®åŠ¨çš„æ•ˆæœã€‚ï¼ˆp.s. å¯¹bfcä¸äº†è§£å¯ä»¥çœ‹è¿™ç¯‡æ–‡ç« ï¼‰ 123.parent &#123; overflow: hidden;&#125; ä¼˜ç‚¹ï¼šä»£ç ç®€æ´ç¼ºç‚¹ï¼šè¶…å‡ºçš„å†…å®¹ä¼šè¢«éšè— beforeå’ŒafteråŒä¼ªå…ƒç´ æ–¹æ¡ˆ1234567891011.clearfix:before,.clearfix:after &#123; content:""; display: table; /* è§¦å‘BFCæ¸…é™¤æµ®åŠ¨ */&#125;.clearfix:after &#123; clear: both;&#125;.clearfix &#123; *zoom: 1;&#125; ä¼˜ç‚¹ï¼šä»£ç ç®€æ´ç¼ºç‚¹ï¼šIE6-7ä¸æ”¯æŒ:afterï¼Œéœ€è¦ä½¿ç”¨ zoom: 1 è§¦å‘ hasLayout ä½¿ç”¨afterä¼ªå…ƒç´ ï¼ˆæˆ‘å¹³å¸¸ä½¿ç”¨çš„ï¼‰1234567891011.clearfix::after &#123; content: "."; display: block; height: 0; visibility: hidden; clear: both;&#125;.clearfix &#123; *zoom: 1;&#125; /* IE6ã€7 ä¸“æœ‰ */ ä½¿ç”¨æ–¹å¼ï¼šç»™æµ®åŠ¨å…ƒç´ çš„çˆ¶å…ƒç´ æ·»åŠ ä¸€ä¸ªclassç±»ï¼šclearfixä¼˜ç‚¹ï¼šä¸€æ¬¡ä¹¦å†™å¤šå¤„ä½¿ç”¨ï¼Œå¹¶ä¸”ç¬¦åˆé—­åˆæµ®åŠ¨æ€æƒ³ï¼Œç»“æ„è¯­ä¹‰åŒ–æ­£ç¡®ç¼ºç‚¹ï¼šIE6-7ä¸æ”¯æŒ:afterï¼Œéœ€è¦ä½¿ç”¨ zoom: 1 è§¦å‘ hasLayoutæ³¨æ„ï¼šcontent:&quot;.&quot; å†…å®¹å°½é‡ä¸ä¸ºç©ºï¼Œå¯ä»¥è·Ÿä¸€ä¸ªå°ç‚¹ï¼Œå¦åˆ™åœ¨firefox 7.0å‰çš„ç‰ˆæœ¬ä¼šç”Ÿæˆç©ºæ ¼ :after å’Œ ::after çš„åŒºåˆ«:beforeã€:after åœ¨æ—§ç‰ˆæœ¬é‡Œæ˜¯ä¼ªå…ƒç´ ï¼ŒCSS3çš„è§„èŒƒé‡Œ â€œ:â€ ç”¨æ¥è¡¨ç¤ºä¼ªç±»ï¼Œâ€::â€ ç”¨æ¥è¡¨ç¤ºä¼ªå…ƒç´ ï¼Œä½†æ˜¯åœ¨é«˜ç‰ˆæœ¬æµè§ˆå™¨ä¸‹ :beforeã€:after ä¼šè¢«è‡ªåŠ¨è¯†åˆ«ä¸º ::beforeã€::after ï¼Œè¿™æ ·åšçš„ç›®çš„æ˜¯ç”¨æ¥åšå…¼å®¹å¤„ç†ã€‚ ç›¸åŒç‚¹ä¼ªç±»å¯¹è±¡ï¼Œç”¨æ¥è®¾ç½®å¯¹è±¡å‰çš„å†…å®¹:before å’Œ ::before å†™æ³•æ˜¯ç­‰æ•ˆçš„ ä¸åŒç‚¹:before æ˜¯ css2 çš„å†™æ³•ï¼Œ::before æ˜¯ css3 çš„å†™æ³•:before å…¼å®¹æ€§æ¯” ::beforeè¦å¥½ æ³¨æ„ä¼ªç±»å…ƒç´ å¿…é¡»è¦é…åˆ content å±æ€§ä¸€èµ·ä½¿ç”¨ï¼Œå¦åˆ™æ— æ•ˆä¼ªç±»å…ƒç´ æ˜¯cssæ¸²æŸ“å±‚åŠ å…¥çš„ï¼Œä¸èƒ½é€šè¿‡jsæ¥æ“ä½œ]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>æŠ€å·§</tag>
        <tag>æ¸…é™¤æµ®åŠ¨</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[BFCçš„ç†è§£ä¸åº”ç”¨]]></title>
    <url>%2Fposts%2F9722%2F</url>
    <content type="text"><![CDATA[å®šä¹‰å…ˆä¸ŠMDNä¸Šå¯¹ BFC çš„å®šä¹‰ï¼š å—æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ï¼ˆBlock Formatting Contextï¼ŒBFCï¼‰ æ˜¯Webé¡µé¢çš„å¯è§†åŒ–CSSæ¸²æŸ“çš„ä¸€éƒ¨åˆ†ï¼Œæ˜¯å—ç›’å­çš„å¸ƒå±€è¿‡ç¨‹å‘ç”Ÿçš„åŒºåŸŸï¼Œä¹Ÿæ˜¯æµ®åŠ¨å…ƒç´ ä¸å…¶ä»–å…ƒç´ äº¤äº’çš„åŒºåŸŸã€‚ â€”â€”â€”â€” BFC | MDN ä¸çŸ¥é“åˆ«äººçœ‹å®Œè¿™æ®µå®šä¹‰æœ‰ä½•æ„Ÿå—ï¼Œåæ­£æˆ‘æ˜¯æ‡µé€¼çš„ã€‚ä¸è¿‡æˆ‘åœ¨è¿™å„¿è¿˜æ˜¯å»ºè®®å„ä½è®¤çœŸé˜…è¯»ä¸Šé¢ç»™å‡ºçš„MDNé“¾æ¥è‡³å°‘ä¸¤éï¼Œè¿™èƒ½è®©ä½ å¯¹ä¸€ä¸ªé™Œç”Ÿçš„æ¦‚å¿µæœ‰ä¸€ä¸ªåŸºæœ¬çš„è®¤çŸ¥ã€‚ ç†è§£è¿™é‡Œè°ˆä¸‹æˆ‘å¯¹BFCçš„ç†è§£ï¼šBFCå…¶å®æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ï¼Œä¸å¤–ç•Œéš”ç¦»äº†çš„å®¹å™¨ï¼Œå®¹å™¨é‡Œé¢çš„å­å…ƒç´ ä¸ä¼šå½±å“åˆ°å¤–é¢çš„å…ƒç´ ï¼Œå¤–é¢çš„ä¹ŸåŒæ ·ä¸ä¼šå½±å“åˆ°å®¹å™¨å†…éƒ¨çš„å…ƒç´ ã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªç‰¹æ€§ï¼Œæ¥è§£å†³ä¸€äº›å¸ƒå±€ä¸Šçš„é—®é¢˜ã€‚ BFCè§¦å‘æ¡ä»¶BFCçš„è§¦å‘æ¡ä»¶æœ‰å¾ˆå¤šï¼Œæƒ³è¦çŸ¥é“æ‰€æœ‰ç»†èŠ‚å¯ä»¥ç§»æ­¥ä¸Šé¢ç»™å‡ºçš„ MDN é“¾æ¥ã€‚è¿™é‡Œæˆ‘åªåˆ—å‡ºä¸€äº›å¸¸è§è§¦å‘æ¡ä»¶ï¼š æ ¹å…ƒç´ ï¼ˆHTMLå…ƒç´ ï¼‰ æµ®åŠ¨å…ƒç´ ï¼ˆfloatä¸ä¸ºnoneï¼‰ ç»å¯¹å®šä½å…ƒç´ ï¼ˆposition ä¸º absolute æˆ– fixedï¼‰ display ä¸º block, inline-block, flex, inline-flex, list-item, table overflow å€¼ä¸ä¸º visible çš„å—å…ƒç´  BFCå¸ƒå±€ç‰¹æ€§å¯¹äºä¸€ä¸ªBFCå®¹å™¨æ¥è¯´ï¼š å†…éƒ¨ç›¸é‚»çš„ä¸¤ä¸ªå…ƒç´ å‚ç›´æ–¹å‘ä¸Šçš„ margin ä¼šå‘ç”Ÿé‡å  ä¸ä¼šä¸å¤–ç•Œçš„æµ®åŠ¨å…ƒç´ äº§ç”Ÿäº¤é›†ï¼Œè€Œæ˜¯ç´§è´´æµ®åŠ¨å…ƒç´ çš„è¾¹ç¼˜ å…ƒç´ ä»å®¹å™¨çš„é¡¶ç«¯å¼€å§‹å‚ç›´åœ°ä¸€ä¸ªæ¥ä¸€ä¸ªåœ°æ’åˆ— æ¯ä¸€ä¸ªå…ƒç´ çš„å·¦å¤–è¾¹ç¼˜ï¼ˆmargin-leftï¼‰ä¼šè§¦ç¢°åˆ°å®¹å™¨çš„å·¦è¾¹ç¼˜ï¼ˆborder-leftï¼‰ï¼ˆå¦‚æœè®¾ç½®äº†å®¹å™¨å†…éƒ¨çš„å…ƒç´ ä»å³åˆ°å·¦çš„æ ¼å¼æ’å¸ƒï¼Œåˆ™è§¦ç¢°çš„æ˜¯å³è¾¹ç¼˜ï¼‰ åœ¨è®¡ç®—å®ƒçš„é«˜åº¦æ—¶ï¼Œè¿˜ä¼šæ£€æµ‹å†…éƒ¨æµ®åŠ¨æˆ–è€…å®šä½å…ƒç´ çš„é«˜åº¦ å®é™…åº”ç”¨æ¸…é™¤æµ®åŠ¨åˆ©ç”¨BFC â€œåœ¨è®¡ç®—å®ƒçš„é«˜åº¦æ—¶ï¼Œè¿˜ä¼šæ£€æµ‹å†…éƒ¨æµ®åŠ¨æˆ–è€…å®šä½å…ƒç´ çš„é«˜åº¦â€ è¿™æ¡ç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥è§¦å‘çˆ¶å…ƒç´ çš„BFCæ¥æ¸…é™¤å­å…ƒç´ æµ®åŠ¨å¸¦æ¥çš„å½±å“ã€‚å¸¸è§çš„ç”¨æ³•æ˜¯ç»™çˆ¶å…ƒç´ è®¾ç½® overflow: hidden æ ·å¼ï¼ˆå¦‚æœè€ƒè™‘IE6ç‰ˆæœ¬ï¼Œè¿˜éœ€è®¾ç½® zoom: 1ï¼Œå› ä¸ºIE6ä¸æ”¯æŒ overflow: hidden æ¥æ¸…é™¤æµ®åŠ¨ï¼‰ï¼š See the Pen åˆ©ç”¨BFCæ¸…é™¤æµ®åŠ¨ by JingW (@JingW) on CodePen. è§£å†³å¤–è¾¹è·åˆå¹¶é—®é¢˜å¦‚æœçœ‹ä¸Šé¢æ ‡é¢˜ä¸çŸ¥é“åœ¨è¯´ä»€ä¹ˆï¼Œè¯·å¾ˆæˆ³è¿™é‡Œäº†è§£è¯¦æƒ…ã€‚ç”±äºå±äºåŒä¸€ä¸ªBFCçš„ä¸¤ä¸ªç›¸é‚»ç›’å­çš„å‚ç›´marginä¼šå‘ç”Ÿé‡å ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥éš”ç¦»å¼€è¿™ä¸¤ä¸ªå…ƒç´ ï¼Œè®©å®ƒä»¬ä¸å±äºåŒä¸€ä¸ªBFCï¼Œè¿™æ ·å°±ä¸ä¼šå‘ç”Ÿmarginé‡å äº†ã€‚ See the Pen è§£å†³å¤–è¾¹è·åˆå¹¶é—®é¢˜ by JingW (@JingW) on CodePen. ä¸¤æ å¸ƒå±€ï¼Œå³è¾¹å®½åº¦è‡ªé€‚åº”æˆ‘ä»¬å¸¸å¸¸åœ¨å¼€å‘ä¸­æœ‰è¿™æ ·ç±»ä¼¼çš„éœ€æ±‚ï¼šä¸¤æ å¸ƒå±€ï¼Œå·¦è¾¹å®šå®½ï¼Œå³è¾¹è‡ªé€‚åº”ã€‚è¿™æ—¶æˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨BFCç‰¹æ€§æ¥å®ç°éœ€æ±‚ï¼šå·¦è¾¹è®¾ç½®å®šå®½+å·¦æµ®åŠ¨ï¼›å³è¾¹ç»™è‡ªå·±åŠ ä¸Š overflow: hidden ã€‚åŸç†å°±æ˜¯ï¼šç»™å…ƒç´ è®¾ç½®BFCåï¼Œä¸ºäº†å’Œæµ®åŠ¨å…ƒç´ ä¸äº§ç”Ÿä»»ä½•äº¤é›†ï¼Œå®ƒä¼šé¡ºç€æµ®åŠ¨å…ƒç´ çš„è¾¹ç¼˜å½¢æˆè‡ªå·±çš„å°é—­ä¸Šä¸‹æ–‡ã€‚ç›´æ¥ä¸Šä»£ç çœ‹æ•ˆæœï¼š See the Pen åˆ©ç”¨BFCå®ç°ä¸¤æ å¸ƒå±€ by JingW (@JingW) on CodePen. ä»¥ä¸Šæ˜¯æˆ‘å¯¹BFCçš„ä¸€äº›ç†è§£ä»¥åŠå®é™…åº”ç”¨ï¼Œå¸Œæœ›èƒ½å¤Ÿå¸®åŠ©å¤§å®¶äº†è§£BFCè¿™ä¸ªå¬èµ·æ¥æ‘¸ä¸ç€å¤´è„‘çš„ä¸œè¥¿ã€‚]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>å¸ƒå±€</tag>
        <tag>æŠ€å·§</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¸‰æ å¸ƒå±€æ–¹æ¡ˆ(åœ£æ¯+åŒé£ç¿¼)]]></title>
    <url>%2Fposts%2F55613%2F</url>
    <content type="text"><![CDATA[åœ£æ¯å¸ƒå±€æ­¥éª¤ä¸€ - HTMLæ¡†æ¶æ­å»º &amp; åˆå§‹åŒ–CSSé¦–å…ˆæŠŠåŸºæœ¬æ¡†æ¶æ­èµ·æ¥ï¼ˆæ³¨æ„ä¸­é—´éƒ¨åˆ†æ”¾æœ€å‰é¢ï¼‰ï¼š 12345&lt;div class="container"&gt; &lt;div class="center"&gt;æˆ‘æ˜¯ä¸­é—´&lt;/div&gt; &lt;div class="left"&gt;æˆ‘æ˜¯å·¦è¾¹&lt;/div&gt; &lt;div class="right"&gt;æˆ‘æ˜¯å³è¾¹&lt;/div&gt;&lt;/div&gt; æ¥ä¸‹æ¥æ˜¯åˆå§‹åŒ–æ ·å¼ã€‚left, rightå®½åº¦åˆ†åˆ«è®¾ç½®ä¸º100pxå’Œ200pxï¼›ç„¶åè®¾ç½®containerçš„ padding-left: 100px + padding-right: 200px æ¥å æ®ä¸¤ä¾§å¡«å……ï¼›centerå®½åº¦è®¾ä¸º100%ï¼Œè¿™æ ·èƒ½å¤Ÿè‡ªé€‚åº”å‰©ä¸‹çš„å®½åº¦ã€‚å†è®©æ‰€æœ‰å­å…ƒç´ å·¦æµ®åŠ¨ã€‚ä»£ç å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425.container &#123; padding: 0 200px 0 100px; /* å·¦è¾¹100ï¼Œ å³è¾¹200*/ background-color: #e1e1e1; height: 300px; /* ä¸ºäº†çœ‹æ•ˆæœï¼Œç»™ä¸ª300pxæŠŠé«˜åº¦æ’‘èµ·æ¥ */&#125;.left, .center, .right &#123; float: left; height: 100%;&#125;.center &#123; width: 100%; /* å æ®çˆ¶å…ƒç´ å‰©ä¸‹çš„å®½åº¦*/ background-color: lightblue;&#125;.left &#123; width: 100px; background-color: pink;&#125;.right &#123; width: 200px; background-color: yellow;&#125; æ­¤æ—¶çš„é¡µé¢æ•ˆæœï¼š æ­¥éª¤äºŒ - è®©leftå æ®æœ€å·¦åˆ—ä¸ºäº†è®©leftèƒ½è¶Šè¿‡centerï¼Œæˆ‘ä»¬å…ˆç»™å®ƒè®¾ç½®ä¸€ä¸ª -100% çš„å·¦è¾¹è·ã€‚è¿™ä¸ª100%æ˜¯åœ¨containerä¸­çš„å®½åº¦ï¼Œä¹Ÿå°±æ˜¯centerçš„å®½åº¦ï¼š 123456.left &#123; margin-left: -100%; width: 100px; /*ä¸ºäº†çœ‹leftå’Œcenterçš„é‡å æ•ˆæœï¼Œæš‚æ—¶bgcè®¾ä¸ºåŠé€æ˜*/ background-color: rgba(255,204,204,.6);&#125; é¡µé¢æ•ˆæœï¼š æ­¤æ—¶ï¼Œæˆ‘ä»¬å·²ç»è®©leftä»â€œç¬¬äºŒè¡Œâ€å‡åˆ°äº†â€œç¬¬ä¸€è¡Œâ€ï¼Œä¸ºäº†è®©å®ƒé åˆ°æœ€å·¦ä¾§ï¼Œä¸ä¸centeré‡å ï¼Œå¯ä»¥ç»™å®ƒè®¾ç½®ç›¸å¯¹å®šä½ï¼Œç„¶åç»™ä¸ª left: -100px ï¼Œè®©å®ƒå®šä½åˆ°containeræœ€å·¦ä¾§ï¼š 123456789.left &#123; /* è®¾ç½®ç›¸å¯¹å®šä½ */ position: relative; /* é åˆ°æœ€å·¦ä¾§ */ left: -100px; margin-left: -100%; width: 100px; background-color: pink;&#125; é¡µé¢æ•ˆæœï¼š æ­¥éª¤ä¸‰ - è®©rightå æ®æœ€å³åˆ—å®šä½å¥½äº†leftï¼Œä¹Ÿæ˜¯æ—¶å€™è®©rightå‘†åœ¨æœ€å³è¾¹æ¥å¡«å……ä½ç½®äº†ï¼Œæˆ‘ä»¬ç»§ç»­ä½¿ç”¨è´Ÿmarginï¼š 12345.right &#123; width: 200px; margin-right: -200px; background-color: yellow;&#125; é¡µé¢æ•ˆæœï¼š æ­¥éª¤å›› - ç»™containerè®¾ç½®min-widthçœ‹èµ·æ¥å·²ç»å®ç°äº†ä¸æ˜¯å—ï¼Ÿä½†æˆ‘ä»¬è¿˜å·®æœ€åä¸€æ­¥ï¼Œç»™containerè®¾ç½®ä¸€ä¸ª min-width: 100px ï¼ˆå°±æ˜¯å·¦åˆ—çš„å®½åº¦ï¼‰ï¼Œå¦åˆ™å½“æµè§ˆå™¨ç¼©å°åˆ°ä¸€å®šç¨‹åº¦æ—¶ï¼Œè¿™ä¸ªå¸ƒå±€å¯èƒ½ä¼šè¢«ç ´åã€‚åŸå› ç®€å•æ¥è®²å°±æ˜¯ï¼šâ€œç”±äºè®¾ç½®äº†ç›¸å¯¹å®šä½ï¼Œæ‰€ä»¥å½“leftåŸæ¥çš„ä½ç½®å’Œrightçš„ä½ç½®äº§ç”Ÿé‡å æ—¶ï¼Œç”±äºæµ®åŠ¨çš„åŸå› ä¸€è¡Œæ”¾ä¸ä¸‹å°±ä¼šæ¢è¡Œâ€ã€‚æ‰€ä»¥å¸ƒå±€å°±è¢«æ‰“ä¹±äº†ã€‚ 123456.container &#123; min-width: 100px; background-color: #e1e1e1; padding: 0 200px 0 100px; height: 300px;&#125; å®Œæ•´ä»£ç  + æœ€ç»ˆæ•ˆæœè¿™æ ·ï¼Œæˆ‘ä»¬å°±å®ç°äº†åœ£æ¯å¸ƒå±€ï¼Œå®Œæ•´ä»£ç å’Œæ•ˆæœè§ä¸‹ï¼š See the Pen ä¸‰æ å¸ƒå±€ - åœ£æ¯å¸ƒå±€ by JingW (@JingW) on CodePen. åŒé£ç¿¼å¸ƒå±€å¦‚æœä¸Šé¢åœ£æ¯å¸ƒå±€ä½ å·²ç»ç†è§£å¹¶è‡ªå·±å®è·µäº†ä¸€éï¼Œé‚£ä¹ˆè¿™é‡Œçš„åŒé£ç¿¼å¸ƒå±€ä½ ä¹Ÿåº”è¯¥ä¸å†è¯ä¸‹ã€‚è·Ÿç€æˆ‘ä¸€èµ·æ’¸ä¸€éä»£ç å§ã€‚ æ­¥éª¤ä¸€ - HTMLæ¡†æ¶æ­å»º &amp; åˆå§‹åŒ–CSSé¦–å…ˆæ­å»ºhtmlï¼Œä»”ç»†è§‚å¯Ÿä¸‹æ–¹ä»£ç ä½ ä¼šå‘ç°ï¼ŒåŒé£ç¿¼å¸ƒå±€åœ¨htmlä¸Šé¢æœ‰ä¸€ç‚¹å’Œåœ£æ¯å¸ƒå±€æœ‰å·®åˆ«ï¼Œé‚£å°±æ˜¯åŒé£ç¿¼åœ¨centeré‡Œåˆå¥—äº†ä¸€ä¸ªdivã€‚åˆ°åé¢ä½ å°±ä¼šçŸ¥é“è¿™æ ·è®¾ç½®çš„ç›®çš„ã€‚ 12345&lt;div class="container"&gt; &lt;div class="center"&gt;&lt;div&gt;æˆ‘æ˜¯ä¸­é—´&lt;/div&gt;&lt;/div&gt; &lt;div class="left"&gt;æˆ‘æ˜¯å·¦è¾¹&lt;/div&gt; &lt;div class="right"&gt;æˆ‘æ˜¯å³è¾¹&lt;/div&gt;&lt;/div&gt; ç„¶åç¼–å†™åˆå§‹æ ·å¼ã€‚leftå®šå®½100ï¼›rightå®šå®½200ï¼›left, right, centerå…¨éƒ¨è®¾ç½®å·¦æµ®åŠ¨ã€‚å…¶ä»–ä¾‹å¦‚è®¾ç½®é¢œè‰²é«˜åº¦ç­‰ç­‰ç›´æ¥çœ‹ä¸‹æ–¹ä»£ç ï¼š 1234567891011121314151617181920212223.container &#123; background-color: #e1e1e1; height: 300px;&#125;.center &#123; background-color: lightblue;&#125;.left &#123; width: 100px; background-color: pink;&#125;.right &#123; width: 200px; background-color: yellow;&#125;.left, .center, .right &#123; float: left; height: 100%;&#125; æ•ˆæœå¦‚ä¸‹ï¼š æ­¥éª¤äºŒ - è®¾ç½®centerä¸º100%å®½å°†centerçš„å®½åº¦è®¾ä¸º100%ï¼Œè¿™æ ·ä¼šæŠŠleftï¼Œrightâ€œæŒ¤â€åˆ°ç¬¬äºŒè¡Œï¼š 1234.center &#123; width: 100%; background-color: lightblue;&#125; æ•ˆæœå¦‚ä¸‹ï¼š æ­¥éª¤ä¸‰ - åˆ†åˆ«è®©left,rightå›åˆ°æœ€å·¦è¾¹å’Œæœ€å³è¾¹æ¥ç€ï¼Œç»™leftè®¾ç½® margin-left: -100% å›åˆ°æœ€å·¦è¾¹ï¼Œç»™rightè®¾ç½® margin-left: -200px å›åˆ°æœ€å³è¾¹ã€‚æ­¤æ—¶centerå’Œleft,rightéƒ½æœ‰é‡å åŒºåŸŸï¼Œä¸ºäº†çœ‹æ•ˆæœï¼Œè®¾ç½®äº†åŠé€æ˜èƒŒæ™¯é¢œè‰²ã€‚ 1234567891011.left &#123; width: 100px; margin-left: -100%; background-color: pink;&#125;.right &#123; width: 200px; margin-left: -200px; background-color: yellow;&#125; æ•ˆæœå¦‚ä¸‹ï¼š æ­¥éª¤å›› - ç»™centerçš„å­divè®¾ç½®å·¦å³marginå…¶å®ä¸Šé¢çš„æ•ˆæœå›¾å·²ç»å®ç°äº†ä¸‰æ å¸ƒå±€ä¸­é—´è‡ªé€‚åº”ã€‚ä½†æœ‰ä¸ªé—®é¢˜æ˜¯centerå·¦å³éƒ¨åˆ†åŒºåŸŸä¼šè¢«é®æŒ¡ï¼Œè¿™ä¸ªæ—¶å€™åœ¨æ­¥éª¤ä¸€æåˆ°çš„centerå­divçš„ä½œç”¨å°±ä½“ç°å‡ºæ¥äº†ï¼Œæˆ‘ä»¬å¯ä»¥ç»™å®ƒè®¾ç½®ä¸€ä¸ªå·¦å³çš„marginå€¼ï¼Œåˆ†åˆ«ç­‰äºleftçš„å®½å’Œrightçš„å®½ï¼Œæ¶ˆé™¤æ‰é‡å çš„å‰¯ä½œç”¨ã€‚ 1234.center div &#123; /* å·¦margin100ï¼Œå³margin200 */ margin: 0 200px 0 100px;&#125; æ•ˆæœå¦‚ä¸‹ï¼š æ­¥éª¤äº” - ç»™containerè®¾ç½®min-widthæœ€åï¼Œç»™containerè®¾ç½®ä¸€ä¸ªmin-widthï¼Œè®©containeræœ€å°å®½åº¦ä¸å°äºleftå®½+rightå®½ 12345.container &#123; min-width: 300px; background-color: #e1e1e1; height: 300px;&#125; å¤§åŠŸå‘Šæˆ~ å®Œæ•´ä»£ç  + æœ€ç»ˆæ•ˆæœ See the Pen ä¸‰æ å¸ƒå±€ - åŒé£ç¿¼å¸ƒå±€ by JingW (@JingW) on CodePen.]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>å¸ƒå±€</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¸¤æ å¸ƒå±€æ–¹æ¡ˆæ±‡æ€»]]></title>
    <url>%2Fposts%2F44541%2F</url>
    <content type="text"><![CDATA[è®°å½•ä¸‹å¸¸è§çš„ä¸¤æ å¸ƒå±€æ–¹å¼ã€‚ å·¦è¾¹å®šå®½ï¼Œå³è¾¹è‡ªé€‚åº”æ¨¡æ‹Ÿtableçˆ¶å…ƒç´  display: table ï¼Œå­å…ƒç´ å·¦å³ table-cell ï¼Œå·¦è¾¹å®šå®½ã€‚ See the Pen ä¸¤æ å¸ƒå±€ï¼ˆå·¦å®šå³è‡ªé€‚åº”ï¼‰æ¨¡æ‹Ÿtable by JingW (@JingW) on CodePen. å·¦æµ® + å³Marginå­å…ƒç´ çš„å·¦è¾¹æµ®åŠ¨è„±æ ‡ï¼Œå³è¾¹è®¾ç½® margin-left: å·¦è¾¹å…ƒç´ å®½åº¦ See the Pen ä¸¤æ å¸ƒå±€ï¼ˆå·¦å®šå³è‡ªé€‚åº”ï¼‰å­å…ƒç´ ç»å¯¹å®šä½ by JingW (@JingW) on CodePen. å·¦æµ® + å³BFCå­å…ƒç´ å·¦è¾¹è®¾ç½®æµ®åŠ¨+å®šå®½ï¼Œå³è¾¹å­å…ƒç´ è®¾ç½® overflow: hidden è§¦å‘è‡ªèº«BFC See the Pen ä¸¤æ å¸ƒå±€ï¼ˆå·¦å®šå³è‡ªé€‚åº”ï¼‰å·¦æµ® + å³BFC by JingW (@JingW) on CodePen. å­ç»çˆ¶ç›¸å­ç»çˆ¶ç›¸ï¼Œå·¦è¾¹ top, left: 0ï¼Œå³è¾¹ top, right: 0ï¼Œleftç­‰äºå·¦è¾¹å®½åº¦ã€‚ See the Pen ä¸¤æ å¸ƒå±€ï¼ˆå·¦å®šå³è‡ªé€‚åº”ï¼‰å­ç»çˆ¶ç›¸ by JingW (@JingW) on CodePen. flexå¸ƒå±€çˆ¶å…ƒç´  display: flex ï¼Œå·¦è¾¹å®šå®½ï¼Œå³è¾¹ flex: 1ã€‚ See the Pen ä¸¤æ å¸ƒå±€ï¼ˆå·¦å®šå³è‡ªé€‚åº”ï¼‰flex by JingW (@JingW) on CodePen.]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>å¸ƒå±€</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å‚ç›´å±…ä¸­æ–¹æ¡ˆæ±‡æ€»]]></title>
    <url>%2Fposts%2F12733%2F</url>
    <content type="text"><![CDATA[è¿™é‡Œæ±‡æ€»äº†å¸¸è§çš„å…ƒç´ å±…ä¸­æ–¹æ¡ˆã€‚ æ°´å¹³å±…ä¸­è¡Œå†…å…ƒç´ æ°´å¹³å±…ä¸­æ ¸å¿ƒï¼šç»™çˆ¶å…ƒç´ æ·»åŠ  text-align: center See the Pen è¡Œå†…å…ƒç´ æ°´å¹³å±…ä¸­ by JingW (@JingW) on CodePen. å—çº§å…ƒç´ æ°´å¹³å±…ä¸­æ ¸å¿ƒï¼šå­å…ƒç´ è‡ªèº« margin: 0 auto; See the Pen å—å…ƒç´ æ°´å¹³å±…ä¸­ by JingW (@JingW) on CodePen. å¤šä¸ªdivæ°´å¹³å±…ä¸­ä¼ ç»Ÿæ–¹æ¡ˆæ ¸å¿ƒï¼šçˆ¶å…ƒç´ è®¾ç½® text-align: center ï¼Œå­å…ƒç´ è®¾ç½® inline-block See the Pen å¤šä¸ªdivæ°´å¹³å±…ä¸­ - ä¼ ç»Ÿæ–¹æ¡ˆ by JingW (@JingW) on CodePen. Flexæ–¹æ¡ˆæ ¸å¿ƒï¼šçˆ¶å…ƒç´  display: flex + justify-content: center + align-items: center See the Pen å¤šä¸ªdivæ°´å¹³å±…ä¸­-flex by JingW (@JingW) on CodePen. æ°´å¹³å‚ç›´å±…ä¸­tableè‡ªå¸¦æ°´å¹³å‚ç›´å±…ä¸­æ ¸å¿ƒï¼šä½¿ç”¨ table&gt;tr&gt;td å¸ƒå±€ See the Pen divæ°´å¹³å‚ç›´å±…ä¸­ - table by JingW (@JingW) on CodePen. æ¨¡æ‹Ÿtableæ ¸å¿ƒï¼šçˆ¶å…ƒç´  display: table ï¼Œå­å…ƒç´  display: table-cell + vertical-align: middle See the Pen divæ°´å¹³å‚ç›´å±…ä¸­ - æ¨¡æ‹Ÿtable by JingW (@JingW) on CodePen. å­ç»çˆ¶ç›¸ + å­å…ƒç´  margin:autoæ ¸å¿ƒï¼šå­å…ƒç´ ç›¸å¯¹äºçˆ¶å…ƒç´ ç»å¯¹å®šä½ï¼Œtopã€rightã€bottomã€left éƒ½è®¾ä¸º0ï¼Œmargiè®¾ä¸ºauto See the Pen divæ°´å¹³å‚ç›´å±…ä¸­ - å­ç»çˆ¶ç›¸ + Margin Auto by JingW (@JingW) on CodePen. å­ç»çˆ¶ç›¸ + è´Ÿmarginæ ¸å¿ƒï¼šå­å…ƒç´ ç›¸å¯¹äºçˆ¶å…ƒç´ ç»å¯¹å®šä½ï¼Œtopã€leftè®¾ä¸º50%ï¼Œmarginç›¸å¯¹è‡ªèº«å®½/é«˜ä¸€åŠ See the Pen divæ°´å¹³å‚ç›´å±…ä¸­ - å­ç»çˆ¶ç›¸ + è´ŸMargin by JingW (@JingW) on CodePen. å­ç»çˆ¶ç›¸ + translateæ ¸å¿ƒï¼šå­å…ƒç´ ç›¸å¯¹äºçˆ¶å…ƒç´ ç»å¯¹å®šä½ï¼Œtopã€leftè®¾ä¸º50%ï¼Œæ­¤æ—¶å­å…ƒç´ å·¦ä¸Šè§’åœ¨çˆ¶å…ƒç´ ä¸­å¿ƒï¼Œç„¶åè®©å­å…ƒç´ å‘å·¦ä¸Šè§’ä½ç§»è‡ªèº«å®½åº¦çš„ä¸€åŠ See the Pen divæ°´å¹³å‚ç›´å±…ä¸­ - å­ç»çˆ¶ç›¸ + translate by JingW (@JingW) on CodePen. Flexå¸ƒå±€çˆ¶å…ƒç´  display: flexï¼Œjustify-content å’Œ align-items éƒ½è®¾ä¸º center å®ç°å‚ç›´å±…ä¸­ See the Pen divæ°´å¹³å‚ç›´å±…ä¸­ - flex by JingW (@JingW) on CodePen.]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>å¸ƒå±€</tag>
        <tag>æŠ€å·§</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¯¹HTMLè¯­ä¹‰åŒ–çš„ç†è§£]]></title>
    <url>%2Fposts%2F2906%2F</url>
    <content type="text"><![CDATA[å¯¹HTMLè¯­ä¹‰åŒ–çš„ç†è§£æ ¸å¿ƒï¼šç”¨æ­£ç¡®çš„æ ‡ç­¾åšæ­£ç¡®çš„äº‹æƒ… åˆ©ä¸å¼€å‘ï¼šæ–¹ä¾¿ä»£ç çš„é˜…è¯»å’Œç»´æŠ¤ åˆ©äºSEOï¼šæ–¹ä¾¿çˆ¬è™«æ ¹æ® è¯­ä¹‰æ ‡ç­¾ ç¡®å®š é¡µé¢ç»“æ„ å’Œ å…³é”®å­— çš„æƒé‡ å¸¸è§è¯­ä¹‰åŒ–æ ‡ç­¾ä¸€å›¾èƒœåƒè¨€ï¼š å…ƒç´ ç»†èŠ‚ï¼š &lt;main&gt; å­˜æ”¾æ¯ä¸ªé¡µé¢ç‹¬æœ‰çš„å†…å®¹ã€‚æ¯ä¸ªé¡µé¢ä¸Šåªèƒ½ç”¨ä¸€æ¬¡ &lt;main&gt;ï¼Œä¸”ç›´ä½äº &lt;body&gt;ä¸­ã€‚æœ€å¥½ä¸è¦æŠŠå®ƒåµŒå¥—è¿›å…¶å®ƒå…ƒç´ ã€‚ &lt;article&gt; åŒ…å›´çš„å†…å®¹å³ä¸€ç¯‡æ–‡ç« ï¼Œä¸é¡µé¢å…¶å®ƒéƒ¨åˆ†æ— å…³ï¼ˆæ¯”å¦‚ä¸€ç¯‡åšæ–‡ï¼‰ã€‚ &lt;section&gt; ä¸ &lt;article&gt; ç±»ä¼¼ï¼Œä½† &lt;section&gt; æ›´é€‚ç”¨äºç»„ç»‡é¡µé¢ä½¿å…¶æŒ‰åŠŸèƒ½ï¼ˆæ¯”å¦‚è¿·ä½ åœ°å›¾ã€ä¸€ç»„æ–‡ç« æ ‡é¢˜å’Œæ‘˜è¦ï¼‰åˆ†å—ã€‚ä¸€èˆ¬çš„æœ€ä½³ç”¨æ³•æ˜¯ï¼šä»¥ æ ‡é¢˜ ä½œä¸ºå¼€å¤´ï¼›ä¹Ÿå¯ä»¥æŠŠä¸€ç¯‡ &lt;article&gt; åˆ†æˆè‹¥å¹²éƒ¨åˆ†å¹¶åˆ†åˆ«ç½®äºä¸åŒçš„ &lt;section&gt; ä¸­ï¼Œä¹Ÿå¯ä»¥æŠŠä¸€ä¸ªåŒºæ®µ &lt;section&gt; åˆ†æˆè‹¥å¹²éƒ¨åˆ†å¹¶åˆ†åˆ«ç½®äºä¸åŒçš„ &lt;article&gt; ä¸­ï¼Œå–å†³äºä¸Šä¸‹æ–‡ã€‚ &lt;aside&gt; åŒ…å«ä¸€äº›é—´æ¥ä¿¡æ¯ï¼ˆæœ¯è¯­æ¡ç›®ã€ä½œè€…ç®€ä»‹ã€ç›¸å…³é“¾æ¥ï¼Œç­‰ç­‰ï¼‰ã€‚ &lt;header&gt; æ˜¯ç®€ä»‹å½¢å¼çš„å†…å®¹ã€‚å¦‚æœå®ƒæ˜¯ &lt;body&gt; çš„å­å…ƒç´ ï¼Œé‚£ä¹ˆå°±æ˜¯ç½‘ç«™çš„å…¨å±€é¡µçœ‰ã€‚å¦‚æœå®ƒæ˜¯ &lt;article&gt; æˆ–&lt;section&gt; çš„å­å…ƒç´ ï¼Œé‚£ä¹ˆå®ƒæ˜¯è¿™äº›éƒ¨åˆ†ç‰¹æœ‰çš„é¡µçœ‰ï¼ˆæ­¤ &lt;header&gt; éå½¼ æ ‡é¢˜ï¼‰ã€‚ &lt;nav&gt; åŒ…å«é¡µé¢ä¸»å¯¼èˆªåŠŸèƒ½ã€‚å…¶ä¸­ä¸åº”åŒ…å«äºŒçº§é“¾æ¥ç­‰å†…å®¹ã€‚ &lt;footer&gt; åŒ…å«äº†é¡µé¢çš„é¡µè„šéƒ¨åˆ†ã€‚ æ¥æºï¼šæ–‡æ¡£ä¸ç½‘ç«™æ¶æ„]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>HTML</category>
      </categories>
      <tags>
        <tag>è¯­ä¹‰åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨hexoæ­å»ºä¸ªäººåšå®¢]]></title>
    <url>%2Fposts%2F43303%2F</url>
    <content type="text"><![CDATA[ä»‹ç»åˆ©ç”¨ Hexo åœ¨ GitHub ä¸Šæ­å»ºä¸ªäººåšå®¢ã€‚ å‡†å¤‡å·¥ä½œä½ çš„ç”µè„‘éœ€è¦å®‰è£…ä¸‹é¢ä¸¤ä¸ªåº”ç”¨ç¨‹åºï¼š NodeJS å¦‚ä½•å®‰è£… Git å¦‚ä½•å®‰è£… é‡è¦æ­¥éª¤å®‰è£…Hexoå®‰è£…æ–‡æ¡£ æ’ä»¶å®‰è£… hexo-abbrlink ä»‹ç» &amp;&amp; æ­¤æ’ä»¶è¯ç”ŸåŸå›  hexo-deployer-git å°†æœ¬åœ°åšå®¢éƒ¨ç½²åˆ°GitHub å¦‚ä½•å®‰è£…å’Œä½¿ç”¨ hexo-server npm install hexo-server â€“save æœåŠ¡å™¨æ¨¡å—ã€‚åœ¨å¯åŠ¨æœŸé—´ï¼ŒHexo ä¼šç›‘è§†æ–‡ä»¶å˜åŠ¨å¹¶è‡ªåŠ¨æ›´æ–° ä½¿ç”¨ç¬¬ä¸‰æ–¹ä¸»é¢˜ Next Yilia åˆ›å»ºåˆ†ç±»åŠŸèƒ½è¿è¡Œï¼š 1hexo new page &quot;categories&quot; p.s. å‘½åä¸ºcategoriesåŸå› æ˜¯ categories åœ¨nextä¸»é¢˜ä¸­æ˜¯ä¸€ä¸ªå…³é”®è¯å¯¹åº”ç€åˆ†ç±»ã€‚ åœ¨ä¸»ç«™æ ¹ç›®å½•ä¸‹,ä¹Ÿå°±æ˜¯ä½ hexoçš„ç›®å½•ä¸‹æ‰¾åˆ° /source/categories/index.mdï¼Œæ‰“å¼€åçš„æ•ˆæœç±»ä¼¼ä¸‹æ–¹ä»£ç ï¼š 123456---title: categories #æœ¬é¡µæ ‡é¢˜date: 2019-03-13 23:02:50 #åˆ›å»ºæ—¥æœŸtype: "categories" #åˆ†ç±»å±äºcomments: false #å¦‚æœæœ‰å¯ç”¨å¤šè¯´ æˆ–è€… Disqusè¯„è®ºï¼Œé»˜è®¤é¡µé¢ä¹Ÿä¼šå¸¦æœ‰è¯„è®ºã€‚éœ€è¦å…³é—­çš„è¯ï¼Œè¯·æ·»åŠ å­—æ®µ comments å¹¶å°†å€¼è®¾ç½®ä¸º false--- æ¥ç€åœ¨ themes ä¸»é¢˜æ–‡ä»¶å¤¹ä¸‹æ‰¾åˆ° next æ–‡ä»¶å¤¹ï¼Œä¿®æ”¹ _config.yml æ–‡ä»¶ï¼š 123456menu: home: / || home # åœ°å€è·¯å¾„ | å¯¼èˆªæ å¯¹åº”çš„å›¾æ ‡ about: /about/ || user tags: /tags/ || tags categories: /categories/ || th archives: /archives/ || archive ç„¶ååœ¨å‘½ä»¤è¡Œè¾“å…¥æ·»åŠ æ–‡ç« å‘½ä»¤ï¼š 1hexo new 'ä½ æƒ³è¦åˆ›å»ºçš„æ–‡ç« åç§°' æ ¹ç›®å½•(ä¸»ç«™ç›®å½•ä¸‹)/source/_posts/ä¸Šä¸€æ­¥åˆ›å»ºçš„æ–‡ç« åç§°.mdï¼ŒåŒå‡»æ‰“å¼€ï¼š 123456---title: æ–‡ç« æ ‡é¢˜date: 2019-03-13 23:13:23tags: html #å±äºå“ªä¸ªæ ‡ç­¾categories: interview #å±äºå“ªä¸ªåˆ†ç±»--- å‚è€ƒï¼šåˆ†ç±»å’Œæ ‡ç­¾p.s. å¦‚æœæƒ³è¦å®ç°çˆ¶å­åˆ†ç±»ï¼Œå¯ä»¥æŸ¥çœ‹ä¸Šæ–¹é“¾æ¥çš„è¯„è®º åˆ›å»ºæ ‡ç­¾åŠŸèƒ½æ‰“å¼€å‘½ä»¤è¡Œï¼Œè¿›å…¥åšå®¢æ‰€åœ¨æ–‡ä»¶å¤¹ã€‚æ‰§è¡Œå‘½ä»¤ï¼š1hexo new page tags æˆåŠŸåä¼šæœ‰ä¸€ä¸ªè·¯å¾„æç¤º1INFO Created: ~/Documents/blog/source/tags/index.md æ‰¾åˆ°å¯¹åº”çš„æ–‡ä»¶æ‰“å¼€1234---title: æ ‡ç­¾date: 2019-03-14 00:02:05--- æ·»åŠ type: â€œtagsâ€åˆ°å†…å®¹ä¸­ï¼Œæ·»åŠ åæ˜¯è¿™æ ·çš„ï¼š12345---title: æ ‡ç­¾date: 2019-03-14 00:03:52type: 'tags'--- æ‰“å¼€ä½ çš„æ–‡ç« é¡µé¢ï¼š123456---title: jQueryå¯¹è¡¨å•çš„æ“ä½œåŠæ›´å¤šåº”ç”¨date: 2019-03-14 00:03:55categories: å‰ç«¯ tags: jQuery #å¦‚æœæƒ³è¦å¤šä¸ªæ ‡ç­¾å¯ä»¥ tags: [jQuery, è¡¨æ ¼, è¡¨å•éªŒè¯]--- ä¸è’œå­ç»Ÿè®¡åŠŸèƒ½NexTä¸»é¢˜é›†æˆäº†ä¸è’œå­ç»Ÿè®¡åŠŸèƒ½ï¼Œåœ¨NexTé…ç½®æ–‡ä»¶ä¸­æ‰¾åˆ°å…³é”®è¯ busuanzi_count: ï¼ŒæŠŠ enable è®¾ç½®ä¸º true p.s. é™¤æ­¤ä¹‹å¤–ï¼Œå¦‚æœè®¾ç½®ä¸ºtrueåä»ç„¶æ— æ•ˆï¼Œä¸”æ‰“å¼€æ§åˆ¶å°æ˜¾ç¤ºjsæŠ¥é”™ã€‚æœ‰å¯èƒ½æ˜¯ä¸è’œå­é“¾æ¥å¤±æ•ˆçš„åŸå› ï¼Œéœ€è¦åœ¨Nextä¸»é¢˜é…ç½®æ–‡ä»¶ä½ç½®ï¼š1themes\next\layout\_third-party\analytics\busuanzi-counter.swig ä¿®æ”¹scripté“¾æ¥ä¸ºï¼š1&lt;script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"&gt;&lt;/script&gt; è¯„è®ºåŠŸèƒ½ä½¿ç”¨ Valine å‚è€ƒï¼š è¯„è®ºç³»ç»Ÿä»Disqusåˆ°Valine Valine - ä¸€æ¬¾å¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„æ— åç«¯è¯„è®ºç³»ç»Ÿã€‚ å¸¸ç”¨é…ç½® HexoçæŠ˜è…¾ç³»åˆ—(4) - ç«™ç‚¹é¦–é¡µä¸æ˜¾ç¤ºæ–‡ç« å…¨æ–‡ å¸¸ç”¨å‘½ä»¤12345678910111213141516171819// npmå…¨å±€å®‰è£…Hexonpm install -g hexo-cli // æ–°å»ºHexoé¡¹ç›®hexo init &lt;folder&gt;cd &lt;folder&gt;npm install// æ–°å»ºæ–‡ç« hexo new 'æ–‡ç« å'// å¯åŠ¨æœåŠ¡å™¨hexo server -p 5000// ç”Ÿæˆé™æ€æ–‡ä»¶hexo generate --watch// éƒ¨ç½²hexo clean &amp;&amp; hexo deploy ç›¸å…³é…ç½®åŠèµ„æº Hexo+NexT æ‰“é€ ä¸€ä¸ªç‚«é…·åšå®¢ è¿™åº”è¯¥æ˜¯æœ€å…¨çš„hexoåšå®¢æ­å»ºä»¥åŠnextç¾åŒ–æ•™ç¨‹ ç»™hexoæ·»åŠ Valineè¯„è®ºåŠŸèƒ½ hexo next è§£å†³unpkg.comåŠ è½½æ…¢ LeanCloud Hexoæ­å»ºGitHubåšå®¢â€”æ‰“é€ ç‚«é…·çš„NexTä¸»é¢˜â€“é«˜çº§(å››) Hexo NexTä¸»é¢˜ä»£ç å—æ·»åŠ å¤åˆ¶åŠŸèƒ½ ä¿®æ”¹hexoåšå®¢nextä¸»é¢˜æ–‡ç« é¡µé¢å®½åº¦]]></content>
      <categories>
        <category>å…¶ä»–</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å‰ç«¯vscodeæ’ä»¶é…ç½®]]></title>
    <url>%2Fposts%2F11039%2F</url>
    <content type="text"><![CDATA[å¤–è§‚é…ç½® ä¸»é¢˜ï¼šChester Atom å›¾æ ‡ï¼šVSCode Great Icons å­—ä½“ï¼šFira Code é¢„è§ˆ ç”¨æˆ·è®¾ç½®ï¼ˆUser Settingsï¼‰1234567&#123; "editor.fontSize": 16, "workbench.colorTheme": "Chester Atom", "editor.fontFamily": "Fira Code", "emmet.triggerExpansionOnTab": true, "editor.fontLigatures": true&#125; é£æ ¼æ£€æŸ¥ ESLint StyleLint MarkdownLint Prettier ç¼–ç æ•ˆç‡ä»£ç ç‰‡æ®µ HTML Snippets Javascript (ES6) Code Snippets Javascript Patterns Snippets Document Thisï¼Œä¸€é”®ç»™ä»£ç ä¸­çš„ç±»ã€å‡½æ•°åŠ ä¸Šæ³¨é‡Šï¼Œæ”¯æŒå‡½æ•°å£°æ˜ã€å‡½æ•°è¡¨è¾¾å¼ã€ç®­å¤´å‡½æ•°ç­‰ï¼› è‡ªåŠ¨è¡¥å…¨ Auto Close Tagï¼Œåœ¨æ‰“å¼€æ ‡ç­¾å¹¶ä¸”é”®å…¥ &lt;/ çš„æ—¶å€™ï¼Œèƒ½è‡ªåŠ¨è¡¥å…¨è¦é—­åˆçš„æ ‡ç­¾ï¼› Auto Rename Tagï¼Œåœ¨ä¿®æ”¹æ ‡ç­¾åæ—¶ï¼Œèƒ½åœ¨ä½ ä¿®æ”¹å¼€å§‹ï¼ˆç»“æŸï¼‰æ ‡ç­¾çš„æ—¶å€™ä¿®æ”¹å¯¹åº”çš„ç»“æŸï¼ˆå¼€å§‹ï¼‰æ ‡ç­¾ã€‚ Path Intellisenseï¼Œæ–‡ä»¶è·¯å¾„è¡¥å…¨ï¼Œåœ¨ä½ ç”¨ä»»ä½•æ–¹å¼å¼•å…¥æ–‡ä»¶ç³»ç»Ÿä¸­çš„è·¯å¾„æ—¶æä¾›æ™ºèƒ½æç¤ºå’Œè‡ªåŠ¨å®Œæˆã€‚ NPM Intellisenseï¼ŒNPM ä¾èµ–è¡¥å…¨ï¼Œåœ¨ä½ å¼•å…¥ä»»ä½• node_modules é‡Œé¢çš„ä¾èµ–åŒ…æ—¶æä¾›æ™ºèƒ½æç¤ºå’Œè‡ªåŠ¨å®Œæˆã€‚ IntelliSense for CSS class namesï¼ŒCSS ç±»åè¡¥å…¨ï¼Œä¼šè‡ªåŠ¨æ‰«ææ•´ä¸ªé¡¹ç›®é‡Œé¢çš„ CSS ç±»åå¹¶åœ¨ä½ è¾“å…¥ç±»åæ—¶åšæ™ºèƒ½æç¤ºã€‚ Emmetï¼ŒVSCode å·²ç»å†…ç½®ï¼Œå®˜æ–¹ä»‹ç»æ–‡æ¡£å‚è§ã€‚ ä»£ç è¡¥å…¨ Code Runner åŠŸèƒ½å¢å¼º Color Highlightï¼Œè¯†åˆ«ä»£ç ä¸­çš„é¢œè‰²ï¼ŒåŒ…æ‹¬å„ç§é¢œè‰²æ ¼å¼ã€‚ Bracket Pair Colorizerï¼Œè¯†åˆ«ä»£ç ä¸­çš„å„ç§æ‹¬å·ï¼Œå¹¶ä¸”æ ‡è®°ä¸Šä¸åŒçš„é¢œè‰²ï¼Œæ–¹ä¾¿ä½ æ‰«è§†åˆ°åŒ¹é…çš„æ‹¬å·ã€‚ Settings Syncï¼ŒåŸºäº Gist å®ç° VSCode ç”¨æˆ·é…ç½®ã€å¿«æ·é”®é…ç½®ã€å·²å®‰è£…æ’ä»¶åˆ—è¡¨ç­‰çš„å¤‡ä»½å’Œæ¢å¤åŠŸèƒ½ï¼Œé…ç½®è¿‡ç¨‹æœ‰è¯¦ç»†ç²¾ç¡®çš„æ“ä½œæ­¥éª¤æ–‡æ¡£ã€‚ç”Ÿæˆçš„å¤‡ä»½ Gist é»˜è®¤æ˜¯ç§å¯†çš„ï¼Œå¦‚æœä½ æƒ³è®¾ç½®ä¸ºå…±äº«çš„ï¼Œä¹Ÿå¯ä»¥ä¸€é”®åˆ‡æ¢ã€‚ å¤–è§‚å¢å¼º TODO Highlightç»´æŠ¤æ—¶é—´ç¨é•¿çš„ä»£ç ä»“åº“å…ä¸äº†ä¼šæœ‰å„ç§ TODOã€FIXMEã€HACK ä¹‹ç±»çš„æ ‡è®°ï¼ŒTODO Highlight èƒ½å¤Ÿå¸®æˆ‘ä»¬æŠŠè¿™äº›å…³é”®è¯é«˜äº®å‡ºæ¥ï¼Œåœ¨ä½ ç¿»é˜…ä»£ç æ—¶éå¸¸é†’ç›®ï¼Œå°±åƒæ˜¯åœ¨å¤§å£°æé†’ä½ å°½å¿«æŠŠä»–è§£å†³æ‰ã€‚æ”¯æŒè‡ªå®šä¹‰é…ç½®éœ€è¦é«˜äº®çš„å…³é”®è¯ï¼Œå®é™…ä½¿ç”¨æ¯”è¾ƒå‘çš„åœ°æ–¹æ˜¯ï¼ŒTODOã€FIXME ä¹‹ç±»çš„åé¢å¿…é¡»åŠ ä¸Šå†’å·ï¼Œå¦åˆ™æ— æ³•é«˜äº®ã€‚]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>IDE</category>
      </categories>
      <tags>
        <tag>vscode</tag>
      </tags>
  </entry>
</search>

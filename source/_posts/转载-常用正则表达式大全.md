---
title: 转载-常用正则表达式大全
tags:
  - 转载
  - 正则
categories:
  - 前端
  - 正则
abbrlink: 46804
date: 2021-02-25 15:39:40
---

- 转载自：https://www.yuque.com/gaoxizhi/linux/regex

### 一、校验数字的表达式

- 正整数：^[0-9]\*$
- n 位的正整数：^d{n}$
- 至少 n 位的数字：^d{n,}$
- m-n 位的数字：^d{m,n}$
- 零和非零开头的数字：^(0|[1-9][0-9]\*)$
- 非零开头的最多带两位小数的数字：^([1-9][0-9]\*)+(.[0-9]{1,2})?$
- 带 1-2 位小数的正数或负数：^(-)?d+(.d{1,2})?$
- 正数、负数、和小数：^(-|+)?d+(.d+)?$
- 有两位小数的正实数：^[0-9]+(.[0-9]{2})?$
- 有 1~3 位小数的正实数：^[0-9]+(.[0-9]{1,3})?$
- 非零的正整数：^[1-9]d*$ 或 ^([1-9][0-9]*){1,3}$ 或 ^+?[1-9][0-9]\*$
- 非零的负整数：^-[1-9][]0-9″_$ 或 ^-[1-9]d_$
- 非负整数：^d+$ 或 ^[1-9]d\*|0$
- 非正整数：^-[1-9]d\*|0$ 或 ^((-d+)|(0+))$
- 非负浮点数：^d+(.d+)?$ 或 ^[1-9]d*.d*|0.d*[1-9]d*|0?.0+|0$
- 非正浮点数：^((-d+(.d+)?)|(0+(.0+)?))$ 或 ^(-([1-9]d*.d*|0.d*[1-9]d*))|0?.0+|0$
- 正浮点数：^[1-9]d*.d*|0.d*[1-9]d*$ 或 ^(([0-9]+.[0-9]_[1-9][0-9]_)|([0-9]_[1-9][0-9]_.[0-9]+)|([0-9]_[1-9][0-9]_))$
- 负浮点数：^-([1-9]d*.d*|0.d*[1-9]d*)$ 或 ^(-(([0-9]+.[0-9]_[1-9][0-9]_)|([0-9]_[1-9][0-9]_.[0-9]+)|([0-9]_[1-9][0-9]_)))$
- 浮点数：^(-?d+)(.d+)?$ 或 ^-?([1-9]d*.d*|0.d*[1-9]d*|0?.0+|0)$

### 二、校验字符的表达式

- 汉字：^[一-龥]{0,}$
- 英文和数字：^[A-Za-z0-9]+$ 或 ^[A-Za-z0-9]{4,40}$
- 长度为 3-20 的所有字符：^.{3,20}$
- 由 26 个英文字母组成的字符串：^[A-Za-z]+$
- 由 26 个大写英文字母组成的字符串：^[A-Z]+$
- 由 26 个小写英文字母组成的字符串：^[a-z]+$
- 由数字和 26 个英文字母组成的字符串：^[A-Za-z0-9]+$
- 由数字、26 个英文字母或者下划线组成的字符串：^w+$ 或 ^w{3,20}$
- 中文、英文、数字包括下划线：^[一-龥 A-Za-z0-9_]+$
- 中文、英文、数字但不包括下划线等符号：^[一-龥 A-Za-z0-9]+$ 或 ^[一-龥 A-Za-z0-9]{2,20}$
- 可以输入含有^%&’,;=?$”等字符：[^%&',;=?$"]+
- 禁止输入含有~的字符：[^~"]+

### 三、特殊需求表达式

- Email 地址：^w+([-+.]w+)_@w+([-.]w+)_.w+([-.]w+)\*$
- 域名：[a-zA-Z0-9][-a-za-z0-9]{0,62}(/.[a-zA-Z0-9][-a-za-z0-9]{0,62})+/.?
- InternetURL：[a-zA-z]+://[^s]_ 或 ^http://([w-]+.)+[w-]+(/[w-./?%&=]_)?$
- 手机号码：^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])d{8}$
- 电话号码(“XXX-XXXXXXX”、”XXXX-XXXXXXXX”、”XXX-XXXXXXX”、”XXX-XXXXXXXX”、”XXXXXXX”和”XXXXXXXX)：^($$d{3,4}-)|d{3.4}-)?d{7,8}$
- 国内电话号码(0511-4405222、021-87888822)：d{3}-d{8}|d{4}-d{7}
- 身份证号(15 位、18 位数字)：^d{15}|d{18}$
- 短身份证号码(数字、字母 x 结尾)：^([0-9]){7,18}(x|X)?$ 或 ^d{8,18}|[0-9x]{8,18}|[0-9X]{8,18}?$
- 帐号是否合法(字母开头，允许 5-16 字节，允许字母数字下划线)：^[a-zA-Z][a-za-z0-9_]{4,15}$
- 密码(以字母开头，长度在 6~18 之间，只能包含字母、数字和下划线)：^[a-zA-Z]w{5,17}$
- 强密码(必须包含大小写字母和数字的组合，不能使用特殊字符，长度在 8-10 之间)：^(?=._d)(?=._[a-z])(?=.\*[A-Z]).{8,10}$
- 日期格式：^d{4}-d{1,2}-d{1,2}
- 一年的 12 个月(01 ～ 09 和 1 ～ 12)：^(0?[1-9]|1[0-2])$
- 一个月的 31 天(01 ～ 09 和 1 ～ 31)：^((0?[1-9])|((1|2)[0-9])|30|31)$
- 钱的输入格式：

- - 有四种钱的表示形式我们可以接受:”10000.00″ 和 “10,000.00″, 和没有 “分” 的 “10000″ 和 “10,000″：^[1-9][0-9]\*$
  - 这表示任意一个不以 0 开头的数字，但是，这也意味着一个字符”0″不通过，所以我们采用下面的形式：^(0|[1-9][0-9]\*)$
  - 一个 0 或者一个不以 0 开头的数字.我们还可以允许开头有一个负号：^(0|-?[1-9][0-9]\*)$
  - 这表示一个 0 或者一个可能为负的开头不为 0 的数字.让用户以 0 开头好了.把负号的也去掉，因为钱总不能是负的吧.下面我们要加的是说明可能的小数部分：^[0-9]+(.[0-9]+)?$
  - 必须说明的是，小数点后面至少应该有 1 位数，所以”10.”是不通过的，但是 “10″ 和 “10.2″ 是通过的：^[0-9]+(.[0-9]{2})?$
  - 这样我们规定小数点后面必须有两位，如果你认为太苛刻了，可以这样：^[0-9]+(.[0-9]{1,2})?$
  - 这样就允许用户只写一位小数。下面我们该考虑数字中的逗号了，我们可以这样：^[0-9]{1,3}(,[0-9]{3})\*(.[0-9]{1,2})?$
  - 1 到 3 个数字，后面跟着任意个 逗号+3 个数字，逗号成为可选，而不是必须：^([0-9]+|[0-9]{1,3}(,[0-9]{3})\*)(.[0-9]{1,2})?$
  - 备注：这就是最终结果了，别忘了”+”可以用”\*”替代。如果你觉得空字符串也可以接受的话(奇怪，为什么?)最后，别忘了在用函数时去掉去掉那个反斜杠，一般的错误都在这里

- xml 文件：^([a-zA-Z]+-?)+[a-zA-Z0-9]+.[x|X][m|m][l|L]$
- 中文字符的正则表达式：[一-龥]
- 双字节字符：[^-ÿ] (包括汉字在内，可以用来计算字符串的长度(一个双字节字符长度计 2，ASCII 字符计 1))
- 空白行的正则表达式：s\* (可以用来删除空白行)
- HTML 标记的正则表达式：<(S*?)[^>]*>._?</>|<._? /> (网上流传的版本太糟糕，上面这个也仅仅能部分，对于复杂的嵌套标记依旧无能为力)
- 首尾空白字符的正则表达式：^s*|s*$或(^s*)|(s*$) (可以用来删除行首行尾的空白字符(包括空格、制表符、换页符等等)，非常有用的表达式)
- 腾讯 QQ 号：[1-9][0-9]{4,} (腾讯 QQ 号从 10000 开始)
- 中国邮政编码：[1-9]d{5}(?!d) (中国邮政编码为 6 位数字)
- IP 地址：d+.d+.d+.d+ (提取 IP 地址时有用)
- IP 地址：(?=(\b|\d))(((\d{1,2})|(1\d{1,2})|(2[0-4]\d)|(25[0-5]))\.){3}((\d{1,2})|(1\d{1,2})|(2[0-4]\d)|(25[0-5]))(?=(\b|\d)) （校验时使用）
- IPv6：

### 四、其他

| 验证手机号码                                   | **1[3\|5\|7\|8\|]\d{9}**                           |
| ---------------------------------------------- | -------------------------------------------------- | -------------------------- |
| 实现手机号前带 86 或是+86 的情况               | **^((\+86)\|(86))?(13)\d{9}$**                     |
| 电话号码与手机号码同时验证                     | **(^(\d{3,4}-)?\d{7,8})$\|(1[3\|5\|7\|8]\d{9})**   |
| 提取信息中的网络链接                           | \*\*(h\|H)(r\|R)(e\|E)(f\|F)\*=\*('\|")?(\w\|\\    | \/\|\.)+('\|"\|\*\|>)?\*\* |
| 提取信息中的邮件地址                           | **\w+([-+.]\w+)\*@\w+([-.]\w+)\*\.\w+([-.]\w+)\*** |
| 提取信息中的图片链接                           | \*\*(s\|S)(r\|R)(c\|C)\*=\*('\|")?(\w\|\\          | \/\|\.)+('\|"\|\*\|>)?\*\* |
| 提取信息中的 IP 地址                           | **(\d+)\.(\d+)\.(\d+)\.(\d+)**                     |
| 提取信息中的中国手机号码                       | **(86)\*0\*13\d{9}**                               |
| 提取信息中的中国固定电话号码                   | **(\(\d{3,4}\)\|\d{3,4}-\|\s)?\d{8}**              |
| 提取信息中的中国电话号码（包括移动和固定电话） | **(\(\d{3,4}\)\|\d{3,4}-\|\s)?\d{7,14}**           |
| 提取信息中的中国邮政编码                       | **[1-9]{1}(\d+){5}**                               |
| 提取信息中的中国身份证号码                     | **\d{18}\|\d{15}**                                 |
| 提取信息中的整数                               | **\d+**                                            |
| 提取信息中的浮点数（即小数）                   | **(-?\d\*)\.?\d+**                                 |
| 提取信息中的任何数字                           | **(-?\d\*)(\.\d+)?**                               |
| 提取信息中的中文字符串                         | **[\u4e00-\u9fa5]\***                              |
| 提取信息中的双字节字符串(汉字)                 | **[^\x00-\xff]\***                                 |

正则表达式（regex 或 regexp）在通过搜索特定搜索模式的一个或多个匹配（即 ASCII 或 unicode 字符的特定序列）**从任何文本中提取信息时**非常有用。

应用领域从验证到解析/替换字符串，将数据转换为其他格式以及网络爬虫。

最有趣的功能之一是，一旦你学会了语法，你就可以在（几乎）所有编程语言中使用这个工具（JavaScript，Java，VB，C#，C / C ++，Python，Perl，Ruby，Delphi，R，Tcl 等等），对引擎支持的最高级功能和语法版本的支持有一点区别）。

## 基本知识点

### 先安利个表

| **符号**   | **详解**                            | **例子**                                                                                                     |
| ---------- | ----------------------------------- | ------------------------------------------------------------------------------------------------------------ | ---------------------------------------- |
| 点号 .     | 匹配除换行符以外的任意单字符        | 匹配除换行符以外的任意单字符                                                                                 |
| 星号 \*    | 任意个字符（包括 0 个）             | 例如，`zo*` 能匹配 "`z`" 以及 "`zoo`"，\* 等价于{0,}                                                         |
| 加号 +     | 至少一个字符                        | 例如，'`zo+`' 能匹配 "`zo`" 以及 "`zoo`"，但不能匹配 "`z`"。+ 等价于 {1,}                                    |
| 问号？     | 表示 0 个或 1 个字符                | 例如，"`do(es)?`" 可以匹配 "`do`" 、 "`does`" 中的 "`does`" 、 "`doxy`" 中的 "`do`" 。? 等价于 {0,1}         |
| ^          | 表示行的开头                        | `^\d`表示必须以数字开头                                                                                      |
| $          | 表示行的结束                        | `\d$`表示必须以数字结束                                                                                      |
| {n}        | 表示 n 个字符                       | `\d{3}`表示匹配 3 个数字，例如'`010`'                                                                        |
| {n,m}      | 表示 n-m 个字符                     | `\d{3,8}`表示 3-8 个数字，例如'`1234567`'。                                                                  |
| \d         | 匹配一个数字                        | '`00\d`'可以匹配'007'，但无法匹配'`00A`'； '`\d\d\d`'可以匹配'`010`' `\d{3}`表示匹配 3 个数字，例如'`010`'； |
| \w         | 匹配一个字母或数字                  | '`\w\w\d`'或'`\w\w\w`'可以匹配'`py3`'                                                                        |
| \s         | 匹配一个空格（也包括 Tab 等空白符） | `\s+`表示至少有一个空格，例如匹配' '，' '等                                                                  |
| A\|B       | 可以匹配 A 或 B                     | (`P                                                                                                          | p)ython`可以匹配'`Python`'或者'`python`' |
| 小括号()   | 表示匹配括号中全部字符              |                                                                                                              |
| [ ] 中括号 | 表示匹配括号中一个字符 范围描述     | 如[`0-9 a-z A-Z`]                                                                                            |
| \ 转义字符 | 基本符号匹配都需要转义字符          | 如 \* 表示匹配\*号                                                                                           |

### 锚 — ^ 以及 $

| **符号** | **详解**     | **\*\*例子\*\*** | **分析**                               |
| -------- | ------------ | ---------------- | -------------------------------------- |
| ^        | 表示行的开头 | ^The             | 匹配任意字符串以 The 为开头            |
| $        | 表示行的结束 | end$             | 匹配任意字符串以 end 为结尾            |
|          |              | ^The end$        | 匹配字符串的(开头和结尾分别是 The end) |
|          |              | ^\d              | 表示必须以数字开头                     |

### 量词 — \* + ? 以及 {}

| **星号 \*** | 任意个字符（包括 0 个） | 例如，`zo*` 能匹配 "`z`" 以及 "`zoo`"，\* 等价于{0,}                                                 |
| ----------- | ----------------------- | ---------------------------------------------------------------------------------------------------- |
| **加号 +**  | 至少一个字符            | 例如，'`zo+`' 能匹配 "`zo`" 以及 "`zoo`"，但不能匹配 "`z`"。+ 等价于 {1,}                            |
| **问号？**  | 表示 0 个或 1 个字符    | 例如，"`do(es)?`" 可以匹配 "`do`" 、 "`does`" 中的 "`does`" 、 "`doxy`" 中的 "`do`" 。? 等价于 {0,1} |
| **{n}**     | 表示 n 个字符           | `\d{3}`表示匹配 3 个数字，例如'`010`'                                                                |
| **{n,m}**   | 表示 n-m 个字符         | `\d{3,8}`表示 3-8 个数字，例如'`1234567`'。                                                          |

#### 示例

| abc\*      | ab 其后有 0 个或者多个 c     |
| ---------- | ---------------------------- |
| abc+       | ab 其后有 1 个或者多个 c     |
| abc?       | ab 其后有 0 个或者 1 个 c    |
| abc{2}     | ab 其后有 2 个 c             |
| abc{2,}    | ab 其后有 2 个或者多个 c     |
| abc{2,5}   | ab 其后有 2 到 5 个 c        |
| a(bc)\*    | a 其后有 0 到多个 bc 的副本  |
| a(bc){2,5} | a 其后有 0 到 5 个 bc 的副本 |

### OR 操作符 — | 或 []

| 符号 | 详解     | 示例  | 分析                                      |
| ---- | -------- | ----- | ----------------------------------------- |
| \|   | 或者     | A\|B  | A 或者 B                                  |
| []   | 范围区间 | [A-F] | A 到 F 都可以匹配，适用复杂逻辑大范围区间 |

(P|p)ython 可以匹配'Python'或者'python'

[0-9a-zA-Z]可以匹配所有字母和数字

### 字符类\d、\w、\s 以及转义字符

| 符号      | 详解                                | 示例                                                                                                         |
| --------- | ----------------------------------- | ------------------------------------------------------------------------------------------------------------ |
| \d        | 匹配一个数字                        | '`00\d`'可以匹配'007'，但无法匹配'`00A`'； '`\d\d\d`'可以匹配'`010`' `\d{3}`表示匹配 3 个数字，例如'`010`'； |
| \w        | 匹配一个字母或数字                  | '`\w\w\d`'或'`\w\w\w`'可以匹配'`py3`'                                                                        |
| \s        | 匹配一个空格（也包括 Tab 等空白符） | `\s+`表示至少有一个空格，例如匹配' '，' '等                                                                  |
| .（点号） | 匹配除换行符以外的任意单字符        | 匹配除换行符以外的任意单字符                                                                                 |

`\d`, `\w` 以及 `\s` 分别对应其否定类 `\D`, `\W` 以及 `\S` 。例如： `\D` 将执行与 `\d` 获得的相反的匹配，即不是数字的字符。

为了获取字面上疑似的字符，你必须使用反斜杠 `\` 来转义字符 `^.[$()|*+?{\`，因为它们具有特殊含义。

注意你也可以匹配**非打印字符**比如 tabs `\t`，换行 `\n`，回车 `\r`。

### 标志

我们正在学习如何构建一个正则表达式但是却忘记了一个基础的概念：**标志**。

一个正则表达式的格式通常是这个样子的 `/abc/`，搜索模式通过两个斜杠符 `/` 进行区分。在末尾我们可以规定一个标志使用以下的值（我们也可以将它们相互结合）：

- **g**(全局的) 在第一匹配之后不会立即返回，从前面匹配之后继续搜索
- **m** (多行的) 当使用 `^` 以及 `$` 的时候将会匹配行首和行尾而不是整个字符串
- **i** (大小写不敏感的) 让整个表达式大小写不敏感（比如 `/aBc/i` 将匹配 `Abc`）

## 中级知识点

### 分组以及捕获 — ()

a(bc) 括号产生一个值为 bc 的捕获分组

a(?:bc)\* 我么可以使用 ?: 让捕获分组不起作用

a(?bc) 我们可以使用 ? 将名字放在分组中

当我们需要使用你首选的编程语言从字符串或数据中提取信息时，此运算符非常有用。 由几个组捕获的任何多次出现都将以经典数组的形式公开：我们将使用匹配结果的索引来访问它们的值。

如果我们选择为组添加名称（使用（`?<foo>` ...）），我们将能够使用匹配结果检索组值，如字典，其中字典的名称就是刚才添加的名称。

### 方括号表达式   []

[abc] 匹配一个具有 要么一个 a 或者一个 b 或者一个 c 的字符串等同于 `a|b|c`

[a-c] 与前一条相同

[a-fA-F0-9] 十六进制数字符串，大小写不敏感

[0-9]% 一个具有从 0 到 9 其后后一个 % 符号

[^a-za-z] 一个不是大小写字母的字符串。在这种情况下，^ 被用为 表达式的否定。

**注意：**在括号内表达式中，所有特殊字符（包括反斜杠\）都会失去它们的特殊功能：因此我们不会应用“转义规则”。

### 贪婪和惰性匹配

量词 ( `* + {}`) 是贪婪操作符, 所以他们尽可能地通过提供的文本扩展匹配.

比如， `<.+>` 会从 `This is a **<div> simple div</div>** test` 中匹配 `<div>simple div</div>`。 为了仅仅匹配 div 标签， 我们可以使用一个 `?` 让它变为惰性:

<.+?> 匹配 任意字符被包含在 < 以及 >之中，出现一到多次, 需要的时候才会扩展

注意更好的解决方案是避免使用 `.`来构建一个更严格的正则表达式：

<[^<>]+> 匹配任意的字符除了 `<` 或者 `>` 一次或者多次被包含在 < 以及 > 之中

## 高级知识点

### **边界 — \b 以及 \B**

\babc\b 执行“仅限整个单词”搜索**abc**

`\b` 代表一个锚类似于符号 (等同于 `$` 以及 `^`) 的匹配位置， 其中一侧是单词字符（如 `\w`），另外一侧不是单词字符（例如它可能是字符串的开头或空格字符）。

随之而来是它的否定, `\B`. 这将会匹配所有 `\b` 不会匹配的位置如果我们希望搜索模式可以被单词字符所匹配。

\Babc\B 仅在搜索模式被单词字符包围的时候才会匹配

### 返回引用— \1

([abc])\1 使用 `\1` 将会匹配与第一个捕获分组相同的文本

([abc])([de])\2\1 我们可以使用 \2 (\3, \4, 等等)来获取被第二个(第三个, 第四个, 等等.)捕获分组相同的文本

(?[abc])\k 我们将分组名称命名为`foo` 并随后使用 `(\k<foo>)` 来进行引用。结果与第一个正则表达式相同

### 前瞻和后瞻 — **(?=)** 以及 **(?<=)**

d(?=r) 匹配一个 `d` 并且其后有一个 `r`, 但是 `r` 将不会是整个正则表达式匹配的一部分

(?<=r)d 匹配一个 `d` 并且前面有一个 `r`, 但是 `r` 将不会是整个正则表达式匹配的一部分

我们也可以使用否定符号 !

d(?!r) 匹配一个 `d` 并且其后不是一个 `r`, 但是 `r` 将不会是整个正则表达式匹配的一部分

(?<!r)d 匹配一个 `d` 并且前面不是一个 `r`, 但是 `r` 将不会是整个正则表达式匹配的一部分

## 总结

正如你所见，正则表达式的应用程序字段可以是多个，我确信你已经认识到在开发人员职业生涯中看到的这些任务中的至少一个，这里有一个快速列表：

- 数据验证 (比如检查一个时间字符串 i 的格式是正确的)
- 数据抓取（特别是网页抓取，最终按特定顺序查找包含特定单词集的所有页面）
- 数据转换（将数据从“原始”转换为另一种格式）
- 字符串解析（例如捕获所有 URL GET 参数，捕获一组括号内的文本）
- 字符串替换（即使在使用通用 IDE 的代码会话期间，例如在相应的 JSON 对象中转换 Java 或 C# 类 - 将“;”替换为“,”将其设为小写，避免类型声明等）
- 语法高亮，文件重命名，数据包嗅探和涉及字符串的许多其他应用程序（其中数据不必是文本）

### 参考其他

[GitHub regex101](https://github.com/ziishaned/learn-regex/blob/master/translations/README-cn.md)
